var go=!1,mo=!1,Yi=[],xo=-1;function rm(i){am(i)}function am(i){Yi.includes(i)||Yi.push(i),om()}function Vd(i){let e=Yi.indexOf(i);e!==-1&&e>xo&&Yi.splice(e,1)}function om(){!mo&&!go&&(go=!0,queueMicrotask(lm))}function lm(){go=!1,mo=!0;for(let i=0;i<Yi.length;i++)Yi[i](),xo=i;Yi.length=0,xo=-1,mo=!1}var zn,Bn,Ss,jd,bo=!0;function cm(i){bo=!1,i(),bo=!0}function hm(i){zn=i.reactive,Ss=i.release,Bn=e=>i.effect(e,{scheduler:t=>{bo?rm(t):t()}}),jd=i.raw}function Vc(i){Bn=i}function dm(i){let e=()=>{};return[s=>{let a=Bn(s);return i._x_effects||(i._x_effects=new Set,i._x_runEffects=()=>{i._x_effects.forEach(l=>l())}),i._x_effects.add(a),e=()=>{a!==void 0&&(i._x_effects.delete(a),Ss(a))},a},()=>{e()}]}function Zn(i,e,t={}){i.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0}))}function wi(i,e){if(typeof ShadowRoot=="function"&&i instanceof ShadowRoot){Array.from(i.children).forEach(a=>wi(a,e));return}let t=!1;if(e(i,()=>t=!0),t)return;let s=i.firstElementChild;for(;s;)wi(s,e),s=s.nextElementSibling}function Qt(i,...e){console.warn(`Alpine Warning: ${i}`,...e)}var jc=!1;function um(){jc&&Qt("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),jc=!0,document.body||Qt("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Zn(document,"alpine:init"),Zn(document,"alpine:initializing"),kl(),gm(e=>ei(e,wi)),vl(e=>yl(e)),tu((e,t)=>{Tl(e,t).forEach(s=>s())});let i=e=>!qr(e.parentElement,!0);Array.from(document.querySelectorAll(Ud())).filter(i).forEach(e=>{ei(e)}),Zn(document,"alpine:initialized")}var bl=[],Gd=[];function qd(){return bl.map(i=>i())}function Ud(){return bl.concat(Gd).map(i=>i())}function $d(i){bl.push(i)}function Kd(i){Gd.push(i)}function qr(i,e=!1){return Ur(i,t=>{if((e?Ud():qd()).some(a=>t.matches(a)))return!0})}function Ur(i,e){if(i){if(e(i))return i;if(i._x_teleportBack&&(i=i._x_teleportBack),!!i.parentElement)return Ur(i.parentElement,e)}}function fm(i){return qd().some(e=>i.matches(e))}var Jd=[];function pm(i){Jd.push(i)}function ei(i,e=wi,t=()=>{}){Pm(()=>{e(i,(s,a)=>{t(s,a),Jd.forEach(l=>l(s,a)),Tl(s,s.attributes).forEach(l=>l()),s._x_ignore&&a()})})}function yl(i){wi(i,e=>{nu(e),mm(e)})}var Zd=[],Qd=[],eu=[];function gm(i){eu.push(i)}function vl(i,e){typeof e=="function"?(i._x_cleanups||(i._x_cleanups=[]),i._x_cleanups.push(e)):(e=i,Qd.push(e))}function tu(i){Zd.push(i)}function iu(i,e,t){i._x_attributeCleanups||(i._x_attributeCleanups={}),i._x_attributeCleanups[e]||(i._x_attributeCleanups[e]=[]),i._x_attributeCleanups[e].push(t)}function nu(i,e){i._x_attributeCleanups&&Object.entries(i._x_attributeCleanups).forEach(([t,s])=>{(e===void 0||e.includes(t))&&(s.forEach(a=>a()),delete i._x_attributeCleanups[t])})}function mm(i){if(i._x_cleanups)for(;i._x_cleanups.length;)i._x_cleanups.pop()()}var wl=new MutationObserver(Cl),Sl=!1;function kl(){wl.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Sl=!0}function su(){xm(),wl.disconnect(),Sl=!1}var Qn=[],Ia=!1;function xm(){Qn=Qn.concat(wl.takeRecords()),Qn.length&&!Ia&&(Ia=!0,queueMicrotask(()=>{bm(),Ia=!1}))}function bm(){Cl(Qn),Qn.length=0}function De(i){if(!Sl)return i();su();let e=i();return kl(),e}var Al=!1,ar=[];function ym(){Al=!0}function vm(){Al=!1,Cl(ar),ar=[]}function Cl(i){if(Al){ar=ar.concat(i);return}let e=[],t=[],s=new Map,a=new Map;for(let l=0;l<i.length;l++)if(!i[l].target._x_ignoreMutationObserver&&(i[l].type==="childList"&&(i[l].addedNodes.forEach(d=>d.nodeType===1&&e.push(d)),i[l].removedNodes.forEach(d=>d.nodeType===1&&t.push(d))),i[l].type==="attributes")){let d=i[l].target,p=i[l].attributeName,b=i[l].oldValue,k=()=>{s.has(d)||s.set(d,[]),s.get(d).push({name:p,value:d.getAttribute(p)})},A=()=>{a.has(d)||a.set(d,[]),a.get(d).push(p)};d.hasAttribute(p)&&b===null?k():d.hasAttribute(p)?(A(),k()):A()}a.forEach((l,d)=>{nu(d,l)}),s.forEach((l,d)=>{Zd.forEach(p=>p(d,l))});for(let l of t)e.includes(l)||(Qd.forEach(d=>d(l)),yl(l));e.forEach(l=>{l._x_ignoreSelf=!0,l._x_ignore=!0});for(let l of e)t.includes(l)||l.isConnected&&(delete l._x_ignoreSelf,delete l._x_ignore,eu.forEach(d=>d(l)),l._x_ignore=!0,l._x_ignoreSelf=!0);e.forEach(l=>{delete l._x_ignoreSelf,delete l._x_ignore}),e=null,t=null,s=null,a=null}function ru(i){return As(Tn(i))}function ks(i,e,t){return i._x_dataStack=[e,...Tn(t||i)],()=>{i._x_dataStack=i._x_dataStack.filter(s=>s!==e)}}function Tn(i){return i._x_dataStack?i._x_dataStack:typeof ShadowRoot=="function"&&i instanceof ShadowRoot?Tn(i.host):i.parentNode?Tn(i.parentNode):[]}function As(i){return new Proxy({objects:i},wm)}var wm={ownKeys({objects:i}){return Array.from(new Set(i.flatMap(e=>Object.keys(e))))},has({objects:i},e){return e==Symbol.unscopables?!1:i.some(t=>Object.prototype.hasOwnProperty.call(t,e))},get({objects:i},e,t){return e=="toJSON"?Sm:Reflect.get(i.find(s=>Object.prototype.hasOwnProperty.call(s,e))||{},e,t)},set({objects:i},e,t){return Reflect.set(i.find(s=>Object.prototype.hasOwnProperty.call(s,e))||i[i.length-1],e,t)}};function Sm(){return Reflect.ownKeys(this).reduce((e,t)=>(e[t]=Reflect.get(this,t),e),{})}function au(i){let e=s=>typeof s=="object"&&!Array.isArray(s)&&s!==null,t=(s,a="")=>{Object.entries(Object.getOwnPropertyDescriptors(s)).forEach(([l,{value:d,enumerable:p}])=>{if(p===!1||d===void 0)return;let b=a===""?l:`${a}.${l}`;typeof d=="object"&&d!==null&&d._x_interceptor?s[l]=d.initialize(i,b,l):e(d)&&d!==s&&!(d instanceof Element)&&t(d,b)})};return t(i)}function ou(i,e=()=>{}){let t={initialValue:void 0,_x_interceptor:!0,initialize(s,a,l){return i(this.initialValue,()=>km(s,a),d=>yo(s,a,d),a,l)}};return e(t),s=>{if(typeof s=="object"&&s!==null&&s._x_interceptor){let a=t.initialize.bind(t);t.initialize=(l,d,p)=>{let b=s.initialize(l,d,p);return t.initialValue=b,a(l,d,p)}}else t.initialValue=s;return t}}function km(i,e){return e.split(".").reduce((t,s)=>t[s],i)}function yo(i,e,t){if(typeof e=="string"&&(e=e.split(".")),e.length===1)i[e[0]]=t;else{if(e.length===0)throw error;return i[e[0]]||(i[e[0]]={}),yo(i[e[0]],e.slice(1),t)}}var lu={};function Pt(i,e){lu[i]=e}function vo(i,e){return Object.entries(lu).forEach(([t,s])=>{let a=null;function l(){if(a)return a;{let[d,p]=pu(e);return a={interceptor:ou,...d},vl(e,p),a}}Object.defineProperty(i,`$${t}`,{get(){return s(e,l())},enumerable:!1})}),i}function Am(i,e,t,...s){try{return t(...s)}catch(a){hs(a,i,e)}}function hs(i,e,t=void 0){Object.assign(i,{el:e,expression:t}),console.warn(`Alpine Expression Error: ${i.message}

${t?'Expression: "'+t+`"

`:""}`,e),setTimeout(()=>{throw i},0)}var $s=!0;function cu(i){let e=$s;$s=!1;let t=i();return $s=e,t}function Vi(i,e,t={}){let s;return et(i,e)(a=>s=a,t),s}function et(...i){return hu(...i)}var hu=du;function Cm(i){hu=i}function du(i,e){let t={};vo(t,i);let s=[t,...Tn(i)],a=typeof e=="function"?Em(s,e):Mm(s,e,i);return Am.bind(null,i,e,a)}function Em(i,e){return(t=()=>{},{scope:s={},params:a=[]}={})=>{let l=e.apply(As([s,...i]),a);or(t,l)}}var Na={};function Tm(i,e){if(Na[i])return Na[i];let t=Object.getPrototypeOf(async function(){}).constructor,s=/^[\n\s]*if.*\(.*\)/.test(i.trim())||/^(let|const)\s/.test(i.trim())?`(async()=>{ ${i} })()`:i,l=(()=>{try{let d=new t(["__self","scope"],`with (scope) { __self.result = ${s} }; __self.finished = true; return __self.result;`);return Object.defineProperty(d,"name",{value:`[Alpine] ${i}`}),d}catch(d){return hs(d,e,i),Promise.resolve()}})();return Na[i]=l,l}function Mm(i,e,t){let s=Tm(e,t);return(a=()=>{},{scope:l={},params:d=[]}={})=>{s.result=void 0,s.finished=!1;let p=As([l,...i]);if(typeof s=="function"){let b=s(s,p).catch(k=>hs(k,t,e));s.finished?(or(a,s.result,p,d,t),s.result=void 0):b.then(k=>{or(a,k,p,d,t)}).catch(k=>hs(k,t,e)).finally(()=>s.result=void 0)}}}function or(i,e,t,s,a){if($s&&typeof e=="function"){let l=e.apply(t,s);l instanceof Promise?l.then(d=>or(i,d,t,s)).catch(d=>hs(d,a,e)):i(l)}else typeof e=="object"&&e instanceof Promise?e.then(l=>i(l)):i(e)}var El="x-";function Hn(i=""){return El+i}function Lm(i){El=i}var wo={};function Ie(i,e){return wo[i]=e,{before(t){if(!wo[t]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const s=Bi.indexOf(t);Bi.splice(s>=0?s:Bi.indexOf("DEFAULT"),0,i)}}}function Tl(i,e,t){if(e=Array.from(e),i._x_virtualDirectives){let l=Object.entries(i._x_virtualDirectives).map(([p,b])=>({name:p,value:b})),d=uu(l);l=l.map(p=>d.find(b=>b.name===p.name)?{name:`x-bind:${p.name}`,value:`"${p.value}"`}:p),e=e.concat(l)}let s={};return e.map(xu((l,d)=>s[l]=d)).filter(yu).map(Rm(s,t)).sort(Im).map(l=>Om(i,l))}function uu(i){return Array.from(i).map(xu()).filter(e=>!yu(e))}var So=!1,Un=new Map,fu=Symbol();function Pm(i){So=!0;let e=Symbol();fu=e,Un.set(e,[]);let t=()=>{for(;Un.get(e).length;)Un.get(e).shift()();Un.delete(e)},s=()=>{So=!1,t()};i(t),s()}function pu(i){let e=[],t=p=>e.push(p),[s,a]=dm(i);return e.push(a),[{Alpine:Cs,effect:s,cleanup:t,evaluateLater:et.bind(et,i),evaluate:Vi.bind(Vi,i)},()=>e.forEach(p=>p())]}function Om(i,e){let t=()=>{},s=wo[e.type]||t,[a,l]=pu(i);iu(i,e.original,l);let d=()=>{i._x_ignore||i._x_ignoreSelf||(s.inline&&s.inline(i,e,a),s=s.bind(s,i,e,a),So?Un.get(fu).push(s):s())};return d.runCleanups=l,d}var gu=(i,e)=>({name:t,value:s})=>(t.startsWith(i)&&(t=t.replace(i,e)),{name:t,value:s}),mu=i=>i;function xu(i=()=>{}){return({name:e,value:t})=>{let{name:s,value:a}=bu.reduce((l,d)=>d(l),{name:e,value:t});return s!==e&&i(s,e),{name:s,value:a}}}var bu=[];function Ml(i){bu.push(i)}function yu({name:i}){return vu().test(i)}var vu=()=>new RegExp(`^${El}([^:^.]+)\\b`);function Rm(i,e){return({name:t,value:s})=>{let a=t.match(vu()),l=t.match(/:([a-zA-Z0-9\-:]+)/),d=t.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],p=e||i[t]||t;return{type:a?a[1]:null,value:l?l[1]:null,modifiers:d.map(b=>b.replace(".","")),expression:s,original:p}}}var ko="DEFAULT",Bi=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",ko,"teleport"];function Im(i,e){let t=Bi.indexOf(i.type)===-1?ko:i.type,s=Bi.indexOf(e.type)===-1?ko:e.type;return Bi.indexOf(t)-Bi.indexOf(s)}var Ao=[],Ll=!1;function Pl(i=()=>{}){return queueMicrotask(()=>{Ll||setTimeout(()=>{Co()})}),new Promise(e=>{Ao.push(()=>{i(),e()})})}function Co(){for(Ll=!1;Ao.length;)Ao.shift()()}function Nm(){Ll=!0}function Ol(i,e){return Array.isArray(e)?Gc(i,e.join(" ")):typeof e=="object"&&e!==null?Dm(i,e):typeof e=="function"?Ol(i,e()):Gc(i,e)}function Gc(i,e){let t=a=>a.split(" ").filter(l=>!i.classList.contains(l)).filter(Boolean),s=a=>(i.classList.add(...a),()=>{i.classList.remove(...a)});return e=e===!0?e="":e||"",s(t(e))}function Dm(i,e){let t=p=>p.split(" ").filter(Boolean),s=Object.entries(e).flatMap(([p,b])=>b?t(p):!1).filter(Boolean),a=Object.entries(e).flatMap(([p,b])=>b?!1:t(p)).filter(Boolean),l=[],d=[];return a.forEach(p=>{i.classList.contains(p)&&(i.classList.remove(p),d.push(p))}),s.forEach(p=>{i.classList.contains(p)||(i.classList.add(p),l.push(p))}),()=>{d.forEach(p=>i.classList.add(p)),l.forEach(p=>i.classList.remove(p))}}function $r(i,e){return typeof e=="object"&&e!==null?Fm(i,e):zm(i,e)}function Fm(i,e){let t={};return Object.entries(e).forEach(([s,a])=>{t[s]=i.style[s],s.startsWith("--")||(s=Bm(s)),i.style.setProperty(s,a)}),setTimeout(()=>{i.style.length===0&&i.removeAttribute("style")}),()=>{$r(i,t)}}function zm(i,e){let t=i.getAttribute("style",e);return i.setAttribute("style",e),()=>{i.setAttribute("style",t||"")}}function Bm(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Eo(i,e=()=>{}){let t=!1;return function(){t?e.apply(this,arguments):(t=!0,i.apply(this,arguments))}}Ie("transition",(i,{value:e,modifiers:t,expression:s},{evaluate:a})=>{typeof s=="function"&&(s=a(s)),s!==!1&&(!s||typeof s=="boolean"?_m(i,t,e):Hm(i,s,e))});function Hm(i,e,t){wu(i,Ol,""),{enter:a=>{i._x_transition.enter.during=a},"enter-start":a=>{i._x_transition.enter.start=a},"enter-end":a=>{i._x_transition.enter.end=a},leave:a=>{i._x_transition.leave.during=a},"leave-start":a=>{i._x_transition.leave.start=a},"leave-end":a=>{i._x_transition.leave.end=a}}[t](e)}function _m(i,e,t){wu(i,$r);let s=!e.includes("in")&&!e.includes("out")&&!t,a=s||e.includes("in")||["enter"].includes(t),l=s||e.includes("out")||["leave"].includes(t);e.includes("in")&&!s&&(e=e.filter((G,_)=>_<e.indexOf("out"))),e.includes("out")&&!s&&(e=e.filter((G,_)=>_>e.indexOf("out")));let d=!e.includes("opacity")&&!e.includes("scale"),p=d||e.includes("opacity"),b=d||e.includes("scale"),k=p?0:1,A=b?Yn(e,"scale",95)/100:1,L=Yn(e,"delay",0)/1e3,R=Yn(e,"origin","center"),z="opacity, transform",D=Yn(e,"duration",150)/1e3,W=Yn(e,"duration",75)/1e3,X="cubic-bezier(0.4, 0.0, 0.2, 1)";a&&(i._x_transition.enter.during={transformOrigin:R,transitionDelay:`${L}s`,transitionProperty:z,transitionDuration:`${D}s`,transitionTimingFunction:X},i._x_transition.enter.start={opacity:k,transform:`scale(${A})`},i._x_transition.enter.end={opacity:1,transform:"scale(1)"}),l&&(i._x_transition.leave.during={transformOrigin:R,transitionDelay:`${L}s`,transitionProperty:z,transitionDuration:`${W}s`,transitionTimingFunction:X},i._x_transition.leave.start={opacity:1,transform:"scale(1)"},i._x_transition.leave.end={opacity:k,transform:`scale(${A})`})}function wu(i,e,t={}){i._x_transition||(i._x_transition={enter:{during:t,start:t,end:t},leave:{during:t,start:t,end:t},in(s=()=>{},a=()=>{}){To(i,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},s,a)},out(s=()=>{},a=()=>{}){To(i,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},s,a)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(i,e,t,s){const a=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let l=()=>a(t);if(e){i._x_transition&&(i._x_transition.enter||i._x_transition.leave)?i._x_transition.enter&&(Object.entries(i._x_transition.enter.during).length||Object.entries(i._x_transition.enter.start).length||Object.entries(i._x_transition.enter.end).length)?i._x_transition.in(t):l():i._x_transition?i._x_transition.in(t):l();return}i._x_hidePromise=i._x_transition?new Promise((d,p)=>{i._x_transition.out(()=>{},()=>d(s)),i._x_transitioning.beforeCancel(()=>p({isFromCancelledTransition:!0}))}):Promise.resolve(s),queueMicrotask(()=>{let d=Su(i);d?(d._x_hideChildren||(d._x_hideChildren=[]),d._x_hideChildren.push(i)):a(()=>{let p=b=>{let k=Promise.all([b._x_hidePromise,...(b._x_hideChildren||[]).map(p)]).then(([A])=>A());return delete b._x_hidePromise,delete b._x_hideChildren,k};p(i).catch(b=>{if(!b.isFromCancelledTransition)throw b})})})};function Su(i){let e=i.parentNode;if(e)return e._x_hidePromise?e:Su(e)}function To(i,e,{during:t,start:s,end:a}={},l=()=>{},d=()=>{}){if(i._x_transitioning&&i._x_transitioning.cancel(),Object.keys(t).length===0&&Object.keys(s).length===0&&Object.keys(a).length===0){l(),d();return}let p,b,k;Xm(i,{start(){p=e(i,s)},during(){b=e(i,t)},before:l,end(){p(),k=e(i,a)},after:d,cleanup(){b(),k()}})}function Xm(i,e){let t,s,a,l=Eo(()=>{De(()=>{t=!0,s||e.before(),a||(e.end(),Co()),e.after(),i.isConnected&&e.cleanup(),delete i._x_transitioning})});i._x_transitioning={beforeCancels:[],beforeCancel(d){this.beforeCancels.push(d)},cancel:Eo(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();l()}),finish:l},De(()=>{e.start(),e.during()}),Nm(),requestAnimationFrame(()=>{if(t)return;let d=Number(getComputedStyle(i).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,p=Number(getComputedStyle(i).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;d===0&&(d=Number(getComputedStyle(i).animationDuration.replace("s",""))*1e3),De(()=>{e.before()}),s=!0,requestAnimationFrame(()=>{t||(De(()=>{e.end()}),Co(),setTimeout(i._x_transitioning.finish,d+p),a=!0)})})}function Yn(i,e,t){if(i.indexOf(e)===-1)return t;const s=i[i.indexOf(e)+1];if(!s||e==="scale"&&isNaN(s))return t;if(e==="duration"||e==="delay"){let a=s.match(/([0-9]+)ms/);if(a)return a[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(i[i.indexOf(e)+2])?[s,i[i.indexOf(e)+2]].join(" "):s}var Si=!1;function Kr(i,e=()=>{}){return(...t)=>Si?e(...t):i(...t)}function Wm(i){return(...e)=>Si&&i(...e)}function Ym(i,e){i._x_dataStack&&(e._x_dataStack=i._x_dataStack,e.setAttribute("data-has-alpine-state",!0)),Si=!0,ku(()=>{ei(e,(t,s)=>{s(t,()=>{})})}),Si=!1}var Mo=!1;function Vm(i,e){e._x_dataStack||(e._x_dataStack=i._x_dataStack),Si=!0,Mo=!0,ku(()=>{jm(e)}),Si=!1,Mo=!1}function jm(i){let e=!1;ei(i,(s,a)=>{wi(s,(l,d)=>{if(e&&fm(l))return d();e=!0,a(l,d)})})}function ku(i){let e=Bn;Vc((t,s)=>{let a=e(t);return Ss(a),()=>{}}),i(),Vc(e)}function Gm(i){return Si?Mo?!0:i.hasAttribute("data-has-alpine-state"):!1}function Au(i,e,t,s=[]){switch(i._x_bindings||(i._x_bindings=zn({})),i._x_bindings[e]=t,e=s.includes("camel")?ex(e):e,e){case"value":qm(i,t);break;case"style":$m(i,t);break;case"class":Um(i,t);break;case"selected":case"checked":Km(i,e,t);break;default:Cu(i,e,t);break}}function qm(i,e){if(i.type==="radio")i.attributes.value===void 0&&(i.value=e),window.fromModel&&(i.checked=qc(i.value,e));else if(i.type==="checkbox")Number.isInteger(e)?i.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?i.value=String(e):Array.isArray(e)?i.checked=e.some(t=>qc(t,i.value)):i.checked=!!e;else if(i.tagName==="SELECT")Qm(i,e);else{if(i.value===e)return;i.value=e===void 0?"":e}}function Um(i,e){i._x_undoAddedClasses&&i._x_undoAddedClasses(),i._x_undoAddedClasses=Ol(i,e)}function $m(i,e){i._x_undoAddedStyles&&i._x_undoAddedStyles(),i._x_undoAddedStyles=$r(i,e)}function Km(i,e,t){Cu(i,e,t),Zm(i,e,t)}function Cu(i,e,t){[null,void 0,!1].includes(t)&&tx(e)?i.removeAttribute(e):(Eu(e)&&(t=e),Jm(i,e,t))}function Jm(i,e,t){i.getAttribute(e)!=t&&i.setAttribute(e,t)}function Zm(i,e,t){i[e]!==t&&(i[e]=t)}function Qm(i,e){const t=[].concat(e).map(s=>s+"");Array.from(i.options).forEach(s=>{s.selected=t.includes(s.value)})}function ex(i){return i.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function qc(i,e){return i==e}function Eu(i){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(i)}function tx(i){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(i)}function ix(i,e,t){return i._x_bindings&&i._x_bindings[e]!==void 0?i._x_bindings[e]:Tu(i,e,t)}function nx(i,e,t,s=!0){if(i._x_bindings&&i._x_bindings[e]!==void 0)return i._x_bindings[e];if(i._x_inlineBindings&&i._x_inlineBindings[e]!==void 0){let a=i._x_inlineBindings[e];return a.extract=s,cu(()=>Vi(i,a.expression))}return Tu(i,e,t)}function Tu(i,e,t){let s=i.getAttribute(e);return s===null?typeof t=="function"?t():t:s===""?!0:Eu(e)?!![e,"true"].includes(s):s}function Mu(i,e){var t;return function(){var s=this,a=arguments,l=function(){t=null,i.apply(s,a)};clearTimeout(t),t=setTimeout(l,e)}}function Lu(i,e){let t;return function(){let s=this,a=arguments;t||(i.apply(s,a),t=!0,setTimeout(()=>t=!1,e))}}function Pu({get:i,set:e},{get:t,set:s}){let a=!0,l,d,p,b=Bn(()=>{let k,A;a?(k=i(),s(JSON.parse(JSON.stringify(k))),A=t(),a=!1):(k=i(),A=t(),d=JSON.stringify(k),p=JSON.stringify(A),d!==l?(A=t(),s(k),A=k):(e(JSON.parse(p??null)),k=A)),l=JSON.stringify(k),JSON.stringify(A)});return()=>{Ss(b)}}function sx(i){(Array.isArray(i)?i:[i]).forEach(t=>t(Cs))}var Ii={},Uc=!1;function rx(i,e){if(Uc||(Ii=zn(Ii),Uc=!0),e===void 0)return Ii[i];Ii[i]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&Ii[i].init(),au(Ii[i])}function ax(){return Ii}var Ou={};function ox(i,e){let t=typeof e!="function"?()=>e:e;return i instanceof Element?Ru(i,t()):(Ou[i]=t,()=>{})}function lx(i){return Object.entries(Ou).forEach(([e,t])=>{Object.defineProperty(i,e,{get(){return(...s)=>t(...s)}})}),i}function Ru(i,e,t){let s=[];for(;s.length;)s.pop()();let a=Object.entries(e).map(([d,p])=>({name:d,value:p})),l=uu(a);return a=a.map(d=>l.find(p=>p.name===d.name)?{name:`x-bind:${d.name}`,value:`"${d.value}"`}:d),Tl(i,a,t).map(d=>{s.push(d.runCleanups),d()}),()=>{for(;s.length;)s.pop()()}}var Iu={};function cx(i,e){Iu[i]=e}function hx(i,e){return Object.entries(Iu).forEach(([t,s])=>{Object.defineProperty(i,t,{get(){return(...a)=>s.bind(e)(...a)},enumerable:!1})}),i}var dx={get reactive(){return zn},get release(){return Ss},get effect(){return Bn},get raw(){return jd},version:"3.13.1",flushAndStopDeferringMutations:vm,dontAutoEvaluateFunctions:cu,disableEffectScheduling:cm,startObservingMutations:kl,stopObservingMutations:su,setReactivityEngine:hm,onAttributeRemoved:iu,onAttributesAdded:tu,closestDataStack:Tn,skipDuringClone:Kr,onlyDuringClone:Wm,addRootSelector:$d,addInitSelector:Kd,addScopeToNode:ks,deferMutations:ym,mapAttributes:Ml,evaluateLater:et,interceptInit:pm,setEvaluator:Cm,mergeProxies:As,extractProp:nx,findClosest:Ur,onElRemoved:vl,closestRoot:qr,destroyTree:yl,interceptor:ou,transition:To,setStyles:$r,mutateDom:De,directive:Ie,entangle:Pu,throttle:Lu,debounce:Mu,evaluate:Vi,initTree:ei,nextTick:Pl,prefixed:Hn,prefix:Lm,plugin:sx,magic:Pt,store:rx,start:um,clone:Vm,cloneNode:Ym,bound:ix,$data:ru,walk:wi,data:cx,bind:ox},Cs=dx;function ux(i,e){const t=Object.create(null),s=i.split(",");for(let a=0;a<s.length;a++)t[s[a]]=!0;return e?a=>!!t[a.toLowerCase()]:a=>!!t[a]}var fx=Object.freeze({}),px=Object.prototype.hasOwnProperty,Jr=(i,e)=>px.call(i,e),ji=Array.isArray,es=i=>Nu(i)==="[object Map]",gx=i=>typeof i=="string",Rl=i=>typeof i=="symbol",Zr=i=>i!==null&&typeof i=="object",mx=Object.prototype.toString,Nu=i=>mx.call(i),Du=i=>Nu(i).slice(8,-1),Il=i=>gx(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,xx=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},bx=xx(i=>i.charAt(0).toUpperCase()+i.slice(1)),Fu=(i,e)=>i!==e&&(i===i||e===e),Lo=new WeakMap,Vn=[],Dt,Gi=Symbol("iterate"),Po=Symbol("Map key iterate");function yx(i){return i&&i._isEffect===!0}function vx(i,e=fx){yx(i)&&(i=i.raw);const t=kx(i,e);return e.lazy||t(),t}function wx(i){i.active&&(zu(i),i.options.onStop&&i.options.onStop(),i.active=!1)}var Sx=0;function kx(i,e){const t=function(){if(!t.active)return i();if(!Vn.includes(t)){zu(t);try{return Cx(),Vn.push(t),Dt=t,i()}finally{Vn.pop(),Bu(),Dt=Vn[Vn.length-1]}}};return t.id=Sx++,t.allowRecurse=!!e.allowRecurse,t._isEffect=!0,t.active=!0,t.raw=i,t.deps=[],t.options=e,t}function zu(i){const{deps:e}=i;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(i);e.length=0}}var Mn=!0,Nl=[];function Ax(){Nl.push(Mn),Mn=!1}function Cx(){Nl.push(Mn),Mn=!0}function Bu(){const i=Nl.pop();Mn=i===void 0?!0:i}function Mt(i,e,t){if(!Mn||Dt===void 0)return;let s=Lo.get(i);s||Lo.set(i,s=new Map);let a=s.get(t);a||s.set(t,a=new Set),a.has(Dt)||(a.add(Dt),Dt.deps.push(a),Dt.options.onTrack&&Dt.options.onTrack({effect:Dt,target:i,type:e,key:t}))}function ki(i,e,t,s,a,l){const d=Lo.get(i);if(!d)return;const p=new Set,b=A=>{A&&A.forEach(L=>{(L!==Dt||L.allowRecurse)&&p.add(L)})};if(e==="clear")d.forEach(b);else if(t==="length"&&ji(i))d.forEach((A,L)=>{(L==="length"||L>=s)&&b(A)});else switch(t!==void 0&&b(d.get(t)),e){case"add":ji(i)?Il(t)&&b(d.get("length")):(b(d.get(Gi)),es(i)&&b(d.get(Po)));break;case"delete":ji(i)||(b(d.get(Gi)),es(i)&&b(d.get(Po)));break;case"set":es(i)&&b(d.get(Gi));break}const k=A=>{A.options.onTrigger&&A.options.onTrigger({effect:A,target:i,key:t,type:e,newValue:s,oldValue:a,oldTarget:l}),A.options.scheduler?A.options.scheduler(A):A()};p.forEach(k)}var Ex=ux("__proto__,__v_isRef,__isVue"),Hu=new Set(Object.getOwnPropertyNames(Symbol).map(i=>Symbol[i]).filter(Rl)),Tx=_u(),Mx=_u(!0),$c=Lx();function Lx(){const i={};return["includes","indexOf","lastIndexOf"].forEach(e=>{i[e]=function(...t){const s=Ae(this);for(let l=0,d=this.length;l<d;l++)Mt(s,"get",l+"");const a=s[e](...t);return a===-1||a===!1?s[e](...t.map(Ae)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{i[e]=function(...t){Ax();const s=Ae(this)[e].apply(this,t);return Bu(),s}}),i}function _u(i=!1,e=!1){return function(s,a,l){if(a==="__v_isReactive")return!i;if(a==="__v_isReadonly")return i;if(a==="__v_raw"&&l===(i?e?jx:Vu:e?Vx:Yu).get(s))return s;const d=ji(s);if(!i&&d&&Jr($c,a))return Reflect.get($c,a,l);const p=Reflect.get(s,a,l);return(Rl(a)?Hu.has(a):Ex(a))||(i||Mt(s,"get",a),e)?p:Oo(p)?!d||!Il(a)?p.value:p:Zr(p)?i?ju(p):Bl(p):p}}var Px=Ox();function Ox(i=!1){return function(t,s,a,l){let d=t[s];if(!i&&(a=Ae(a),d=Ae(d),!ji(t)&&Oo(d)&&!Oo(a)))return d.value=a,!0;const p=ji(t)&&Il(s)?Number(s)<t.length:Jr(t,s),b=Reflect.set(t,s,a,l);return t===Ae(l)&&(p?Fu(a,d)&&ki(t,"set",s,a,d):ki(t,"add",s,a)),b}}function Rx(i,e){const t=Jr(i,e),s=i[e],a=Reflect.deleteProperty(i,e);return a&&t&&ki(i,"delete",e,void 0,s),a}function Ix(i,e){const t=Reflect.has(i,e);return(!Rl(e)||!Hu.has(e))&&Mt(i,"has",e),t}function Nx(i){return Mt(i,"iterate",ji(i)?"length":Gi),Reflect.ownKeys(i)}var Dx={get:Tx,set:Px,deleteProperty:Rx,has:Ix,ownKeys:Nx},Fx={get:Mx,set(i,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,i),!0},deleteProperty(i,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,i),!0}},Dl=i=>Zr(i)?Bl(i):i,Fl=i=>Zr(i)?ju(i):i,zl=i=>i,Qr=i=>Reflect.getPrototypeOf(i);function Ns(i,e,t=!1,s=!1){i=i.__v_raw;const a=Ae(i),l=Ae(e);e!==l&&!t&&Mt(a,"get",e),!t&&Mt(a,"get",l);const{has:d}=Qr(a),p=s?zl:t?Fl:Dl;if(d.call(a,e))return p(i.get(e));if(d.call(a,l))return p(i.get(l));i!==a&&i.get(e)}function Ds(i,e=!1){const t=this.__v_raw,s=Ae(t),a=Ae(i);return i!==a&&!e&&Mt(s,"has",i),!e&&Mt(s,"has",a),i===a?t.has(i):t.has(i)||t.has(a)}function Fs(i,e=!1){return i=i.__v_raw,!e&&Mt(Ae(i),"iterate",Gi),Reflect.get(i,"size",i)}function Kc(i){i=Ae(i);const e=Ae(this);return Qr(e).has.call(e,i)||(e.add(i),ki(e,"add",i,i)),this}function Jc(i,e){e=Ae(e);const t=Ae(this),{has:s,get:a}=Qr(t);let l=s.call(t,i);l?Wu(t,s,i):(i=Ae(i),l=s.call(t,i));const d=a.call(t,i);return t.set(i,e),l?Fu(e,d)&&ki(t,"set",i,e,d):ki(t,"add",i,e),this}function Zc(i){const e=Ae(this),{has:t,get:s}=Qr(e);let a=t.call(e,i);a?Wu(e,t,i):(i=Ae(i),a=t.call(e,i));const l=s?s.call(e,i):void 0,d=e.delete(i);return a&&ki(e,"delete",i,void 0,l),d}function Qc(){const i=Ae(this),e=i.size!==0,t=es(i)?new Map(i):new Set(i),s=i.clear();return e&&ki(i,"clear",void 0,void 0,t),s}function zs(i,e){return function(s,a){const l=this,d=l.__v_raw,p=Ae(d),b=e?zl:i?Fl:Dl;return!i&&Mt(p,"iterate",Gi),d.forEach((k,A)=>s.call(a,b(k),b(A),l))}}function Bs(i,e,t){return function(...s){const a=this.__v_raw,l=Ae(a),d=es(l),p=i==="entries"||i===Symbol.iterator&&d,b=i==="keys"&&d,k=a[i](...s),A=t?zl:e?Fl:Dl;return!e&&Mt(l,"iterate",b?Po:Gi),{next(){const{value:L,done:R}=k.next();return R?{value:L,done:R}:{value:p?[A(L[0]),A(L[1])]:A(L),done:R}},[Symbol.iterator](){return this}}}}function ii(i){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";console.warn(`${bx(i)} operation ${t}failed: target is readonly.`,Ae(this))}return i==="delete"?!1:this}}function zx(){const i={get(l){return Ns(this,l)},get size(){return Fs(this)},has:Ds,add:Kc,set:Jc,delete:Zc,clear:Qc,forEach:zs(!1,!1)},e={get(l){return Ns(this,l,!1,!0)},get size(){return Fs(this)},has:Ds,add:Kc,set:Jc,delete:Zc,clear:Qc,forEach:zs(!1,!0)},t={get(l){return Ns(this,l,!0)},get size(){return Fs(this,!0)},has(l){return Ds.call(this,l,!0)},add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear"),forEach:zs(!0,!1)},s={get(l){return Ns(this,l,!0,!0)},get size(){return Fs(this,!0)},has(l){return Ds.call(this,l,!0)},add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear"),forEach:zs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{i[l]=Bs(l,!1,!1),t[l]=Bs(l,!0,!1),e[l]=Bs(l,!1,!0),s[l]=Bs(l,!0,!0)}),[i,t,e,s]}var[Bx,Hx,_x,Xx]=zx();function Xu(i,e){const t=e?i?Xx:_x:i?Hx:Bx;return(s,a,l)=>a==="__v_isReactive"?!i:a==="__v_isReadonly"?i:a==="__v_raw"?s:Reflect.get(Jr(t,a)&&a in s?t:s,a,l)}var Wx={get:Xu(!1,!1)},Yx={get:Xu(!0,!1)};function Wu(i,e,t){const s=Ae(t);if(s!==t&&e.call(i,s)){const a=Du(i);console.warn(`Reactive ${a} contains both the raw and reactive versions of the same object${a==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Yu=new WeakMap,Vx=new WeakMap,Vu=new WeakMap,jx=new WeakMap;function Gx(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qx(i){return i.__v_skip||!Object.isExtensible(i)?0:Gx(Du(i))}function Bl(i){return i&&i.__v_isReadonly?i:Gu(i,!1,Dx,Wx,Yu)}function ju(i){return Gu(i,!0,Fx,Yx,Vu)}function Gu(i,e,t,s,a){if(!Zr(i))return console.warn(`value cannot be made reactive: ${String(i)}`),i;if(i.__v_raw&&!(e&&i.__v_isReactive))return i;const l=a.get(i);if(l)return l;const d=qx(i);if(d===0)return i;const p=new Proxy(i,d===2?s:t);return a.set(i,p),p}function Ae(i){return i&&Ae(i.__v_raw)||i}function Oo(i){return!!(i&&i.__v_isRef===!0)}Pt("nextTick",()=>Pl);Pt("dispatch",i=>Zn.bind(Zn,i));Pt("watch",(i,{evaluateLater:e,effect:t})=>(s,a)=>{let l=e(s),d=!0,p,b=t(()=>l(k=>{JSON.stringify(k),d?p=k:queueMicrotask(()=>{a(k,p),p=k}),d=!1}));i._x_effects.delete(b)});Pt("store",ax);Pt("data",i=>ru(i));Pt("root",i=>qr(i));Pt("refs",i=>(i._x_refs_proxy||(i._x_refs_proxy=As(Ux(i))),i._x_refs_proxy));function Ux(i){let e=[],t=i;for(;t;)t._x_refs&&e.push(t._x_refs),t=t.parentNode;return e}var Da={};function qu(i){return Da[i]||(Da[i]=0),++Da[i]}function $x(i,e){return Ur(i,t=>{if(t._x_ids&&t._x_ids[e])return!0})}function Kx(i,e){i._x_ids||(i._x_ids={}),i._x_ids[e]||(i._x_ids[e]=qu(e))}Pt("id",i=>(e,t=null)=>{let s=$x(i,e),a=s?s._x_ids[e]:qu(e);return t?`${e}-${a}-${t}`:`${e}-${a}`});Pt("el",i=>i);Uu("Focus","focus","focus");Uu("Persist","persist","persist");function Uu(i,e,t){Pt(e,s=>Qt(`You can't use [$${e}] without first installing the "${i}" plugin here: https://alpinejs.dev/plugins/${t}`,s))}Ie("modelable",(i,{expression:e},{effect:t,evaluateLater:s,cleanup:a})=>{let l=s(e),d=()=>{let A;return l(L=>A=L),A},p=s(`${e} = __placeholder`),b=A=>p(()=>{},{scope:{__placeholder:A}}),k=d();b(k),queueMicrotask(()=>{if(!i._x_model)return;i._x_removeModelListeners.default();let A=i._x_model.get,L=i._x_model.set,R=Pu({get(){return A()},set(z){L(z)}},{get(){return d()},set(z){b(z)}});a(R)})});Ie("teleport",(i,{modifiers:e,expression:t},{cleanup:s})=>{i.tagName.toLowerCase()!=="template"&&Qt("x-teleport can only be used on a <template> tag",i);let a=eh(t),l=i.content.cloneNode(!0).firstElementChild;i._x_teleport=l,l._x_teleportBack=i,i.setAttribute("data-teleport-template",!0),l.setAttribute("data-teleport-target",!0),i._x_forwardEvents&&i._x_forwardEvents.forEach(p=>{l.addEventListener(p,b=>{b.stopPropagation(),i.dispatchEvent(new b.constructor(b.type,b))})}),ks(l,{},i);let d=(p,b,k)=>{k.includes("prepend")?b.parentNode.insertBefore(p,b):k.includes("append")?b.parentNode.insertBefore(p,b.nextSibling):b.appendChild(p)};De(()=>{d(l,a,e),ei(l),l._x_ignore=!0}),i._x_teleportPutBack=()=>{let p=eh(t);De(()=>{d(i._x_teleport,p,e)})},s(()=>l.remove())});var Jx=document.createElement("div");function eh(i){let e=Kr(()=>document.querySelector(i),()=>Jx)();return e||Qt(`Cannot find x-teleport element for selector: "${i}"`),e}var $u=()=>{};$u.inline=(i,{modifiers:e},{cleanup:t})=>{e.includes("self")?i._x_ignoreSelf=!0:i._x_ignore=!0,t(()=>{e.includes("self")?delete i._x_ignoreSelf:delete i._x_ignore})};Ie("ignore",$u);Ie("effect",(i,{expression:e},{effect:t})=>t(et(i,e)));function Ro(i,e,t,s){let a=i,l=b=>s(b),d={},p=(b,k)=>A=>k(b,A);if(t.includes("dot")&&(e=Zx(e)),t.includes("camel")&&(e=Qx(e)),t.includes("passive")&&(d.passive=!0),t.includes("capture")&&(d.capture=!0),t.includes("window")&&(a=window),t.includes("document")&&(a=document),t.includes("debounce")){let b=t[t.indexOf("debounce")+1]||"invalid-wait",k=lr(b.split("ms")[0])?Number(b.split("ms")[0]):250;l=Mu(l,k)}if(t.includes("throttle")){let b=t[t.indexOf("throttle")+1]||"invalid-wait",k=lr(b.split("ms")[0])?Number(b.split("ms")[0]):250;l=Lu(l,k)}return t.includes("prevent")&&(l=p(l,(b,k)=>{k.preventDefault(),b(k)})),t.includes("stop")&&(l=p(l,(b,k)=>{k.stopPropagation(),b(k)})),t.includes("self")&&(l=p(l,(b,k)=>{k.target===i&&b(k)})),(t.includes("away")||t.includes("outside"))&&(a=document,l=p(l,(b,k)=>{i.contains(k.target)||k.target.isConnected!==!1&&(i.offsetWidth<1&&i.offsetHeight<1||i._x_isShown!==!1&&b(k))})),t.includes("once")&&(l=p(l,(b,k)=>{b(k),a.removeEventListener(e,l,d)})),l=p(l,(b,k)=>{tb(e)&&ib(k,t)||b(k)}),a.addEventListener(e,l,d),()=>{a.removeEventListener(e,l,d)}}function Zx(i){return i.replace(/-/g,".")}function Qx(i){return i.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function lr(i){return!Array.isArray(i)&&!isNaN(i)}function eb(i){return[" ","_"].includes(i)?i:i.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function tb(i){return["keydown","keyup"].includes(i)}function ib(i,e){let t=e.filter(l=>!["window","document","prevent","stop","once","capture"].includes(l));if(t.includes("debounce")){let l=t.indexOf("debounce");t.splice(l,lr((t[l+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.includes("throttle")){let l=t.indexOf("throttle");t.splice(l,lr((t[l+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.length===0||t.length===1&&th(i.key).includes(t[0]))return!1;const a=["ctrl","shift","alt","meta","cmd","super"].filter(l=>t.includes(l));return t=t.filter(l=>!a.includes(l)),!(a.length>0&&a.filter(d=>((d==="cmd"||d==="super")&&(d="meta"),i[`${d}Key`])).length===a.length&&th(i.key).includes(t[0]))}function th(i){if(!i)return[];i=eb(i);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return e[i]=i,Object.keys(e).map(t=>{if(e[t]===i)return t}).filter(t=>t)}Ie("model",(i,{modifiers:e,expression:t},{effect:s,cleanup:a})=>{let l=i;e.includes("parent")&&(l=i.parentNode);let d=et(l,t),p;typeof t=="string"?p=et(l,`${t} = __placeholder`):typeof t=="function"&&typeof t()=="string"?p=et(l,`${t()} = __placeholder`):p=()=>{};let b=()=>{let R;return d(z=>R=z),ih(R)?R.get():R},k=R=>{let z;d(D=>z=D),ih(z)?z.set(R):p(()=>{},{scope:{__placeholder:R}})};typeof t=="string"&&i.type==="radio"&&De(()=>{i.hasAttribute("name")||i.setAttribute("name",t)});var A=i.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(i.type)||e.includes("lazy")?"change":"input";let L=Si?()=>{}:Ro(i,A,e,R=>{k(nb(i,e,R,b()))});if(e.includes("fill")&&([null,""].includes(b())||i.type==="checkbox"&&Array.isArray(b()))&&i.dispatchEvent(new Event(A,{})),i._x_removeModelListeners||(i._x_removeModelListeners={}),i._x_removeModelListeners.default=L,a(()=>i._x_removeModelListeners.default()),i.form){let R=Ro(i.form,"reset",[],z=>{Pl(()=>i._x_model&&i._x_model.set(i.value))});a(()=>R())}i._x_model={get(){return b()},set(R){k(R)}},i._x_forceModelUpdate=R=>{R===void 0&&typeof t=="string"&&t.match(/\./)&&(R=""),window.fromModel=!0,De(()=>Au(i,"value",R)),delete window.fromModel},s(()=>{let R=b();e.includes("unintrusive")&&document.activeElement.isSameNode(i)||i._x_forceModelUpdate(R)})});function nb(i,e,t,s){return De(()=>{if(t instanceof CustomEvent&&t.detail!==void 0)return t.detail!==null&&t.detail!==void 0?t.detail:t.target.value;if(i.type==="checkbox")if(Array.isArray(s)){let a=e.includes("number")?Fa(t.target.value):t.target.value;return t.target.checked?s.concat([a]):s.filter(l=>!sb(l,a))}else return t.target.checked;else{if(i.tagName.toLowerCase()==="select"&&i.multiple)return e.includes("number")?Array.from(t.target.selectedOptions).map(a=>{let l=a.value||a.text;return Fa(l)}):Array.from(t.target.selectedOptions).map(a=>a.value||a.text);{let a=t.target.value;return e.includes("number")?Fa(a):e.includes("trim")?a.trim():a}}})}function Fa(i){let e=i?parseFloat(i):null;return rb(e)?e:i}function sb(i,e){return i==e}function rb(i){return!Array.isArray(i)&&!isNaN(i)}function ih(i){return i!==null&&typeof i=="object"&&typeof i.get=="function"&&typeof i.set=="function"}Ie("cloak",i=>queueMicrotask(()=>De(()=>i.removeAttribute(Hn("cloak")))));Kd(()=>`[${Hn("init")}]`);Ie("init",Kr((i,{expression:e},{evaluate:t})=>typeof e=="string"?!!e.trim()&&t(e,{},!1):t(e,{},!1)));Ie("text",(i,{expression:e},{effect:t,evaluateLater:s})=>{let a=s(e);t(()=>{a(l=>{De(()=>{i.textContent=l})})})});Ie("html",(i,{expression:e},{effect:t,evaluateLater:s})=>{let a=s(e);t(()=>{a(l=>{De(()=>{i.innerHTML=l,i._x_ignoreSelf=!0,ei(i),delete i._x_ignoreSelf})})})});Ml(gu(":",mu(Hn("bind:"))));var Ku=(i,{value:e,modifiers:t,expression:s,original:a},{effect:l})=>{if(!e){let p={};lx(p),et(i,s)(k=>{Ru(i,k,a)},{scope:p});return}if(e==="key")return ab(i,s);if(i._x_inlineBindings&&i._x_inlineBindings[e]&&i._x_inlineBindings[e].extract)return;let d=et(i,s);l(()=>d(p=>{p===void 0&&typeof s=="string"&&s.match(/\./)&&(p=""),De(()=>Au(i,e,p,t))}))};Ku.inline=(i,{value:e,modifiers:t,expression:s})=>{e&&(i._x_inlineBindings||(i._x_inlineBindings={}),i._x_inlineBindings[e]={expression:s,extract:!1})};Ie("bind",Ku);function ab(i,e){i._x_keyExpression=e}$d(()=>`[${Hn("data")}]`);Ie("data",(i,{expression:e},{cleanup:t})=>{if(Gm(i))return;e=e===""?"{}":e;let s={};vo(s,i);let a={};hx(a,s);let l=Vi(i,e,{scope:a});(l===void 0||l===!0)&&(l={}),vo(l,i);let d=zn(l);au(d);let p=ks(i,d);d.init&&Vi(i,d.init),t(()=>{d.destroy&&Vi(i,d.destroy),p()})});Ie("show",(i,{modifiers:e,expression:t},{effect:s})=>{let a=et(i,t);i._x_doHide||(i._x_doHide=()=>{De(()=>{i.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),i._x_doShow||(i._x_doShow=()=>{De(()=>{i.style.length===1&&i.style.display==="none"?i.removeAttribute("style"):i.style.removeProperty("display")})});let l=()=>{i._x_doHide(),i._x_isShown=!1},d=()=>{i._x_doShow(),i._x_isShown=!0},p=()=>setTimeout(d),b=Eo(L=>L?d():l(),L=>{typeof i._x_toggleAndCascadeWithTransitions=="function"?i._x_toggleAndCascadeWithTransitions(i,L,d,l):L?p():l()}),k,A=!0;s(()=>a(L=>{!A&&L===k||(e.includes("immediate")&&(L?p():l()),b(L),k=L,A=!1)}))});Ie("for",(i,{expression:e},{effect:t,cleanup:s})=>{let a=lb(e),l=et(i,a.items),d=et(i,i._x_keyExpression||"index");i._x_prevKeys=[],i._x_lookup={},t(()=>ob(i,a,l,d)),s(()=>{Object.values(i._x_lookup).forEach(p=>p.remove()),delete i._x_prevKeys,delete i._x_lookup})});function ob(i,e,t,s){let a=d=>typeof d=="object"&&!Array.isArray(d),l=i;t(d=>{cb(d)&&d>=0&&(d=Array.from(Array(d).keys(),X=>X+1)),d===void 0&&(d=[]);let p=i._x_lookup,b=i._x_prevKeys,k=[],A=[];if(a(d))d=Object.entries(d).map(([X,G])=>{let _=nh(e,G,X,d);s(ne=>A.push(ne),{scope:{index:X,..._}}),k.push(_)});else for(let X=0;X<d.length;X++){let G=nh(e,d[X],X,d);s(_=>A.push(_),{scope:{index:X,...G}}),k.push(G)}let L=[],R=[],z=[],D=[];for(let X=0;X<b.length;X++){let G=b[X];A.indexOf(G)===-1&&z.push(G)}b=b.filter(X=>!z.includes(X));let W="template";for(let X=0;X<A.length;X++){let G=A[X],_=b.indexOf(G);if(_===-1)b.splice(X,0,G),L.push([W,X]);else if(_!==X){let ne=b.splice(X,1)[0],oe=b.splice(_-1,1)[0];b.splice(X,0,oe),b.splice(_,0,ne),R.push([ne,oe])}else D.push(G);W=G}for(let X=0;X<z.length;X++){let G=z[X];p[G]._x_effects&&p[G]._x_effects.forEach(Vd),p[G].remove(),p[G]=null,delete p[G]}for(let X=0;X<R.length;X++){let[G,_]=R[X],ne=p[G],oe=p[_],j=document.createElement("div");De(()=>{oe||Qt('x-for ":key" is undefined or invalid',l),oe.after(j),ne.after(oe),oe._x_currentIfEl&&oe.after(oe._x_currentIfEl),j.before(ne),ne._x_currentIfEl&&ne.after(ne._x_currentIfEl),j.remove()}),oe._x_refreshXForScope(k[A.indexOf(_)])}for(let X=0;X<L.length;X++){let[G,_]=L[X],ne=G==="template"?l:p[G];ne._x_currentIfEl&&(ne=ne._x_currentIfEl);let oe=k[_],j=A[_],q=document.importNode(l.content,!0).firstElementChild,Z=zn(oe);ks(q,Z,l),q._x_refreshXForScope=ce=>{Object.entries(ce).forEach(([ae,me])=>{Z[ae]=me})},De(()=>{ne.after(q),ei(q)}),typeof j=="object"&&Qt("x-for key cannot be an object, it must be a string or an integer",l),p[j]=q}for(let X=0;X<D.length;X++)p[D[X]]._x_refreshXForScope(k[A.indexOf(D[X])]);l._x_prevKeys=A})}function lb(i){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,t=/^\s*\(|\)\s*$/g,s=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,a=i.match(s);if(!a)return;let l={};l.items=a[2].trim();let d=a[1].replace(t,"").trim(),p=d.match(e);return p?(l.item=d.replace(e,"").trim(),l.index=p[1].trim(),p[2]&&(l.collection=p[2].trim())):l.item=d,l}function nh(i,e,t,s){let a={};return/^\[.*\]$/.test(i.item)&&Array.isArray(e)?i.item.replace("[","").replace("]","").split(",").map(d=>d.trim()).forEach((d,p)=>{a[d]=e[p]}):/^\{.*\}$/.test(i.item)&&!Array.isArray(e)&&typeof e=="object"?i.item.replace("{","").replace("}","").split(",").map(d=>d.trim()).forEach(d=>{a[d]=e[d]}):a[i.item]=e,i.index&&(a[i.index]=t),i.collection&&(a[i.collection]=s),a}function cb(i){return!Array.isArray(i)&&!isNaN(i)}function Ju(){}Ju.inline=(i,{expression:e},{cleanup:t})=>{let s=qr(i);s._x_refs||(s._x_refs={}),s._x_refs[e]=i,t(()=>delete s._x_refs[e])};Ie("ref",Ju);Ie("if",(i,{expression:e},{effect:t,cleanup:s})=>{i.tagName.toLowerCase()!=="template"&&Qt("x-if can only be used on a <template> tag",i);let a=et(i,e),l=()=>{if(i._x_currentIfEl)return i._x_currentIfEl;let p=i.content.cloneNode(!0).firstElementChild;return ks(p,{},i),De(()=>{i.after(p),ei(p)}),i._x_currentIfEl=p,i._x_undoIf=()=>{wi(p,b=>{b._x_effects&&b._x_effects.forEach(Vd)}),p.remove(),delete i._x_currentIfEl},p},d=()=>{i._x_undoIf&&(i._x_undoIf(),delete i._x_undoIf)};t(()=>a(p=>{p?l():d()})),s(()=>i._x_undoIf&&i._x_undoIf())});Ie("id",(i,{expression:e},{evaluate:t})=>{t(e).forEach(a=>Kx(i,a))});Ml(gu("@",mu(Hn("on:"))));Ie("on",Kr((i,{value:e,modifiers:t,expression:s},{cleanup:a})=>{let l=s?et(i,s):()=>{};i.tagName.toLowerCase()==="template"&&(i._x_forwardEvents||(i._x_forwardEvents=[]),i._x_forwardEvents.includes(e)||i._x_forwardEvents.push(e));let d=Ro(i,e,t,p=>{l(()=>{},{scope:{$event:p},params:[p]})});a(()=>d())}));ea("Collapse","collapse","collapse");ea("Intersect","intersect","intersect");ea("Focus","trap","focus");ea("Mask","mask","mask");function ea(i,e,t){Ie(e,s=>Qt(`You can't use [x-${e}] without first installing the "${i}" plugin here: https://alpinejs.dev/plugins/${t}`,s))}Cs.setEvaluator(du);Cs.setReactivityEngine({reactive:Bl,effect:vx,release:wx,raw:Ae});var hb=Cs,Zu=hb;function Qu(i,e){return function(){return i.apply(e,arguments)}}const{toString:db}=Object.prototype,{getPrototypeOf:Hl}=Object,ta=(i=>e=>{const t=db.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Wt=i=>(i=i.toLowerCase(),e=>ta(e)===i),ia=i=>e=>typeof e===i,{isArray:_n}=Array,ds=ia("undefined");function ub(i){return i!==null&&!ds(i)&&i.constructor!==null&&!ds(i.constructor)&&yt(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const ef=Wt("ArrayBuffer");function fb(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&ef(i.buffer),e}const pb=ia("string"),yt=ia("function"),tf=ia("number"),na=i=>i!==null&&typeof i=="object",gb=i=>i===!0||i===!1,Ks=i=>{if(ta(i)!=="object")return!1;const e=Hl(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},mb=Wt("Date"),xb=Wt("File"),bb=Wt("Blob"),yb=Wt("FileList"),vb=i=>na(i)&&yt(i.pipe),wb=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||yt(i.append)&&((e=ta(i))==="formdata"||e==="object"&&yt(i.toString)&&i.toString()==="[object FormData]"))},Sb=Wt("URLSearchParams"),kb=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Es(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,a;if(typeof i!="object"&&(i=[i]),_n(i))for(s=0,a=i.length;s<a;s++)e.call(null,i[s],s,i);else{const l=t?Object.getOwnPropertyNames(i):Object.keys(i),d=l.length;let p;for(s=0;s<d;s++)p=l[s],e.call(null,i[p],p,i)}}function nf(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const sf=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),rf=i=>!ds(i)&&i!==sf;function Io(){const{caseless:i}=rf(this)&&this||{},e={},t=(s,a)=>{const l=i&&nf(e,a)||a;Ks(e[l])&&Ks(s)?e[l]=Io(e[l],s):Ks(s)?e[l]=Io({},s):_n(s)?e[l]=s.slice():e[l]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Es(arguments[s],t);return e}const Ab=(i,e,t,{allOwnKeys:s}={})=>(Es(e,(a,l)=>{t&&yt(a)?i[l]=Qu(a,t):i[l]=a},{allOwnKeys:s}),i),Cb=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Eb=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},Tb=(i,e,t,s)=>{let a,l,d;const p={};if(e=e||{},i==null)return e;do{for(a=Object.getOwnPropertyNames(i),l=a.length;l-- >0;)d=a[l],(!s||s(d,i,e))&&!p[d]&&(e[d]=i[d],p[d]=!0);i=t!==!1&&Hl(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},Mb=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},Lb=i=>{if(!i)return null;if(_n(i))return i;let e=i.length;if(!tf(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},Pb=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Hl(Uint8Array)),Ob=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let a;for(;(a=s.next())&&!a.done;){const l=a.value;e.call(i,l[0],l[1])}},Rb=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},Ib=Wt("HTMLFormElement"),Nb=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),sh=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),Db=Wt("RegExp"),af=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};Es(t,(a,l)=>{let d;(d=e(a,l,i))!==!1&&(s[l]=d||a)}),Object.defineProperties(i,s)},Fb=i=>{af(i,(e,t)=>{if(yt(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(yt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},zb=(i,e)=>{const t={},s=a=>{a.forEach(l=>{t[l]=!0})};return _n(i)?s(i):s(String(i).split(e)),t},Bb=()=>{},Hb=(i,e)=>(i=+i,Number.isFinite(i)?i:e),za="abcdefghijklmnopqrstuvwxyz",rh="0123456789",of={DIGIT:rh,ALPHA:za,ALPHA_DIGIT:za+za.toUpperCase()+rh},_b=(i=16,e=of.ALPHA_DIGIT)=>{let t="";const{length:s}=e;for(;i--;)t+=e[Math.random()*s|0];return t};function Xb(i){return!!(i&&yt(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const Wb=i=>{const e=new Array(10),t=(s,a)=>{if(na(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const l=_n(s)?[]:{};return Es(s,(d,p)=>{const b=t(d,a+1);!ds(b)&&(l[p]=b)}),e[a]=void 0,l}}return s};return t(i,0)},Yb=Wt("AsyncFunction"),Vb=i=>i&&(na(i)||yt(i))&&yt(i.then)&&yt(i.catch),J={isArray:_n,isArrayBuffer:ef,isBuffer:ub,isFormData:wb,isArrayBufferView:fb,isString:pb,isNumber:tf,isBoolean:gb,isObject:na,isPlainObject:Ks,isUndefined:ds,isDate:mb,isFile:xb,isBlob:bb,isRegExp:Db,isFunction:yt,isStream:vb,isURLSearchParams:Sb,isTypedArray:Pb,isFileList:yb,forEach:Es,merge:Io,extend:Ab,trim:kb,stripBOM:Cb,inherits:Eb,toFlatObject:Tb,kindOf:ta,kindOfTest:Wt,endsWith:Mb,toArray:Lb,forEachEntry:Ob,matchAll:Rb,isHTMLForm:Ib,hasOwnProperty:sh,hasOwnProp:sh,reduceDescriptors:af,freezeMethods:Fb,toObjectSet:zb,toCamelCase:Nb,noop:Bb,toFiniteNumber:Hb,findKey:nf,global:sf,isContextDefined:rf,ALPHABET:of,generateString:_b,isSpecCompliantForm:Xb,toJSONObject:Wb,isAsyncFn:Yb,isThenable:Vb};function xe(i,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a)}J.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lf=xe.prototype,cf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{cf[i]={value:i}});Object.defineProperties(xe,cf);Object.defineProperty(lf,"isAxiosError",{value:!0});xe.from=(i,e,t,s,a,l)=>{const d=Object.create(lf);return J.toFlatObject(i,d,function(b){return b!==Error.prototype},p=>p!=="isAxiosError"),xe.call(d,i.message,e,t,s,a),d.cause=i,d.name=i.name,l&&Object.assign(d,l),d};const jb=null;function No(i){return J.isPlainObject(i)||J.isArray(i)}function hf(i){return J.endsWith(i,"[]")?i.slice(0,-2):i}function ah(i,e,t){return i?i.concat(e).map(function(a,l){return a=hf(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function Gb(i){return J.isArray(i)&&!i.some(No)}const qb=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function sa(i,e,t){if(!J.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=J.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(W,X){return!J.isUndefined(X[W])});const s=t.metaTokens,a=t.visitor||A,l=t.dots,d=t.indexes,b=(t.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(a))throw new TypeError("visitor must be a function");function k(D){if(D===null)return"";if(J.isDate(D))return D.toISOString();if(!b&&J.isBlob(D))throw new xe("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(D)||J.isTypedArray(D)?b&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function A(D,W,X){let G=D;if(D&&!X&&typeof D=="object"){if(J.endsWith(W,"{}"))W=s?W:W.slice(0,-2),D=JSON.stringify(D);else if(J.isArray(D)&&Gb(D)||(J.isFileList(D)||J.endsWith(W,"[]"))&&(G=J.toArray(D)))return W=hf(W),G.forEach(function(ne,oe){!(J.isUndefined(ne)||ne===null)&&e.append(d===!0?ah([W],oe,l):d===null?W:W+"[]",k(ne))}),!1}return No(D)?!0:(e.append(ah(X,W,l),k(D)),!1)}const L=[],R=Object.assign(qb,{defaultVisitor:A,convertValue:k,isVisitable:No});function z(D,W){if(!J.isUndefined(D)){if(L.indexOf(D)!==-1)throw Error("Circular reference detected in "+W.join("."));L.push(D),J.forEach(D,function(G,_){(!(J.isUndefined(G)||G===null)&&a.call(e,G,J.isString(_)?_.trim():_,W,R))===!0&&z(G,W?W.concat(_):[_])}),L.pop()}}if(!J.isObject(i))throw new TypeError("data must be an object");return z(i),e}function oh(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function _l(i,e){this._pairs=[],i&&sa(i,this,e)}const df=_l.prototype;df.append=function(e,t){this._pairs.push([e,t])};df.toString=function(e){const t=e?function(s){return e.call(this,s,oh)}:oh;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function Ub(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uf(i,e,t){if(!e)return i;const s=t&&t.encode||Ub,a=t&&t.serialize;let l;if(a?l=a(e,t):l=J.isURLSearchParams(e)?e.toString():new _l(e,t).toString(s),l){const d=i.indexOf("#");d!==-1&&(i=i.slice(0,d)),i+=(i.indexOf("?")===-1?"?":"&")+l}return i}class $b{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(s){s!==null&&e(s)})}}const lh=$b,ff={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kb=typeof URLSearchParams<"u"?URLSearchParams:_l,Jb=typeof FormData<"u"?FormData:null,Zb=typeof Blob<"u"?Blob:null,Qb=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ey=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),zt={isBrowser:!0,classes:{URLSearchParams:Kb,FormData:Jb,Blob:Zb},isStandardBrowserEnv:Qb,isStandardBrowserWebWorkerEnv:ey,protocols:["http","https","file","blob","url","data"]};function ty(i,e){return sa(i,new zt.classes.URLSearchParams,Object.assign({visitor:function(t,s,a,l){return zt.isNode&&J.isBuffer(t)?(this.append(s,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function iy(i){return J.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ny(i){const e={},t=Object.keys(i);let s;const a=t.length;let l;for(s=0;s<a;s++)l=t[s],e[l]=i[l];return e}function pf(i){function e(t,s,a,l){let d=t[l++];const p=Number.isFinite(+d),b=l>=t.length;return d=!d&&J.isArray(a)?a.length:d,b?(J.hasOwnProp(a,d)?a[d]=[a[d],s]:a[d]=s,!p):((!a[d]||!J.isObject(a[d]))&&(a[d]=[]),e(t,s,a[d],l)&&J.isArray(a[d])&&(a[d]=ny(a[d])),!p)}if(J.isFormData(i)&&J.isFunction(i.entries)){const t={};return J.forEachEntry(i,(s,a)=>{e(iy(s),a,t,0)}),t}return null}function sy(i,e,t){if(J.isString(i))try{return(e||JSON.parse)(i),J.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const Xl={transitional:ff,adapter:["xhr","http"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,l=J.isObject(e);if(l&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return a&&a?JSON.stringify(pf(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ty(e,this.formSerializer).toString();if((p=J.isFileList(e))||s.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return sa(p?{"files[]":e}:e,b&&new b,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),sy(e)):e}],transformResponse:[function(e){const t=this.transitional||Xl.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(e&&J.isString(e)&&(s&&!this.responseType||a)){const d=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(p){if(d)throw p.name==="SyntaxError"?xe.from(p,xe.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zt.classes.FormData,Blob:zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],i=>{Xl.headers[i]={}});const Wl=Xl,ry=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ay=i=>{const e={};let t,s,a;return i&&i.split(`
`).forEach(function(d){a=d.indexOf(":"),t=d.substring(0,a).trim().toLowerCase(),s=d.substring(a+1).trim(),!(!t||e[t]&&ry[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},ch=Symbol("internals");function jn(i){return i&&String(i).trim().toLowerCase()}function Js(i){return i===!1||i==null?i:J.isArray(i)?i.map(Js):String(i)}function oy(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const ly=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Ba(i,e,t,s,a){if(J.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!J.isString(e)){if(J.isString(s))return e.indexOf(s)!==-1;if(J.isRegExp(s))return s.test(e)}}function cy(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function hy(i,e){const t=J.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(a,l,d){return this[s].call(this,e,a,l,d)},configurable:!0})})}class ra{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function l(p,b,k){const A=jn(b);if(!A)throw new Error("header name must be a non-empty string");const L=J.findKey(a,A);(!L||a[L]===void 0||k===!0||k===void 0&&a[L]!==!1)&&(a[L||b]=Js(p))}const d=(p,b)=>J.forEach(p,(k,A)=>l(k,A,b));return J.isPlainObject(e)||e instanceof this.constructor?d(e,t):J.isString(e)&&(e=e.trim())&&!ly(e)?d(ay(e),t):e!=null&&l(t,e,s),this}get(e,t){if(e=jn(e),e){const s=J.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return oy(a);if(J.isFunction(t))return t.call(this,a,s);if(J.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=jn(e),e){const s=J.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Ba(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function l(d){if(d=jn(d),d){const p=J.findKey(s,d);p&&(!t||Ba(s,s[p],p,t))&&(delete s[p],a=!0)}}return J.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const l=t[s];(!e||Ba(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,s={};return J.forEach(this,(a,l)=>{const d=J.findKey(s,l);if(d){t[d]=Js(a),delete t[l];return}const p=e?cy(l):String(l).trim();p!==l&&delete t[l],t[p]=Js(a),s[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return J.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&J.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[ch]=this[ch]={accessors:{}}).accessors,a=this.prototype;function l(d){const p=jn(d);s[p]||(hy(a,d),s[p]=!0)}return J.isArray(e)?e.forEach(l):l(e),this}}ra.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(ra.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});J.freezeMethods(ra);const Jt=ra;function Ha(i,e){const t=this||Wl,s=e||t,a=Jt.from(s.headers);let l=s.data;return J.forEach(i,function(p){l=p.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function gf(i){return!!(i&&i.__CANCEL__)}function Ts(i,e,t){xe.call(this,i??"canceled",xe.ERR_CANCELED,e,t),this.name="CanceledError"}J.inherits(Ts,xe,{__CANCEL__:!0});function dy(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new xe("Request failed with status code "+t.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const uy=zt.isStandardBrowserEnv?function(){return{write:function(t,s,a,l,d,p){const b=[];b.push(t+"="+encodeURIComponent(s)),J.isNumber(a)&&b.push("expires="+new Date(a).toGMTString()),J.isString(l)&&b.push("path="+l),J.isString(d)&&b.push("domain="+d),p===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function fy(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function py(i,e){return e?i.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):i}function mf(i,e){return i&&!fy(e)?py(i,e):e}const gy=zt.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let s;function a(l){let d=l;return e&&(t.setAttribute("href",d),d=t.href),t.setAttribute("href",d),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return s=a(window.location.href),function(d){const p=J.isString(d)?a(d):d;return p.protocol===s.protocol&&p.host===s.host}}():function(){return function(){return!0}}();function my(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function xy(i,e){i=i||10;const t=new Array(i),s=new Array(i);let a=0,l=0,d;return e=e!==void 0?e:1e3,function(b){const k=Date.now(),A=s[l];d||(d=k),t[a]=b,s[a]=k;let L=l,R=0;for(;L!==a;)R+=t[L++],L=L%i;if(a=(a+1)%i,a===l&&(l=(l+1)%i),k-d<e)return;const z=A&&k-A;return z?Math.round(R*1e3/z):void 0}}function hh(i,e){let t=0;const s=xy(50,250);return a=>{const l=a.loaded,d=a.lengthComputable?a.total:void 0,p=l-t,b=s(p),k=l<=d;t=l;const A={loaded:l,total:d,progress:d?l/d:void 0,bytes:p,rate:b||void 0,estimated:b&&d&&k?(d-l)/b:void 0,event:a};A[e?"download":"upload"]=!0,i(A)}}const by=typeof XMLHttpRequest<"u",yy=by&&function(i){return new Promise(function(t,s){let a=i.data;const l=Jt.from(i.headers).normalize(),d=i.responseType;let p;function b(){i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let k;J.isFormData(a)&&(zt.isStandardBrowserEnv||zt.isStandardBrowserWebWorkerEnv?l.setContentType(!1):l.getContentType(/^\s*multipart\/form-data/)?J.isString(k=l.getContentType())&&l.setContentType(k.replace(/^\s*(multipart\/form-data);+/,"$1")):l.setContentType("multipart/form-data"));let A=new XMLHttpRequest;if(i.auth){const D=i.auth.username||"",W=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";l.set("Authorization","Basic "+btoa(D+":"+W))}const L=mf(i.baseURL,i.url);A.open(i.method.toUpperCase(),uf(L,i.params,i.paramsSerializer),!0),A.timeout=i.timeout;function R(){if(!A)return;const D=Jt.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),X={data:!d||d==="text"||d==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:D,config:i,request:A};dy(function(_){t(_),b()},function(_){s(_),b()},X),A=null}if("onloadend"in A?A.onloadend=R:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(R)},A.onabort=function(){A&&(s(new xe("Request aborted",xe.ECONNABORTED,i,A)),A=null)},A.onerror=function(){s(new xe("Network Error",xe.ERR_NETWORK,i,A)),A=null},A.ontimeout=function(){let W=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const X=i.transitional||ff;i.timeoutErrorMessage&&(W=i.timeoutErrorMessage),s(new xe(W,X.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,i,A)),A=null},zt.isStandardBrowserEnv){const D=(i.withCredentials||gy(L))&&i.xsrfCookieName&&uy.read(i.xsrfCookieName);D&&l.set(i.xsrfHeaderName,D)}a===void 0&&l.setContentType(null),"setRequestHeader"in A&&J.forEach(l.toJSON(),function(W,X){A.setRequestHeader(X,W)}),J.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),d&&d!=="json"&&(A.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&A.addEventListener("progress",hh(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&A.upload&&A.upload.addEventListener("progress",hh(i.onUploadProgress)),(i.cancelToken||i.signal)&&(p=D=>{A&&(s(!D||D.type?new Ts(null,i,A):D),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const z=my(L);if(z&&zt.protocols.indexOf(z)===-1){s(new xe("Unsupported protocol "+z+":",xe.ERR_BAD_REQUEST,i));return}A.send(a||null)})},Do={http:jb,xhr:yy};J.forEach(Do,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const dh=i=>`- ${i}`,vy=i=>J.isFunction(i)||i===null||i===!1,xf={getAdapter:i=>{i=J.isArray(i)?i:[i];const{length:e}=i;let t,s;const a={};for(let l=0;l<e;l++){t=i[l];let d;if(s=t,!vy(t)&&(s=Do[(d=String(t)).toLowerCase()],s===void 0))throw new xe(`Unknown adapter '${d}'`);if(s)break;a[d||"#"+l]=s}if(!s){const l=Object.entries(a).map(([p,b])=>`adapter ${p} `+(b===!1?"is not supported by the environment":"is not available in the build"));let d=e?l.length>1?`since :
`+l.map(dh).join(`
`):" "+dh(l[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s},adapters:Do};function _a(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Ts(null,i)}function uh(i){return _a(i),i.headers=Jt.from(i.headers),i.data=Ha.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),xf.getAdapter(i.adapter||Wl.adapter)(i).then(function(s){return _a(i),s.data=Ha.call(i,i.transformResponse,s),s.headers=Jt.from(s.headers),s},function(s){return gf(s)||(_a(i),s&&s.response&&(s.response.data=Ha.call(i,i.transformResponse,s.response),s.response.headers=Jt.from(s.response.headers))),Promise.reject(s)})}const fh=i=>i instanceof Jt?i.toJSON():i;function Ln(i,e){e=e||{};const t={};function s(k,A,L){return J.isPlainObject(k)&&J.isPlainObject(A)?J.merge.call({caseless:L},k,A):J.isPlainObject(A)?J.merge({},A):J.isArray(A)?A.slice():A}function a(k,A,L){if(J.isUndefined(A)){if(!J.isUndefined(k))return s(void 0,k,L)}else return s(k,A,L)}function l(k,A){if(!J.isUndefined(A))return s(void 0,A)}function d(k,A){if(J.isUndefined(A)){if(!J.isUndefined(k))return s(void 0,k)}else return s(void 0,A)}function p(k,A,L){if(L in e)return s(k,A);if(L in i)return s(void 0,k)}const b={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(k,A)=>a(fh(k),fh(A),!0)};return J.forEach(Object.keys(Object.assign({},i,e)),function(A){const L=b[A]||a,R=L(i[A],e[A],A);J.isUndefined(R)&&L!==p||(t[A]=R)}),t}const bf="1.5.1",Yl={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Yl[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const ph={};Yl.transitional=function(e,t,s){function a(l,d){return"[Axios v"+bf+"] Transitional option '"+l+"'"+d+(s?". "+s:"")}return(l,d,p)=>{if(e===!1)throw new xe(a(d," has been removed"+(t?" in "+t:"")),xe.ERR_DEPRECATED);return t&&!ph[d]&&(ph[d]=!0,console.warn(a(d," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,d,p):!0}};function wy(i,e,t){if(typeof i!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let a=s.length;for(;a-- >0;){const l=s[a],d=e[l];if(d){const p=i[l],b=p===void 0||d(p,l,i);if(b!==!0)throw new xe("option "+l+" must be "+b,xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xe("Unknown option "+l,xe.ERR_BAD_OPTION)}}const Fo={assertOptions:wy,validators:Yl},ni=Fo.validators;let cr=class{constructor(e){this.defaults=e,this.interceptors={request:new lh,response:new lh}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ln(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:l}=t;s!==void 0&&Fo.assertOptions(s,{silentJSONParsing:ni.transitional(ni.boolean),forcedJSONParsing:ni.transitional(ni.boolean),clarifyTimeoutError:ni.transitional(ni.boolean)},!1),a!=null&&(J.isFunction(a)?t.paramsSerializer={serialize:a}:Fo.assertOptions(a,{encode:ni.function,serialize:ni.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let d=l&&J.merge(l.common,l[t.method]);l&&J.forEach(["delete","get","head","post","put","patch","common"],D=>{delete l[D]}),t.headers=Jt.concat(d,l);const p=[];let b=!0;this.interceptors.request.forEach(function(W){typeof W.runWhen=="function"&&W.runWhen(t)===!1||(b=b&&W.synchronous,p.unshift(W.fulfilled,W.rejected))});const k=[];this.interceptors.response.forEach(function(W){k.push(W.fulfilled,W.rejected)});let A,L=0,R;if(!b){const D=[uh.bind(this),void 0];for(D.unshift.apply(D,p),D.push.apply(D,k),R=D.length,A=Promise.resolve(t);L<R;)A=A.then(D[L++],D[L++]);return A}R=p.length;let z=t;for(L=0;L<R;){const D=p[L++],W=p[L++];try{z=D(z)}catch(X){W.call(this,X);break}}try{A=uh.call(this,z)}catch(D){return Promise.reject(D)}for(L=0,R=k.length;L<R;)A=A.then(k[L++],k[L++]);return A}getUri(e){e=Ln(this.defaults,e);const t=mf(e.baseURL,e.url);return uf(t,e.params,e.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(e){cr.prototype[e]=function(t,s){return this.request(Ln(s||{},{method:e,url:t,data:(s||{}).data}))}});J.forEach(["post","put","patch"],function(e){function t(s){return function(l,d,p){return this.request(Ln(p||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}cr.prototype[e]=t(),cr.prototype[e+"Form"]=t(!0)});const Zs=cr;class Vl{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const d=new Promise(p=>{s.subscribe(p),l=p}).then(a);return d.cancel=function(){s.unsubscribe(l)},d},e(function(l,d,p){s.reason||(s.reason=new Ts(l,d,p),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Vl(function(a){e=a}),cancel:e}}}const Sy=Vl;function ky(i){return function(t){return i.apply(null,t)}}function Ay(i){return J.isObject(i)&&i.isAxiosError===!0}const zo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zo).forEach(([i,e])=>{zo[e]=i});const Cy=zo;function yf(i){const e=new Zs(i),t=Qu(Zs.prototype.request,e);return J.extend(t,Zs.prototype,e,{allOwnKeys:!0}),J.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return yf(Ln(i,a))},t}const Re=yf(Wl);Re.Axios=Zs;Re.CanceledError=Ts;Re.CancelToken=Sy;Re.isCancel=gf;Re.VERSION=bf;Re.toFormData=sa;Re.AxiosError=xe;Re.Cancel=Re.CanceledError;Re.all=function(e){return Promise.all(e)};Re.spread=ky;Re.isAxiosError=Ay;Re.mergeConfig=Ln;Re.AxiosHeaders=Jt;Re.formToJSON=i=>pf(J.isHTMLForm(i)?new FormData(i):i);Re.getAdapter=xf.getAdapter;Re.HttpStatusCode=Cy;Re.default=Re;const Ey=Re;var vf=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],hr=vf.join(","),wf=typeof Element>"u",Qi=wf?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Bo=!wf&&Element.prototype.getRootNode?function(i){return i.getRootNode()}:function(i){return i.ownerDocument},Sf=function(e,t,s){var a=Array.prototype.slice.apply(e.querySelectorAll(hr));return t&&Qi.call(e,hr)&&a.unshift(e),a=a.filter(s),a},kf=function i(e,t,s){for(var a=[],l=Array.from(e);l.length;){var d=l.shift();if(d.tagName==="SLOT"){var p=d.assignedElements(),b=p.length?p:d.children,k=i(b,!0,s);s.flatten?a.push.apply(a,k):a.push({scope:d,candidates:k})}else{var A=Qi.call(d,hr);A&&s.filter(d)&&(t||!e.includes(d))&&a.push(d);var L=d.shadowRoot||typeof s.getShadowRoot=="function"&&s.getShadowRoot(d),R=!s.shadowRootFilter||s.shadowRootFilter(d);if(L&&R){var z=i(L===!0?d.children:L.children,!0,s);s.flatten?a.push.apply(a,z):a.push({scope:d,candidates:z})}else l.unshift.apply(l,d.children)}}return a},Af=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},Ty=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Cf=function(e){return e.tagName==="INPUT"},My=function(e){return Cf(e)&&e.type==="hidden"},Ly=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(s){return s.tagName==="SUMMARY"});return t},Py=function(e,t){for(var s=0;s<e.length;s++)if(e[s].checked&&e[s].form===t)return e[s]},Oy=function(e){if(!e.name)return!0;var t=e.form||Bo(e),s=function(p){return t.querySelectorAll('input[type="radio"][name="'+p+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=s(window.CSS.escape(e.name));else try{a=s(e.name)}catch(d){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",d.message),!1}var l=Py(a,e.form);return!l||l===e},Ry=function(e){return Cf(e)&&e.type==="radio"},Iy=function(e){return Ry(e)&&!Oy(e)},gh=function(e){var t=e.getBoundingClientRect(),s=t.width,a=t.height;return s===0&&a===0},Ny=function(e,t){var s=t.displayCheck,a=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=Qi.call(e,"details>summary:first-of-type"),d=l?e.parentElement:e;if(Qi.call(d,"details:not([open]) *"))return!0;var p=Bo(e).host,b=(p==null?void 0:p.ownerDocument.contains(p))||e.ownerDocument.contains(e);if(!s||s==="full"){if(typeof a=="function"){for(var k=e;e;){var A=e.parentElement,L=Bo(e);if(A&&!A.shadowRoot&&a(A)===!0)return gh(e);e.assignedSlot?e=e.assignedSlot:!A&&L!==e.ownerDocument?e=L.host:e=A}e=k}if(b)return!e.getClientRects().length}else if(s==="non-zero-area")return gh(e);return!1},Dy=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var s=0;s<t.children.length;s++){var a=t.children.item(s);if(a.tagName==="LEGEND")return Qi.call(t,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}t=t.parentElement}return!1},dr=function(e,t){return!(t.disabled||My(t)||Ny(t,e)||Ly(t)||Dy(t))},Ho=function(e,t){return!(Iy(t)||Af(t)<0||!dr(e,t))},Fy=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},zy=function i(e){var t=[],s=[];return e.forEach(function(a,l){var d=!!a.scope,p=d?a.scope:a,b=Af(p,d),k=d?i(a.candidates):p;b===0?d?t.push.apply(t,k):t.push(p):s.push({documentOrder:l,tabIndex:b,item:a,isScope:d,content:k})}),s.sort(Ty).reduce(function(a,l){return l.isScope?a.push.apply(a,l.content):a.push(l.content),a},[]).concat(t)},By=function(e,t){t=t||{};var s;return t.getShadowRoot?s=kf([e],t.includeContainer,{filter:Ho.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Fy}):s=Sf(e,t.includeContainer,Ho.bind(null,t)),zy(s)},Ef=function(e,t){t=t||{};var s;return t.getShadowRoot?s=kf([e],t.includeContainer,{filter:dr.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):s=Sf(e,t.includeContainer,dr.bind(null,t)),s},Hs=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Qi.call(e,hr)===!1?!1:Ho(t,e)},Hy=vf.concat("iframe").join(","),Qs=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Qi.call(e,Hy)===!1?!1:dr(t,e)};function mh(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,s)}return t}function xh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mh(Object(t),!0).forEach(function(s){_y(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):mh(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function _y(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var bh=function(){var i=[];return{activateTrap:function(t){if(i.length>0){var s=i[i.length-1];s!==t&&s.pause()}var a=i.indexOf(t);a===-1||i.splice(a,1),i.push(t)},deactivateTrap:function(t){var s=i.indexOf(t);s!==-1&&i.splice(s,1),i.length>0&&i[i.length-1].unpause()}}}(),Xy=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Wy=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},Yy=function(e){return e.key==="Tab"||e.keyCode===9},yh=function(e){return setTimeout(e,0)},vh=function(e,t){var s=-1;return e.every(function(a,l){return t(a)?(s=l,!1):!0}),s},Gn=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,s):e},_s=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Vy=function(e,t){var s=(t==null?void 0:t.document)||document,a=xh({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},d,p=function(q,Z,ce){return q&&q[Z]!==void 0?q[Z]:a[ce||Z]},b=function(q){return l.containerGroups.findIndex(function(Z){var ce=Z.container,ae=Z.tabbableNodes;return ce.contains(q)||ae.find(function(me){return me===q})})},k=function(q){var Z=a[q];if(typeof Z=="function"){for(var ce=arguments.length,ae=new Array(ce>1?ce-1:0),me=1;me<ce;me++)ae[me-1]=arguments[me];Z=Z.apply(void 0,ae)}if(Z===!0&&(Z=void 0),!Z){if(Z===void 0||Z===!1)return Z;throw new Error("`".concat(q,"` was specified but was not a node, or did not return a node"))}var we=Z;if(typeof Z=="string"&&(we=s.querySelector(Z),!we))throw new Error("`".concat(q,"` as selector refers to no known node"));return we},A=function(){var q=k("initialFocus");if(q===!1)return!1;if(q===void 0)if(b(s.activeElement)>=0)q=s.activeElement;else{var Z=l.tabbableGroups[0],ce=Z&&Z.firstTabbableNode;q=ce||k("fallbackFocus")}if(!q)throw new Error("Your focus-trap needs to have at least one focusable element");return q},L=function(){if(l.containerGroups=l.containers.map(function(q){var Z=By(q,a.tabbableOptions),ce=Ef(q,a.tabbableOptions);return{container:q,tabbableNodes:Z,focusableNodes:ce,firstTabbableNode:Z.length>0?Z[0]:null,lastTabbableNode:Z.length>0?Z[Z.length-1]:null,nextTabbableNode:function(me){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ke=ce.findIndex(function(Je){return Je===me});if(!(ke<0))return we?ce.slice(ke+1).find(function(Je){return Hs(Je,a.tabbableOptions)}):ce.slice(0,ke).reverse().find(function(Je){return Hs(Je,a.tabbableOptions)})}}}),l.tabbableGroups=l.containerGroups.filter(function(q){return q.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!k("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},R=function j(q){if(q!==!1&&q!==s.activeElement){if(!q||!q.focus){j(A());return}q.focus({preventScroll:!!a.preventScroll}),l.mostRecentlyFocusedNode=q,Xy(q)&&q.select()}},z=function(q){var Z=k("setReturnFocus",q);return Z||(Z===!1?!1:q)},D=function(q){var Z=_s(q);if(!(b(Z)>=0)){if(Gn(a.clickOutsideDeactivates,q)){d.deactivate({returnFocus:a.returnFocusOnDeactivate&&!Qs(Z,a.tabbableOptions)});return}Gn(a.allowOutsideClick,q)||q.preventDefault()}},W=function(q){var Z=_s(q),ce=b(Z)>=0;ce||Z instanceof Document?ce&&(l.mostRecentlyFocusedNode=Z):(q.stopImmediatePropagation(),R(l.mostRecentlyFocusedNode||A()))},X=function(q){var Z=_s(q);L();var ce=null;if(l.tabbableGroups.length>0){var ae=b(Z),me=ae>=0?l.containerGroups[ae]:void 0;if(ae<0)q.shiftKey?ce=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:ce=l.tabbableGroups[0].firstTabbableNode;else if(q.shiftKey){var we=vh(l.tabbableGroups,function(Ze){var _e=Ze.firstTabbableNode;return Z===_e});if(we<0&&(me.container===Z||Qs(Z,a.tabbableOptions)&&!Hs(Z,a.tabbableOptions)&&!me.nextTabbableNode(Z,!1))&&(we=ae),we>=0){var ke=we===0?l.tabbableGroups.length-1:we-1,Je=l.tabbableGroups[ke];ce=Je.lastTabbableNode}}else{var ye=vh(l.tabbableGroups,function(Ze){var _e=Ze.lastTabbableNode;return Z===_e});if(ye<0&&(me.container===Z||Qs(Z,a.tabbableOptions)&&!Hs(Z,a.tabbableOptions)&&!me.nextTabbableNode(Z))&&(ye=ae),ye>=0){var ft=ye===l.tabbableGroups.length-1?0:ye+1,pt=l.tabbableGroups[ft];ce=pt.firstTabbableNode}}}else ce=k("fallbackFocus");ce&&(q.preventDefault(),R(ce))},G=function(q){if(Wy(q)&&Gn(a.escapeDeactivates,q)!==!1){q.preventDefault(),d.deactivate();return}if(Yy(q)){X(q);return}},_=function(q){var Z=_s(q);b(Z)>=0||Gn(a.clickOutsideDeactivates,q)||Gn(a.allowOutsideClick,q)||(q.preventDefault(),q.stopImmediatePropagation())},ne=function(){if(l.active)return bh.activateTrap(d),l.delayInitialFocusTimer=a.delayInitialFocus?yh(function(){R(A())}):R(A()),s.addEventListener("focusin",W,!0),s.addEventListener("mousedown",D,{capture:!0,passive:!1}),s.addEventListener("touchstart",D,{capture:!0,passive:!1}),s.addEventListener("click",_,{capture:!0,passive:!1}),s.addEventListener("keydown",G,{capture:!0,passive:!1}),d},oe=function(){if(l.active)return s.removeEventListener("focusin",W,!0),s.removeEventListener("mousedown",D,!0),s.removeEventListener("touchstart",D,!0),s.removeEventListener("click",_,!0),s.removeEventListener("keydown",G,!0),d};return d={get active(){return l.active},get paused(){return l.paused},activate:function(q){if(l.active)return this;var Z=p(q,"onActivate"),ce=p(q,"onPostActivate"),ae=p(q,"checkCanFocusTrap");ae||L(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=s.activeElement,Z&&Z();var me=function(){ae&&L(),ne(),ce&&ce()};return ae?(ae(l.containers.concat()).then(me,me),this):(me(),this)},deactivate:function(q){if(!l.active)return this;var Z=xh({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},q);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,oe(),l.active=!1,l.paused=!1,bh.deactivateTrap(d);var ce=p(Z,"onDeactivate"),ae=p(Z,"onPostDeactivate"),me=p(Z,"checkCanReturnFocus"),we=p(Z,"returnFocus","returnFocusOnDeactivate");ce&&ce();var ke=function(){yh(function(){we&&R(z(l.nodeFocusedBeforeActivation)),ae&&ae()})};return we&&me?(me(z(l.nodeFocusedBeforeActivation)).then(ke,ke),this):(ke(),this)},pause:function(){return l.paused||!l.active?this:(l.paused=!0,oe(),this)},unpause:function(){return!l.paused||!l.active?this:(l.paused=!1,L(),ne(),this)},updateContainerElements:function(q){var Z=[].concat(q).filter(Boolean);return l.containers=Z.map(function(ce){return typeof ce=="string"?s.querySelector(ce):ce}),l.active&&L(),this}},d.updateContainerElements(e),d};function jy(i){let e,t;window.addEventListener("focusin",()=>{e=t,t=document.activeElement}),i.magic("focus",s=>{let a=s;return{__noscroll:!1,__wrapAround:!1,within(l){return a=l,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(l){return Qs(l)},previouslyFocused(){return e},lastFocused(){return e},focused(){return t},focusables(){return Array.isArray(a)?a:Ef(a,{displayCheck:"none"})},all(){return this.focusables()},isFirst(l){let d=this.all();return d[0]&&d[0].isSameNode(l)},isLast(l){let d=this.all();return d.length&&d.slice(-1)[0].isSameNode(l)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let l=this.all(),d=document.activeElement;if(l.indexOf(d)!==-1)return this.__wrapAround&&l.indexOf(d)===l.length-1?l[0]:l[l.indexOf(d)+1]},getPrevious(){let l=this.all(),d=document.activeElement;if(l.indexOf(d)!==-1)return this.__wrapAround&&l.indexOf(d)===0?l.slice(-1)[0]:l[l.indexOf(d)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(l){l&&setTimeout(()=>{l.hasAttribute("tabindex")||l.setAttribute("tabindex","0"),l.focus({preventScroll:this._noscroll})})}}}),i.directive("trap",i.skipDuringClone((s,{expression:a,modifiers:l},{effect:d,evaluateLater:p,cleanup:b})=>{let k=p(a),A=!1,L={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>s},R=s.querySelector("[autofocus]");R&&(L.initialFocus=R);let z=Vy(s,L),D=()=>{},W=()=>{};const X=()=>{D(),D=()=>{},W(),W=()=>{},z.deactivate({returnFocus:!l.includes("noreturn")})};d(()=>k(G=>{A!==G&&(G&&!A&&setTimeout(()=>{l.includes("inert")&&(D=wh(s)),l.includes("noscroll")&&(W=Gy()),z.activate()}),!G&&A&&X(),A=!!G)})),b(X)},(s,{expression:a,modifiers:l},{evaluate:d})=>{l.includes("inert")&&d(a)&&wh(s)}))}function wh(i){let e=[];return Tf(i,t=>{let s=t.hasAttribute("aria-hidden");t.setAttribute("aria-hidden","true"),e.push(()=>s||t.removeAttribute("aria-hidden"))}),()=>{for(;e.length;)e.pop()()}}function Tf(i,e){i.isSameNode(document.body)||!i.parentNode||Array.from(i.parentNode.children).forEach(t=>{t.isSameNode(i)?Tf(i.parentNode,e):e(t)})}function Gy(){let i=document.documentElement.style.overflow,e=document.documentElement.style.paddingRight,t=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${t}px`,()=>{document.documentElement.style.overflow=i,document.documentElement.style.paddingRight=e}}var qy=jy;/*! Bundled license information:

tabbable/dist/index.esm.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/class Uy{constructor(){}set(e,t,s=null,a="/",l={}){const d=Object.assign({[e]:t,expires:s instanceof Date?s.toUTCString():s,path:a},{SameSite:"Lax",Secure:!0},l);document.cookie=Object.entries(d).reduce((p,b)=>p.concat(b.join("=")),[]).join("; ")}get(e,t=null){const s=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return s&&s[2]?s[2]:t}isset(e){return document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"))!==null}remove(e){this.set(e,null,"Thu, 01 Jan 1970 00:00:01 GMT")}}document.addEventListener("alpine:init",()=>{window.Alpine.data("notifications",i=>({open:!1,processing:!1,notifications:[],nextPageUrl:i,unread:0,init(){this.fetch()},fetch(){this.processing=!0,window.$http.get(this.nextPageUrl).then(e=>{this.unread=e.data.total_unread,this.notifications.push(...e.data.data),this.nextPageUrl=e.data.next_page_url}).catch(e=>{}).finally(()=>{this.processing=!1})},markAsRead(e){e.is_read||(this.processing=!0,window.$http.patch(e.url).then(t=>{this.unread--,e.is_read=!0}).catch(t=>{}).finally(()=>{this.processing=!1}))}}))});document.addEventListener("alpine:init",()=>{window.Alpine.data("theme",()=>({systemMode:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",theme:window.$cookie.get("theme","system"),init(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{this.theme==="system"&&document.documentElement.setAttribute("data-theme-mode",e.matches?"dark":"light")}),document.documentElement.setAttribute("data-theme-mode",this.theme==="system"?this.systemMode:this.theme),this.changeAssets(),new MutationObserver(()=>{this.changeAssets()}).observe(document.documentElement,{attributes:!0})},change(i){document.documentElement.classList.add("no-transition"),window.$cookie.set("theme",i),this.theme=i,document.documentElement.setAttribute("data-theme-mode",i==="system"?this.systemMode:i),this.$root.querySelector(`.theme-switcher__${i}-mode`).focus(),document.documentElement.classList.remove("no-transition")},changeAssets(){const i=document.documentElement.getAttribute("data-theme-mode")==="system"?this.systemMode:document.documentElement.getAttribute("data-theme-mode");document.querySelectorAll("img[data-theme-mode]").forEach(e=>{e.src=e.getAttribute(`data-${i}-asset`)})}}))});(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;const i=HTMLElement,e={HTMLElement:function(){return Reflect.construct(i,[],this.constructor)}};window.HTMLElement=e.HTMLElement,HTMLElement.prototype=i.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,i)})();(function(i){if(typeof i.requestSubmit=="function")return;i.requestSubmit=function(s){s?(e(s,this),s.click()):(s=document.createElement("input"),s.type="submit",s.hidden=!0,this.appendChild(s),s.click(),this.removeChild(s))};function e(s,a){s instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),s.type=="submit"||t(TypeError,"The specified element is not a submit button"),s.form==a||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(s,a,l){throw new s("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+a+".",l)}})(HTMLFormElement.prototype);const Mf=new WeakMap;function $y(i){const e=i instanceof Element?i:i instanceof Node?i.parentElement:null,t=e?e.closest("input, button"):null;return(t==null?void 0:t.type)=="submit"?t:null}function Ky(i){const e=$y(i.target);e&&e.form&&Mf.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let i=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))i=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",Ky,!0),Object.defineProperty(i,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return Mf.get(this.target)}})})();var Kt;(function(i){i.eager="eager",i.lazy="lazy"})(Kt||(Kt={}));class Yt extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new Yt.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="complete"?this.delegate.completeChanged():e=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return Jy(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return(t=(e=this.ownerDocument)===null||e===void 0?void 0:e.documentElement)===null||t===void 0?void 0:t.hasAttribute("data-turbo-preview")}}function Jy(i){switch(i.toLowerCase()){case"lazy":return Kt.lazy;default:return Kt.eager}}function $e(i){return new URL(i.toString(),document.baseURI)}function qi(i){let e;if(i.hash)return i.hash.slice(1);if(e=i.href.match(/#(.*)$/))return e[1]}function jl(i,e){const t=(e==null?void 0:e.getAttribute("formaction"))||i.getAttribute("action")||i.action;return $e(t)}function Zy(i){return(nv(i).match(/\.[^.]*$/)||[])[0]||""}function Qy(i){return!!Zy(i).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function ev(i,e){const t=sv(e);return i.href===$e(t).href||i.href.startsWith(t)}function Sn(i,e){return ev(i,e)&&Qy(i)}function _o(i){const e=qi(i);return e!=null?i.href.slice(0,-(e.length+1)):i.href}function Xs(i){return _o(i)}function tv(i,e){return $e(i).href==$e(e).href}function iv(i){return i.pathname.split("/").slice(1)}function nv(i){return iv(i).slice(-1)[0]}function sv(i){return rv(i.origin+i.pathname)}function rv(i){return i.endsWith("/")?i:i+"/"}class Gl{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return $e(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}function us(i){if(i.getAttribute("data-turbo-eval")=="false")return i;{const e=document.createElement("script"),t=fr("csp-nonce");return t&&(e.nonce=t),e.textContent=i.textContent,e.async=!1,av(e,i),e}}function av(i,e){for(const{name:t,value:s}of e.attributes)i.setAttribute(t,s)}function ov(i){const e=document.createElement("template");return e.innerHTML=i,e.content}function We(i,{target:e,cancelable:t,detail:s}={}){const a=new CustomEvent(i,{cancelable:t,bubbles:!0,composed:!0,detail:s});return e&&e.isConnected?e.dispatchEvent(a):document.documentElement.dispatchEvent(a),a}function er(){return new Promise(i=>requestAnimationFrame(()=>i()))}function lv(){return new Promise(i=>setTimeout(()=>i(),0))}function cv(){return Promise.resolve()}function Lf(i=""){return new DOMParser().parseFromString(i,"text/html")}function Pf(i,...e){const t=hv(i,e).replace(/^\n/,"").split(`
`),s=t[0].match(/^\s+/),a=s?s[0].length:0;return t.map(l=>l.slice(a)).join(`
`)}function hv(i,e){return i.reduce((t,s,a)=>{const l=e[a]==null?"":e[a];return t+s+l},"")}function Pn(){return Array.from({length:36}).map((i,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function ur(i,...e){for(const t of e.map(s=>s==null?void 0:s.getAttribute(i)))if(typeof t=="string")return t;return null}function dv(i,...e){return e.some(t=>t&&t.hasAttribute(i))}function Xo(...i){for(const e of i)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function Wo(...i){for(const e of i)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function uv(i,e=2e3){return new Promise(t=>{const s=()=>{i.removeEventListener("error",s),i.removeEventListener("load",s),t()};i.addEventListener("load",s,{once:!0}),i.addEventListener("error",s,{once:!0}),setTimeout(t,e)})}function Of(i){switch(i){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function fv(i){return i=="advance"||i=="replace"||i=="restore"}function aa(...i){const e=ur("data-turbo-action",...i);return fv(e)?e:null}function Rf(i){return document.querySelector(`meta[name="${i}"]`)}function fr(i){const e=Rf(i);return e&&e.content}function pv(i,e){let t=Rf(i);return t||(t=document.createElement("meta"),t.setAttribute("name",i),document.head.appendChild(t)),t.setAttribute("content",e),t}function pr(i,e){var t;if(i instanceof Element)return i.closest(e)||pr(i.assignedSlot||((t=i.getRootNode())===null||t===void 0?void 0:t.host),e)}var at;(function(i){i[i.get=0]="get",i[i.post=1]="post",i[i.put=2]="put",i[i.patch=3]="patch",i[i.delete=4]="delete"})(at||(at={}));function gv(i){switch(i.toLowerCase()){case"get":return at.get;case"post":return at.post;case"put":return at.put;case"patch":return at.patch;case"delete":return at.delete}}class ql{constructor(e,t,s,a=new URLSearchParams,l=null){this.abortController=new AbortController,this.resolveRequestPromise=d=>{},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=a,this.url=s,this.target=l}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(e);try{this.delegate.requestStarted(this);const t=await fetch(this.url.href,e);return await this.receive(t)}catch(t){if(t.name!=="AbortError")throw this.willDelegateErrorHandling(t)&&this.delegate.requestErrored(this,t),t}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new Gl(e);return We("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:at[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(e=this.delegate.referrer)===null||e===void 0?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===at.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(e){const t=new Promise(a=>this.resolveRequestPromise=a);We("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}willDelegateErrorHandling(e){return!We("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}}class mv{constructor(e,t){this.started=!1,this.intersect=s=>{const a=s.slice(-1)[0];a!=null&&a.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class rn{static wrap(e){return typeof e=="string"?new this(ov(e)):e}constructor(e){this.fragment=xv(e)}}rn.contentType="text/vnd.turbo-stream.html";function xv(i){for(const e of i.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const s of t.templateElement.content.querySelectorAll("script"))s.replaceWith(us(s));e.replaceWith(t)}return i}var oi;(function(i){i[i.initialized=0]="initialized",i[i.requesting=1]="requesting",i[i.waiting=2]="waiting",i[i.receiving=3]="receiving",i[i.stopping=4]="stopping",i[i.stopped=5]="stopped"})(oi||(oi={}));var hi;(function(i){i.urlEncoded="application/x-www-form-urlencoded",i.multipart="multipart/form-data",i.plain="text/plain"})(hi||(hi={}));function bv(i){switch(i.toLowerCase()){case hi.multipart:return hi.multipart;case hi.plain:return hi.plain;default:return hi.urlEncoded}}class Ms{static confirmMethod(e,t,s){return Promise.resolve(confirm(e))}constructor(e,t,s,a=!1){this.state=oi.initialized,this.delegate=e,this.formElement=t,this.submitter=s,this.formData=yv(t,s),this.location=$e(this.action),this.method==at.get&&Sv(this.location,[...this.body.entries()]),this.fetchRequest=new ql(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=a}get method(){var e;const t=((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return gv(t.toLowerCase())||at.get}get action(){var e;const t=typeof this.formElement.action=="string"?this.formElement.action:null;return!((e=this.submitter)===null||e===void 0)&&e.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||t||""}get body(){return this.enctype==hi.urlEncoded||this.method==at.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return bv(((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((e,[t,s])=>e.concat(typeof s=="string"?[[t,s]]:[]),[])}async start(){const{initialized:e,requesting:t}=oi,s=ur("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof s=="string"&&!await Ms.confirmMethod(s,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=oi;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=vv(fr("csrf-param"))||fr("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(rn.contentType)}requestStarted(e){var t;this.state=oi.waiting,(t=this.submitter)===null||t===void 0||t.setAttribute("disabled",""),this.setSubmitsWith(),We("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&wv(t)){const s=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,s)}else this.state=oi.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=oi.stopped,(t=this.submitter)===null||t===void 0||t.removeAttribute("disabled"),this.resetSubmitterText(),We("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||dv("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)===null||e===void 0?void 0:e.getAttribute("data-turbo-submits-with")}}function yv(i,e){const t=new FormData(i),s=e==null?void 0:e.getAttribute("name"),a=e==null?void 0:e.getAttribute("value");return s&&t.append(s,a||""),t}function vv(i){if(i!=null){const t=(document.cookie?document.cookie.split("; "):[]).find(s=>s.startsWith(i));if(t){const s=t.split("=").slice(1).join("=");return s?decodeURIComponent(s):void 0}}}function wv(i){return i.statusCode==200&&!i.redirected}function Sv(i,e){const t=new URLSearchParams;for(const[s,a]of e)a instanceof File||t.append(s,a);return i.search=t.toString(),i}class oa{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){const e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(const t of this.element.querySelectorAll("[autofocus]"))if(t.closest(e)==null)return t;return null}get permanentElements(){return Nf(this.element)}getPermanentElementById(e){return If(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const s of this.permanentElements){const{id:a}=s,l=e.getPermanentElementById(a);l&&(t[a]=[s,l])}return t}}function If(i,e){return i.querySelector(`#${e}[data-turbo-permanent]`)}function Nf(i){return i.querySelectorAll("[id][data-turbo-permanent]")}class Ul{constructor(e,t){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=s=>{if(!s.defaultPrevented){const a=s.target instanceof HTMLFormElement?s.target:void 0,l=s.submitter||void 0;a&&kv(a,l)&&Av(a,l)&&this.delegate.willSubmitForm(a,l)&&(s.preventDefault(),s.stopImmediatePropagation(),this.delegate.formSubmitted(a,l))}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function kv(i,e){return((e==null?void 0:e.getAttribute("formmethod"))||i.getAttribute("method"))!="dialog"}function Av(i,e){if(e!=null&&e.hasAttribute("formtarget")||i.hasAttribute("target")){const t=(e==null?void 0:e.getAttribute("formtarget"))||i.target;for(const s of document.getElementsByName(t))if(s instanceof HTMLIFrameElement)return!1;return!0}else return!0}class Df{constructor(e,t){this.resolveRenderPromise=s=>{},this.resolveInterceptionPromise=s=>{},this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(qi(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:s,newSnapshot:a}=e;if(s)try{this.renderPromise=new Promise(b=>this.resolveRenderPromise=b),this.renderer=e,await this.prepareToRenderSnapshot(e);const l=new Promise(b=>this.resolveInterceptionPromise=b),d={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(a,d)||await l,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(a,t),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class Cv extends Df{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new oa(this.element)}}class Ff{constructor(e,t){this.clickBubbled=s=>{this.respondsToEventTarget(s.target)?this.clickEvent=s:delete this.clickEvent},this.linkClicked=s=>{this.clickEvent&&this.respondsToEventTarget(s.target)&&s.target instanceof Element&&this.delegate.shouldInterceptLinkClick(s.target,s.detail.url,s.detail.originalEvent)&&(this.clickEvent.preventDefault(),s.preventDefault(),this.delegate.linkClickIntercepted(s.target,s.detail.url,s.detail.originalEvent)),delete this.clickEvent},this.willVisit=s=>{delete this.clickEvent},this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}}class zf{constructor(e,t){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=s=>{if(s instanceof MouseEvent&&this.clickEventIsSignificant(s)){const a=s.composedPath&&s.composedPath()[0]||s.target,l=this.findLinkFromClickTarget(a);if(l&&Ev(l)){const d=this.getLocationForLink(l);this.delegate.willFollowLinkToLocation(l,d,s)&&(s.preventDefault(),this.delegate.followedLinkToLocation(l,d))}}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){return pr(e,"a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return $e(e.getAttribute("href")||"")}}function Ev(i){if(i.hasAttribute("target")){for(const e of document.getElementsByName(i.target))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}class Bf{constructor(e,t){this.delegate=e,this.linkInterceptor=new zf(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,t,s){return this.delegate.willSubmitFormLinkToLocation(e,t,s)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,t){const s=document.createElement("form"),a="hidden";for(const[L,R]of t.searchParams)s.append(Object.assign(document.createElement("input"),{type:a,name:L,value:R}));const l=Object.assign(t,{search:""});s.setAttribute("data-turbo","true"),s.setAttribute("action",l.href),s.setAttribute("hidden","");const d=e.getAttribute("data-turbo-method");d&&s.setAttribute("method",d);const p=e.getAttribute("data-turbo-frame");p&&s.setAttribute("data-turbo-frame",p);const b=aa(e);b&&s.setAttribute("data-turbo-action",b);const k=e.getAttribute("data-turbo-confirm");k&&s.setAttribute("data-turbo-confirm",k),e.hasAttribute("data-turbo-stream")&&s.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,s),document.body.appendChild(s),s.addEventListener("turbo:submit-end",()=>s.remove(),{once:!0}),requestAnimationFrame(()=>s.requestSubmit())}}class Hf{static async preservingPermanentElements(e,t,s){const a=new this(e,t);a.enter(),await s(),a.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,s]=this.permanentElementMap[e];this.delegate.enteringBardo(t,s),this.replaceNewPermanentElementWithPlaceholder(s)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=Tv(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);t==null||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function Tv(i){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",i.id),e}class $l{constructor(e,t,s,a,l=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=a,this.willRender=l,this.renderElement=s,this.promise=new Promise((d,p)=>this.resolvingFunctions={resolve:d,reject:p})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await Hf.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){const e=this.connectedSnapshot.firstAutofocusableElement;Mv(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}}function Mv(i){return i&&typeof i.focus=="function"}class gr extends $l{static renderElement(e,t){var s;const a=document.createRange();a.selectNodeContents(e),a.deleteContents();const l=t,d=(s=l.ownerDocument)===null||s===void 0?void 0:s.createRange();d&&(d.selectNodeContents(l),e.appendChild(d.extractContents()))}constructor(e,t,s,a,l,d=!0){super(t,s,a,l,d),this.delegate=e}get shouldRender(){return!0}async render(){await er(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await er(),this.focusFirstAutofocusableElement(),await er(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=Lv(this.currentElement.getAttribute("data-autoscroll-block"),"end"),s=Pv(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:s}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=us(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function Lv(i,e){return i=="end"||i=="start"||i=="center"||i=="nearest"?i:e}function Pv(i,e){return i=="auto"||i=="smooth"?i:e}class $t{static get defaultCSS(){return Pf`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${$t.animationDuration}ms ease-out,
          opacity ${$t.animationDuration/2}ms ${$t.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,$t.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,$t.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const e=document.createElement("style");return e.type="text/css",e.textContent=$t.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return fr("csp-nonce")}}$t.animationDuration=300;class Ov extends oa{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(e=>!Dv(e)).map(e=>Bv(e)).reduce((e,t)=>{const{outerHTML:s}=t,a=s in e?e[s]:{type:Rv(t),tracked:Iv(t),elements:[]};return Object.assign(Object.assign({},e),{[s]:Object.assign(Object.assign({},a),{elements:[...a.elements,t]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(s=>!(s in t.detailsByOuterHTML)).map(s=>this.detailsByOuterHTML[s]).filter(({type:s})=>s==e).map(({elements:[s]})=>s)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{const{type:s,tracked:a,elements:l}=this.detailsByOuterHTML[t];return s==null&&!a?[...e,...l]:l.length>1?[...e,...l.slice(1)]:e},[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,s)=>{const{elements:[a]}=this.detailsByOuterHTML[s];return zv(a,e)?a:t},void 0)}}function Rv(i){if(Nv(i))return"script";if(Fv(i))return"stylesheet"}function Iv(i){return i.getAttribute("data-turbo-track")=="reload"}function Nv(i){return i.localName=="script"}function Dv(i){return i.localName=="noscript"}function Fv(i){const e=i.localName;return e=="style"||e=="link"&&i.getAttribute("rel")=="stylesheet"}function zv(i,e){return i.localName=="meta"&&i.getAttribute("name")==e}function Bv(i){return i.hasAttribute("nonce")&&i.setAttribute("nonce",""),i}class vt extends oa{static fromHTMLString(e=""){return this.fromDocument(Lf(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new Ov(e))}constructor(e,t){super(e),this.headSnapshot=t}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),s=e.querySelectorAll("select");for(const[a,l]of t.entries()){const d=s[a];for(const p of d.selectedOptions)p.selected=!1;for(const p of l.selectedOptions)d.options[p.index].selected=!0}for(const a of e.querySelectorAll('input[type="password"]'))a.value="";return new vt(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;const t=(e=this.getSetting("root"))!==null&&e!==void 0?e:"/";return $e(t)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}var mn;(function(i){i.visitStart="visitStart",i.requestStart="requestStart",i.requestEnd="requestEnd",i.visitEnd="visitEnd"})(mn||(mn={}));var At;(function(i){i.initialized="initialized",i.started="started",i.canceled="canceled",i.failed="failed",i.completed="completed"})(At||(At={}));const Hv={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};var mi;(function(i){i[i.networkFailure=0]="networkFailure",i[i.timeoutFailure=-1]="timeoutFailure",i[i.contentTypeMismatch=-2]="contentTypeMismatch"})(mi||(mi={}));class _v{constructor(e,t,s,a={}){this.identifier=Pn(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=At.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=s||Pn();const{action:l,historyChanged:d,referrer:p,snapshot:b,snapshotHTML:k,response:A,visitCachedSnapshot:L,willRender:R,updateHistory:z,shouldCacheSnapshot:D,acceptsStreamResponse:W}=Object.assign(Object.assign({},Hv),a);this.action=l,this.historyChanged=d,this.referrer=p,this.snapshot=b,this.snapshotHTML=k,this.response=A,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=L,this.willRender=R,this.updateHistory=z,this.scrolled=!R,this.shouldCacheSnapshot=D,this.acceptsStreamResponse=W}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==At.initialized&&(this.recordTimingMetric(mn.visitStart),this.state=At.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==At.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=At.canceled)}complete(){this.state==At.started&&(this.recordTimingMetric(mn.visitEnd),this.state=At.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==At.started&&(this.state=At.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){const t=this.location.href===((e=this.referrer)===null||e===void 0?void 0:e.href)?"replace":this.action,s=Of(t);this.history.update(s,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new ql(this,at.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(mn.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;Sh(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(mn.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Sh(e)&&t!=null?(await this.view.renderPage(vt.fromHTMLString(t),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(vt.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!qi(this.location)||e.hasAnchor(qi(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return vt.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&(!((e=this.response)===null||e===void 0)&&e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(rn.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const s=await t.responseHTML,{redirected:a,statusCode:l}=t;s==null?this.recordResponse({statusCode:mi.contentTypeMismatch,redirected:a}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:l,responseHTML:s,redirected:a}))}async requestFailedWithResponse(e,t){const s=await t.responseHTML,{redirected:a,statusCode:l}=t;s==null?this.recordResponse({statusCode:mi.contentTypeMismatch,redirected:a}):this.recordResponse({statusCode:l,responseHTML:s,redirected:a})}requestErrored(e,t){this.recordResponse({statusCode:mi.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=qi(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=requestAnimationFrame(()=>t())}),await e(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function Sh(i){return i>=200&&i<300}class Xv{constructor(e){this.progressBar=new $t,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,(t==null?void 0:t.restorationIdentifier)||Pn(),t)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case mi.networkFailure:case mi.timeoutFailure:case mi.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;We("turbo:reload",{detail:e}),window.location.href=((t=this.location)===null||t===void 0?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}}class Wv{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=e=>{for(const t of this.temporaryElements)t.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}}class Yv{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new Ff(this,t),this.formSubmitObserver=new Ul(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,s){return this.shouldRedirect(e)}linkClickIntercepted(e,t,s){const a=this.findFrameElement(e);a&&a.delegate.linkClickIntercepted(e,t,s)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&this.shouldSubmit(e,t)&&this.shouldRedirect(e,t)}formSubmitted(e,t){const s=this.findFrameElement(e,t);s&&s.delegate.formSubmitted(e,t)}shouldSubmit(e,t){var s;const a=jl(e,t),l=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),d=$e((s=l==null?void 0:l.content)!==null&&s!==void 0?s:"/");return this.shouldRedirect(e,t)&&Sn(a,d)}shouldRedirect(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const a=this.findFrameElement(e,t);return a?a!=e.closest("turbo-frame"):!1}else return!1}findFrameElement(e,t){const s=(t==null?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(s&&s!="_top"){const a=this.element.querySelector(`#${s}:not([disabled])`);if(a instanceof Yt)return a}}}let Vv=class{constructor(e){this.restorationIdentifier=Pn(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=t=>{if(this.shouldHandlePopState()){const{turbo:s}=t.state||{};if(s){this.location=new URL(window.location.href);const{restorationIdentifier:a}=s;this.restorationIdentifier=a,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,a)}}},this.onPageLoad=async t=>{await cv(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,s=Pn()){const a={turbo:{restorationIdentifier:s}};e.call(history,a,"",t.href),this.location=t,this.restorationIdentifier=s}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,s=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},s),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=(e=history.scrollRestoration)!==null&&e!==void 0?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}};class jv{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&(Sn(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,s={}){this.stop(),this.currentVisit=new _v(this,$e(e),t,Object.assign({referrer:this.location},s)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new Ms(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const s=await t.responseHTML;if(s){const a=e.isSafe;a||this.view.clearSnapshotCache();const{statusCode:l,redirected:d}=t,b={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:a,response:{statusCode:l,responseHTML:s,redirected:d}};this.proposeVisit(t.location,b)}}}async formSubmissionFailedWithResponse(e,t){const s=await t.responseHTML;if(s){const a=vt.fromHTMLString(s);t.serverError?await this.view.renderError(a,this.currentVisit):await this.view.renderPage(a,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){const s=qi(e),a=qi(this.view.lastRenderedLocation),l=t==="restore"&&typeof s>"u";return t!=="replace"&&_o(e)===_o(this.view.lastRenderedLocation)&&(l||s!=null&&s!==a)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:e,formElement:t}){return aa(e,t)||"advance"}}var qt;(function(i){i[i.initial=0]="initial",i[i.loading=1]="loading",i[i.interactive=2]="interactive",i[i.complete=3]="complete"})(qt||(qt={}));class Gv{constructor(e){this.stage=qt.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:t}=this;t=="interactive"?this.pageIsInteractive():t=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==qt.initial&&(this.stage=qt.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==qt.loading&&(this.stage=qt.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==qt.interactive&&(this.stage=qt.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class qv{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class Uv{render({fragment:e}){Hf.preservingPermanentElements(this,$v(e),()=>document.documentElement.appendChild(e))}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}function $v(i){const e=Nf(document.documentElement),t={};for(const s of e){const{id:a}=s;for(const l of i.querySelectorAll("turbo-stream")){const d=If(l.templateElement.content,a);d&&(t[a]=[s,d])}}return t}class Kv{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=t=>{const s=Jv(t);s&&Zv(s)&&(t.preventDefault(),this.receiveMessageResponse(s))},this.receiveMessageEvent=t=>{this.started&&typeof t.data=="string"&&this.receiveMessageHTML(t.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(rn.wrap(e))}}function Jv(i){var e;const t=(e=i.detail)===null||e===void 0?void 0:e.fetchResponse;if(t instanceof Gl)return t}function Zv(i){var e;return((e=i.contentType)!==null&&e!==void 0?e:"").startsWith(rn.contentType)}class kh extends $l{static renderElement(e,t){const{documentElement:s,body:a}=document;s.replaceChild(t,a)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const s=us(e);t.replaceChild(s,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class mr extends $l{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const e=[];for(const t of this.newHeadStylesheetElements)e.push(uv(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(us(e))}async mergeProvisionalElements(){const e=[...this.newHeadProvisionalElements];for(const t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(const t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(const[s,a]of t.entries()){if(e.tagName=="TITLE"){if(a.tagName!="TITLE")continue;if(e.innerHTML==a.innerHTML)return t.splice(s,1),!0}if(a.isEqualNode(e))return t.splice(s,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=us(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class Qv{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return Xs(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[Xs(e)]}write(e,t){this.snapshots[Xs(e)]=t}touch(e){const t=Xs(e),s=this.keys.indexOf(t);s>-1&&this.keys.splice(s,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class e0 extends Df{constructor(){super(...arguments),this.snapshotCache=new Qv(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,t=!1,s=!0,a){const l=new mr(this.snapshot,e,mr.renderElement,t,s);return l.shouldRender?a==null||a.changeHistory():this.forceReloaded=!0,this.render(l)}renderError(e,t){t==null||t.changeHistory();const s=new kh(this.snapshot,e,kh.renderElement,!1);return this.render(s)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:t}=this;await lv();const s=e.clone();return this.snapshotCache.put(t,s),s}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return vt.fromElement(this.element)}}class t0{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(!this.snapshotCache.has(t))try{const a=await(await fetch(t.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),l=vt.fromHTMLString(a);this.snapshotCache.put(t,l)}catch{}}}class i0{constructor(){this.navigator=new jv(this),this.history=new Vv(this),this.preloader=new t0(this),this.view=new e0(this,document.documentElement),this.adapter=new Xv(this),this.pageObserver=new Gv(this),this.cacheObserver=new Wv,this.linkClickObserver=new zf(this,window),this.formSubmitObserver=new Ul(this,document),this.scrollObserver=new qv(this),this.streamObserver=new Kv(this),this.formLinkClickObserver=new Bf(this,document.documentElement),this.frameRedirector=new Yv(this,document.documentElement),this.streamMessageRenderer=new Uv,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const s=t.frame?document.getElementById(t.frame):null;s instanceof Yt?(s.src=e.toString(),s.loaded):this.navigator.proposeVisit($e(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(rn.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&Sn(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,t,s){return this.elementIsNavigatable(e)&&Sn(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,s)}followedLinkToLocation(e,t){const s=this.getActionForLink(e),a=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:s,acceptsStreamResponse:a})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){Ah(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||Xo(document.documentElement),Ah(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){Wo(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const s=jl(e,t);return this.submissionIsNavigatable(e,t)&&Sn($e(s),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;!((e=this.navigator.currentVisit)===null||e===void 0)&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const s=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:a,detail:{render:l}}=s;return this.view.renderer&&l&&(this.view.renderer.renderElement=l),!a}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,s){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,s).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,s){return We("turbo:click",{target:e,detail:{url:t.href,originalEvent:s},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return We("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return We("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return We("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return We("turbo:before-render",{detail:Object.assign({newBody:e},t),cancelable:!0})}notifyApplicationAfterRender(){return We("turbo:render")}notifyApplicationAfterPageLoad(e={}){return We("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return We("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return We("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(this.formMode=="off")return!1;{const s=t?this.elementIsNavigatable(t):!0;return this.formMode=="optin"?s&&e.closest('[data-turbo="true"]')!=null:s&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=pr(e,"[data-turbo]"),s=pr(e,"turbo-frame");return this.drive||s?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return aa(e)||"advance"}get snapshot(){return this.view.snapshot}}function Ah(i){Object.defineProperties(i,n0)}const n0={absoluteURL:{get(){return this.toString()}}};class s0{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){pv("turbo-cache-control",e)}}const Kl={after(){this.targetElements.forEach(i=>{var e;return(e=i.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,i.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.append(this.templateContent))},before(){this.targetElements.forEach(i=>{var e;return(e=i.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,i)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.prepend(this.templateContent))},remove(){this.targetElements.forEach(i=>i.remove())},replace(){this.targetElements.forEach(i=>i.replaceWith(this.templateContent))},update(){this.targetElements.forEach(i=>{i.innerHTML="",i.append(this.templateContent)})}},Ce=new i0,_f=new s0(Ce),{navigator:Xf}=Ce;function Jl(){Ce.start()}function Wf(i){Ce.registerAdapter(i)}function Yf(i,e){Ce.visit(i,e)}function Zl(i){Ce.connectStreamSource(i)}function Ql(i){Ce.disconnectStreamSource(i)}function Vf(i){Ce.renderStreamMessage(i)}function jf(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ce.clearCache()}function Gf(i){Ce.setProgressBarDelay(i)}function qf(i){Ms.confirmMethod=i}function Uf(i){Ce.setFormMode(i)}var r0=Object.freeze({__proto__:null,navigator:Xf,session:Ce,cache:_f,PageRenderer:mr,PageSnapshot:vt,FrameRenderer:gr,start:Jl,registerAdapter:Wf,visit:Yf,connectStreamSource:Zl,disconnectStreamSource:Ql,renderStreamMessage:Vf,clearCache:jf,setProgressBarDelay:Gf,setConfirmMethod:qf,setFormMode:Uf,StreamActions:Kl});class a0 extends Error{}class o0{constructor(e){this.fetchResponseLoaded=t=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:t})=>{const s=t.querySelector("#"+this.element.id);s&&this.previousFrameElement&&s.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new Cv(this,this.element),this.appearanceObserver=new mv(this,this.element),this.formLinkClickObserver=new Bf(this,this.element),this.linkInterceptor=new Ff(this,this.element),this.restorationIdentifier=Pn(),this.formSubmitObserver=new Ul(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==Kt.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Kt.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Kt.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){const{src:e}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==Kt.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit($e(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const s=Lf(t);vt.fromDocument(s).isVisitable?await this.loadFrameResponse(e,s):await this.handleUnvisitableFrameResponse(e)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,e),this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,t,s){const a=this.findFrameElement(e);a&&s.setAttribute("data-turbo-frame",a.id)}shouldInterceptLinkClick(e,t,s){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.navigateFrame(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Ms(this,e,t);const{fetchRequest:s}=this.formSubmission;this.prepareRequest(s),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,!((t=this.currentNavigationElement)===null||t===void 0)&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(rn.contentType)}requestStarted(e){Xo(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){Wo(this.element)}formSubmissionStarted({formElement:e}){Xo(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){const s=this.findFrameElement(e.formElement,e.submitter);s.delegate.proposeVisitIfNavigatedWithAction(s,e.formElement,e.submitter),s.delegate.loadResponse(t),e.isSafe||Ce.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),Ce.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){Wo(e,this.findFrameElement(e))}allowsImmediateRender({element:e},t){const s=We("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},t),cancelable:!0}),{defaultPrevented:a,detail:{render:l}}=s;return this.view.renderer&&l&&(this.view.renderer.renderElement=l),!a}viewRenderedSnapshot(e,t){}preloadOnLoadLinksForView(e){Ce.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}async loadFrameResponse(e,t){const s=await this.extractForeignFrameElement(t.body);if(s){const a=new oa(s),l=new gr(this,this.view.snapshot,a,gr.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(l),this.complete=!0,Ce.frameRendered(e,this.element),Ce.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&this.handleFrameMissingFromResponse(e)}async visit(e){var t;const s=new ql(this,at.get,e,new URLSearchParams,this.element);return(t=this.currentFetchRequest)===null||t===void 0||t.cancel(),this.currentFetchRequest=s,new Promise(a=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,a()},s.perform()})}navigateFrame(e,t,s){const a=this.findFrameElement(e,s);a.delegate.proposeVisitIfNavigatedWithAction(a,e,s),this.withCurrentNavigationElement(e,()=>{a.src=t})}proposeVisitIfNavigatedWithAction(e,t,s){if(this.action=aa(s,t,e),this.action){const a=vt.fromElement(e).clone(),{visitCachedSnapshot:l}=e.delegate;e.delegate.fetchResponseLoaded=d=>{if(e.src){const{statusCode:p,redirected:b}=d,k=e.ownerDocument.documentElement.outerHTML,L={response:{statusCode:p,redirected:b,responseHTML:k},visitCachedSnapshot:l,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:a};this.action&&(L.action=this.action),Ce.visit(e.src,L)}}}}changeHistory(){if(this.action){const e=Of(this.action);Ce.history.update(e,$e(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(e.response)}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");const t=e.response,s=async(l,d={})=>{l instanceof Response?this.visitResponse(l):Ce.visit(l,d)};return!We("turbo:frame-missing",{target:this.element,detail:{response:t,visit:s},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(e){this.view.missing(),this.throwFrameMissingError(e)}throwFrameMissingError(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new a0(t)}async visitResponse(e){const t=new Gl(e),s=await t.responseHTML,{location:a,redirected:l,statusCode:d}=t;return Ce.visit(a,{response:{redirected:l,statusCode:d,responseHTML:s}})}findFrameElement(e,t){var s;const a=ur("data-turbo-frame",t,e)||this.element.getAttribute("target");return(s=Ch(a))!==null&&s!==void 0?s:this.element}async extractForeignFrameElement(e){let t;const s=CSS.escape(this.id);try{if(t=Eh(e.querySelector(`turbo-frame#${s}`),this.sourceURL),t)return t;if(t=Eh(e.querySelector(`turbo-frame[src][recurse~=${s}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(a){return console.error(a),new Yt}return null}formActionIsVisitable(e,t){const s=jl(e,t);return Sn($e(s),this.rootLocation)}shouldInterceptNavigation(e,t){const s=ur("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,t)||!this.enabled||s=="_top")return!1;if(s){const a=Ch(s);if(a)return!a.disabled}return!(!Ce.elementIsNavigatable(e)||t&&!Ce.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;const t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),s=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:"/";return $e(s)}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,t){this.ignoredAttributes.add(e),t(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}}function Ch(i){if(i!=null){const e=document.getElementById(i);if(e instanceof Yt)return e}}function Eh(i,e){if(i){const t=i.getAttribute("src");if(t!=null&&e!=null&&tv(t,e))throw new Error(`Matching <turbo-frame id="${i.id}"> element has a source URL which references itself`);if(i.ownerDocument!==document&&(i=document.importNode(i,!0)),i instanceof Yt)return i.connectedCallback(),i.disconnectedCallback(),i}}class la extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return(e=this.renderPromise)!==null&&e!==void 0?e:this.renderPromise=(async()=>{const t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await er(),await t.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;const t=this.targetElements.flatMap(a=>[...a.children]).filter(a=>!!a.id),s=[...((e=this.templateContent)===null||e===void 0?void 0:e.children)||[]].filter(a=>!!a.id).map(a=>a.id);return t.filter(a=>s.includes(a.id))}get performAction(){if(this.action){const e=Kl[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return(t=((e=this.outerHTML.match(/<[^>]+>/))!==null&&e!==void 0?e:[])[0])!==null&&t!==void 0?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:la.renderElement}})}get targetElementsById(){var e;const t=(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){var e;const t=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}}class $f extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Zl(this.streamSource)}disconnectedCallback(){this.streamSource&&Ql(this.streamSource)}get src(){return this.getAttribute("src")||""}}Yt.delegateConstructor=o0;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Yt);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",la);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",$f);(()=>{let i=document.currentScript;if(i&&!i.hasAttribute("data-turbo-suppress-warning"))for(i=i.parentElement;i;){if(i==document.body)return console.warn(Pf`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,i.outerHTML);i=i.parentElement}})();window.Turbo=r0;Jl();const l0=Object.freeze(Object.defineProperty({__proto__:null,FrameElement:Yt,get FrameLoadingStyle(){return Kt},FrameRenderer:gr,PageRenderer:mr,PageSnapshot:vt,StreamActions:Kl,StreamElement:la,StreamSourceElement:$f,cache:_f,clearCache:jf,connectStreamSource:Zl,disconnectStreamSource:Ql,navigator:Xf,registerAdapter:Wf,renderStreamMessage:Vf,session:Ce,setConfirmMethod:qf,setFormMode:Uf,setProgressBarDelay:Gf,start:Jl,visit:Yf},Symbol.toStringTag,{value:"Module"}));window.Turbo=l0;Zu.plugin(qy);window.Alpine=Zu;window.$http=Ey.create({headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-Root-Request":"true"}});window.$cookie=new Uy("__root_");function Xe(i){this.content=i}Xe.prototype={constructor:Xe,find:function(i){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===i)return e;return-1},get:function(i){var e=this.find(i);return e==-1?void 0:this.content[e+1]},update:function(i,e,t){var s=t&&t!=i?this.remove(t):this,a=s.find(i),l=s.content.slice();return a==-1?l.push(t||i,e):(l[a+1]=e,t&&(l[a]=t)),new Xe(l)},remove:function(i){var e=this.find(i);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Xe(t)},addToStart:function(i,e){return new Xe([i,e].concat(this.remove(i).content))},addToEnd:function(i,e){var t=this.remove(i).content.slice();return t.push(i,e),new Xe(t)},addBefore:function(i,e,t){var s=this.remove(e),a=s.content.slice(),l=s.find(i);return a.splice(l==-1?a.length:l,0,e,t),new Xe(a)},forEach:function(i){for(var e=0;e<this.content.length;e+=2)i(this.content[e],this.content[e+1])},prepend:function(i){return i=Xe.from(i),i.size?new Xe(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=Xe.from(i),i.size?new Xe(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var e=this;i=Xe.from(i);for(var t=0;t<i.content.length;t+=2)e=e.remove(i.content[t]);return e},toObject:function(){var i={};return this.forEach(function(e,t){i[e]=t}),i},get size(){return this.content.length>>1}};Xe.from=function(i){if(i instanceof Xe)return i;var e=[];if(i)for(var t in i)e.push(t,i[t]);return new Xe(e)};function Kf(i,e,t){for(let s=0;;s++){if(s==i.childCount||s==e.childCount)return i.childCount==e.childCount?null:t;let a=i.child(s),l=e.child(s);if(a==l){t+=a.nodeSize;continue}if(!a.sameMarkup(l))return t;if(a.isText&&a.text!=l.text){for(let d=0;a.text[d]==l.text[d];d++)t++;return t}if(a.content.size||l.content.size){let d=Kf(a.content,l.content,t+1);if(d!=null)return d}t+=a.nodeSize}}function Jf(i,e,t,s){for(let a=i.childCount,l=e.childCount;;){if(a==0||l==0)return a==l?null:{a:t,b:s};let d=i.child(--a),p=e.child(--l),b=d.nodeSize;if(d==p){t-=b,s-=b;continue}if(!d.sameMarkup(p))return{a:t,b:s};if(d.isText&&d.text!=p.text){let k=0,A=Math.min(d.text.length,p.text.length);for(;k<A&&d.text[d.text.length-k-1]==p.text[p.text.length-k-1];)k++,t--,s--;return{a:t,b:s}}if(d.content.size||p.content.size){let k=Jf(d.content,p.content,t-1,s-1);if(k)return k}t-=b,s-=b}}class Q{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,t,s,a=0,l){for(let d=0,p=0;p<t;d++){let b=this.content[d],k=p+b.nodeSize;if(k>e&&s(b,a+p,l||null,d)!==!1&&b.content.size){let A=p+1;b.nodesBetween(Math.max(0,e-A),Math.min(b.content.size,t-A),s,a+A)}p=k}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,s,a){let l="",d=!0;return this.nodesBetween(e,t,(p,b)=>{p.isText?(l+=p.text.slice(Math.max(e,b)-b,t-b),d=!s):p.isLeaf?(a?l+=typeof a=="function"?a(p):a:p.type.spec.leafText&&(l+=p.type.spec.leafText(p)),d=!s):!d&&p.isBlock&&(l+=s,d=!0)},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,s=e.firstChild,a=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(s)&&(a[a.length-1]=t.withText(t.text+s.text),l=1);l<e.content.length;l++)a.push(e.content[l]);return new Q(a,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let s=[],a=0;if(t>e)for(let l=0,d=0;d<t;l++){let p=this.content[l],b=d+p.nodeSize;b>e&&((d<e||b>t)&&(p.isText?p=p.cut(Math.max(0,e-d),Math.min(p.text.length,t-d)):p=p.cut(Math.max(0,e-d-1),Math.min(p.content.size,t-d-1))),s.push(p),a+=p.nodeSize),d=b}return new Q(s,a)}cutByIndex(e,t){return e==t?Q.empty:e==0&&t==this.content.length?this:new Q(this.content.slice(e,t))}replaceChild(e,t){let s=this.content[e];if(s==t)return this;let a=this.content.slice(),l=this.size+t.nodeSize-s.nodeSize;return a[e]=t,new Q(a,l)}addToStart(e){return new Q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,s=0;t<this.content.length;t++){let a=this.content[t];e(a,s,t),s+=a.nodeSize}}findDiffStart(e,t=0){return Kf(this,e,t)}findDiffEnd(e,t=this.size,s=e.size){return Jf(this,e,t,s)}findIndex(e,t=-1){if(e==0)return Ws(0,e);if(e==this.size)return Ws(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let s=0,a=0;;s++){let l=this.child(s),d=a+l.nodeSize;if(d>=e)return d==e||t>0?Ws(s+1,d):Ws(s,a);a=d}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Q.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Q(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Q.empty;let t,s=0;for(let a=0;a<e.length;a++){let l=e[a];s+=l.nodeSize,a&&l.isText&&e[a-1].sameMarkup(l)?(t||(t=e.slice(0,a)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new Q(t||e,s)}static from(e){if(!e)return Q.empty;if(e instanceof Q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Q.empty=new Q([],0);const Xa={index:0,offset:0};function Ws(i,e){return Xa.index=i,Xa.offset=e,Xa}function xr(i,e){if(i===e)return!0;if(!(i&&typeof i=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(i);if(Array.isArray(e)!=t)return!1;if(t){if(i.length!=e.length)return!1;for(let s=0;s<i.length;s++)if(!xr(i[s],e[s]))return!1}else{for(let s in i)if(!(s in e)||!xr(i[s],e[s]))return!1;for(let s in e)if(!(s in i))return!1}return!0}let ve=class Yo{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,a));else{if(l.type.excludes(this.type))return e;!s&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,a)),t.push(this),s=!0),t&&t.push(l)}}return t||(t=e.slice()),s||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&xr(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[t.type];if(!s)throw new RangeError(`There is no mark type ${t.type} in this schema`);return s.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(t[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Yo.none;if(e instanceof Yo)return[e];let t=e.slice();return t.sort((s,a)=>s.type.rank-a.type.rank),t}};ve.none=[];class br extends Error{}class se{constructor(e,t,s){this.content=e,this.openStart=t,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let s=Qf(this.content,e+this.openStart,t);return s&&new se(s,this.openStart,this.openEnd)}removeBetween(e,t){return new se(Zf(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return se.empty;let s=t.openStart||0,a=t.openEnd||0;if(typeof s!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new se(Q.fromJSON(e,t.content),s,a)}static maxOpen(e,t=!0){let s=0,a=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)s++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)a++;return new se(e,s,a)}}se.empty=new se(Q.empty,0,0);function Zf(i,e,t){let{index:s,offset:a}=i.findIndex(e),l=i.maybeChild(s),{index:d,offset:p}=i.findIndex(t);if(a==e||l.isText){if(p!=t&&!i.child(d).isText)throw new RangeError("Removing non-flat range");return i.cut(0,e).append(i.cut(t))}if(s!=d)throw new RangeError("Removing non-flat range");return i.replaceChild(s,l.copy(Zf(l.content,e-a-1,t-a-1)))}function Qf(i,e,t,s){let{index:a,offset:l}=i.findIndex(e),d=i.maybeChild(a);if(l==e||d.isText)return s&&!s.canReplace(a,a,t)?null:i.cut(0,e).append(t).append(i.cut(e));let p=Qf(d.content,e-l-1,t);return p&&i.replaceChild(a,d.copy(p))}function c0(i,e,t){if(t.openStart>i.depth)throw new br("Inserted content deeper than insertion position");if(i.depth-t.openStart!=e.depth-t.openEnd)throw new br("Inconsistent open depths");return ep(i,e,t,0)}function ep(i,e,t,s){let a=i.index(s),l=i.node(s);if(a==e.index(s)&&s<i.depth-t.openStart){let d=ep(i,e,t,s+1);return l.copy(l.content.replaceChild(a,d))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&i.depth==s&&e.depth==s){let d=i.parent,p=d.content;return $i(d,p.cut(0,i.parentOffset).append(t.content).append(p.cut(e.parentOffset)))}else{let{start:d,end:p}=h0(t,i);return $i(l,ip(i,d,p,e,s))}else return $i(l,yr(i,e,s))}function tp(i,e){if(!e.type.compatibleContent(i.type))throw new br("Cannot join "+e.type.name+" onto "+i.type.name)}function Vo(i,e,t){let s=i.node(t);return tp(s,e.node(t)),s}function Ui(i,e){let t=e.length-1;t>=0&&i.isText&&i.sameMarkup(e[t])?e[t]=i.withText(e[t].text+i.text):e.push(i)}function ts(i,e,t,s){let a=(e||i).node(t),l=0,d=e?e.index(t):a.childCount;i&&(l=i.index(t),i.depth>t?l++:i.textOffset&&(Ui(i.nodeAfter,s),l++));for(let p=l;p<d;p++)Ui(a.child(p),s);e&&e.depth==t&&e.textOffset&&Ui(e.nodeBefore,s)}function $i(i,e){return i.type.checkContent(e),i.copy(e)}function ip(i,e,t,s,a){let l=i.depth>a&&Vo(i,e,a+1),d=s.depth>a&&Vo(t,s,a+1),p=[];return ts(null,i,a,p),l&&d&&e.index(a)==t.index(a)?(tp(l,d),Ui($i(l,ip(i,e,t,s,a+1)),p)):(l&&Ui($i(l,yr(i,e,a+1)),p),ts(e,t,a,p),d&&Ui($i(d,yr(t,s,a+1)),p)),ts(s,null,a,p),new Q(p)}function yr(i,e,t){let s=[];if(ts(null,i,t,s),i.depth>t){let a=Vo(i,e,t+1);Ui($i(a,yr(i,e,t+1)),s)}return ts(e,null,t,s),new Q(s)}function h0(i,e){let t=e.depth-i.openStart,a=e.node(t).copy(i.content);for(let l=t-1;l>=0;l--)a=e.node(l).copy(Q.from(a));return{start:a.resolveNoCache(i.openStart+t),end:a.resolveNoCache(a.content.size-i.openEnd-t)}}class fs{constructor(e,t,s){this.pos=e,this.path=t,this.parentOffset=s,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],a=e.child(t);return s?e.child(t).cut(s):a}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let s=this.path[t*3],a=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)a+=s.child(l).nodeSize;return a}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return ve.none;if(this.textOffset)return e.child(t).marks;let s=e.maybeChild(t-1),a=e.maybeChild(t);if(!s){let p=s;s=a,a=p}let l=s.marks;for(var d=0;d<l.length;d++)l[d].type.spec.inclusive===!1&&(!a||!l[d].isInSet(a.marks))&&(l=l[d--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let s=t.marks,a=e.parent.maybeChild(e.index());for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!a||!s[l].isInSet(a.marks))&&(s=s[l--].removeFromSet(s));return s}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!t||t(this.node(s))))return new vr(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let s=[],a=0,l=t;for(let d=e;;){let{index:p,offset:b}=d.content.findIndex(l),k=l-b;if(s.push(d,p,a+b),!k||(d=d.child(p),d.isText))break;l=k-1,a+=b+1}return new fs(t,s,l)}static resolveCached(e,t){for(let a=0;a<Wa.length;a++){let l=Wa[a];if(l.pos==t&&l.doc==e)return l}let s=Wa[Ya]=fs.resolve(e,t);return Ya=(Ya+1)%d0,s}}let Wa=[],Ya=0,d0=12;class vr{constructor(e,t,s){this.$from=e,this.$to=t,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const u0=Object.create(null);let Ki=class jo{constructor(e,t,s,a=ve.none){this.type=e,this.attrs=t,this.marks=a,this.content=s||Q.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,s,a=0){this.content.nodesBetween(e,t,s,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,s,a){return this.content.textBetween(e,t,s,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,s){return this.type==e&&xr(this.attrs,t||e.defaultAttrs||u0)&&ve.sameSet(this.marks,s||ve.none)}copy(e=null){return e==this.content?this:new jo(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new jo(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,s=!1){if(e==t)return se.empty;let a=this.resolve(e),l=this.resolve(t),d=s?0:a.sharedDepth(t),p=a.start(d),k=a.node(d).content.cut(a.pos-p,l.pos-p);return new se(k,a.depth-d,l.depth-d)}replace(e,t,s){return c0(this.resolve(e),this.resolve(t),s)}nodeAt(e){for(let t=this;;){let{index:s,offset:a}=t.content.findIndex(e);if(t=t.maybeChild(s),!t)return null;if(a==e||t.isText)return t;e-=a+1}}childAfter(e){let{index:t,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(t),index:t,offset:s};let a=this.content.child(t-1);return{node:a,index:t-1,offset:s-a.nodeSize}}resolve(e){return fs.resolveCached(this,e)}resolveNoCache(e){return fs.resolve(this,e)}rangeHasMark(e,t,s){let a=!1;return t>e&&this.nodesBetween(e,t,l=>(s.isInSet(l.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),np(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,s=Q.empty,a=0,l=s.childCount){let d=this.contentMatchAt(e).matchFragment(s,a,l),p=d&&d.matchFragment(this.content,t);if(!p||!p.validEnd)return!1;for(let b=a;b<l;b++)if(!this.type.allowsMarks(s.child(b).marks))return!1;return!0}canReplaceWith(e,t,s,a){if(a&&!this.type.allowsMarks(a))return!1;let l=this.contentMatchAt(e).matchType(s),d=l&&l.matchFragment(this.content,t);return d?d.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=ve.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!ve.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let s=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,s)}let a=Q.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,a,s)}};Ki.prototype.text=void 0;class wr extends Ki{constructor(e,t,s,a){if(super(e,t,null,a),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):np(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new wr(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new wr(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function np(i,e){for(let t=i.length-1;t>=0;t--)e=i[t].type.name+"("+e+")";return e}class en{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let s=new f0(e,t);if(s.next==null)return en.empty;let a=sp(s);s.next&&s.err("Unexpected trailing text");let l=v0(y0(a));return w0(l,s),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,s=e.childCount){let a=this;for(let l=t;a&&l<s;l++)a=a.matchType(e.child(l).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let s=0;s<e.next.length;s++)if(this.next[t].type==e.next[s].type)return!0;return!1}fillBefore(e,t=!1,s=0){let a=[this];function l(d,p){let b=d.matchFragment(e,s);if(b&&(!t||b.validEnd))return Q.from(p.map(k=>k.createAndFill()));for(let k=0;k<d.next.length;k++){let{type:A,next:L}=d.next[k];if(!(A.isText||A.hasRequiredAttrs())&&a.indexOf(L)==-1){a.push(L);let R=l(L,p.concat(A));if(R)return R}}return null}return l(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let a=s.shift(),l=a.match;if(l.matchType(e)){let d=[];for(let p=a;p.type;p=p.via)d.push(p.type);return d.reverse()}for(let d=0;d<l.next.length;d++){let{type:p,next:b}=l.next[d];!p.isLeaf&&!p.hasRequiredAttrs()&&!(p.name in t)&&(!a.type||b.validEnd)&&(s.push({match:p.contentMatch,type:p,via:a}),t[p.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(s){e.push(s);for(let a=0;a<s.next.length;a++)e.indexOf(s.next[a].next)==-1&&t(s.next[a].next)}return t(this),e.map((s,a)=>{let l=a+(s.validEnd?"*":" ")+" ";for(let d=0;d<s.next.length;d++)l+=(d?", ":"")+s.next[d].type.name+"->"+e.indexOf(s.next[d].next);return l}).join(`
`)}}en.empty=new en(!0);class f0{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function sp(i){let e=[];do e.push(p0(i));while(i.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function p0(i){let e=[];do e.push(g0(i));while(i.next&&i.next!=")"&&i.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function g0(i){let e=b0(i);for(;;)if(i.eat("+"))e={type:"plus",expr:e};else if(i.eat("*"))e={type:"star",expr:e};else if(i.eat("?"))e={type:"opt",expr:e};else if(i.eat("{"))e=m0(i,e);else break;return e}function Th(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let e=Number(i.next);return i.pos++,e}function m0(i,e){let t=Th(i),s=t;return i.eat(",")&&(i.next!="}"?s=Th(i):s=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:t,max:s,expr:e}}function x0(i,e){let t=i.nodeTypes,s=t[e];if(s)return[s];let a=[];for(let l in t){let d=t[l];d.groups.indexOf(e)>-1&&a.push(d)}return a.length==0&&i.err("No node type or group '"+e+"' found"),a}function b0(i){if(i.eat("(")){let e=sp(i);return i.eat(")")||i.err("Missing closing paren"),e}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let e=x0(i,i.next).map(t=>(i.inline==null?i.inline=t.isInline:i.inline!=t.isInline&&i.err("Mixing inline and block content"),{type:"name",value:t}));return i.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function y0(i){let e=[[]];return a(l(i,0),t()),e;function t(){return e.push([])-1}function s(d,p,b){let k={term:b,to:p};return e[d].push(k),k}function a(d,p){d.forEach(b=>b.to=p)}function l(d,p){if(d.type=="choice")return d.exprs.reduce((b,k)=>b.concat(l(k,p)),[]);if(d.type=="seq")for(let b=0;;b++){let k=l(d.exprs[b],p);if(b==d.exprs.length-1)return k;a(k,p=t())}else if(d.type=="star"){let b=t();return s(p,b),a(l(d.expr,b),b),[s(b)]}else if(d.type=="plus"){let b=t();return a(l(d.expr,p),b),a(l(d.expr,b),b),[s(b)]}else{if(d.type=="opt")return[s(p)].concat(l(d.expr,p));if(d.type=="range"){let b=p;for(let k=0;k<d.min;k++){let A=t();a(l(d.expr,b),A),b=A}if(d.max==-1)a(l(d.expr,b),b);else for(let k=d.min;k<d.max;k++){let A=t();s(b,A),a(l(d.expr,b),A),b=A}return[s(b)]}else{if(d.type=="name")return[s(p,void 0,d.value)];throw new Error("Unknown expr type")}}}}function rp(i,e){return e-i}function Mh(i,e){let t=[];return s(e),t.sort(rp);function s(a){let l=i[a];if(l.length==1&&!l[0].term)return s(l[0].to);t.push(a);for(let d=0;d<l.length;d++){let{term:p,to:b}=l[d];!p&&t.indexOf(b)==-1&&s(b)}}}function v0(i){let e=Object.create(null);return t(Mh(i,0));function t(s){let a=[];s.forEach(d=>{i[d].forEach(({term:p,to:b})=>{if(!p)return;let k;for(let A=0;A<a.length;A++)a[A][0]==p&&(k=a[A][1]);Mh(i,b).forEach(A=>{k||a.push([p,k=[]]),k.indexOf(A)==-1&&k.push(A)})})});let l=e[s.join(",")]=new en(s.indexOf(i.length-1)>-1);for(let d=0;d<a.length;d++){let p=a[d][1].sort(rp);l.next.push({type:a[d][0],next:e[p.join(",")]||t(p)})}return l}}function w0(i,e){for(let t=0,s=[i];t<s.length;t++){let a=s[t],l=!a.validEnd,d=[];for(let p=0;p<a.next.length;p++){let{type:b,next:k}=a.next[p];d.push(b.name),l&&!(b.isText||b.hasRequiredAttrs())&&(l=!1),s.indexOf(k)==-1&&s.push(k)}l&&e.err("Only non-generatable nodes ("+d.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function ap(i){let e=Object.create(null);for(let t in i){let s=i[t];if(!s.hasDefault)return null;e[t]=s.default}return e}function op(i,e){let t=Object.create(null);for(let s in i){let a=e&&e[s];if(a===void 0){let l=i[s];if(l.hasDefault)a=l.default;else throw new RangeError("No value supplied for attribute "+s)}t[s]=a}return t}function lp(i){let e=Object.create(null);if(i)for(let t in i)e[t]=new S0(i[t]);return e}let Lh=class cp{constructor(e,t,s){this.name=e,this.schema=t,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=lp(s.attrs),this.defaultAttrs=ap(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==en.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:op(this.attrs,e)}create(e=null,t,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ki(this,this.computeAttrs(e),Q.from(t),ve.setFrom(s))}createChecked(e=null,t,s){return t=Q.from(t),this.checkContent(t),new Ki(this,this.computeAttrs(e),t,ve.setFrom(s))}createAndFill(e=null,t,s){if(e=this.computeAttrs(e),t=Q.from(t),t.size){let d=this.contentMatch.fillBefore(t);if(!d)return null;t=d.append(t)}let a=this.contentMatch.matchFragment(t),l=a&&a.fillBefore(Q.empty,!0);return l?new Ki(this,e,t.append(l),ve.setFrom(s)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?t&&t.push(e[s]):t||(t=e.slice(0,s));return t?t.length?t:ve.none:e}static compile(e,t){let s=Object.create(null);e.forEach((l,d)=>s[l]=new cp(l,t,d));let a=t.spec.topNode||"doc";if(!s[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let l in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};class S0{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class ca{constructor(e,t,s,a){this.name=e,this.rank=t,this.schema=s,this.spec=a,this.attrs=lp(a.attrs),this.excluded=null;let l=ap(this.attrs);this.instance=l?new ve(this,l):null}create(e=null){return!e&&this.instance?this.instance:new ve(this,op(this.attrs,e))}static compile(e,t){let s=Object.create(null),a=0;return e.forEach((l,d)=>s[l]=new ca(l,a++,t,d)),s}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class k0{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let a in e)t[a]=e[a];t.nodes=Xe.from(e.nodes),t.marks=Xe.from(e.marks||{}),this.nodes=Lh.compile(this.spec.nodes,this),this.marks=ca.compile(this.spec.marks,this);let s=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let l=this.nodes[a],d=l.spec.content||"",p=l.spec.marks;l.contentMatch=s[d]||(s[d]=en.parse(d,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.markSet=p=="_"?null:p?Ph(this,p.split(" ")):p==""||!l.inlineContent?[]:null}for(let a in this.marks){let l=this.marks[a],d=l.spec.excludes;l.excluded=d==null?[l]:d==""?[]:Ph(this,d.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,s,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Lh){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,s,a)}text(e,t){let s=this.nodes.text;return new wr(s,s.defaultAttrs,e,ve.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Ki.fromJSON(this,e)}markFromJSON(e){return ve.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Ph(i,e){let t=[];for(let s=0;s<e.length;s++){let a=e[s],l=i.marks[a],d=l;if(l)t.push(l);else for(let p in i.marks){let b=i.marks[p];(a=="_"||b.spec.group&&b.spec.group.split(" ").indexOf(a)>-1)&&t.push(d=b)}if(!d)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return t}let ec=class Go{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(s=>{s.tag?this.tags.push(s):s.style&&this.styles.push(s)}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let s=new Rh(this,t,!1);return s.addAll(e,t.from,t.to),s.finish()}parseSlice(e,t={}){let s=new Rh(this,t,!0);return s.addAll(e,t.from,t.to),se.maxOpen(s.finish())}matchTag(e,t,s){for(let a=s?this.tags.indexOf(s)+1:0;a<this.tags.length;a++){let l=this.tags[a];if(E0(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let d=l.getAttrs(e);if(d===!1)continue;l.attrs=d||void 0}return l}}}matchStyle(e,t,s,a){for(let l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){let d=this.styles[l],p=d.style;if(!(p.indexOf(e)!=0||d.context&&!s.matchesContext(d.context)||p.length>e.length&&(p.charCodeAt(e.length)!=61||p.slice(e.length+1)!=t))){if(d.getAttrs){let b=d.getAttrs(t);if(b===!1)continue;d.attrs=b||void 0}return d}}}static schemaRules(e){let t=[];function s(a){let l=a.priority==null?50:a.priority,d=0;for(;d<t.length;d++){let p=t[d];if((p.priority==null?50:p.priority)<l)break}t.splice(d,0,a)}for(let a in e.marks){let l=e.marks[a].spec.parseDOM;l&&l.forEach(d=>{s(d=Ih(d)),d.mark||d.ignore||d.clearMark||(d.mark=a)})}for(let a in e.nodes){let l=e.nodes[a].spec.parseDOM;l&&l.forEach(d=>{s(d=Ih(d)),d.node||d.ignore||d.mark||(d.node=a)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Go(e,Go.schemaRules(e)))}};const hp={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},A0={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},dp={ol:!0,ul:!0},Sr=1,kr=2,is=4;function Oh(i,e,t){return e!=null?(e?Sr:0)|(e==="full"?kr:0):i&&i.whitespace=="pre"?Sr|kr:t&~is}class Ys{constructor(e,t,s,a,l,d,p){this.type=e,this.attrs=t,this.marks=s,this.pendingMarks=a,this.solid=l,this.options=p,this.content=[],this.activeMarks=ve.none,this.stashMarks=[],this.match=d||(p&is?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Q.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let s=this.type.contentMatch,a;return(a=s.findWrapping(e.type))?(this.match=s,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Sr)){let s=this.content[this.content.length-1],a;if(s&&s.isText&&(a=/[ \t\r\n\u000c]+$/.exec(s.text))){let l=s;s.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-a[0].length))}}let t=Q.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Q.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,s=this.pendingMarks;t<s.length;t++){let a=s[t];(this.type?this.type.allowsMarkType(a.type):M0(a.type,e))&&!a.isInSet(this.activeMarks)&&(this.activeMarks=a.addToSet(this.activeMarks),this.pendingMarks=a.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!hp.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Rh{constructor(e,t,s){this.parser=e,this.options=t,this.isOpen=s,this.open=0;let a=t.topNode,l,d=Oh(null,t.preserveWhitespace,0)|(s?is:0);a?l=new Ys(a.type,a.attrs,ve.none,ve.none,!0,t.topMatch||a.type.contentMatch,d):s?l=new Ys(null,null,ve.none,ve.none,!0,null,d):l=new Ys(e.schema.topNodeType,null,ve.none,ve.none,!0,null,d),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,t){let s=e.getAttribute("style");if(!s)return t();let a=this.readStyles(T0(s));if(!a)return;let[l,d]=a,p=this.top;for(let b=0;b<d.length;b++)this.removePendingMark(d[b],p);for(let b=0;b<l.length;b++)this.addPendingMark(l[b]);t();for(let b=0;b<l.length;b++)this.removePendingMark(l[b],p);for(let b=0;b<d.length;b++)this.addPendingMark(d[b])}addTextNode(e){let t=e.nodeValue,s=this.top;if(s.options&kr||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(s.options&Sr)s.options&kr?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let s=e.nodeName.toLowerCase(),a;dp.hasOwnProperty(s)&&this.parser.normalizeLists&&C0(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,t));if(l?l.ignore:A0.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let d,p=this.top,b=this.needsBlock;if(hp.hasOwnProperty(s))p.content.length&&p.content[0].isInline&&this.open&&(this.open--,p=this.top),d=!0,p.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}l&&l.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),d&&this.sync(p),this.needsBlock=b}else this.withStyleRules(e,()=>{this.addElementByRule(e,l,l.consuming===!1?a:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=ve.none,s=ve.none;for(let a=0;a<e.length;a+=2)for(let l=void 0;;){let d=this.parser.matchStyle(e[a],e[a+1],this,l);if(!d)break;if(d.ignore)return null;if(d.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(p=>{d.clearMark(p)&&(s=p.addToSet(s))}):t=this.parser.schema.marks[d.mark].create(d.attrs).addToSet(t),d.consuming===!1)l=d;else break}return[t,s]}addElementByRule(e,t,s){let a,l,d;t.node?(l=this.parser.schema.nodes[t.node],l.isLeaf?this.insertNode(l.create(t.attrs))||this.leafFallback(e):a=this.enter(l,t.attrs||null,t.preserveWhitespace)):(d=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(d));let p=this.top;if(l&&l.isLeaf)this.findInside(e);else if(s)this.addElement(e,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(b=>this.insertNode(b));else{let b=e;typeof t.contentElement=="string"?b=e.querySelector(t.contentElement):typeof t.contentElement=="function"?b=t.contentElement(e):t.contentElement&&(b=t.contentElement),this.findAround(e,b,!0),this.addAll(b)}a&&this.sync(p)&&this.open--,d&&this.removePendingMark(d,p)}addAll(e,t,s){let a=t||0;for(let l=t?e.childNodes[t]:e.firstChild,d=s==null?null:e.childNodes[s];l!=d;l=l.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(l);this.findAtPoint(e,a)}findPlace(e){let t,s;for(let a=this.open;a>=0;a--){let l=this.nodes[a],d=l.findWrapping(e);if(d&&(!t||t.length>d.length)&&(t=d,s=l,!d.length)||l.solid)break}if(!t)return!1;this.sync(s);for(let a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let s=t.activeMarks;for(let a=0;a<e.marks.length;a++)(!t.type||t.type.allowsMarkType(e.marks[a].type))&&(s=e.marks[a].addToSet(s));return t.content.push(e.mark(s)),!0}return!1}enter(e,t,s){let a=this.findPlace(e.create(t));return a&&this.enterInner(e,t,!0,s),a}enterInner(e,t=null,s=!1,a){this.closeExtra();let l=this.top;l.applyPending(e),l.match=l.match&&l.match.matchType(e);let d=Oh(e,a,l.options);l.options&is&&l.content.length==0&&(d|=is),this.nodes.push(new Ys(e,t,l.activeMarks,l.pendingMarks,s,null,d)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let s=this.nodes[t].content;for(let a=s.length-1;a>=0;a--)e+=s[a].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==t&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,s){if(e!=t&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&t.compareDocumentPosition(this.find[a].node)&(s?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),s=this.options.context,a=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),l=-(s?s.depth+1:0)+(a?0:1),d=(p,b)=>{for(;p>=0;p--){let k=t[p];if(k==""){if(p==t.length-1||p==0)continue;for(;b>=l;b--)if(d(p-1,b))return!0;return!1}else{let A=b>0||b==0&&a?this.nodes[b].type:s&&b>=l?s.node(b-l).type:null;if(!A||A.name!=k&&A.groups.indexOf(k)==-1)return!1;b--}}return!0};return d(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let t in this.parser.schema.nodes){let s=this.parser.schema.nodes[t];if(s.isTextblock&&s.defaultAttrs)return s}}addPendingMark(e){let t=L0(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let s=this.open;s>=0;s--){let a=this.nodes[s];if(a.pendingMarks.lastIndexOf(e)>-1)a.pendingMarks=e.removeFromSet(a.pendingMarks);else{a.activeMarks=e.removeFromSet(a.activeMarks);let d=a.popFromStashMark(e);d&&a.type&&a.type.allowsMarkType(d.type)&&(a.activeMarks=d.addToSet(a.activeMarks))}if(a==t)break}}}function C0(i){for(let e=i.firstChild,t=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&dp.hasOwnProperty(s)&&t?(t.appendChild(e),e=t):s=="li"?t=e:s&&(t=null)}}function E0(i,e){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,e)}function T0(i){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,s=[];for(;t=e.exec(i);)s.push(t[1],t[2].trim());return s}function Ih(i){let e={};for(let t in i)e[t]=i[t];return e}function M0(i,e){let t=e.schema.nodes;for(let s in t){let a=t[s];if(!a.allowsMarkType(i))continue;let l=[],d=p=>{l.push(p);for(let b=0;b<p.edgeCount;b++){let{type:k,next:A}=p.edge(b);if(k==e||l.indexOf(A)<0&&d(A))return!0}};if(d(a.contentMatch))return!0}}function L0(i,e){for(let t=0;t<e.length;t++)if(i.eq(e[t]))return e[t]}class Bt{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},s){s||(s=Va(t).createDocumentFragment());let a=s,l=[];return e.forEach(d=>{if(l.length||d.marks.length){let p=0,b=0;for(;p<l.length&&b<d.marks.length;){let k=d.marks[b];if(!this.marks[k.type.name]){b++;continue}if(!k.eq(l[p][0])||k.type.spec.spanning===!1)break;p++,b++}for(;p<l.length;)a=l.pop()[1];for(;b<d.marks.length;){let k=d.marks[b++],A=this.serializeMark(k,d.isInline,t);A&&(l.push([k,a]),a.appendChild(A.dom),a=A.contentDOM||A.dom)}}a.appendChild(this.serializeNodeInner(d,t))}),s}serializeNodeInner(e,t){let{dom:s,contentDOM:a}=Bt.renderSpec(Va(t),this.nodes[e.type.name](e));if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,a)}return s}serializeNode(e,t={}){let s=this.serializeNodeInner(e,t);for(let a=e.marks.length-1;a>=0;a--){let l=this.serializeMark(e.marks[a],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(s),s=l.dom)}return s}serializeMark(e,t,s={}){let a=this.marks[e.type.name];return a&&Bt.renderSpec(Va(s),a(e,t))}static renderSpec(e,t,s=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let a=t[0],l=a.indexOf(" ");l>0&&(s=a.slice(0,l),a=a.slice(l+1));let d,p=s?e.createElementNS(s,a):e.createElement(a),b=t[1],k=1;if(b&&typeof b=="object"&&b.nodeType==null&&!Array.isArray(b)){k=2;for(let A in b)if(b[A]!=null){let L=A.indexOf(" ");L>0?p.setAttributeNS(A.slice(0,L),A.slice(L+1),b[A]):p.setAttribute(A,b[A])}}for(let A=k;A<t.length;A++){let L=t[A];if(L===0){if(A<t.length-1||A>k)throw new RangeError("Content hole must be the only child of its parent node");return{dom:p,contentDOM:p}}else{let{dom:R,contentDOM:z}=Bt.renderSpec(e,L,s);if(p.appendChild(R),z){if(d)throw new RangeError("Multiple content holes");d=z}}}return{dom:p,contentDOM:d}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Nh(e.nodes);return t.text||(t.text=s=>s.text),t}static marksFromSchema(e){return Nh(e.marks)}}function Nh(i){let e={};for(let t in i){let s=i[t].spec.toDOM;s&&(e[t]=s)}return e}function Va(i){return i.document||window.document}const up=65535,fp=Math.pow(2,16);function P0(i,e){return i+e*fp}function Dh(i){return i&up}function O0(i){return(i-(i&up))/fp}const pp=1,gp=2,tr=4,mp=8;class qo{constructor(e,t,s){this.pos=e,this.delInfo=t,this.recover=s}get deleted(){return(this.delInfo&mp)>0}get deletedBefore(){return(this.delInfo&(pp|tr))>0}get deletedAfter(){return(this.delInfo&(gp|tr))>0}get deletedAcross(){return(this.delInfo&tr)>0}}class ut{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ut.empty)return ut.empty}recover(e){let t=0,s=Dh(e);if(!this.inverted)for(let a=0;a<s;a++)t+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[s*3]+t+O0(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,s){let a=0,l=this.inverted?2:1,d=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let b=this.ranges[p]-(this.inverted?a:0);if(b>e)break;let k=this.ranges[p+l],A=this.ranges[p+d],L=b+k;if(e<=L){let R=k?e==b?-1:e==L?1:t:t,z=b+a+(R<0?0:A);if(s)return z;let D=e==(t<0?b:L)?null:P0(p/3,e-b),W=e==b?gp:e==L?pp:tr;return(t<0?e!=b:e!=L)&&(W|=mp),new qo(z,W,D)}a+=A-k}return s?e+a:new qo(e+a,0,null)}touches(e,t){let s=0,a=Dh(t),l=this.inverted?2:1,d=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let b=this.ranges[p]-(this.inverted?s:0);if(b>e)break;let k=this.ranges[p+l],A=b+k;if(e<=A&&p==a*3)return!0;s+=this.ranges[p+d]-k}return!1}forEach(e){let t=this.inverted?2:1,s=this.inverted?1:2;for(let a=0,l=0;a<this.ranges.length;a+=3){let d=this.ranges[a],p=d-(this.inverted?l:0),b=d+(this.inverted?0:l),k=this.ranges[a+t],A=this.ranges[a+s];e(p,p+k,b,b+A),l+=A-k}}invert(){return new ut(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ut.empty:new ut(e<0?[0,-e,0]:[0,0,e])}}ut.empty=new ut([]);class kn{constructor(e=[],t,s=0,a=e.length){this.maps=e,this.mirror=t,this.from=s,this.to=a}slice(e=0,t=this.maps.length){return new kn(this.maps,this.mirror,e,t)}copy(){return new kn(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,s=this.maps.length;t<e.maps.length;t++){let a=e.getMirror(t);this.appendMap(e.maps[t],a!=null&&a<t?s+a:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,s=this.maps.length+e.maps.length;t>=0;t--){let a=e.getMirror(t);this.appendMap(e.maps[t].invert(),a!=null&&a>t?s-a-1:void 0)}}invert(){let e=new kn;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let s=this.from;s<this.to;s++)e=this.maps[s].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,s){let a=0;for(let l=this.from;l<this.to;l++){let d=this.maps[l],p=d.mapResult(e,t);if(p.recover!=null){let b=this.getMirror(l);if(b!=null&&b>l&&b<this.to){l=b,e=this.maps[b].recover(p.recover);continue}}a|=p.delInfo,e=p.pos}return s?e:new qo(e,a,null)}}const ja=Object.create(null);class Ke{getMap(){return ut.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=ja[t.stepType];if(!s)throw new RangeError(`No step type ${t.stepType} defined`);return s.fromJSON(e,t)}static jsonID(e,t){if(e in ja)throw new RangeError("Duplicate use of step JSON ID "+e);return ja[e]=t,t.prototype.jsonID=e,t}}class Oe{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Oe(e,null)}static fail(e){return new Oe(null,e)}static fromReplace(e,t,s,a){try{return Oe.ok(e.replace(t,s,a))}catch(l){if(l instanceof br)return Oe.fail(l.message);throw l}}}function tc(i,e,t){let s=[];for(let a=0;a<i.childCount;a++){let l=i.child(a);l.content.size&&(l=l.copy(tc(l.content,e,l))),l.isInline&&(l=e(l,t,a)),s.push(l)}return Q.fromArray(s)}class fi extends Ke{constructor(e,t,s){super(),this.from=e,this.to=t,this.mark=s}apply(e){let t=e.slice(this.from,this.to),s=e.resolve(this.from),a=s.node(s.sharedDepth(this.to)),l=new se(tc(t.content,(d,p)=>!d.isAtom||!p.type.allowsMarkType(this.mark.type)?d:d.mark(this.mark.addToSet(d.marks)),a),t.openStart,t.openEnd);return Oe.fromReplace(e,this.from,this.to,l)}invert(){return new Ht(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deleted&&s.deleted||t.pos>=s.pos?null:new fi(t.pos,s.pos,this.mark)}merge(e){return e instanceof fi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new fi(t.from,t.to,e.markFromJSON(t.mark))}}Ke.jsonID("addMark",fi);class Ht extends Ke{constructor(e,t,s){super(),this.from=e,this.to=t,this.mark=s}apply(e){let t=e.slice(this.from,this.to),s=new se(tc(t.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),t.openStart,t.openEnd);return Oe.fromReplace(e,this.from,this.to,s)}invert(){return new fi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deleted&&s.deleted||t.pos>=s.pos?null:new Ht(t.pos,s.pos,this.mark)}merge(e){return e instanceof Ht&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ht(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ht(t.from,t.to,e.markFromJSON(t.mark))}}Ke.jsonID("removeMark",Ht);class pi extends Ke{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Oe.fail("No node at mark step's position");let s=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Oe.fromReplace(e,this.pos,this.pos+1,new se(Q.from(s),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let s=this.mark.addToSet(t.marks);if(s.length==t.marks.length){for(let a=0;a<t.marks.length;a++)if(!t.marks[a].isInSet(s))return new pi(this.pos,t.marks[a]);return new pi(this.pos,this.mark)}}return new On(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new pi(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new pi(t.pos,e.markFromJSON(t.mark))}}Ke.jsonID("addNodeMark",pi);class On extends Ke{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Oe.fail("No node at mark step's position");let s=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Oe.fromReplace(e,this.pos,this.pos+1,new se(Q.from(s),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new pi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new On(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new On(t.pos,e.markFromJSON(t.mark))}}Ke.jsonID("removeNodeMark",On);class Ye extends Ke{constructor(e,t,s,a=!1){super(),this.from=e,this.to=t,this.slice=s,this.structure=a}apply(e){return this.structure&&Uo(e,this.from,this.to)?Oe.fail("Structure replace would overwrite content"):Oe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ut([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ye(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return t.deletedAcross&&s.deletedAcross?null:new Ye(t.pos,Math.max(t.pos,s.pos),this.slice)}merge(e){if(!(e instanceof Ye)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ye(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ye(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ye(t.from,t.to,se.fromJSON(e,t.slice),!!t.structure)}}Ke.jsonID("replace",Ye);class ze extends Ke{constructor(e,t,s,a,l,d,p=!1){super(),this.from=e,this.to=t,this.gapFrom=s,this.gapTo=a,this.slice=l,this.insert=d,this.structure=p}apply(e){if(this.structure&&(Uo(e,this.from,this.gapFrom)||Uo(e,this.gapTo,this.to)))return Oe.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Oe.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,t.content);return s?Oe.fromReplace(e,this.from,this.to,s):Oe.fail("Content does not fit in gap")}getMap(){return new ut([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ze(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),a=e.map(this.gapFrom,-1),l=e.map(this.gapTo,1);return t.deletedAcross&&s.deletedAcross||a<t.pos||l>s.pos?null:new ze(t.pos,s.pos,a,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ze(t.from,t.to,t.gapFrom,t.gapTo,se.fromJSON(e,t.slice),t.insert,!!t.structure)}}Ke.jsonID("replaceAround",ze);function Uo(i,e,t){let s=i.resolve(e),a=t-e,l=s.depth;for(;a>0&&l>0&&s.indexAfter(l)==s.node(l).childCount;)l--,a--;if(a>0){let d=s.node(l).maybeChild(s.indexAfter(l));for(;a>0;){if(!d||d.isLeaf)return!0;d=d.firstChild,a--}}return!1}function R0(i,e,t,s){let a=[],l=[],d,p;i.doc.nodesBetween(e,t,(b,k,A)=>{if(!b.isInline)return;let L=b.marks;if(!s.isInSet(L)&&A.type.allowsMarkType(s.type)){let R=Math.max(k,e),z=Math.min(k+b.nodeSize,t),D=s.addToSet(L);for(let W=0;W<L.length;W++)L[W].isInSet(D)||(d&&d.to==R&&d.mark.eq(L[W])?d.to=z:a.push(d=new Ht(R,z,L[W])));p&&p.to==R?p.to=z:l.push(p=new fi(R,z,s))}}),a.forEach(b=>i.step(b)),l.forEach(b=>i.step(b))}function I0(i,e,t,s){let a=[],l=0;i.doc.nodesBetween(e,t,(d,p)=>{if(!d.isInline)return;l++;let b=null;if(s instanceof ca){let k=d.marks,A;for(;A=s.isInSet(k);)(b||(b=[])).push(A),k=A.removeFromSet(k)}else s?s.isInSet(d.marks)&&(b=[s]):b=d.marks;if(b&&b.length){let k=Math.min(p+d.nodeSize,t);for(let A=0;A<b.length;A++){let L=b[A],R;for(let z=0;z<a.length;z++){let D=a[z];D.step==l-1&&L.eq(a[z].style)&&(R=D)}R?(R.to=k,R.step=l):a.push({style:L,from:Math.max(p,e),to:k,step:l})}}}),a.forEach(d=>i.step(new Ht(d.from,d.to,d.style)))}function N0(i,e,t,s=t.contentMatch){let a=i.doc.nodeAt(e),l=[],d=e+1;for(let p=0;p<a.childCount;p++){let b=a.child(p),k=d+b.nodeSize,A=s.matchType(b.type);if(!A)l.push(new Ye(d,k,se.empty));else{s=A;for(let L=0;L<b.marks.length;L++)t.allowsMarkType(b.marks[L].type)||i.step(new Ht(d,k,b.marks[L]));if(b.isText&&!t.spec.code){let L,R=/\r?\n|\r/g,z;for(;L=R.exec(b.text);)z||(z=new se(Q.from(t.schema.text(" ",t.allowedMarks(b.marks))),0,0)),l.push(new Ye(d+L.index,d+L.index+L[0].length,z))}}d=k}if(!s.validEnd){let p=s.fillBefore(Q.empty,!0);i.replace(d,d,new se(p,0,0))}for(let p=l.length-1;p>=0;p--)i.step(l[p])}function D0(i,e,t){return(e==0||i.canReplace(e,i.childCount))&&(t==i.childCount||i.canReplace(0,t))}function Xn(i){let t=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let s=i.depth;;--s){let a=i.$from.node(s),l=i.$from.index(s),d=i.$to.indexAfter(s);if(s<i.depth&&a.canReplace(l,d,t))return s;if(s==0||a.type.spec.isolating||!D0(a,l,d))break}return null}function F0(i,e,t){let{$from:s,$to:a,depth:l}=e,d=s.before(l+1),p=a.after(l+1),b=d,k=p,A=Q.empty,L=0;for(let D=l,W=!1;D>t;D--)W||s.index(D)>0?(W=!0,A=Q.from(s.node(D).copy(A)),L++):b--;let R=Q.empty,z=0;for(let D=l,W=!1;D>t;D--)W||a.after(D+1)<a.end(D)?(W=!0,R=Q.from(a.node(D).copy(R)),z++):k++;i.step(new ze(b,k,d,p,new se(A.append(R),L,z),A.size-L,!0))}function ic(i,e,t=null,s=i){let a=z0(i,e),l=a&&B0(s,e);return l?a.map(Fh).concat({type:e,attrs:t}).concat(l.map(Fh)):null}function Fh(i){return{type:i,attrs:null}}function z0(i,e){let{parent:t,startIndex:s,endIndex:a}=i,l=t.contentMatchAt(s).findWrapping(e);if(!l)return null;let d=l.length?l[0]:e;return t.canReplaceWith(s,a,d)?l:null}function B0(i,e){let{parent:t,startIndex:s,endIndex:a}=i,l=t.child(s),d=e.contentMatch.findWrapping(l.type);if(!d)return null;let b=(d.length?d[d.length-1]:e).contentMatch;for(let k=s;b&&k<a;k++)b=b.matchType(t.child(k).type);return!b||!b.validEnd?null:d}function H0(i,e,t){let s=Q.empty;for(let d=t.length-1;d>=0;d--){if(s.size){let p=t[d].type.contentMatch.matchFragment(s);if(!p||!p.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=Q.from(t[d].type.create(t[d].attrs,s))}let a=e.start,l=e.end;i.step(new ze(a,l,a,l,new se(s,0,0),t.length,!0))}function _0(i,e,t,s,a){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=i.steps.length;i.doc.nodesBetween(e,t,(d,p)=>{if(d.isTextblock&&!d.hasMarkup(s,a)&&X0(i.doc,i.mapping.slice(l).map(p),s)){i.clearIncompatible(i.mapping.slice(l).map(p,1),s);let b=i.mapping.slice(l),k=b.map(p,1),A=b.map(p+d.nodeSize,1);return i.step(new ze(k,A,k+1,A-1,new se(Q.from(s.create(a,null,d.marks)),0,0),1,!0)),!1}})}function X0(i,e,t){let s=i.resolve(e),a=s.index();return s.parent.canReplaceWith(a,a+1,t)}function W0(i,e,t,s,a){let l=i.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let d=t.create(s,null,a||l.marks);if(l.isLeaf)return i.replaceWith(e,e+l.nodeSize,d);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);i.step(new ze(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new se(Q.from(d),0,0),1,!0))}function An(i,e,t=1,s){let a=i.resolve(e),l=a.depth-t,d=s&&s[s.length-1]||a.parent;if(l<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!d.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let k=a.depth-1,A=t-2;k>l;k--,A--){let L=a.node(k),R=a.index(k);if(L.type.spec.isolating)return!1;let z=L.content.cutByIndex(R,L.childCount),D=s&&s[A+1];D&&(z=z.replaceChild(0,D.type.create(D.attrs)));let W=s&&s[A]||L;if(!L.canReplace(R+1,L.childCount)||!W.type.validContent(z))return!1}let p=a.indexAfter(l),b=s&&s[0];return a.node(l).canReplaceWith(p,p,b?b.type:a.node(l+1).type)}function Y0(i,e,t=1,s){let a=i.doc.resolve(e),l=Q.empty,d=Q.empty;for(let p=a.depth,b=a.depth-t,k=t-1;p>b;p--,k--){l=Q.from(a.node(p).copy(l));let A=s&&s[k];d=Q.from(A?A.type.create(A.attrs,d):a.node(p).copy(d))}i.step(new Ye(e,e,new se(l.append(d),t,t),!0))}function Ei(i,e){let t=i.resolve(e),s=t.index();return xp(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(s,s+1)}function xp(i,e){return!!(i&&e&&!i.isLeaf&&i.canAppend(e))}function ha(i,e,t=-1){let s=i.resolve(e);for(let a=s.depth;;a--){let l,d,p=s.index(a);if(a==s.depth?(l=s.nodeBefore,d=s.nodeAfter):t>0?(l=s.node(a+1),p++,d=s.node(a).maybeChild(p)):(l=s.node(a).maybeChild(p-1),d=s.node(a+1)),l&&!l.isTextblock&&xp(l,d)&&s.node(a).canReplace(p,p+1))return e;if(a==0)break;e=t<0?s.before(a):s.after(a)}}function V0(i,e,t){let s=new Ye(e-t,e+t,se.empty,!0);i.step(s)}function j0(i,e,t){let s=i.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),t))return e;if(s.parentOffset==0)for(let a=s.depth-1;a>=0;a--){let l=s.index(a);if(s.node(a).canReplaceWith(l,l,t))return s.before(a+1);if(l>0)return null}if(s.parentOffset==s.parent.content.size)for(let a=s.depth-1;a>=0;a--){let l=s.indexAfter(a);if(s.node(a).canReplaceWith(l,l,t))return s.after(a+1);if(l<s.node(a).childCount)return null}return null}function bp(i,e,t){let s=i.resolve(e);if(!t.content.size)return e;let a=t.content;for(let l=0;l<t.openStart;l++)a=a.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let d=s.depth;d>=0;d--){let p=d==s.depth?0:s.pos<=(s.start(d+1)+s.end(d+1))/2?-1:1,b=s.index(d)+(p>0?1:0),k=s.node(d),A=!1;if(l==1)A=k.canReplace(b,b,a);else{let L=k.contentMatchAt(b).findWrapping(a.firstChild.type);A=L&&k.canReplaceWith(b,b,L[0])}if(A)return p==0?s.pos:p<0?s.before(d+1):s.after(d+1)}return null}function nc(i,e,t=e,s=se.empty){if(e==t&&!s.size)return null;let a=i.resolve(e),l=i.resolve(t);return yp(a,l,s)?new Ye(e,t,s):new G0(a,l,s).fit()}function yp(i,e,t){return!t.openStart&&!t.openEnd&&i.start()==e.start()&&i.parent.canReplace(i.index(),e.index(),t.content)}class G0{constructor(e,t,s){this.$from=e,this.$to=t,this.unplaced=s,this.frontier=[],this.placed=Q.empty;for(let a=0;a<=e.depth;a++){let l=e.node(a);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=Q.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let k=this.findFittable();k?this.placeNodes(k):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,s=this.$from,a=this.close(e<0?this.$to:s.doc.resolve(e));if(!a)return null;let l=this.placed,d=s.depth,p=a.depth;for(;d&&p&&l.childCount==1;)l=l.firstChild.content,d--,p--;let b=new se(l,d,p);return e>-1?new ze(s.pos,e,this.$to.pos,this.$to.end(),b,t):b.size||s.pos!=this.$to.pos?new Ye(s.pos,a.pos,b):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,s=0,a=this.unplaced.openEnd;s<e;s++){let l=t.firstChild;if(t.childCount>1&&(a=0),l.type.spec.isolating&&a<=s){e=s;break}t=l.content}for(let t=1;t<=2;t++)for(let s=t==1?e:this.unplaced.openStart;s>=0;s--){let a,l=null;s?(l=Ga(this.unplaced.content,s-1).firstChild,a=l.content):a=this.unplaced.content;let d=a.firstChild;for(let p=this.depth;p>=0;p--){let{type:b,match:k}=this.frontier[p],A,L=null;if(t==1&&(d?k.matchType(d.type)||(L=k.fillBefore(Q.from(d),!1)):l&&b.compatibleContent(l.type)))return{sliceDepth:s,frontierDepth:p,parent:l,inject:L};if(t==2&&d&&(A=k.findWrapping(d.type)))return{sliceDepth:s,frontierDepth:p,parent:l,wrap:A};if(l&&k.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:s}=this.unplaced,a=Ga(e,t);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new se(e,t+1,Math.max(s,a.size+t>=e.size-s?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:s}=this.unplaced,a=Ga(e,t);if(a.childCount<=1&&t>0){let l=e.size-t<=t+a.size;this.unplaced=new se($n(e,t-1,1),t-1,l?t-1:s)}else this.unplaced=new se($n(e,t,1),t,s)}placeNodes({sliceDepth:e,frontierDepth:t,parent:s,inject:a,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let W=0;W<l.length;W++)this.openFrontierNode(l[W]);let d=this.unplaced,p=s?s.content:d.content,b=d.openStart-e,k=0,A=[],{match:L,type:R}=this.frontier[t];if(a){for(let W=0;W<a.childCount;W++)A.push(a.child(W));L=L.matchFragment(a)}let z=p.size+e-(d.content.size-d.openEnd);for(;k<p.childCount;){let W=p.child(k),X=L.matchType(W.type);if(!X)break;k++,(k>1||b==0||W.content.size)&&(L=X,A.push(vp(W.mark(R.allowedMarks(W.marks)),k==1?b:0,k==p.childCount?z:-1)))}let D=k==p.childCount;D||(z=-1),this.placed=Kn(this.placed,t,Q.from(A)),this.frontier[t].match=L,D&&z<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let W=0,X=p;W<z;W++){let G=X.lastChild;this.frontier.push({type:G.type,match:G.contentMatchAt(G.childCount)}),X=G.content}this.unplaced=D?e==0?se.empty:new se($n(d.content,e-1,1),e-1,z<0?d.openEnd:e-1):new se($n(d.content,e,k),d.openStart,d.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!qa(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:s}=this.$to,a=this.$to.after(s);for(;s>1&&a==this.$to.end(--s);)++a;return a}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:s,type:a}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),d=qa(e,t,a,s,l);if(d){for(let p=t-1;p>=0;p--){let{match:b,type:k}=this.frontier[p],A=qa(e,p,k,b,!0);if(!A||A.childCount)continue e}return{depth:t,fit:d,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Kn(this.placed,t.depth,t.fit)),e=t.move;for(let s=t.depth+1;s<=e.depth;s++){let a=e.node(s),l=a.type.contentMatch.fillBefore(a.content,!0,e.index(s));this.openFrontierNode(a.type,a.attrs,l)}return e}openFrontierNode(e,t=null,s){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=Kn(this.placed,this.depth,Q.from(e.create(t,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(Q.empty,!0);t.childCount&&(this.placed=Kn(this.placed,this.frontier.length,t))}}function $n(i,e,t){return e==0?i.cutByIndex(t,i.childCount):i.replaceChild(0,i.firstChild.copy($n(i.firstChild.content,e-1,t)))}function Kn(i,e,t){return e==0?i.append(t):i.replaceChild(i.childCount-1,i.lastChild.copy(Kn(i.lastChild.content,e-1,t)))}function Ga(i,e){for(let t=0;t<e;t++)i=i.firstChild.content;return i}function vp(i,e,t){if(e<=0)return i;let s=i.content;return e>1&&(s=s.replaceChild(0,vp(s.firstChild,e-1,s.childCount==1?t-1:0))),e>0&&(s=i.type.contentMatch.fillBefore(s).append(s),t<=0&&(s=s.append(i.type.contentMatch.matchFragment(s).fillBefore(Q.empty,!0)))),i.copy(s)}function qa(i,e,t,s,a){let l=i.node(e),d=a?i.indexAfter(e):i.index(e);if(d==l.childCount&&!t.compatibleContent(l.type))return null;let p=s.fillBefore(l.content,!0,d);return p&&!q0(t,l.content,d)?p:null}function q0(i,e,t){for(let s=t;s<e.childCount;s++)if(!i.allowsMarks(e.child(s).marks))return!0;return!1}function U0(i){return i.spec.defining||i.spec.definingForContent}function $0(i,e,t,s){if(!s.size)return i.deleteRange(e,t);let a=i.doc.resolve(e),l=i.doc.resolve(t);if(yp(a,l,s))return i.step(new Ye(e,t,s));let d=Sp(a,i.doc.resolve(t));d[d.length-1]==0&&d.pop();let p=-(a.depth+1);d.unshift(p);for(let R=a.depth,z=a.pos-1;R>0;R--,z--){let D=a.node(R).type.spec;if(D.defining||D.definingAsContext||D.isolating)break;d.indexOf(R)>-1?p=R:a.before(R)==z&&d.splice(1,0,-R)}let b=d.indexOf(p),k=[],A=s.openStart;for(let R=s.content,z=0;;z++){let D=R.firstChild;if(k.push(D),z==s.openStart)break;R=D.content}for(let R=A-1;R>=0;R--){let z=k[R],D=U0(z.type);if(D&&!z.sameMarkup(a.node(Math.abs(p)-1)))A=R;else if(D||!z.type.isTextblock)break}for(let R=s.openStart;R>=0;R--){let z=(R+A+1)%(s.openStart+1),D=k[z];if(D)for(let W=0;W<d.length;W++){let X=d[(W+b)%d.length],G=!0;X<0&&(G=!1,X=-X);let _=a.node(X-1),ne=a.index(X-1);if(_.canReplaceWith(ne,ne,D.type,D.marks))return i.replace(a.before(X),G?l.after(X):t,new se(wp(s.content,0,s.openStart,z),z,s.openEnd))}}let L=i.steps.length;for(let R=d.length-1;R>=0&&(i.replace(e,t,s),!(i.steps.length>L));R--){let z=d[R];z<0||(e=a.before(z),t=l.after(z))}}function wp(i,e,t,s,a){if(e<t){let l=i.firstChild;i=i.replaceChild(0,l.copy(wp(l.content,e+1,t,s,l)))}if(e>s){let l=a.contentMatchAt(0),d=l.fillBefore(i).append(i);i=d.append(l.matchFragment(d).fillBefore(Q.empty,!0))}return i}function K0(i,e,t,s){if(!s.isInline&&e==t&&i.doc.resolve(e).parent.content.size){let a=j0(i.doc,e,s.type);a!=null&&(e=t=a)}i.replaceRange(e,t,new se(Q.from(s),0,0))}function J0(i,e,t){let s=i.doc.resolve(e),a=i.doc.resolve(t),l=Sp(s,a);for(let d=0;d<l.length;d++){let p=l[d],b=d==l.length-1;if(b&&p==0||s.node(p).type.contentMatch.validEnd)return i.delete(s.start(p),a.end(p));if(p>0&&(b||s.node(p-1).canReplace(s.index(p-1),a.indexAfter(p-1))))return i.delete(s.before(p),a.after(p))}for(let d=1;d<=s.depth&&d<=a.depth;d++)if(e-s.start(d)==s.depth-d&&t>s.end(d)&&a.end(d)-t!=a.depth-d)return i.delete(s.before(d),t);i.delete(e,t)}function Sp(i,e){let t=[],s=Math.min(i.depth,e.depth);for(let a=s;a>=0;a--){let l=i.start(a);if(l<i.pos-(i.depth-a)||e.end(a)>e.pos+(e.depth-a)||i.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(l==e.start(a)||a==i.depth&&a==e.depth&&i.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==l-1)&&t.push(a)}return t}class Cn extends Ke{constructor(e,t,s){super(),this.pos=e,this.attr=t,this.value=s}apply(e){let t=e.nodeAt(this.pos);if(!t)return Oe.fail("No node at attribute step's position");let s=Object.create(null);for(let l in t.attrs)s[l]=t.attrs[l];s[this.attr]=this.value;let a=t.type.create(s,null,t.marks);return Oe.fromReplace(e,this.pos,this.pos+1,new se(Q.from(a),0,t.isLeaf?0:1))}getMap(){return ut.empty}invert(e){return new Cn(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Cn(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Cn(t.pos,t.attr,t.value)}}Ke.jsonID("attr",Cn);class ps extends Ke{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let a in e.attrs)t[a]=e.attrs[a];t[this.attr]=this.value;let s=e.type.create(t,e.content,e.marks);return Oe.ok(s)}getMap(){return ut.empty}invert(e){return new ps(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ps(t.attr,t.value)}}Ke.jsonID("docAttr",ps);let Rn=class extends Error{};Rn=function i(e){let t=Error.call(this,e);return t.__proto__=i.prototype,t};Rn.prototype=Object.create(Error.prototype);Rn.prototype.constructor=Rn;Rn.prototype.name="TransformError";class kp{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new kn}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Rn(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,s=se.empty){let a=nc(this.doc,e,t,s);return a&&this.step(a),this}replaceWith(e,t,s){return this.replace(e,t,new se(Q.from(s),0,0))}delete(e,t){return this.replace(e,t,se.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,s){return $0(this,e,t,s),this}replaceRangeWith(e,t,s){return K0(this,e,t,s),this}deleteRange(e,t){return J0(this,e,t),this}lift(e,t){return F0(this,e,t),this}join(e,t=1){return V0(this,e,t),this}wrap(e,t){return H0(this,e,t),this}setBlockType(e,t=e,s,a=null){return _0(this,e,t,s,a),this}setNodeMarkup(e,t,s=null,a){return W0(this,e,t,s,a),this}setNodeAttribute(e,t,s){return this.step(new Cn(e,t,s)),this}setDocAttribute(e,t){return this.step(new ps(e,t)),this}addNodeMark(e,t){return this.step(new pi(e,t)),this}removeNodeMark(e,t){if(!(t instanceof ve)){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(t=t.isInSet(s.marks),!t)return this}return this.step(new On(e,t)),this}split(e,t=1,s){return Y0(this,e,t,s),this}addMark(e,t,s){return R0(this,e,t,s),this}removeMark(e,t,s){return I0(this,e,t,s),this}clearIncompatible(e,t,s){return N0(this,e,t,s),this}}const Ua=Object.create(null);class pe{constructor(e,t,s){this.$anchor=e,this.$head=t,this.ranges=s||[new Z0(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=se.empty){let s=t.content.lastChild,a=null;for(let p=0;p<t.openEnd;p++)a=s,s=s.lastChild;let l=e.steps.length,d=this.ranges;for(let p=0;p<d.length;p++){let{$from:b,$to:k}=d[p],A=e.mapping.slice(l);e.replaceRange(A.map(b.pos),A.map(k.pos),p?se.empty:t),p==0&&Hh(e,l,(s?s.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,t){let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:d,$to:p}=a[l],b=e.mapping.slice(s),k=b.map(d.pos),A=b.map(p.pos);l?e.deleteRange(k,A):(e.replaceRangeWith(k,A,t),Hh(e,s,t.isInline?-1:1))}}static findFrom(e,t,s=!1){let a=e.parent.inlineContent?new ue(e):fn(e.node(0),e.parent,e.pos,e.index(),t,s);if(a)return a;for(let l=e.depth-1;l>=0;l--){let d=t<0?fn(e.node(0),e.node(l),e.before(l+1),e.index(l),t,s):fn(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,s);if(d)return d}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Tt(e.node(0))}static atStart(e){return fn(e,e,0,0,1)||new Tt(e)}static atEnd(e){return fn(e,e,e.content.size,e.childCount,-1)||new Tt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=Ua[t.type];if(!s)throw new RangeError(`No selection type ${t.type} defined`);return s.fromJSON(e,t)}static jsonID(e,t){if(e in Ua)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ua[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ue.between(this.$anchor,this.$head).getBookmark()}}pe.prototype.visible=!0;class Z0{constructor(e,t){this.$from=e,this.$to=t}}let zh=!1;function Bh(i){!zh&&!i.parent.inlineContent&&(zh=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}class ue extends pe{constructor(e,t=e){Bh(e),Bh(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let s=e.resolve(t.map(this.head));if(!s.parent.inlineContent)return pe.near(s);let a=e.resolve(t.map(this.anchor));return new ue(a.parent.inlineContent?a:s,s)}replace(e,t=se.empty){if(super.replace(e,t),t==se.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof ue&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new da(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ue(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,s=t){let a=e.resolve(t);return new this(a,s==t?a:e.resolve(s))}static between(e,t,s){let a=e.pos-t.pos;if((!s||a)&&(s=a>=0?1:-1),!t.parent.inlineContent){let l=pe.findFrom(t,s,!0)||pe.findFrom(t,-s,!0);if(l)t=l.$head;else return pe.near(t,s)}return e.parent.inlineContent||(a==0?e=t:(e=(pe.findFrom(e,-s,!0)||pe.findFrom(e,s,!0)).$anchor,e.pos<t.pos!=a<0&&(e=t))),new ue(e,t)}}pe.jsonID("text",ue);class da{constructor(e,t){this.anchor=e,this.head=t}map(e){return new da(e.map(this.anchor),e.map(this.head))}resolve(e){return ue.between(e.resolve(this.anchor),e.resolve(this.head))}}class he extends pe{constructor(e){let t=e.nodeAfter,s=e.node(0).resolve(e.pos+t.nodeSize);super(e,s),this.node=t}map(e,t){let{deleted:s,pos:a}=t.mapResult(this.anchor),l=e.resolve(a);return s?pe.near(l):new he(l)}content(){return new se(Q.from(this.node),0,0)}eq(e){return e instanceof he&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new sc(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new he(e.resolve(t.anchor))}static create(e,t){return new he(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}he.prototype.visible=!1;pe.jsonID("node",he);class sc{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:s}=e.mapResult(this.anchor);return t?new da(s,s):new sc(s)}resolve(e){let t=e.resolve(this.anchor),s=t.nodeAfter;return s&&he.isSelectable(s)?new he(t):pe.near(t)}}class Tt extends pe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=se.empty){if(t==se.empty){e.delete(0,e.doc.content.size);let s=pe.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Tt(e)}map(e){return new Tt(e)}eq(e){return e instanceof Tt}getBookmark(){return Q0}}pe.jsonID("all",Tt);const Q0={map(){return this},resolve(i){return new Tt(i)}};function fn(i,e,t,s,a,l=!1){if(e.inlineContent)return ue.create(i,t);for(let d=s-(a>0?0:1);a>0?d<e.childCount:d>=0;d+=a){let p=e.child(d);if(p.isAtom){if(!l&&he.isSelectable(p))return he.create(i,t-(a<0?p.nodeSize:0))}else{let b=fn(i,p,t+a,a<0?p.childCount:0,a,l);if(b)return b}t+=p.nodeSize*a}return null}function Hh(i,e,t){let s=i.steps.length-1;if(s<e)return;let a=i.steps[s];if(!(a instanceof Ye||a instanceof ze))return;let l=i.mapping.maps[s],d;l.forEach((p,b,k,A)=>{d==null&&(d=A)}),i.setSelection(pe.near(i.doc.resolve(d),t))}const _h=1,Vs=2,Xh=4;class ew extends kp{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|_h)&~Vs,this.storedMarks=null,this}get selectionSet(){return(this.updated&_h)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Vs,this}ensureMarks(e){return ve.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Vs)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Vs,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let s=this.selection;return t&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||ve.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,s){let a=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(s==null&&(s=t),s=s??t,!e)return this.deleteRange(t,s);let l=this.storedMarks;if(!l){let d=this.doc.resolve(t);l=s==t?d.marks():d.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(t,s,a.text(e,l)),this.selection.empty||this.setSelection(pe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Xh,this}get scrolledIntoView(){return(this.updated&Xh)>0}}function Wh(i,e){return!e||!i?i:i.bind(e)}class Jn{constructor(e,t,s){this.name=e,this.init=Wh(t.init,s),this.apply=Wh(t.apply,s)}}const tw=[new Jn("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new Jn("selection",{init(i,e){return i.selection||pe.atStart(e.doc)},apply(i){return i.selection}}),new Jn("storedMarks",{init(i){return i.storedMarks||null},apply(i,e,t,s){return s.selection.$cursor?i.storedMarks:null}}),new Jn("scrollToSelection",{init(){return 0},apply(i,e){return i.scrolledIntoView?e+1:e}})];class $a{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=tw.slice(),t&&t.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new Jn(s.key,s.spec.state,s))})}}class xn{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=t){let a=this.config.plugins[s];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],s=this.applyInner(e),a=null;for(;;){let l=!1;for(let d=0;d<this.config.plugins.length;d++){let p=this.config.plugins[d];if(p.spec.appendTransaction){let b=a?a[d].n:0,k=a?a[d].state:this,A=b<t.length&&p.spec.appendTransaction.call(p,b?t.slice(b):t,k,s);if(A&&s.filterTransaction(A,d)){if(A.setMeta("appendedTransaction",e),!a){a=[];for(let L=0;L<this.config.plugins.length;L++)a.push(L<d?{state:s,n:t.length}:{state:this,n:0})}t.push(A),s=s.applyInner(A),l=!0}a&&(a[d]={state:s,n:t.length})}}if(!l)return{state:s,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new xn(this.config),s=this.config.fields;for(let a=0;a<s.length;a++){let l=s[a];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new ew(this)}static create(e){let t=new $a(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new xn(t);for(let a=0;a<t.fields.length;a++)s[t.fields[a].name]=t.fields[a].init(e,s);return s}reconfigure(e){let t=new $a(this.schema,e.plugins),s=t.fields,a=new xn(t);for(let l=0;l<s.length;l++){let d=s[l].name;a[d]=this.hasOwnProperty(d)?this[d]:s[l].init(e,a)}return a}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[s],l=a.spec.state;l&&l.toJSON&&(t[s]=l.toJSON.call(a,this[a.key]))}return t}static fromJSON(e,t,s){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new $a(e.schema,e.plugins),l=new xn(a);return a.fields.forEach(d=>{if(d.name=="doc")l.doc=Ki.fromJSON(e.schema,t.doc);else if(d.name=="selection")l.selection=pe.fromJSON(l.doc,t.selection);else if(d.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let p in s){let b=s[p],k=b.spec.state;if(b.key==d.name&&k&&k.fromJSON&&Object.prototype.hasOwnProperty.call(t,p)){l[d.name]=k.fromJSON.call(b,e,t[p],l);return}}l[d.name]=d.init(e,l)}}),l}}function Ap(i,e,t){for(let s in i){let a=i[s];a instanceof Function?a=a.bind(e):s=="handleDOMEvents"&&(a=Ap(a,e,{})),t[s]=a}return t}class ct{constructor(e){this.spec=e,this.props={},e.props&&Ap(e.props,this,this.props),this.key=e.key?e.key.key:Cp("plugin")}getState(e){return e[this.key]}}const Ka=Object.create(null);function Cp(i){return i in Ka?i+"$"+ ++Ka[i]:(Ka[i]=0,i+"$")}class Vt{constructor(e="key"){this.key=Cp(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Qe=function(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e},gs=function(i){let e=i.assignedSlot||i.parentNode;return e&&e.nodeType==11?e.host:e};let Yh=null;const Ut=function(i,e,t){let s=Yh||(Yh=document.createRange());return s.setEnd(i,t??i.nodeValue.length),s.setStart(i,e||0),s},tn=function(i,e,t,s){return t&&(Vh(i,e,t,s,-1)||Vh(i,e,t,s,1))},iw=/^(img|br|input|textarea|hr)$/i;function Vh(i,e,t,s,a){for(;;){if(i==t&&e==s)return!0;if(e==(a<0?0:Ft(i))){let l=i.parentNode;if(!l||l.nodeType!=1||rc(i)||iw.test(i.nodeName)||i.contentEditable=="false")return!1;e=Qe(i)+(a<0?0:1),i=l}else if(i.nodeType==1){if(i=i.childNodes[e+(a<0?-1:0)],i.contentEditable=="false")return!1;e=a<0?Ft(i):0}else return!1}}function Ft(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function nw(i,e,t){for(let s=e==0,a=e==Ft(i);s||a;){if(i==t)return!0;let l=Qe(i);if(i=i.parentNode,!i)return!1;s=s&&l==0,a=a&&l==Ft(i)}}function rc(i){let e;for(let t=i;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==i||e.contentDOM==i)}const ua=function(i){return i.focusNode&&tn(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function Ni(i,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=i,t.key=t.code=e,t}function sw(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function rw(i,e,t){if(i.caretPositionFromPoint)try{let s=i.caretPositionFromPoint(e,t);if(s)return{node:s.offsetNode,offset:s.offset}}catch{}if(i.caretRangeFromPoint){let s=i.caretRangeFromPoint(e,t);if(s)return{node:s.startContainer,offset:s.startOffset}}}const _t=typeof navigator<"u"?navigator:null,jh=typeof document<"u"?document:null,Ti=_t&&_t.userAgent||"",$o=/Edge\/(\d+)/.exec(Ti),Ep=/MSIE \d/.exec(Ti),Ko=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ti),ot=!!(Ep||Ko||$o),xi=Ep?document.documentMode:Ko?+Ko[1]:$o?+$o[1]:0,Lt=!ot&&/gecko\/(\d+)/i.test(Ti);Lt&&+(/Firefox\/(\d+)/.exec(Ti)||[0,0])[1];const Jo=!ot&&/Chrome\/(\d+)/.exec(Ti),Ue=!!Jo,aw=Jo?+Jo[1]:0,tt=!ot&&!!_t&&/Apple Computer/.test(_t.vendor),In=tt&&(/Mobile\/\w+/.test(Ti)||!!_t&&_t.maxTouchPoints>2),xt=In||(_t?/Mac/.test(_t.platform):!1),ow=_t?/Win/.test(_t.platform):!1,Ct=/Android \d/.test(Ti),Ls=!!jh&&"webkitFontSmoothing"in jh.documentElement.style,lw=Ls?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function cw(i){return{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function jt(i,e){return typeof i=="number"?i:i[e]}function hw(i){let e=i.getBoundingClientRect(),t=e.width/i.offsetWidth||1,s=e.height/i.offsetHeight||1;return{left:e.left,right:e.left+i.clientWidth*t,top:e.top,bottom:e.top+i.clientHeight*s}}function Gh(i,e,t){let s=i.someProp("scrollThreshold")||0,a=i.someProp("scrollMargin")||5,l=i.dom.ownerDocument;for(let d=t||i.dom;d;d=gs(d)){if(d.nodeType!=1)continue;let p=d,b=p==l.body,k=b?cw(l):hw(p),A=0,L=0;if(e.top<k.top+jt(s,"top")?L=-(k.top-e.top+jt(a,"top")):e.bottom>k.bottom-jt(s,"bottom")&&(L=e.bottom-e.top>k.bottom-k.top?e.top+jt(a,"top")-k.top:e.bottom-k.bottom+jt(a,"bottom")),e.left<k.left+jt(s,"left")?A=-(k.left-e.left+jt(a,"left")):e.right>k.right-jt(s,"right")&&(A=e.right-k.right+jt(a,"right")),A||L)if(b)l.defaultView.scrollBy(A,L);else{let R=p.scrollLeft,z=p.scrollTop;L&&(p.scrollTop+=L),A&&(p.scrollLeft+=A);let D=p.scrollLeft-R,W=p.scrollTop-z;e={left:e.left-D,top:e.top-W,right:e.right-D,bottom:e.bottom-W}}if(b||/^(fixed|sticky)$/.test(getComputedStyle(d).position))break}}function dw(i){let e=i.dom.getBoundingClientRect(),t=Math.max(0,e.top),s,a;for(let l=(e.left+e.right)/2,d=t+1;d<Math.min(innerHeight,e.bottom);d+=5){let p=i.root.elementFromPoint(l,d);if(!p||p==i.dom||!i.dom.contains(p))continue;let b=p.getBoundingClientRect();if(b.top>=t-20){s=p,a=b.top;break}}return{refDOM:s,refTop:a,stack:Tp(i.dom)}}function Tp(i){let e=[],t=i.ownerDocument;for(let s=i;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),i!=t);s=gs(s));return e}function uw({refDOM:i,refTop:e,stack:t}){let s=i?i.getBoundingClientRect().top:0;Mp(t,s==0?0:s-e)}function Mp(i,e){for(let t=0;t<i.length;t++){let{dom:s,top:a,left:l}=i[t];s.scrollTop!=a+e&&(s.scrollTop=a+e),s.scrollLeft!=l&&(s.scrollLeft=l)}}let hn=null;function fw(i){if(i.setActive)return i.setActive();if(hn)return i.focus(hn);let e=Tp(i);i.focus(hn==null?{get preventScroll(){return hn={preventScroll:!0},!0}}:void 0),hn||(hn=!1,Mp(e,0))}function Lp(i,e){let t,s=2e8,a,l=0,d=e.top,p=e.top,b,k;for(let A=i.firstChild,L=0;A;A=A.nextSibling,L++){let R;if(A.nodeType==1)R=A.getClientRects();else if(A.nodeType==3)R=Ut(A).getClientRects();else continue;for(let z=0;z<R.length;z++){let D=R[z];if(D.top<=d&&D.bottom>=p){d=Math.max(D.bottom,d),p=Math.min(D.top,p);let W=D.left>e.left?D.left-e.left:D.right<e.left?e.left-D.right:0;if(W<s){t=A,s=W,a=W&&t.nodeType==3?{left:D.right<e.left?D.right:D.left,top:e.top}:e,A.nodeType==1&&W&&(l=L+(e.left>=(D.left+D.right)/2?1:0));continue}}else D.top>e.top&&!b&&D.left<=e.left&&D.right>=e.left&&(b=A,k={left:Math.max(D.left,Math.min(D.right,e.left)),top:D.top});!t&&(e.left>=D.right&&e.top>=D.top||e.left>=D.left&&e.top>=D.bottom)&&(l=L+1)}}return!t&&b&&(t=b,a=k,s=0),t&&t.nodeType==3?pw(t,a):!t||s&&t.nodeType==1?{node:i,offset:l}:Lp(t,a)}function pw(i,e){let t=i.nodeValue.length,s=document.createRange();for(let a=0;a<t;a++){s.setEnd(i,a+1),s.setStart(i,a);let l=ai(s,1);if(l.top!=l.bottom&&ac(e,l))return{node:i,offset:a+(e.left>=(l.left+l.right)/2?1:0)}}return{node:i,offset:0}}function ac(i,e){return i.left>=e.left-1&&i.left<=e.right+1&&i.top>=e.top-1&&i.top<=e.bottom+1}function gw(i,e){let t=i.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<i.getBoundingClientRect().left?t:i}function mw(i,e,t){let{node:s,offset:a}=Lp(e,t),l=-1;if(s.nodeType==1&&!s.firstChild){let d=s.getBoundingClientRect();l=d.left!=d.right&&t.left>(d.left+d.right)/2?1:-1}return i.docView.posFromDOM(s,a,l)}function xw(i,e,t,s){let a=-1;for(let l=e,d=!1;l!=i.dom;){let p=i.docView.nearestDesc(l,!0);if(!p)return null;if(p.dom.nodeType==1&&(p.node.isBlock&&p.parent&&!d||!p.contentDOM)){let b=p.dom.getBoundingClientRect();if(p.node.isBlock&&p.parent&&!d&&(d=!0,b.left>s.left||b.top>s.top?a=p.posBefore:(b.right<s.left||b.bottom<s.top)&&(a=p.posAfter)),!p.contentDOM&&a<0&&!p.node.isText)return(p.node.isBlock?s.top<(b.top+b.bottom)/2:s.left<(b.left+b.right)/2)?p.posBefore:p.posAfter}l=p.dom.parentNode}return a>-1?a:i.docView.posFromDOM(e,t,-1)}function Pp(i,e,t){let s=i.childNodes.length;if(s&&t.top<t.bottom)for(let a=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-t.top)/(t.bottom-t.top))-2)),l=a;;){let d=i.childNodes[l];if(d.nodeType==1){let p=d.getClientRects();for(let b=0;b<p.length;b++){let k=p[b];if(ac(e,k))return Pp(d,e,k)}}if((l=(l+1)%s)==a)break}return i}function bw(i,e){let t=i.dom.ownerDocument,s,a=0,l=rw(t,e.left,e.top);l&&({node:s,offset:a}=l);let d=(i.root.elementFromPoint?i.root:t).elementFromPoint(e.left,e.top),p;if(!d||!i.dom.contains(d.nodeType!=1?d.parentNode:d)){let k=i.dom.getBoundingClientRect();if(!ac(e,k)||(d=Pp(i.dom,e,k),!d))return null}if(tt)for(let k=d;s&&k;k=gs(k))k.draggable&&(s=void 0);if(d=gw(d,e),s){if(Lt&&s.nodeType==1&&(a=Math.min(a,s.childNodes.length),a<s.childNodes.length)){let A=s.childNodes[a],L;A.nodeName=="IMG"&&(L=A.getBoundingClientRect()).right<=e.left&&L.bottom>e.top&&a++}let k;Ls&&a&&s.nodeType==1&&(k=s.childNodes[a-1]).nodeType==1&&k.contentEditable=="false"&&k.getBoundingClientRect().top>=e.top&&a--,s==i.dom&&a==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?p=i.state.doc.content.size:(a==0||s.nodeType!=1||s.childNodes[a-1].nodeName!="BR")&&(p=xw(i,s,a,e))}p==null&&(p=mw(i,d,e));let b=i.docView.nearestDesc(d,!0);return{pos:p,inside:b?b.posAtStart-b.border:-1}}function qh(i){return i.top<i.bottom||i.left<i.right}function ai(i,e){let t=i.getClientRects();if(t.length){let s=t[e<0?0:t.length-1];if(qh(s))return s}return Array.prototype.find.call(t,qh)||i.getBoundingClientRect()}const yw=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Op(i,e,t){let{node:s,offset:a,atom:l}=i.docView.domFromPos(e,t<0?-1:1),d=Ls||Lt;if(s.nodeType==3)if(d&&(yw.test(s.nodeValue)||(t<0?!a:a==s.nodeValue.length))){let b=ai(Ut(s,a,a),t);if(Lt&&a&&/\s/.test(s.nodeValue[a-1])&&a<s.nodeValue.length){let k=ai(Ut(s,a-1,a-1),-1);if(k.top==b.top){let A=ai(Ut(s,a,a+1),-1);if(A.top!=b.top)return qn(A,A.left<k.left)}}return b}else{let b=a,k=a,A=t<0?1:-1;return t<0&&!a?(k++,A=-1):t>=0&&a==s.nodeValue.length?(b--,A=1):t<0?b--:k++,qn(ai(Ut(s,b,k),A),A<0)}if(!i.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&a&&(t<0||a==Ft(s))){let b=s.childNodes[a-1];if(b.nodeType==1)return Ja(b.getBoundingClientRect(),!1)}if(l==null&&a<Ft(s)){let b=s.childNodes[a];if(b.nodeType==1)return Ja(b.getBoundingClientRect(),!0)}return Ja(s.getBoundingClientRect(),t>=0)}if(l==null&&a&&(t<0||a==Ft(s))){let b=s.childNodes[a-1],k=b.nodeType==3?Ut(b,Ft(b)-(d?0:1)):b.nodeType==1&&(b.nodeName!="BR"||!b.nextSibling)?b:null;if(k)return qn(ai(k,1),!1)}if(l==null&&a<Ft(s)){let b=s.childNodes[a];for(;b.pmViewDesc&&b.pmViewDesc.ignoreForCoords;)b=b.nextSibling;let k=b?b.nodeType==3?Ut(b,0,d?0:1):b.nodeType==1?b:null:null;if(k)return qn(ai(k,-1),!0)}return qn(ai(s.nodeType==3?Ut(s):s,-t),t>=0)}function qn(i,e){if(i.width==0)return i;let t=e?i.left:i.right;return{top:i.top,bottom:i.bottom,left:t,right:t}}function Ja(i,e){if(i.height==0)return i;let t=e?i.top:i.bottom;return{top:t,bottom:t,left:i.left,right:i.right}}function Rp(i,e,t){let s=i.state,a=i.root.activeElement;s!=e&&i.updateState(e),a!=i.dom&&i.focus();try{return t()}finally{s!=e&&i.updateState(s),a!=i.dom&&a&&a.focus()}}function vw(i,e,t){let s=e.selection,a=t=="up"?s.$from:s.$to;return Rp(i,e,()=>{let{node:l}=i.docView.domFromPos(a.pos,t=="up"?-1:1);for(;;){let p=i.docView.nearestDesc(l,!0);if(!p)break;if(p.node.isBlock){l=p.contentDOM||p.dom;break}l=p.dom.parentNode}let d=Op(i,a.pos,1);for(let p=l.firstChild;p;p=p.nextSibling){let b;if(p.nodeType==1)b=p.getClientRects();else if(p.nodeType==3)b=Ut(p,0,p.nodeValue.length).getClientRects();else continue;for(let k=0;k<b.length;k++){let A=b[k];if(A.bottom>A.top+1&&(t=="up"?d.top-A.top>(A.bottom-d.top)*2:A.bottom-d.bottom>(d.bottom-A.top)*2))return!1}}return!0})}const ww=/[\u0590-\u08ac]/;function Sw(i,e,t){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let a=s.parentOffset,l=!a,d=a==s.parent.content.size,p=i.domSelection();return!ww.test(s.parent.textContent)||!p.modify?t=="left"||t=="backward"?l:d:Rp(i,e,()=>{let{focusNode:b,focusOffset:k,anchorNode:A,anchorOffset:L}=i.domSelectionRange(),R=p.caretBidiLevel;p.modify("move",t,"character");let z=s.depth?i.docView.domAfterPos(s.before()):i.dom,{focusNode:D,focusOffset:W}=i.domSelectionRange(),X=D&&!z.contains(D.nodeType==1?D:D.parentNode)||b==D&&k==W;try{p.collapse(A,L),b&&(b!=A||k!=L)&&p.extend&&p.extend(b,k)}catch{}return R!=null&&(p.caretBidiLevel=R),X})}let Uh=null,$h=null,Kh=!1;function kw(i,e,t){return Uh==e&&$h==t?Kh:(Uh=e,$h=t,Kh=t=="up"||t=="down"?vw(i,e,t):Sw(i,e,t))}const wt=0,Jh=1,Hi=2,Xt=3;class Ps{constructor(e,t,s,a){this.parent=e,this.children=t,this.dom=s,this.contentDOM=a,this.dirty=wt,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,s=this.posAtStart;;t++){let a=this.children[t];if(a==e)return s;s+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let l,d;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((d=l.pmViewDesc)&&d.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(d)+d.size:this.posAtStart}else{let l,d;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((d=l.pmViewDesc)&&d.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(d):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=t>Qe(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(a==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.nextSibling)break}}return a??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let s=!0,a=e;a;a=a.parentNode){let l=this.getDesc(a),d;if(l&&(!t||l.node))if(s&&(d=l.nodeDOM)&&!(d.nodeType==1?d.contains(e.nodeType==1?e:e.parentNode):d==e))s=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let s=t;s;s=s.parent)if(s==this)return t}posFromDOM(e,t,s){for(let a=e;a;a=a.parentNode){let l=this.getDesc(a);if(l)return l.localPosFromDOM(e,t,s)}return-1}descAt(e){for(let t=0,s=0;t<this.children.length;t++){let a=this.children[t],l=s+a.size;if(s==e&&l!=s){for(;!a.border&&a.children.length;)a=a.children[0];return a}if(e<l)return a.descAt(e-s-a.border);s=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,a=0;for(let l=0;s<this.children.length;s++){let d=this.children[s],p=l+d.size;if(p>e||d instanceof Np){a=e-l;break}l=p}if(a)return this.children[s].domFromPos(a-this.children[s].border,t);for(let l;s&&!(l=this.children[s-1]).size&&l instanceof Ip&&l.side>=0;s--);if(t<=0){let l,d=!0;for(;l=s?this.children[s-1]:null,!(!l||l.dom.parentNode==this.contentDOM);s--,d=!1);return l&&t&&d&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?Qe(l.dom)+1:0}}else{let l,d=!0;for(;l=s<this.children.length?this.children[s]:null,!(!l||l.dom.parentNode==this.contentDOM);s++,d=!1);return l&&d&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?Qe(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,l=-1;for(let d=s,p=0;;p++){let b=this.children[p],k=d+b.size;if(a==-1&&e<=k){let A=d+b.border;if(e>=A&&t<=k-b.border&&b.node&&b.contentDOM&&this.contentDOM.contains(b.contentDOM))return b.parseRange(e,t,A);e=d;for(let L=p;L>0;L--){let R=this.children[L-1];if(R.size&&R.dom.parentNode==this.contentDOM&&!R.emptyChildAt(1)){a=Qe(R.dom)+1;break}e-=R.size}a==-1&&(a=0)}if(a>-1&&(k>t||p==this.children.length-1)){t=k;for(let A=p+1;A<this.children.length;A++){let L=this.children[A];if(L.size&&L.dom.parentNode==this.contentDOM&&!L.emptyChildAt(-1)){l=Qe(L.dom);break}t+=L.size}l==-1&&(l=this.contentDOM.childNodes.length);break}d=k}return{node:this.contentDOM,from:e,to:t,fromOffset:a,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:s}=this.domFromPos(e,0);if(t.nodeType!=1||s==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[s]}setSelection(e,t,s,a=!1){let l=Math.min(e,t),d=Math.max(e,t);for(let R=0,z=0;R<this.children.length;R++){let D=this.children[R],W=z+D.size;if(l>z&&d<W)return D.setSelection(e-z-D.border,t-z-D.border,s,a);z=W}let p=this.domFromPos(e,e?-1:1),b=t==e?p:this.domFromPos(t,t?-1:1),k=s.getSelection(),A=!1;if((Lt||tt)&&e==t){let{node:R,offset:z}=p;if(R.nodeType==3){if(A=!!(z&&R.nodeValue[z-1]==`
`),A&&z==R.nodeValue.length)for(let D=R,W;D;D=D.parentNode){if(W=D.nextSibling){W.nodeName=="BR"&&(p=b={node:W.parentNode,offset:Qe(W)+1});break}let X=D.pmViewDesc;if(X&&X.node&&X.node.isBlock)break}}else{let D=R.childNodes[z-1];A=D&&(D.nodeName=="BR"||D.contentEditable=="false")}}if(Lt&&k.focusNode&&k.focusNode!=b.node&&k.focusNode.nodeType==1){let R=k.focusNode.childNodes[k.focusOffset];R&&R.contentEditable=="false"&&(a=!0)}if(!(a||A&&tt)&&tn(p.node,p.offset,k.anchorNode,k.anchorOffset)&&tn(b.node,b.offset,k.focusNode,k.focusOffset))return;let L=!1;if((k.extend||e==t)&&!A){k.collapse(p.node,p.offset);try{e!=t&&k.extend(b.node,b.offset),L=!0}catch{}}if(!L){if(e>t){let z=p;p=b,b=z}let R=document.createRange();R.setEnd(b.node,b.offset),R.setStart(p.node,p.offset),k.removeAllRanges(),k.addRange(R)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let s=0,a=0;a<this.children.length;a++){let l=this.children[a],d=s+l.size;if(s==d?e<=d&&t>=s:e<d&&t>s){let p=s+l.border,b=d-l.border;if(e>=p&&t<=b){this.dirty=e==s||t==d?Hi:Jh,e==p&&t==b&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=Xt:l.markDirty(e-p,t-p);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Hi:Xt}s=d}this.dirty=Hi}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let s=e==1?Hi:Jh;t.dirty<s&&(t.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Ip extends Ps{constructor(e,t,s,a){let l,d=t.type.toDOM;if(typeof d=="function"&&(d=d(s,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(d.nodeType!=1){let p=document.createElement("span");p.appendChild(d),d=p}d.contentEditable="false",d.classList.add("ProseMirror-widget")}super(e,[],d,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==wt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Aw extends Ps{constructor(e,t,s,a){super(e,[],t,null),this.textDOM=s,this.text=a}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class nn extends Ps{constructor(e,t,s,a){super(e,[],s,a),this.mark=t}static create(e,t,s,a){let l=a.nodeViews[t.type.name],d=l&&l(t,a,s);return(!d||!d.dom)&&(d=Bt.renderSpec(document,t.type.spec.toDOM(t,s))),new nn(e,t,d.dom,d.contentDOM||d.dom)}parseRule(){return this.dirty&Xt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Xt&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=wt){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=wt}}slice(e,t,s){let a=nn.create(this.parent,this.mark,!0,s),l=this.children,d=this.size;t<d&&(l=el(l,t,d,s)),e>0&&(l=el(l,0,e,s));for(let p=0;p<l.length;p++)l[p].parent=a;return a.children=l,a}}class bi extends Ps{constructor(e,t,s,a,l,d,p,b,k){super(e,[],l,d),this.node=t,this.outerDeco=s,this.innerDeco=a,this.nodeDOM=p}static create(e,t,s,a,l,d){let p=l.nodeViews[t.type.name],b,k=p&&p(t,l,()=>{if(!b)return d;if(b.parent)return b.parent.posBeforeChild(b)},s,a),A=k&&k.dom,L=k&&k.contentDOM;if(t.isText){if(!A)A=document.createTextNode(t.text);else if(A.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else A||({dom:A,contentDOM:L}=Bt.renderSpec(document,t.type.spec.toDOM(t)));!L&&!t.isText&&A.nodeName!="BR"&&(A.hasAttribute("contenteditable")||(A.contentEditable="false"),t.type.spec.draggable&&(A.draggable=!0));let R=A;return A=zp(A,s,t),k?b=new Cw(e,t,s,a,A,L||null,R,k,l,d+1):t.isText?new fa(e,t,s,a,A,R,l):new bi(e,t,s,a,A,L||null,R,l,d+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let s=this.children[t];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Q.empty)}return e}matchesNode(e,t,s){return this.dirty==wt&&e.eq(this.node)&&Qo(t,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let s=this.node.inlineContent,a=t,l=e.composing?this.localCompositionInfo(e,t):null,d=l&&l.pos>-1?l:null,p=l&&l.pos<0,b=new Tw(this,d&&d.node,e);Pw(this.node,this.innerDeco,(k,A,L)=>{k.spec.marks?b.syncToMarks(k.spec.marks,s,e):k.type.side>=0&&!L&&b.syncToMarks(A==this.node.childCount?ve.none:this.node.child(A).marks,s,e),b.placeWidget(k,e,a)},(k,A,L,R)=>{b.syncToMarks(k.marks,s,e);let z;b.findNodeMatch(k,A,L,R)||p&&e.state.selection.from>a&&e.state.selection.to<a+k.nodeSize&&(z=b.findIndexWithChild(l.node))>-1&&b.updateNodeAt(k,A,L,z,e)||b.updateNextNode(k,A,L,e,R,a)||b.addNode(k,A,L,e,a),a+=k.nodeSize}),b.syncToMarks([],s,e),this.node.isTextblock&&b.addTextblockHacks(),b.destroyRest(),(b.changed||this.dirty==Hi)&&(d&&this.protectLocalComposition(e,d),Dp(this.contentDOM,this.children,e),In&&Ow(this.dom))}localCompositionInfo(e,t){let{from:s,to:a}=e.state.selection;if(!(e.state.selection instanceof ue)||s<t||a>t+this.node.content.size)return null;let l=e.domSelectionRange(),d=Rw(l.focusNode,l.focusOffset);if(!d||!this.dom.contains(d.parentNode))return null;if(this.node.inlineContent){let p=d.nodeValue,b=Iw(this.node.content,p,s-t,a-t);return b<0?null:{node:d,pos:b,text:p}}else return{node:d,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:s,text:a}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let d=new Aw(this,l,t,a);e.input.compositionNodes.push(d),this.children=el(this.children,s,s+a.length,e,d)}update(e,t,s,a){return this.dirty==Xt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,s,a),!0)}updateInner(e,t,s,a){this.updateOuterDeco(t),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=wt}updateOuterDeco(e){if(Qo(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=Fp(this.dom,this.nodeDOM,Zo(this.outerDeco,this.node,t),Zo(e,this.node,t)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Zh(i,e,t,s,a){zp(s,e,i);let l=new bi(void 0,i,e,t,s,s,s,a,0);return l.contentDOM&&l.updateChildren(a,0),l}class fa extends bi{constructor(e,t,s,a,l,d,p){super(e,t,s,a,l,null,d,p,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,s,a){return this.dirty==Xt||this.dirty!=wt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=wt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=wt,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,s){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,s){let a=this.node.cut(e,t),l=document.createTextNode(a.text);return new fa(this.parent,a,this.outerDeco,this.innerDeco,l,l,s)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Xt)}get domAtom(){return!1}}class Np extends Ps{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==wt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Cw extends bi{constructor(e,t,s,a,l,d,p,b,k,A){super(e,t,s,a,l,d,p,k,A),this.spec=b}update(e,t,s,a){if(this.dirty==Xt)return!1;if(this.spec.update){let l=this.spec.update(e,t,s);return l&&this.updateInner(e,t,s,a),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,s,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,s,a){this.spec.setSelection?this.spec.setSelection(e,t,s):super.setSelection(e,t,s,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Dp(i,e,t){let s=i.firstChild,a=!1;for(let l=0;l<e.length;l++){let d=e[l],p=d.dom;if(p.parentNode==i){for(;p!=s;)s=Qh(s),a=!0;s=s.nextSibling}else a=!0,i.insertBefore(p,s);if(d instanceof nn){let b=s?s.previousSibling:i.lastChild;Dp(d.contentDOM,d.children,t),s=b?b.nextSibling:i.firstChild}}for(;s;)s=Qh(s),a=!0;a&&t.trackWrites==i&&(t.trackWrites=null)}const ns=function(i){i&&(this.nodeName=i)};ns.prototype=Object.create(null);const _i=[new ns];function Zo(i,e,t){if(i.length==0)return _i;let s=t?_i[0]:new ns,a=[s];for(let l=0;l<i.length;l++){let d=i[l].type.attrs;if(d){d.nodeName&&a.push(s=new ns(d.nodeName));for(let p in d){let b=d[p];b!=null&&(t&&a.length==1&&a.push(s=new ns(e.isInline?"span":"div")),p=="class"?s.class=(s.class?s.class+" ":"")+b:p=="style"?s.style=(s.style?s.style+";":"")+b:p!="nodeName"&&(s[p]=b))}}}return a}function Fp(i,e,t,s){if(t==_i&&s==_i)return e;let a=e;for(let l=0;l<s.length;l++){let d=s[l],p=t[l];if(l){let b;p&&p.nodeName==d.nodeName&&a!=i&&(b=a.parentNode)&&b.nodeName.toLowerCase()==d.nodeName||(b=document.createElement(d.nodeName),b.pmIsDeco=!0,b.appendChild(a),p=_i[0]),a=b}Ew(a,p||_i[0],d)}return a}function Ew(i,e,t){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in t)&&i.removeAttribute(s);for(let s in t)s!="class"&&s!="style"&&s!="nodeName"&&t[s]!=e[s]&&i.setAttribute(s,t[s]);if(e.class!=t.class){let s=e.class?e.class.split(" ").filter(Boolean):[],a=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<s.length;l++)a.indexOf(s[l])==-1&&i.classList.remove(s[l]);for(let l=0;l<a.length;l++)s.indexOf(a[l])==-1&&i.classList.add(a[l]);i.classList.length==0&&i.removeAttribute("class")}if(e.style!=t.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=s.exec(e.style);)i.style.removeProperty(a[1])}t.style&&(i.style.cssText+=t.style)}}function zp(i,e,t){return Fp(i,i,_i,Zo(e,t,i.nodeType!=1))}function Qo(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].type.eq(e[t].type))return!1;return!0}function Qh(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class Tw{constructor(e,t,s){this.lock=t,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Mw(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let s=e;s<t;s++)this.top.children[s].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,s){let a=0,l=this.stack.length>>1,d=Math.min(l,e.length);for(;a<d&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=wt,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let p=-1;for(let b=this.index;b<Math.min(this.index+3,this.top.children.length);b++){let k=this.top.children[b];if(k.matchesMark(e[l])&&!this.isLocked(k.dom)){p=b;break}}if(p>-1)p>this.index&&(this.changed=!0,this.destroyBetween(this.index,p)),this.top=this.top.children[this.index];else{let b=nn.create(this.top,e[l],t,s);this.top.children.splice(this.index,0,b),this.top=b,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,s,a){let l=-1,d;if(a>=this.preMatch.index&&(d=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&d.matchesNode(e,t,s))l=this.top.children.indexOf(d,this.index);else for(let p=this.index,b=Math.min(this.top.children.length,p+5);p<b;p++){let k=this.top.children[p];if(k.matchesNode(e,t,s)&&!this.preMatch.matched.has(k)){l=p;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,s,a,l){let d=this.top.children[a];return d.dirty==Xt&&d.dom==d.contentDOM&&(d.dirty=Hi),d.update(e,t,s,l)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==s)return a}return-1}e=t}}updateNextNode(e,t,s,a,l,d){for(let p=this.index;p<this.top.children.length;p++){let b=this.top.children[p];if(b instanceof bi){let k=this.preMatch.matched.get(b);if(k!=null&&k!=l)return!1;let A=b.dom,L,R=this.isLocked(A)&&!(e.isText&&b.node&&b.node.isText&&b.nodeDOM.nodeValue==e.text&&b.dirty!=Xt&&Qo(t,b.outerDeco));if(!R&&b.update(e,t,s,a))return this.destroyBetween(this.index,p),b.dom!=A&&(this.changed=!0),this.index++,!0;if(!R&&(L=this.recreateWrapper(b,e,t,s,a,d)))return this.top.children[this.index]=L,L.contentDOM&&(L.dirty=Hi,L.updateChildren(a,d+1),L.dirty=wt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,s,a,l,d){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;let p=bi.create(this.top,t,s,a,l,d);if(p.contentDOM){p.children=e.children,e.children=[];for(let b of p.children)b.parent=p}return e.destroy(),p}addNode(e,t,s,a,l){let d=bi.create(this.top,e,t,s,a,l);d.contentDOM&&d.updateChildren(a,l+1),this.top.children.splice(this.index++,0,d),this.changed=!0}placeWidget(e,t,s){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let l=new Ip(this.top,e,t,s);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof nn;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof fa)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((tt||Ue)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let a=new Np(this.top,[],s,null);t!=this.top?t.children.push(a):t.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Mw(i,e){let t=e,s=t.children.length,a=i.childCount,l=new Map,d=[];e:for(;a>0;){let p;for(;;)if(s){let k=t.children[s-1];if(k instanceof nn)t=k,s=k.children.length;else{p=k,s--;break}}else{if(t==e)break e;s=t.parent.children.indexOf(t),t=t.parent}let b=p.node;if(b){if(b!=i.child(a-1))break;--a,l.set(p,a),d.push(p)}}return{index:a,matched:l,matches:d.reverse()}}function Lw(i,e){return i.type.side-e.type.side}function Pw(i,e,t,s){let a=e.locals(i),l=0;if(a.length==0){for(let k=0;k<i.childCount;k++){let A=i.child(k);s(A,a,e.forChild(l,A),k),l+=A.nodeSize}return}let d=0,p=[],b=null;for(let k=0;;){let A,L;for(;d<a.length&&a[d].to==l;){let X=a[d++];X.widget&&(A?(L||(L=[A])).push(X):A=X)}if(A)if(L){L.sort(Lw);for(let X=0;X<L.length;X++)t(L[X],k,!!b)}else t(A,k,!!b);let R,z;if(b)z=-1,R=b,b=null;else if(k<i.childCount)z=k,R=i.child(k++);else break;for(let X=0;X<p.length;X++)p[X].to<=l&&p.splice(X--,1);for(;d<a.length&&a[d].from<=l&&a[d].to>l;)p.push(a[d++]);let D=l+R.nodeSize;if(R.isText){let X=D;d<a.length&&a[d].from<X&&(X=a[d].from);for(let G=0;G<p.length;G++)p[G].to<X&&(X=p[G].to);X<D&&(b=R.cut(X-l),R=R.cut(0,X-l),D=X,z=-1)}let W=R.isInline&&!R.isLeaf?p.filter(X=>!X.inline):p.slice();s(R,W,e.forChild(l,R),z),l=D}}function Ow(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let e=i.style.cssText;i.style.cssText=e+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=e}}function Rw(i,e){for(;;){if(i.nodeType==3)return i;if(i.nodeType==1&&e>0){if(i.childNodes.length>e&&i.childNodes[e].nodeType==3)return i.childNodes[e];i=i.childNodes[e-1],e=Ft(i)}else if(i.nodeType==1&&e<i.childNodes.length)i=i.childNodes[e],e=0;else return null}}function Iw(i,e,t,s){for(let a=0,l=0;a<i.childCount&&l<=s;){let d=i.child(a++),p=l;if(l+=d.nodeSize,!d.isText)continue;let b=d.text;for(;a<i.childCount;){let k=i.child(a++);if(l+=k.nodeSize,!k.isText)break;b+=k.text}if(l>=t){if(l>=s&&b.slice(s-e.length-p,s-p)==e)return s-e.length;let k=p<s?b.lastIndexOf(e,s-p-1):-1;if(k>=0&&k+e.length+p>=t)return p+k;if(t==s&&b.length>=s+e.length-p&&b.slice(s-p,s-p+e.length)==e)return s}}return-1}function el(i,e,t,s,a){let l=[];for(let d=0,p=0;d<i.length;d++){let b=i[d],k=p,A=p+=b.size;k>=t||A<=e?l.push(b):(k<e&&l.push(b.slice(0,e-k,s)),a&&(l.push(a),a=void 0),A>t&&l.push(b.slice(t-k,b.size,s)))}return l}function oc(i,e=null){let t=i.domSelectionRange(),s=i.state.doc;if(!t.focusNode)return null;let a=i.docView.nearestDesc(t.focusNode),l=a&&a.size==0,d=i.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(d<0)return null;let p=s.resolve(d),b,k;if(ua(t)){for(b=p;a&&!a.node;)a=a.parent;let A=a.node;if(a&&A.isAtom&&he.isSelectable(A)&&a.parent&&!(A.isInline&&nw(t.focusNode,t.focusOffset,a.dom))){let L=a.posBefore;k=new he(d==L?p:s.resolve(L))}}else{let A=i.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(A<0)return null;b=s.resolve(A)}if(!k){let A=e=="pointer"||i.state.selection.head<p.pos&&!l?1:-1;k=lc(i,b,p,A)}return k}function Bp(i){return i.editable?i.hasFocus():_p(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function Zt(i,e=!1){let t=i.state.selection;if(Hp(i,t),!!Bp(i)){if(!e&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&Ue){let s=i.domSelectionRange(),a=i.domObserver.currentSelection;if(s.anchorNode&&a.anchorNode&&tn(s.anchorNode,s.anchorOffset,a.anchorNode,a.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)Dw(i);else{let{anchor:s,head:a}=t,l,d;ed&&!(t instanceof ue)&&(t.$from.parent.inlineContent||(l=td(i,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(d=td(i,t.to))),i.docView.setSelection(s,a,i.root,e),ed&&(l&&id(l),d&&id(d)),t.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Nw(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}const ed=tt||Ue&&aw<63;function td(i,e){let{node:t,offset:s}=i.docView.domFromPos(e,0),a=s<t.childNodes.length?t.childNodes[s]:null,l=s?t.childNodes[s-1]:null;if(tt&&a&&a.contentEditable=="false")return Za(a);if((!a||a.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(a)return Za(a);if(l)return Za(l)}}function Za(i){return i.contentEditable="true",tt&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function id(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function Nw(i){let e=i.dom.ownerDocument;e.removeEventListener("selectionchange",i.input.hideSelectionGuard);let t=i.domSelectionRange(),s=t.anchorNode,a=t.anchorOffset;e.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(t.anchorNode!=s||t.anchorOffset!=a)&&(e.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!Bp(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function Dw(i){let e=i.domSelection(),t=document.createRange(),s=i.cursorWrapper.dom,a=s.nodeName=="IMG";a?t.setEnd(s.parentNode,Qe(s)+1):t.setEnd(s,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!a&&!i.state.selection.visible&&ot&&xi<=11&&(s.disabled=!0,s.disabled=!1)}function Hp(i,e){if(e instanceof he){let t=i.docView.descAt(e.from);t!=i.lastSelectedViewDesc&&(nd(i),t&&t.selectNode(),i.lastSelectedViewDesc=t)}else nd(i)}function nd(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function lc(i,e,t,s){return i.someProp("createSelectionBetween",a=>a(i,e,t))||ue.between(e,t,s)}function sd(i){return i.editable&&!i.hasFocus()?!1:_p(i)}function _p(i){let e=i.domSelectionRange();if(!e.anchorNode)return!1;try{return i.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(i.editable||i.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Fw(i){let e=i.docView.domFromPos(i.state.selection.anchor,0),t=i.domSelectionRange();return tn(e.node,e.offset,t.anchorNode,t.anchorOffset)}function tl(i,e){let{$anchor:t,$head:s}=i.selection,a=e>0?t.max(s):t.min(s),l=a.parent.inlineContent?a.depth?i.doc.resolve(e>0?a.after():a.before()):null:a;return l&&pe.findFrom(l,e)}function Di(i,e){return i.dispatch(i.state.tr.setSelection(e).scrollIntoView()),!0}function rd(i,e,t){let s=i.state.selection;if(s instanceof ue){if(!s.empty||t.indexOf("s")>-1)return!1;if(i.endOfTextblock(e>0?"forward":"backward")){let a=tl(i.state,e);return a&&a instanceof he?Di(i,a):!1}else if(!(xt&&t.indexOf("m")>-1)){let a=s.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,d;if(!l||l.isText)return!1;let p=e<0?a.pos-l.nodeSize:a.pos;return l.isAtom||(d=i.docView.descAt(p))&&!d.contentDOM?he.isSelectable(l)?Di(i,new he(e<0?i.state.doc.resolve(a.pos-l.nodeSize):a)):Ls?Di(i,new ue(i.state.doc.resolve(e<0?p:p+l.nodeSize))):!1:!1}}else{if(s instanceof he&&s.node.isInline)return Di(i,new ue(e>0?s.$to:s.$from));{let a=tl(i.state,e);return a?Di(i,a):!1}}}function Ar(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function ss(i,e){if(i.contentEditable=="false")return!0;let t=i.pmViewDesc;return t&&t.size==0&&(e<0||i.nextSibling||i.nodeName!="BR")}function dn(i,e){return e<0?zw(i):Bw(i)}function zw(i){let e=i.domSelectionRange(),t=e.focusNode,s=e.focusOffset;if(!t)return;let a,l,d=!1;for(Lt&&t.nodeType==1&&s<Ar(t)&&ss(t.childNodes[s],-1)&&(d=!0);;)if(s>0){if(t.nodeType!=1)break;{let p=t.childNodes[s-1];if(ss(p,-1))a=t,l=--s;else if(p.nodeType==3)t=p,s=t.nodeValue.length;else break}}else{if(Xp(t))break;{let p=t.previousSibling;for(;p&&ss(p,-1);)a=t.parentNode,l=Qe(p),p=p.previousSibling;if(p)t=p,s=Ar(t);else{if(t=t.parentNode,t==i.dom)break;s=0}}}d?il(i,t,s):a&&il(i,a,l)}function Bw(i){let e=i.domSelectionRange(),t=e.focusNode,s=e.focusOffset;if(!t)return;let a=Ar(t),l,d;for(;;)if(s<a){if(t.nodeType!=1)break;let p=t.childNodes[s];if(ss(p,1))l=t,d=++s;else break}else{if(Xp(t))break;{let p=t.nextSibling;for(;p&&ss(p,1);)l=p.parentNode,d=Qe(p)+1,p=p.nextSibling;if(p)t=p,s=0,a=Ar(t);else{if(t=t.parentNode,t==i.dom)break;s=a=0}}}l&&il(i,l,d)}function Xp(i){let e=i.pmViewDesc;return e&&e.node&&e.node.isBlock}function Hw(i,e){for(;i&&e==i.childNodes.length&&!rc(i);)e=Qe(i)+1,i=i.parentNode;for(;i&&e<i.childNodes.length;){let t=i.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=0}}function _w(i,e){for(;i&&!e&&!rc(i);)e=Qe(i),i=i.parentNode;for(;i&&e;){let t=i.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=i.childNodes.length}}function il(i,e,t){if(e.nodeType!=3){let l,d;(d=Hw(e,t))?(e=d,t=0):(l=_w(e,t))&&(e=l,t=l.nodeValue.length)}let s=i.domSelection();if(ua(s)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),s.removeAllRanges(),s.addRange(l)}else s.extend&&s.extend(e,t);i.domObserver.setCurSelection();let{state:a}=i;setTimeout(()=>{i.state==a&&Zt(i)},50)}function ad(i,e){let t=i.state.doc.resolve(e);if(!(Ue||ow)&&t.parent.inlineContent){let a=i.coordsAtPos(e);if(e>t.start()){let l=i.coordsAtPos(e-1),d=(l.top+l.bottom)/2;if(d>a.top&&d<a.bottom&&Math.abs(l.left-a.left)>1)return l.left<a.left?"ltr":"rtl"}if(e<t.end()){let l=i.coordsAtPos(e+1),d=(l.top+l.bottom)/2;if(d>a.top&&d<a.bottom&&Math.abs(l.left-a.left)>1)return l.left>a.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function od(i,e,t){let s=i.state.selection;if(s instanceof ue&&!s.empty||t.indexOf("s")>-1||xt&&t.indexOf("m")>-1)return!1;let{$from:a,$to:l}=s;if(!a.parent.inlineContent||i.endOfTextblock(e<0?"up":"down")){let d=tl(i.state,e);if(d&&d instanceof he)return Di(i,d)}if(!a.parent.inlineContent){let d=e<0?a:l,p=s instanceof Tt?pe.near(d,e):pe.findFrom(d,e);return p?Di(i,p):!1}return!1}function ld(i,e){if(!(i.state.selection instanceof ue))return!0;let{$head:t,$anchor:s,empty:a}=i.state.selection;if(!t.sameParent(s))return!0;if(!a)return!1;if(i.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let d=i.state.tr;return e<0?d.delete(t.pos-l.nodeSize,t.pos):d.delete(t.pos,t.pos+l.nodeSize),i.dispatch(d),!0}return!1}function cd(i,e,t){i.domObserver.stop(),e.contentEditable=t,i.domObserver.start()}function Xw(i){if(!tt||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=i.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;cd(i,s,"true"),setTimeout(()=>cd(i,s,"false"),20)}return!1}function Ww(i){let e="";return i.ctrlKey&&(e+="c"),i.metaKey&&(e+="m"),i.altKey&&(e+="a"),i.shiftKey&&(e+="s"),e}function Yw(i,e){let t=e.keyCode,s=Ww(e);if(t==8||xt&&t==72&&s=="c")return ld(i,-1)||dn(i,-1);if(t==46&&!e.shiftKey||xt&&t==68&&s=="c")return ld(i,1)||dn(i,1);if(t==13||t==27)return!0;if(t==37||xt&&t==66&&s=="c"){let a=t==37?ad(i,i.state.selection.from)=="ltr"?-1:1:-1;return rd(i,a,s)||dn(i,a)}else if(t==39||xt&&t==70&&s=="c"){let a=t==39?ad(i,i.state.selection.from)=="ltr"?1:-1:1;return rd(i,a,s)||dn(i,a)}else{if(t==38||xt&&t==80&&s=="c")return od(i,-1,s)||dn(i,-1);if(t==40||xt&&t==78&&s=="c")return Xw(i)||od(i,1,s)||dn(i,1);if(s==(xt?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Wp(i,e){i.someProp("transformCopied",z=>{e=z(e,i)});let t=[],{content:s,openStart:a,openEnd:l}=e;for(;a>1&&l>1&&s.childCount==1&&s.firstChild.childCount==1;){a--,l--;let z=s.firstChild;t.push(z.type.name,z.attrs!=z.type.defaultAttrs?z.attrs:null),s=z.content}let d=i.someProp("clipboardSerializer")||Bt.fromSchema(i.state.schema),p=Up(),b=p.createElement("div");b.appendChild(d.serializeFragment(s,{document:p}));let k=b.firstChild,A,L=0;for(;k&&k.nodeType==1&&(A=qp[k.nodeName.toLowerCase()]);){for(let z=A.length-1;z>=0;z--){let D=p.createElement(A[z]);for(;b.firstChild;)D.appendChild(b.firstChild);b.appendChild(D),L++}k=b.firstChild}k&&k.nodeType==1&&k.setAttribute("data-pm-slice",`${a} ${l}${L?` -${L}`:""} ${JSON.stringify(t)}`);let R=i.someProp("clipboardTextSerializer",z=>z(e,i))||e.content.textBetween(0,e.content.size,`

`);return{dom:b,text:R}}function Yp(i,e,t,s,a){let l=a.parent.type.spec.code,d,p;if(!t&&!e)return null;let b=e&&(s||l||!t);if(b){if(i.someProp("transformPastedText",R=>{e=R(e,l||s,i)}),l)return e?new se(Q.from(i.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):se.empty;let L=i.someProp("clipboardTextParser",R=>R(e,a,s,i));if(L)p=L;else{let R=a.marks(),{schema:z}=i.state,D=Bt.fromSchema(z);d=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(W=>{let X=d.appendChild(document.createElement("p"));W&&X.appendChild(D.serializeNode(z.text(W,R)))})}}else i.someProp("transformPastedHTML",L=>{t=L(t,i)}),d=Gw(t),Ls&&qw(d);let k=d&&d.querySelector("[data-pm-slice]"),A=k&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(k.getAttribute("data-pm-slice")||"");if(A&&A[3])for(let L=+A[3];L>0;L--){let R=d.firstChild;for(;R&&R.nodeType!=1;)R=R.nextSibling;if(!R)break;d=R}if(p||(p=(i.someProp("clipboardParser")||i.someProp("domParser")||ec.fromSchema(i.state.schema)).parseSlice(d,{preserveWhitespace:!!(b||A),context:a,ruleFromNode(R){return R.nodeName=="BR"&&!R.nextSibling&&R.parentNode&&!Vw.test(R.parentNode.nodeName)?{ignore:!0}:null}})),A)p=Uw(hd(p,+A[1],+A[2]),A[4]);else if(p=se.maxOpen(jw(p.content,a),!0),p.openStart||p.openEnd){let L=0,R=0;for(let z=p.content.firstChild;L<p.openStart&&!z.type.spec.isolating;L++,z=z.firstChild);for(let z=p.content.lastChild;R<p.openEnd&&!z.type.spec.isolating;R++,z=z.lastChild);p=hd(p,L,R)}return i.someProp("transformPasted",L=>{p=L(p,i)}),p}const Vw=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function jw(i,e){if(i.childCount<2)return i;for(let t=e.depth;t>=0;t--){let a=e.node(t).contentMatchAt(e.index(t)),l,d=[];if(i.forEach(p=>{if(!d)return;let b=a.findWrapping(p.type),k;if(!b)return d=null;if(k=d.length&&l.length&&jp(b,l,p,d[d.length-1],0))d[d.length-1]=k;else{d.length&&(d[d.length-1]=Gp(d[d.length-1],l.length));let A=Vp(p,b);d.push(A),a=a.matchType(A.type),l=b}}),d)return Q.from(d)}return i}function Vp(i,e,t=0){for(let s=e.length-1;s>=t;s--)i=e[s].create(null,Q.from(i));return i}function jp(i,e,t,s,a){if(a<i.length&&a<e.length&&i[a]==e[a]){let l=jp(i,e,t,s.lastChild,a+1);if(l)return s.copy(s.content.replaceChild(s.childCount-1,l));if(s.contentMatchAt(s.childCount).matchType(a==i.length-1?t.type:i[a+1]))return s.copy(s.content.append(Q.from(Vp(t,i,a+1))))}}function Gp(i,e){if(e==0)return i;let t=i.content.replaceChild(i.childCount-1,Gp(i.lastChild,e-1)),s=i.contentMatchAt(i.childCount).fillBefore(Q.empty,!0);return i.copy(t.append(s))}function nl(i,e,t,s,a,l){let d=e<0?i.firstChild:i.lastChild,p=d.content;return i.childCount>1&&(l=0),a<s-1&&(p=nl(p,e,t,s,a+1,l)),a>=t&&(p=e<0?d.contentMatchAt(0).fillBefore(p,l<=a).append(p):p.append(d.contentMatchAt(d.childCount).fillBefore(Q.empty,!0))),i.replaceChild(e<0?0:i.childCount-1,d.copy(p))}function hd(i,e,t){return e<i.openStart&&(i=new se(nl(i.content,-1,e,i.openStart,0,i.openEnd),e,i.openEnd)),t<i.openEnd&&(i=new se(nl(i.content,1,t,i.openEnd,0,0),i.openStart,t)),i}const qp={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let dd=null;function Up(){return dd||(dd=document.implementation.createHTMLDocument("title"))}function Gw(i){let e=/^(\s*<meta [^>]*>)*/.exec(i);e&&(i=i.slice(e[0].length));let t=Up().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(i),a;if((a=s&&qp[s[1].toLowerCase()])&&(i=a.map(l=>"<"+l+">").join("")+i+a.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=i,a)for(let l=0;l<a.length;l++)t=t.querySelector(a[l])||t;return t}function qw(i){let e=i.querySelectorAll(Ue?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let s=e[t];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),s)}}function Uw(i,e){if(!i.size)return i;let t=i.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return i}let{content:a,openStart:l,openEnd:d}=i;for(let p=s.length-2;p>=0;p-=2){let b=t.nodes[s[p]];if(!b||b.hasRequiredAttrs())break;a=Q.from(b.create(s[p+1],a)),l++,d++}return new se(a,l,d)}const it={},nt={},$w={touchstart:!0,touchmove:!0};class Kw{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Jw(i){for(let e in it){let t=it[e];i.dom.addEventListener(e,i.input.eventHandlers[e]=s=>{Qw(i,s)&&!cc(i,s)&&(i.editable||!(s.type in nt))&&t(i,s)},$w[e]?{passive:!0}:void 0)}tt&&i.dom.addEventListener("input",()=>null),sl(i)}function gi(i,e){i.input.lastSelectionOrigin=e,i.input.lastSelectionTime=Date.now()}function Zw(i){i.domObserver.stop();for(let e in i.input.eventHandlers)i.dom.removeEventListener(e,i.input.eventHandlers[e]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function sl(i){i.someProp("handleDOMEvents",e=>{for(let t in e)i.input.eventHandlers[t]||i.dom.addEventListener(t,i.input.eventHandlers[t]=s=>cc(i,s))})}function cc(i,e){return i.someProp("handleDOMEvents",t=>{let s=t[e.type];return s?s(i,e)||e.defaultPrevented:!1})}function Qw(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=i.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function e1(i,e){!cc(i,e)&&it[e.type]&&(i.editable||!(e.type in nt))&&it[e.type](i,e)}nt.keydown=(i,e)=>{let t=e;if(i.input.shiftKey=t.keyCode==16||t.shiftKey,!Kp(i,t)&&(i.input.lastKeyCode=t.keyCode,i.input.lastKeyCodeTime=Date.now(),!(Ct&&Ue&&t.keyCode==13)))if(t.keyCode!=229&&i.domObserver.forceFlush(),In&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let s=Date.now();i.input.lastIOSEnter=s,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==s&&(i.someProp("handleKeyDown",a=>a(i,Ni(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",s=>s(i,t))||Yw(i,t)?t.preventDefault():gi(i,"key")};nt.keyup=(i,e)=>{e.keyCode==16&&(i.input.shiftKey=!1)};nt.keypress=(i,e)=>{let t=e;if(Kp(i,t)||!t.charCode||t.ctrlKey&&!t.altKey||xt&&t.metaKey)return;if(i.someProp("handleKeyPress",a=>a(i,t))){t.preventDefault();return}let s=i.state.selection;if(!(s instanceof ue)||!s.$from.sameParent(s.$to)){let a=String.fromCharCode(t.charCode);!/[\r\n]/.test(a)&&!i.someProp("handleTextInput",l=>l(i,s.$from.pos,s.$to.pos,a))&&i.dispatch(i.state.tr.insertText(a).scrollIntoView()),t.preventDefault()}};function pa(i){return{left:i.clientX,top:i.clientY}}function t1(i,e){let t=e.x-i.clientX,s=e.y-i.clientY;return t*t+s*s<100}function hc(i,e,t,s,a){if(s==-1)return!1;let l=i.state.doc.resolve(s);for(let d=l.depth+1;d>0;d--)if(i.someProp(e,p=>d>l.depth?p(i,t,l.nodeAfter,l.before(d),a,!0):p(i,t,l.node(d),l.before(d),a,!1)))return!0;return!1}function En(i,e,t){i.focused||i.focus();let s=i.state.tr.setSelection(e);t=="pointer"&&s.setMeta("pointer",!0),i.dispatch(s)}function i1(i,e){if(e==-1)return!1;let t=i.state.doc.resolve(e),s=t.nodeAfter;return s&&s.isAtom&&he.isSelectable(s)?(En(i,new he(t),"pointer"),!0):!1}function n1(i,e){if(e==-1)return!1;let t=i.state.selection,s,a;t instanceof he&&(s=t.node);let l=i.state.doc.resolve(e);for(let d=l.depth+1;d>0;d--){let p=d>l.depth?l.nodeAfter:l.node(d);if(he.isSelectable(p)){s&&t.$from.depth>0&&d>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?a=l.before(t.$from.depth):a=l.before(d);break}}return a!=null?(En(i,he.create(i.state.doc,a),"pointer"),!0):!1}function s1(i,e,t,s,a){return hc(i,"handleClickOn",e,t,s)||i.someProp("handleClick",l=>l(i,e,s))||(a?n1(i,t):i1(i,t))}function r1(i,e,t,s){return hc(i,"handleDoubleClickOn",e,t,s)||i.someProp("handleDoubleClick",a=>a(i,e,s))}function a1(i,e,t,s){return hc(i,"handleTripleClickOn",e,t,s)||i.someProp("handleTripleClick",a=>a(i,e,s))||o1(i,t,s)}function o1(i,e,t){if(t.button!=0)return!1;let s=i.state.doc;if(e==-1)return s.inlineContent?(En(i,ue.create(s,0,s.content.size),"pointer"),!0):!1;let a=s.resolve(e);for(let l=a.depth+1;l>0;l--){let d=l>a.depth?a.nodeAfter:a.node(l),p=a.before(l);if(d.inlineContent)En(i,ue.create(s,p+1,p+1+d.content.size),"pointer");else if(he.isSelectable(d))En(i,he.create(s,p),"pointer");else continue;return!0}}function dc(i){return Cr(i)}const $p=xt?"metaKey":"ctrlKey";it.mousedown=(i,e)=>{let t=e;i.input.shiftKey=t.shiftKey;let s=dc(i),a=Date.now(),l="singleClick";a-i.input.lastClick.time<500&&t1(t,i.input.lastClick)&&!t[$p]&&(i.input.lastClick.type=="singleClick"?l="doubleClick":i.input.lastClick.type=="doubleClick"&&(l="tripleClick")),i.input.lastClick={time:a,x:t.clientX,y:t.clientY,type:l};let d=i.posAtCoords(pa(t));d&&(l=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new l1(i,d,t,!!s)):(l=="doubleClick"?r1:a1)(i,d.pos,d.inside,t)?t.preventDefault():gi(i,"pointer"))};class l1{constructor(e,t,s,a){this.view=e,this.pos=t,this.event=s,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[$p],this.allowDefault=s.shiftKey;let l,d;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),d=t.inside;else{let A=e.state.doc.resolve(t.pos);l=A.parent,d=A.depth?A.before():0}const p=a?null:s.target,b=p?e.docView.nearestDesc(p,!0):null;this.target=b?b.dom:null;let{selection:k}=e.state;(s.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||k instanceof he&&k.from<=d&&k.to>d)&&(this.mightDrag={node:l,pos:d,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Lt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),gi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Zt(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(pa(e))),this.updateAllowDefault(e),this.allowDefault||!t?gi(this.view,"pointer"):s1(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||tt&&this.mightDrag&&!this.mightDrag.node.isAtom||Ue&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(En(this.view,pe.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):gi(this.view,"pointer")}move(e){this.updateAllowDefault(e),gi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}it.touchstart=i=>{i.input.lastTouch=Date.now(),dc(i),gi(i,"pointer")};it.touchmove=i=>{i.input.lastTouch=Date.now(),gi(i,"pointer")};it.contextmenu=i=>dc(i);function Kp(i,e){return i.composing?!0:tt&&Math.abs(e.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}const c1=Ct?5e3:-1;nt.compositionstart=nt.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:e}=i,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||t.marks(),Cr(i,!0),i.markCursor=null;else if(Cr(i),Lt&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let s=i.domSelectionRange();for(let a=s.focusNode,l=s.focusOffset;a&&a.nodeType==1&&l!=0;){let d=l<0?a.lastChild:a.childNodes[l-1];if(!d)break;if(d.nodeType==3){i.domSelection().collapse(d,d.nodeValue.length);break}else a=d,l=-1}}i.input.composing=!0}Jp(i,c1)};nt.compositionend=(i,e)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=e.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,Jp(i,20))};function Jp(i,e){clearTimeout(i.input.composingTimeout),e>-1&&(i.input.composingTimeout=setTimeout(()=>Cr(i),e))}function Zp(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=h1());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function h1(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function Cr(i,e=!1){if(!(Ct&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),Zp(i),e||i.docView&&i.docView.dirty){let t=oc(i);return t&&!t.eq(i.state.selection)?i.dispatch(i.state.tr.setSelection(t)):i.updateState(i.state),!0}return!1}}function d1(i,e){if(!i.dom.parentNode)return;let t=i.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),a=document.createRange();a.selectNodeContents(e),i.dom.blur(),s.removeAllRanges(),s.addRange(a),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),i.focus()},50)}const Nn=ot&&xi<15||In&&lw<604;it.copy=nt.cut=(i,e)=>{let t=e,s=i.state.selection,a=t.type=="cut";if(s.empty)return;let l=Nn?null:t.clipboardData,d=s.content(),{dom:p,text:b}=Wp(i,d);l?(t.preventDefault(),l.clearData(),l.setData("text/html",p.innerHTML),l.setData("text/plain",b)):d1(i,p),a&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function u1(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function f1(i,e){if(!i.dom.parentNode)return;let t=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,s=i.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let a=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),s.parentNode&&s.parentNode.removeChild(s),t?ms(i,s.value,null,a,e):ms(i,s.textContent,s.innerHTML,a,e)},50)}function ms(i,e,t,s,a){let l=Yp(i,e,t,s,i.state.selection.$from);if(i.someProp("handlePaste",b=>b(i,a,l||se.empty)))return!0;if(!l)return!1;let d=u1(l),p=d?i.state.tr.replaceSelectionWith(d,s):i.state.tr.replaceSelection(l);return i.dispatch(p.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}nt.paste=(i,e)=>{let t=e;if(i.composing&&!Ct)return;let s=Nn?null:t.clipboardData,a=i.input.shiftKey&&i.input.lastKeyCode!=45;s&&ms(i,s.getData("text/plain"),s.getData("text/html"),a,t)?t.preventDefault():f1(i,t)};class p1{constructor(e,t){this.slice=e,this.move=t}}const Qp=xt?"altKey":"ctrlKey";it.dragstart=(i,e)=>{let t=e,s=i.input.mouseDown;if(s&&s.done(),!t.dataTransfer)return;let a=i.state.selection,l=a.empty?null:i.posAtCoords(pa(t));if(!(l&&l.pos>=a.from&&l.pos<=(a instanceof he?a.to-1:a.to))){if(s&&s.mightDrag)i.dispatch(i.state.tr.setSelection(he.create(i.state.doc,s.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){let k=i.docView.nearestDesc(t.target,!0);k&&k.node.type.spec.draggable&&k!=i.docView&&i.dispatch(i.state.tr.setSelection(he.create(i.state.doc,k.posBefore)))}}let d=i.state.selection.content(),{dom:p,text:b}=Wp(i,d);t.dataTransfer.clearData(),t.dataTransfer.setData(Nn?"Text":"text/html",p.innerHTML),t.dataTransfer.effectAllowed="copyMove",Nn||t.dataTransfer.setData("text/plain",b),i.dragging=new p1(d,!t[Qp])};it.dragend=i=>{let e=i.dragging;window.setTimeout(()=>{i.dragging==e&&(i.dragging=null)},50)};nt.dragover=nt.dragenter=(i,e)=>e.preventDefault();nt.drop=(i,e)=>{let t=e,s=i.dragging;if(i.dragging=null,!t.dataTransfer)return;let a=i.posAtCoords(pa(t));if(!a)return;let l=i.state.doc.resolve(a.pos),d=s&&s.slice;d?i.someProp("transformPasted",D=>{d=D(d,i)}):d=Yp(i,t.dataTransfer.getData(Nn?"Text":"text/plain"),Nn?null:t.dataTransfer.getData("text/html"),!1,l);let p=!!(s&&!t[Qp]);if(i.someProp("handleDrop",D=>D(i,t,d||se.empty,p))){t.preventDefault();return}if(!d)return;t.preventDefault();let b=d?bp(i.state.doc,l.pos,d):l.pos;b==null&&(b=l.pos);let k=i.state.tr;p&&k.deleteSelection();let A=k.mapping.map(b),L=d.openStart==0&&d.openEnd==0&&d.content.childCount==1,R=k.doc;if(L?k.replaceRangeWith(A,A,d.content.firstChild):k.replaceRange(A,A,d),k.doc.eq(R))return;let z=k.doc.resolve(A);if(L&&he.isSelectable(d.content.firstChild)&&z.nodeAfter&&z.nodeAfter.sameMarkup(d.content.firstChild))k.setSelection(new he(z));else{let D=k.mapping.map(b);k.mapping.maps[k.mapping.maps.length-1].forEach((W,X,G,_)=>D=_),k.setSelection(lc(i,z,k.doc.resolve(D)))}i.focus(),i.dispatch(k.setMeta("uiEvent","drop"))};it.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&Zt(i)},20))};it.blur=(i,e)=>{let t=e;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),t.relatedTarget&&i.dom.contains(t.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)};it.beforeinput=(i,e)=>{if(Ue&&Ct&&e.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:s}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=s||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",l=>l(i,Ni(8,"Backspace")))))return;let{$cursor:a}=i.state.selection;a&&a.pos>0&&i.dispatch(i.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let i in nt)it[i]=nt[i];function xs(i,e){if(i==e)return!0;for(let t in i)if(i[t]!==e[t])return!1;for(let t in e)if(!(t in i))return!1;return!0}class Er{constructor(e,t){this.toDOM=e,this.spec=t||Ji,this.side=this.spec.side||0}map(e,t,s,a){let{pos:l,deleted:d}=e.mapResult(t.from+a,this.side<0?-1:1);return d?null:new bt(l-s,l-s,this)}valid(){return!0}eq(e){return this==e||e instanceof Er&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&xs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class yi{constructor(e,t){this.attrs=e,this.spec=t||Ji}map(e,t,s,a){let l=e.map(t.from+a,this.spec.inclusiveStart?-1:1)-s,d=e.map(t.to+a,this.spec.inclusiveEnd?1:-1)-s;return l>=d?null:new bt(l,d,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof yi&&xs(this.attrs,e.attrs)&&xs(this.spec,e.spec)}static is(e){return e.type instanceof yi}destroy(){}}class uc{constructor(e,t){this.attrs=e,this.spec=t||Ji}map(e,t,s,a){let l=e.mapResult(t.from+a,1);if(l.deleted)return null;let d=e.mapResult(t.to+a,-1);return d.deleted||d.pos<=l.pos?null:new bt(l.pos-s,d.pos-s,this)}valid(e,t){let{index:s,offset:a}=e.content.findIndex(t.from),l;return a==t.from&&!(l=e.child(s)).isText&&a+l.nodeSize==t.to}eq(e){return this==e||e instanceof uc&&xs(this.attrs,e.attrs)&&xs(this.spec,e.spec)}destroy(){}}class bt{constructor(e,t,s){this.from=e,this.to=t,this.type=s}copy(e,t){return new bt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,s){return this.type.map(e,this,t,s)}static widget(e,t,s){return new bt(e,e,new Er(t,s))}static inline(e,t,s,a){return new bt(e,t,new yi(s,a))}static node(e,t,s,a){return new bt(e,t,new uc(s,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof yi}get widget(){return this.type instanceof Er}}const pn=[],Ji={};class Ne{constructor(e,t){this.local=e.length?e:pn,this.children=t.length?t:pn}static create(e,t){return t.length?Tr(t,e,0,Ji):qe}find(e,t,s){let a=[];return this.findInner(e??0,t??1e9,a,0,s),a}findInner(e,t,s,a,l){for(let d=0;d<this.local.length;d++){let p=this.local[d];p.from<=t&&p.to>=e&&(!l||l(p.spec))&&s.push(p.copy(p.from+a,p.to+a))}for(let d=0;d<this.children.length;d+=3)if(this.children[d]<t&&this.children[d+1]>e){let p=this.children[d]+1;this.children[d+2].findInner(e-p,t-p,s,a+p,l)}}map(e,t,s){return this==qe||e.maps.length==0?this:this.mapInner(e,t,0,0,s||Ji)}mapInner(e,t,s,a,l){let d;for(let p=0;p<this.local.length;p++){let b=this.local[p].map(e,s,a);b&&b.type.valid(t,b)?(d||(d=[])).push(b):l.onRemove&&l.onRemove(this.local[p].spec)}return this.children.length?g1(this.children,d||[],e,t,s,a,l):d?new Ne(d.sort(Zi),pn):qe}add(e,t){return t.length?this==qe?Ne.create(e,t):this.addInner(e,t,0):this}addInner(e,t,s){let a,l=0;e.forEach((p,b)=>{let k=b+s,A;if(A=tg(t,p,k)){for(a||(a=this.children.slice());l<a.length&&a[l]<b;)l+=3;a[l]==b?a[l+2]=a[l+2].addInner(p,A,k+1):a.splice(l,0,b,b+p.nodeSize,Tr(A,p,k+1,Ji)),l+=3}});let d=eg(l?ig(t):t,-s);for(let p=0;p<d.length;p++)d[p].type.valid(e,d[p])||d.splice(p--,1);return new Ne(d.length?this.local.concat(d).sort(Zi):this.local,a||this.children)}remove(e){return e.length==0||this==qe?this:this.removeInner(e,0)}removeInner(e,t){let s=this.children,a=this.local;for(let l=0;l<s.length;l+=3){let d,p=s[l]+t,b=s[l+1]+t;for(let A=0,L;A<e.length;A++)(L=e[A])&&L.from>p&&L.to<b&&(e[A]=null,(d||(d=[])).push(L));if(!d)continue;s==this.children&&(s=this.children.slice());let k=s[l+2].removeInner(d,p+1);k!=qe?s[l+2]=k:(s.splice(l,3),l-=3)}if(a.length){for(let l=0,d;l<e.length;l++)if(d=e[l])for(let p=0;p<a.length;p++)a[p].eq(d,t)&&(a==this.local&&(a=this.local.slice()),a.splice(p--,1))}return s==this.children&&a==this.local?this:a.length||s.length?new Ne(a,s):qe}forChild(e,t){if(this==qe)return this;if(t.isLeaf)return Ne.empty;let s,a;for(let p=0;p<this.children.length;p+=3)if(this.children[p]>=e){this.children[p]==e&&(s=this.children[p+2]);break}let l=e+1,d=l+t.content.size;for(let p=0;p<this.local.length;p++){let b=this.local[p];if(b.from<d&&b.to>l&&b.type instanceof yi){let k=Math.max(l,b.from)-l,A=Math.min(d,b.to)-l;k<A&&(a||(a=[])).push(b.copy(k,A))}}if(a){let p=new Ne(a.sort(Zi),pn);return s?new di([p,s]):p}return s||qe}eq(e){if(this==e)return!0;if(!(e instanceof Ne)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return fc(this.localsInner(e))}localsInner(e){if(this==qe)return pn;if(e.inlineContent||!this.local.some(yi.is))return this.local;let t=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof yi||t.push(this.local[s]);return t}}Ne.empty=new Ne([],[]);Ne.removeOverlap=fc;const qe=Ne.empty;class di{constructor(e){this.members=e}map(e,t){const s=this.members.map(a=>a.map(e,t,Ji));return di.from(s)}forChild(e,t){if(t.isLeaf)return Ne.empty;let s=[];for(let a=0;a<this.members.length;a++){let l=this.members[a].forChild(e,t);l!=qe&&(l instanceof di?s=s.concat(l.members):s.push(l))}return di.from(s)}eq(e){if(!(e instanceof di)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,s=!0;for(let a=0;a<this.members.length;a++){let l=this.members[a].localsInner(e);if(l.length)if(!t)t=l;else{s&&(t=t.slice(),s=!1);for(let d=0;d<l.length;d++)t.push(l[d])}}return t?fc(s?t:t.sort(Zi)):pn}static from(e){switch(e.length){case 0:return qe;case 1:return e[0];default:return new di(e.every(t=>t instanceof Ne)?e:e.reduce((t,s)=>t.concat(s instanceof Ne?s:s.members),[]))}}}function g1(i,e,t,s,a,l,d){let p=i.slice();for(let k=0,A=l;k<t.maps.length;k++){let L=0;t.maps[k].forEach((R,z,D,W)=>{let X=W-D-(z-R);for(let G=0;G<p.length;G+=3){let _=p[G+1];if(_<0||R>_+A-L)continue;let ne=p[G]+A-L;z>=ne?p[G+1]=R<=ne?-2:-1:D>=a&&X&&(p[G]+=X,p[G+1]+=X)}L+=X}),A=t.maps[k].map(A,-1)}let b=!1;for(let k=0;k<p.length;k+=3)if(p[k+1]<0){if(p[k+1]==-2){b=!0,p[k+1]=-1;continue}let A=t.map(i[k]+l),L=A-a;if(L<0||L>=s.content.size){b=!0;continue}let R=t.map(i[k+1]+l,-1),z=R-a,{index:D,offset:W}=s.content.findIndex(L),X=s.maybeChild(D);if(X&&W==L&&W+X.nodeSize==z){let G=p[k+2].mapInner(t,X,A+1,i[k]+l+1,d);G!=qe?(p[k]=L,p[k+1]=z,p[k+2]=G):(p[k+1]=-2,b=!0)}else b=!0}if(b){let k=m1(p,i,e,t,a,l,d),A=Tr(k,s,0,d);e=A.local;for(let L=0;L<p.length;L+=3)p[L+1]<0&&(p.splice(L,3),L-=3);for(let L=0,R=0;L<A.children.length;L+=3){let z=A.children[L];for(;R<p.length&&p[R]<z;)R+=3;p.splice(R,0,A.children[L],A.children[L+1],A.children[L+2])}}return new Ne(e.sort(Zi),p)}function eg(i,e){if(!e||!i.length)return i;let t=[];for(let s=0;s<i.length;s++){let a=i[s];t.push(new bt(a.from+e,a.to+e,a.type))}return t}function m1(i,e,t,s,a,l,d){function p(b,k){for(let A=0;A<b.local.length;A++){let L=b.local[A].map(s,a,k);L?t.push(L):d.onRemove&&d.onRemove(b.local[A].spec)}for(let A=0;A<b.children.length;A+=3)p(b.children[A+2],b.children[A]+k+1)}for(let b=0;b<i.length;b+=3)i[b+1]==-1&&p(i[b+2],e[b]+l+1);return t}function tg(i,e,t){if(e.isLeaf)return null;let s=t+e.nodeSize,a=null;for(let l=0,d;l<i.length;l++)(d=i[l])&&d.from>t&&d.to<s&&((a||(a=[])).push(d),i[l]=null);return a}function ig(i){let e=[];for(let t=0;t<i.length;t++)i[t]!=null&&e.push(i[t]);return e}function Tr(i,e,t,s){let a=[],l=!1;e.forEach((p,b)=>{let k=tg(i,p,b+t);if(k){l=!0;let A=Tr(k,p,t+b+1,s);A!=qe&&a.push(b,b+p.nodeSize,A)}});let d=eg(l?ig(i):i,-t).sort(Zi);for(let p=0;p<d.length;p++)d[p].type.valid(e,d[p])||(s.onRemove&&s.onRemove(d[p].spec),d.splice(p--,1));return d.length||a.length?new Ne(d,a):qe}function Zi(i,e){return i.from-e.from||i.to-e.to}function fc(i){let e=i;for(let t=0;t<e.length-1;t++){let s=e[t];if(s.from!=s.to)for(let a=t+1;a<e.length;a++){let l=e[a];if(l.from==s.from){l.to!=s.to&&(e==i&&(e=i.slice()),e[a]=l.copy(l.from,s.to),ud(e,a+1,l.copy(s.to,l.to)));continue}else{l.from<s.to&&(e==i&&(e=i.slice()),e[t]=s.copy(s.from,l.from),ud(e,a,s.copy(l.from,s.to)));break}}}return e}function ud(i,e,t){for(;e<i.length&&Zi(t,i[e])>0;)e++;i.splice(e,0,t)}function Qa(i){let e=[];return i.someProp("decorations",t=>{let s=t(i.state);s&&s!=qe&&e.push(s)}),i.cursorWrapper&&e.push(Ne.create(i.state.doc,[i.cursorWrapper.deco])),di.from(e)}const x1={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},b1=ot&&xi<=11;class y1{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class v1{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new y1,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let a=0;a<s.length;a++)this.queue.push(s[a]);ot&&xi<=11&&s.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),b1&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,x1)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(sd(this.view)){if(this.suppressingSelectionUpdates)return Zt(this.view);if(ot&&xi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&tn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,s;for(let l=e.focusNode;l;l=gs(l))t.add(l);for(let l=e.anchorNode;l;l=gs(l))if(t.has(l)){s=l;break}let a=s&&this.view.docView.nearestDesc(s);if(a&&a.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let s=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&sd(e)&&!this.ignoreSelectionChange(s),l=-1,d=-1,p=!1,b=[];if(e.editable)for(let A=0;A<t.length;A++){let L=this.registerMutation(t[A],b);L&&(l=l<0?L.from:Math.min(L.from,l),d=d<0?L.to:Math.max(L.to,d),L.typeOver&&(p=!0))}if(Lt&&b.length>1){let A=b.filter(L=>L.nodeName=="BR");if(A.length==2){let L=A[0],R=A[1];L.parentNode&&L.parentNode.parentNode==R.parentNode?R.remove():L.remove()}}let k=null;l<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ua(s)&&(k=oc(e))&&k.eq(pe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Zt(e),this.currentSelection.set(s),e.scrollToSelection()):(l>-1||a)&&(l>-1&&(e.docView.markDirty(l,d),w1(e)),this.handleDOMChange(l,d,p,b),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||Zt(e),this.currentSelection.set(s))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let A=0;A<e.addedNodes.length;A++)t.push(e.addedNodes[A]);if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let a=e.previousSibling,l=e.nextSibling;if(ot&&xi<=11&&e.addedNodes.length)for(let A=0;A<e.addedNodes.length;A++){let{previousSibling:L,nextSibling:R}=e.addedNodes[A];(!L||Array.prototype.indexOf.call(e.addedNodes,L)<0)&&(a=L),(!R||Array.prototype.indexOf.call(e.addedNodes,R)<0)&&(l=R)}let d=a&&a.parentNode==e.target?Qe(a)+1:0,p=s.localPosFromDOM(e.target,d,-1),b=l&&l.parentNode==e.target?Qe(l):e.target.childNodes.length,k=s.localPosFromDOM(e.target,b,1);return{from:p,to:k}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let fd=new WeakMap,pd=!1;function w1(i){if(!fd.has(i)&&(fd.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=Lt,pd)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),pd=!0}}function S1(i){let e;function t(b){b.preventDefault(),b.stopImmediatePropagation(),e=b.getTargetRanges()[0]}i.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",t,!0);let s=e.startContainer,a=e.startOffset,l=e.endContainer,d=e.endOffset,p=i.domAtPos(i.state.selection.anchor);return tn(p.node,p.offset,l,d)&&([s,a,l,d]=[l,d,s,a]),{anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:d}}function k1(i,e,t){let{node:s,fromOffset:a,toOffset:l,from:d,to:p}=i.docView.parseRange(e,t),b=i.domSelectionRange(),k,A=b.anchorNode;if(A&&i.dom.contains(A.nodeType==1?A:A.parentNode)&&(k=[{node:A,offset:b.anchorOffset}],ua(b)||k.push({node:b.focusNode,offset:b.focusOffset})),Ue&&i.input.lastKeyCode===8)for(let X=l;X>a;X--){let G=s.childNodes[X-1],_=G.pmViewDesc;if(G.nodeName=="BR"&&!_){l=X;break}if(!_||_.size)break}let L=i.state.doc,R=i.someProp("domParser")||ec.fromSchema(i.state.schema),z=L.resolve(d),D=null,W=R.parse(s,{topNode:z.parent,topMatch:z.parent.contentMatchAt(z.index()),topOpen:!0,from:a,to:l,preserveWhitespace:z.parent.type.whitespace=="pre"?"full":!0,findPositions:k,ruleFromNode:A1,context:z});if(k&&k[0].pos!=null){let X=k[0].pos,G=k[1]&&k[1].pos;G==null&&(G=X),D={anchor:X+d,head:G+d}}return{doc:W,sel:D,from:d,to:p}}function A1(i){let e=i.pmViewDesc;if(e)return e.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(tt&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(i.parentNode.lastChild==i||tt&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}const C1=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function E1(i,e,t,s,a){let l=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,e<0){let ae=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,me=oc(i,ae);if(me&&!i.state.selection.eq(me)){if(Ue&&Ct&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",ke=>ke(i,Ni(13,"Enter"))))return;let we=i.state.tr.setSelection(me);ae=="pointer"?we.setMeta("pointer",!0):ae=="key"&&we.scrollIntoView(),l&&we.setMeta("composition",l),i.dispatch(we)}return}let d=i.state.doc.resolve(e),p=d.sharedDepth(t);e=d.before(p+1),t=i.state.doc.resolve(t).after(p+1);let b=i.state.selection,k=k1(i,e,t),A=i.state.doc,L=A.slice(k.from,k.to),R,z;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(R=i.state.selection.to,z="end"):(R=i.state.selection.from,z="start"),i.input.lastKeyCode=null;let D=L1(L.content,k.doc.content,k.from,R,z);if((In&&i.input.lastIOSEnter>Date.now()-225||Ct)&&a.some(ae=>ae.nodeType==1&&!C1.test(ae.nodeName))&&(!D||D.endA>=D.endB)&&i.someProp("handleKeyDown",ae=>ae(i,Ni(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!D)if(s&&b instanceof ue&&!b.empty&&b.$head.sameParent(b.$anchor)&&!i.composing&&!(k.sel&&k.sel.anchor!=k.sel.head))D={start:b.from,endA:b.to,endB:b.to};else{if(k.sel){let ae=gd(i,i.state.doc,k.sel);if(ae&&!ae.eq(i.state.selection)){let me=i.state.tr.setSelection(ae);l&&me.setMeta("composition",l),i.dispatch(me)}}return}if(Ue&&i.cursorWrapper&&k.sel&&k.sel.anchor==i.cursorWrapper.deco.from&&k.sel.head==k.sel.anchor){let ae=D.endB-D.start;k.sel={anchor:k.sel.anchor+ae,head:k.sel.anchor+ae}}i.input.domChangeCount++,i.state.selection.from<i.state.selection.to&&D.start==D.endB&&i.state.selection instanceof ue&&(D.start>i.state.selection.from&&D.start<=i.state.selection.from+2&&i.state.selection.from>=k.from?D.start=i.state.selection.from:D.endA<i.state.selection.to&&D.endA>=i.state.selection.to-2&&i.state.selection.to<=k.to&&(D.endB+=i.state.selection.to-D.endA,D.endA=i.state.selection.to)),ot&&xi<=11&&D.endB==D.start+1&&D.endA==D.start&&D.start>k.from&&k.doc.textBetween(D.start-k.from-1,D.start-k.from+1)==" "&&(D.start--,D.endA--,D.endB--);let W=k.doc.resolveNoCache(D.start-k.from),X=k.doc.resolveNoCache(D.endB-k.from),G=A.resolve(D.start),_=W.sameParent(X)&&W.parent.inlineContent&&G.end()>=D.endA,ne;if((In&&i.input.lastIOSEnter>Date.now()-225&&(!_||a.some(ae=>ae.nodeName=="DIV"||ae.nodeName=="P"))||!_&&W.pos<k.doc.content.size&&!W.sameParent(X)&&(ne=pe.findFrom(k.doc.resolve(W.pos+1),1,!0))&&ne.head==X.pos)&&i.someProp("handleKeyDown",ae=>ae(i,Ni(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>D.start&&M1(A,D.start,D.endA,W,X)&&i.someProp("handleKeyDown",ae=>ae(i,Ni(8,"Backspace")))){Ct&&Ue&&i.domObserver.suppressSelectionUpdates();return}Ue&&Ct&&D.endB==D.start&&(i.input.lastAndroidDelete=Date.now()),Ct&&!_&&W.start()!=X.start()&&X.parentOffset==0&&W.depth==X.depth&&k.sel&&k.sel.anchor==k.sel.head&&k.sel.head==D.endA&&(D.endB-=2,X=k.doc.resolveNoCache(D.endB-k.from),setTimeout(()=>{i.someProp("handleKeyDown",function(ae){return ae(i,Ni(13,"Enter"))})},20));let oe=D.start,j=D.endA,q,Z,ce;if(_){if(W.pos==X.pos)ot&&xi<=11&&W.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>Zt(i),20)),q=i.state.tr.delete(oe,j),Z=A.resolve(D.start).marksAcross(A.resolve(D.endA));else if(D.endA==D.endB&&(ce=T1(W.parent.content.cut(W.parentOffset,X.parentOffset),G.parent.content.cut(G.parentOffset,D.endA-G.start()))))q=i.state.tr,ce.type=="add"?q.addMark(oe,j,ce.mark):q.removeMark(oe,j,ce.mark);else if(W.parent.child(W.index()).isText&&W.index()==X.index()-(X.textOffset?0:1)){let ae=W.parent.textBetween(W.parentOffset,X.parentOffset);if(i.someProp("handleTextInput",me=>me(i,oe,j,ae)))return;q=i.state.tr.insertText(ae,oe,j)}}if(q||(q=i.state.tr.replace(oe,j,k.doc.slice(D.start-k.from,D.endB-k.from))),k.sel){let ae=gd(i,q.doc,k.sel);ae&&!(Ue&&Ct&&i.composing&&ae.empty&&(D.start!=D.endB||i.input.lastAndroidDelete<Date.now()-100)&&(ae.head==oe||ae.head==q.mapping.map(j)-1)||ot&&ae.empty&&ae.head==oe)&&q.setSelection(ae)}Z&&q.ensureMarks(Z),l&&q.setMeta("composition",l),i.dispatch(q.scrollIntoView())}function gd(i,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:lc(i,e.resolve(t.anchor),e.resolve(t.head))}function T1(i,e){let t=i.firstChild.marks,s=e.firstChild.marks,a=t,l=s,d,p,b;for(let A=0;A<s.length;A++)a=s[A].removeFromSet(a);for(let A=0;A<t.length;A++)l=t[A].removeFromSet(l);if(a.length==1&&l.length==0)p=a[0],d="add",b=A=>A.mark(p.addToSet(A.marks));else if(a.length==0&&l.length==1)p=l[0],d="remove",b=A=>A.mark(p.removeFromSet(A.marks));else return null;let k=[];for(let A=0;A<e.childCount;A++)k.push(b(e.child(A)));if(Q.from(k).eq(i))return{mark:p,type:d}}function M1(i,e,t,s,a){if(!s.parent.isTextblock||t-e<=a.pos-s.pos||eo(s,!0,!1)<a.pos)return!1;let l=i.resolve(e);if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let d=i.resolve(eo(l,!0,!0));return!d.parent.isTextblock||d.pos>t||eo(d,!0,!1)<t?!1:s.parent.content.cut(s.parentOffset).eq(d.parent.content)}function eo(i,e,t){let s=i.depth,a=e?i.end():i.pos;for(;s>0&&(e||i.indexAfter(s)==i.node(s).childCount);)s--,a++,e=!1;if(t){let l=i.node(s).maybeChild(i.indexAfter(s));for(;l&&!l.isLeaf;)l=l.firstChild,a++}return a}function L1(i,e,t,s,a){let l=i.findDiffStart(e,t);if(l==null)return null;let{a:d,b:p}=i.findDiffEnd(e,t+i.size,t+e.size);if(a=="end"){let b=Math.max(0,l-Math.min(d,p));s-=d+b-l}if(d<l&&i.size<e.size){let b=s<=l&&s>=d?l-s:0;l-=b,p=l+(p-d),d=l}else if(p<l){let b=s<=l&&s>=p?l-s:0;l-=b,d=l+(d-p),p=l}return{start:l,endA:d,endB:p}}class P1{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Kw,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(vd),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=bd(this),xd(this),this.nodeViews=yd(this),this.docView=Zh(this.state.doc,md(this),Qa(this),this.dom,this),this.domObserver=new v1(this,(s,a,l,d)=>E1(this,s,a,l,d)),this.domObserver.start(),Jw(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&sl(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(vd),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let s in this._props)t[s]=this._props[s];t.state=this.state;for(let s in e)t[s]=e[s];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let s=this.state,a=!1,l=!1;e.storedMarks&&this.composing&&(Zp(this),l=!0),this.state=e;let d=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(d||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let R=yd(this);R1(R,this.nodeViews)&&(this.nodeViews=R,a=!0)}(d||t.handleDOMEvents!=this._props.handleDOMEvents)&&sl(this),this.editable=bd(this),xd(this);let p=Qa(this),b=md(this),k=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",A=a||!this.docView.matchesNode(e.doc,b,p);(A||!e.selection.eq(s.selection))&&(l=!0);let L=k=="preserve"&&l&&this.dom.style.overflowAnchor==null&&dw(this);if(l){this.domObserver.stop();let R=A&&(ot||Ue)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&O1(s.selection,e.selection);if(A){let z=Ue?this.trackWrites=this.domSelectionRange().focusNode:null;(a||!this.docView.update(e.doc,b,p,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Zh(e.doc,b,p,this.dom,this)),z&&!this.trackWrites&&(R=!0)}R||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Fw(this))?Zt(this,R):(Hp(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),k=="reset"?this.dom.scrollTop=0:k=="to selection"?this.scrollToSelection():L&&uw(L)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof he){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Gh(this,t.getBoundingClientRect(),e)}else Gh(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let s=this.directPlugins[t];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let s=this.state.plugins[t];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let s=this.pluginViews[t];s.update&&s.update(this,e)}}someProp(e,t){let s=this._props&&this._props[e],a;if(s!=null&&(a=t?t(s):s))return a;for(let d=0;d<this.directPlugins.length;d++){let p=this.directPlugins[d].props[e];if(p!=null&&(a=t?t(p):p))return a}let l=this.state.plugins;if(l)for(let d=0;d<l.length;d++){let p=l[d].props[e];if(p!=null&&(a=t?t(p):p))return a}}hasFocus(){if(ot){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&fw(this.dom),Zt(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return bw(this,e)}coordsAtPos(e,t=1){return Op(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,s=-1){let a=this.docView.posFromDOM(e,t,s);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,t){return kw(this,t||this.state,e)}pasteHTML(e,t){return ms(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return ms(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(Zw(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Qa(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return e1(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return tt&&this.root.nodeType===11&&sw(this.dom.ownerDocument)==this.dom?S1(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function md(i){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(i.editable),i.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(i.state)),t)for(let s in t)s=="class"?e.class+=" "+t[s]:s=="style"?e.style=(e.style?e.style+";":"")+t[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(t[s]))}),e.translate||(e.translate="no"),[bt.node(0,i.state.doc.content.size,e)]}function xd(i){if(i.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),i.cursorWrapper={dom:e,deco:bt.widget(i.state.selection.head,e,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function bd(i){return!i.someProp("editable",e=>e(i.state)===!1)}function O1(i,e){let t=Math.min(i.$anchor.sharedDepth(i.head),e.$anchor.sharedDepth(e.head));return i.$anchor.start(t)!=e.$anchor.start(t)}function yd(i){let e=Object.create(null);function t(s){for(let a in s)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=s[a])}return i.someProp("nodeViews",t),i.someProp("markViews",t),e}function R1(i,e){let t=0,s=0;for(let a in i){if(i[a]!=e[a])return!0;t++}for(let a in e)s++;return t!=s}function vd(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ai={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Mr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},I1=typeof navigator<"u"&&/Mac/.test(navigator.platform),N1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ve=0;Ve<10;Ve++)Ai[48+Ve]=Ai[96+Ve]=String(Ve);for(var Ve=1;Ve<=24;Ve++)Ai[Ve+111]="F"+Ve;for(var Ve=65;Ve<=90;Ve++)Ai[Ve]=String.fromCharCode(Ve+32),Mr[Ve]=String.fromCharCode(Ve);for(var to in Ai)Mr.hasOwnProperty(to)||(Mr[to]=Ai[to]);function D1(i){var e=I1&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||N1&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?Mr:Ai)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const F1=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function z1(i){let e=i.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let s,a,l,d;for(let p=0;p<e.length-1;p++){let b=e[p];if(/^(cmd|meta|m)$/i.test(b))d=!0;else if(/^a(lt)?$/i.test(b))s=!0;else if(/^(c|ctrl|control)$/i.test(b))a=!0;else if(/^s(hift)?$/i.test(b))l=!0;else if(/^mod$/i.test(b))F1?d=!0:a=!0;else throw new Error("Unrecognized modifier name: "+b)}return s&&(t="Alt-"+t),a&&(t="Ctrl-"+t),d&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function B1(i){let e=Object.create(null);for(let t in i)e[z1(t)]=i[t];return e}function io(i,e,t=!0){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t&&e.shiftKey&&(i="Shift-"+i),i}function H1(i){return new ct({props:{handleKeyDown:ng(i)}})}function ng(i){let e=B1(i);return function(t,s){let a=D1(s),l,d=e[io(a,s)];if(d&&d(t.state,t.dispatch,t))return!0;if(a.length==1&&a!=" "){if(s.shiftKey){let p=e[io(a,s,!1)];if(p&&p(t.state,t.dispatch,t))return!0}if((s.shiftKey||s.altKey||s.metaKey||a.charCodeAt(0)>127)&&(l=Ai[s.keyCode])&&l!=a){let p=e[io(l,s)];if(p&&p(t.state,t.dispatch,t))return!0}}return!1}}const _1=(i,e)=>i.selection.empty?!1:(e&&e(i.tr.deleteSelection().scrollIntoView()),!0);function X1(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("backward",i):t.parentOffset>0)?null:t}const W1=(i,e,t)=>{let s=X1(i,t);if(!s)return!1;let a=sg(s);if(!a){let d=s.blockRange(),p=d&&Xn(d);return p==null?!1:(e&&e(i.tr.lift(d,p).scrollIntoView()),!0)}let l=a.nodeBefore;if(!l.type.spec.isolating&&og(i,a,e))return!0;if(s.parent.content.size==0&&(Dn(l,"end")||he.isSelectable(l))){let d=nc(i.doc,s.before(),s.after(),se.empty);if(d&&d.slice.size<d.to-d.from){if(e){let p=i.tr.step(d);p.setSelection(Dn(l,"end")?pe.findFrom(p.doc.resolve(p.mapping.map(a.pos,-1)),-1):he.create(p.doc,a.pos-l.nodeSize)),e(p.scrollIntoView())}return!0}}return l.isAtom&&a.depth==s.depth-1?(e&&e(i.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0):!1};function Dn(i,e,t=!1){for(let s=i;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(t&&s.childCount!=1)return!1}return!1}const Y1=(i,e,t)=>{let{$head:s,empty:a}=i.selection,l=s;if(!a)return!1;if(s.parent.isTextblock){if(t?!t.endOfTextblock("backward",i):s.parentOffset>0)return!1;l=sg(s)}let d=l&&l.nodeBefore;return!d||!he.isSelectable(d)?!1:(e&&e(i.tr.setSelection(he.create(i.doc,l.pos-d.nodeSize)).scrollIntoView()),!0)};function sg(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){if(i.index(e)>0)return i.doc.resolve(i.before(e+1));if(i.node(e).type.spec.isolating)break}return null}function V1(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("forward",i):t.parentOffset<t.parent.content.size)?null:t}const j1=(i,e,t)=>{let s=V1(i,t);if(!s)return!1;let a=rg(s);if(!a)return!1;let l=a.nodeAfter;if(og(i,a,e))return!0;if(s.parent.content.size==0&&(Dn(l,"start")||he.isSelectable(l))){let d=nc(i.doc,s.before(),s.after(),se.empty);if(d&&d.slice.size<d.to-d.from){if(e){let p=i.tr.step(d);p.setSelection(Dn(l,"start")?pe.findFrom(p.doc.resolve(p.mapping.map(a.pos)),1):he.create(p.doc,p.mapping.map(a.pos))),e(p.scrollIntoView())}return!0}}return l.isAtom&&a.depth==s.depth-1?(e&&e(i.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0):!1},G1=(i,e,t)=>{let{$head:s,empty:a}=i.selection,l=s;if(!a)return!1;if(s.parent.isTextblock){if(t?!t.endOfTextblock("forward",i):s.parentOffset<s.parent.content.size)return!1;l=rg(s)}let d=l&&l.nodeAfter;return!d||!he.isSelectable(d)?!1:(e&&e(i.tr.setSelection(he.create(i.doc,l.pos)).scrollIntoView()),!0)};function rg(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){let t=i.node(e);if(i.index(e)+1<t.childCount)return i.doc.resolve(i.after(e+1));if(t.type.spec.isolating)break}return null}const q1=(i,e)=>{let t=i.selection,s=t instanceof he,a;if(s){if(t.node.isTextblock||!Ei(i.doc,t.from))return!1;a=t.from}else if(a=ha(i.doc,t.from,-1),a==null)return!1;if(e){let l=i.tr.join(a);s&&l.setSelection(he.create(l.doc,a-i.doc.resolve(a).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},U1=(i,e)=>{let t=i.selection,s;if(t instanceof he){if(t.node.isTextblock||!Ei(i.doc,t.to))return!1;s=t.to}else if(s=ha(i.doc,t.to,1),s==null)return!1;return e&&e(i.tr.join(s).scrollIntoView()),!0},$1=(i,e)=>{let{$from:t,$to:s}=i.selection,a=t.blockRange(s),l=a&&Xn(a);return l==null?!1:(e&&e(i.tr.lift(a,l).scrollIntoView()),!0)},K1=(i,e)=>{let{$head:t,$anchor:s}=i.selection;return!t.parent.type.spec.code||!t.sameParent(s)?!1:(e&&e(i.tr.insertText(`
`).scrollIntoView()),!0)};function ag(i){for(let e=0;e<i.edgeCount;e++){let{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const J1=(i,e)=>{let{$head:t,$anchor:s}=i.selection;if(!t.parent.type.spec.code||!t.sameParent(s))return!1;let a=t.node(-1),l=t.indexAfter(-1),d=ag(a.contentMatchAt(l));if(!d||!a.canReplaceWith(l,l,d))return!1;if(e){let p=t.after(),b=i.tr.replaceWith(p,p,d.createAndFill());b.setSelection(pe.near(b.doc.resolve(p),1)),e(b.scrollIntoView())}return!0},Z1=(i,e)=>{let t=i.selection,{$from:s,$to:a}=t;if(t instanceof Tt||s.parent.inlineContent||a.parent.inlineContent)return!1;let l=ag(a.parent.contentMatchAt(a.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let d=(!s.parentOffset&&a.index()<a.parent.childCount?s:a).pos,p=i.tr.insert(d,l.createAndFill());p.setSelection(ue.create(p.doc,d+1)),e(p.scrollIntoView())}return!0},Q1=(i,e)=>{let{$cursor:t}=i.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if(An(i.doc,l))return e&&e(i.tr.split(l).scrollIntoView()),!0}let s=t.blockRange(),a=s&&Xn(s);return a==null?!1:(e&&e(i.tr.lift(s,a).scrollIntoView()),!0)},eS=(i,e)=>{let{$from:t,to:s}=i.selection,a,l=t.sharedDepth(s);return l==0?!1:(a=t.before(l),e&&e(i.tr.setSelection(he.create(i.doc,a))),!0)};function tS(i,e,t){let s=e.nodeBefore,a=e.nodeAfter,l=e.index();return!s||!a||!s.type.compatibleContent(a.type)?!1:!s.content.size&&e.parent.canReplace(l-1,l)?(t&&t(i.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(a.isTextblock||Ei(i.doc,e.pos))?!1:(t&&t(i.tr.clearIncompatible(e.pos,s.type,s.contentMatchAt(s.childCount)).join(e.pos).scrollIntoView()),!0)}function og(i,e,t){let s=e.nodeBefore,a=e.nodeAfter,l,d;if(s.type.spec.isolating||a.type.spec.isolating)return!1;if(tS(i,e,t))return!0;let p=e.parent.canReplace(e.index(),e.index()+1);if(p&&(l=(d=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&d.matchType(l[0]||a.type).validEnd){if(t){let L=e.pos+a.nodeSize,R=Q.empty;for(let W=l.length-1;W>=0;W--)R=Q.from(l[W].create(null,R));R=Q.from(s.copy(R));let z=i.tr.step(new ze(e.pos-1,L,e.pos,L,new se(R,1,0),l.length,!0)),D=L+2*l.length;Ei(z.doc,D)&&z.join(D),t(z.scrollIntoView())}return!0}let b=pe.findFrom(e,1),k=b&&b.$from.blockRange(b.$to),A=k&&Xn(k);if(A!=null&&A>=e.depth)return t&&t(i.tr.lift(k,A).scrollIntoView()),!0;if(p&&Dn(a,"start",!0)&&Dn(s,"end")){let L=s,R=[];for(;R.push(L),!L.isTextblock;)L=L.lastChild;let z=a,D=1;for(;!z.isTextblock;z=z.firstChild)D++;if(L.canReplace(L.childCount,L.childCount,z.content)){if(t){let W=Q.empty;for(let G=R.length-1;G>=0;G--)W=Q.from(R[G].copy(W));let X=i.tr.step(new ze(e.pos-R.length,e.pos+a.nodeSize,e.pos+D,e.pos+a.nodeSize-D,new se(W,R.length,0),0,!0));t(X.scrollIntoView())}return!0}}return!1}function lg(i){return function(e,t){let s=e.selection,a=i<0?s.$from:s.$to,l=a.depth;for(;a.node(l).isInline;){if(!l)return!1;l--}return a.node(l).isTextblock?(t&&t(e.tr.setSelection(ue.create(e.doc,i<0?a.start(l):a.end(l)))),!0):!1}}const iS=lg(-1),nS=lg(1);function sS(i,e=null){return function(t,s){let{$from:a,$to:l}=t.selection,d=a.blockRange(l),p=d&&ic(d,i,e);return p?(s&&s(t.tr.wrap(d,p).scrollIntoView()),!0):!1}}function wd(i,e=null){return function(t,s){let a=!1;for(let l=0;l<t.selection.ranges.length&&!a;l++){let{$from:{pos:d},$to:{pos:p}}=t.selection.ranges[l];t.doc.nodesBetween(d,p,(b,k)=>{if(a)return!1;if(!(!b.isTextblock||b.hasMarkup(i,e)))if(b.type==i)a=!0;else{let A=t.doc.resolve(k),L=A.index();a=A.parent.canReplaceWith(L,L+1,i)}})}if(!a)return!1;if(s){let l=t.tr;for(let d=0;d<t.selection.ranges.length;d++){let{$from:{pos:p},$to:{pos:b}}=t.selection.ranges[d];l.setBlockType(p,b,i,e)}s(l.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function rS(i,e=null){return function(t,s){let{$from:a,$to:l}=t.selection,d=a.blockRange(l),p=!1,b=d;if(!d)return!1;if(d.depth>=2&&a.node(d.depth-1).type.compatibleContent(i)&&d.startIndex==0){if(a.index(d.depth-1)==0)return!1;let A=t.doc.resolve(d.start-2);b=new vr(A,A,d.depth),d.endIndex<d.parent.childCount&&(d=new vr(a,t.doc.resolve(l.end(d.depth)),d.depth)),p=!0}let k=ic(b,i,e,d);return k?(s&&s(aS(t.tr,d,k,p,i).scrollIntoView()),!0):!1}}function aS(i,e,t,s,a){let l=Q.empty;for(let A=t.length-1;A>=0;A--)l=Q.from(t[A].type.create(t[A].attrs,l));i.step(new ze(e.start-(s?2:0),e.end,e.start,e.end,new se(l,0,0),t.length,!0));let d=0;for(let A=0;A<t.length;A++)t[A].type==a&&(d=A+1);let p=t.length-d,b=e.start+t.length-(s?2:0),k=e.parent;for(let A=e.startIndex,L=e.endIndex,R=!0;A<L;A++,R=!1)!R&&An(i.doc,b,p)&&(i.split(b,p),b+=2*p),b+=k.child(A).nodeSize;return i}function oS(i){return function(e,t){let{$from:s,$to:a}=e.selection,l=s.blockRange(a,d=>d.childCount>0&&d.firstChild.type==i);return l?t?s.node(l.depth-1).type==i?lS(e,t,i,l):cS(e,t,l):!0:!1}}function lS(i,e,t,s){let a=i.tr,l=s.end,d=s.$to.end(s.depth);l<d&&(a.step(new ze(l-1,d,l,d,new se(Q.from(t.create(null,s.parent.copy())),1,0),1,!0)),s=new vr(a.doc.resolve(s.$from.pos),a.doc.resolve(d),s.depth));const p=Xn(s);if(p==null)return!1;a.lift(s,p);let b=a.mapping.map(l,-1)-1;return Ei(a.doc,b)&&a.join(b),e(a.scrollIntoView()),!0}function cS(i,e,t){let s=i.tr,a=t.parent;for(let z=t.end,D=t.endIndex-1,W=t.startIndex;D>W;D--)z-=a.child(D).nodeSize,s.delete(z-1,z+1);let l=s.doc.resolve(t.start),d=l.nodeAfter;if(s.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let p=t.startIndex==0,b=t.endIndex==a.childCount,k=l.node(-1),A=l.index(-1);if(!k.canReplace(A+(p?0:1),A+1,d.content.append(b?Q.empty:Q.from(a))))return!1;let L=l.pos,R=L+d.nodeSize;return s.step(new ze(L-(p?1:0),R+(b?1:0),L+1,R-1,new se((p?Q.empty:Q.from(a.copy(Q.empty))).append(b?Q.empty:Q.from(a.copy(Q.empty))),p?0:1,b?0:1),p?0:1)),e(s.scrollIntoView()),!0}function hS(i){return function(e,t){let{$from:s,$to:a}=e.selection,l=s.blockRange(a,k=>k.childCount>0&&k.firstChild.type==i);if(!l)return!1;let d=l.startIndex;if(d==0)return!1;let p=l.parent,b=p.child(d-1);if(b.type!=i)return!1;if(t){let k=b.lastChild&&b.lastChild.type==p.type,A=Q.from(k?i.create():null),L=new se(Q.from(i.create(null,Q.from(p.type.create(null,A)))),k?3:1,0),R=l.start,z=l.end;t(e.tr.step(new ze(R-(k?3:1),z,R,z,L,1,!0)).scrollIntoView())}return!0}}function ga(i){const{state:e,transaction:t}=i;let{selection:s}=t,{doc:a}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return s},get doc(){return a},get tr(){return s=t.selection,a=t.doc,l=t.storedMarks,t}}}class ma{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:s}=this,{view:a}=t,{tr:l}=s,d=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([p,b])=>[p,(...A)=>{const L=b(...A)(d);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(l),L}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:s,editor:a,state:l}=this,{view:d}=a,p=[],b=!!e,k=e||l.tr,A=()=>(!b&&t&&!k.getMeta("preventDispatch")&&!this.hasCustomState&&d.dispatch(k),p.every(R=>R===!0)),L={...Object.fromEntries(Object.entries(s).map(([R,z])=>[R,(...W)=>{const X=this.buildProps(k,t),G=z(...W)(X);return p.push(G),L}])),run:A};return L}createCan(e){const{rawCommands:t,state:s}=this,a=!1,l=e||s.tr,d=this.buildProps(l,a);return{...Object.fromEntries(Object.entries(t).map(([b,k])=>[b,(...A)=>k(...A)({...d,dispatch:void 0})])),chain:()=>this.createChain(l,a)}}buildProps(e,t=!0){const{rawCommands:s,editor:a,state:l}=this,{view:d}=a,p={tr:e,editor:a,view:d,state:ga({state:l,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(s).map(([b,k])=>[b,(...A)=>k(...A)(p)]))}};return p}}class dS{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const s=this.callbacks[e];return s&&s.forEach(a=>a.apply(this,t)),this}off(e,t){const s=this.callbacks[e];return s&&(t?this.callbacks[e]=s.filter(a=>a!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function re(i,e,t){return i.config[e]===void 0&&i.parent?re(i.parent,e,t):typeof i.config[e]=="function"?i.config[e].bind({...t,parent:i.parent?re(i.parent,e,t):null}):i.config[e]}function xa(i){const e=i.filter(a=>a.type==="extension"),t=i.filter(a=>a.type==="node"),s=i.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:s}}function cg(i){const e=[],{nodeExtensions:t,markExtensions:s}=xa(i),a=[...t,...s],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return i.forEach(d=>{const p={name:d.name,options:d.options,storage:d.storage},b=re(d,"addGlobalAttributes",p);if(!b)return;b().forEach(A=>{A.types.forEach(L=>{Object.entries(A.attributes).forEach(([R,z])=>{e.push({type:L,name:R,attribute:{...l,...z}})})})})}),a.forEach(d=>{const p={name:d.name,options:d.options,storage:d.storage},b=re(d,"addAttributes",p);if(!b)return;const k=b();Object.entries(k).forEach(([A,L])=>{const R={...l,...L};typeof(R==null?void 0:R.default)=="function"&&(R.default=R.default()),R!=null&&R.isRequired&&(R==null?void 0:R.default)===void 0&&delete R.default,e.push({type:d.name,name:A,attribute:R})})}),e}function He(i,e){if(typeof i=="string"){if(!e.nodes[i])throw Error(`There is no node type named '${i}'. Maybe you forgot to add the extension?`);return e.nodes[i]}return i}function Pe(...i){return i.filter(e=>!!e).reduce((e,t)=>{const s={...e};return Object.entries(t).forEach(([a,l])=>{if(!s[a]){s[a]=l;return}if(a==="class"){const p=l?l.split(" "):[],b=s[a]?s[a].split(" "):[],k=p.filter(A=>!b.includes(A));s[a]=[...b,...k].join(" ")}else a==="style"?s[a]=[s[a],l].join("; "):s[a]=l}),s},{})}function rl(i,e){return e.filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(i.attrs)||{}:{[t.name]:i.attrs[t.name]}).reduce((t,s)=>Pe(t,s),{})}function hg(i){return typeof i=="function"}function fe(i,e=void 0,...t){return hg(i)?e?i.bind(e)(...t):i(...t):i}function uS(i={}){return Object.keys(i).length===0&&i.constructor===Object}function fS(i){return typeof i!="string"?i:i.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(i):i==="true"?!0:i==="false"?!1:i}function Sd(i,e){return i.style?i:{...i,getAttrs:t=>{const s=i.getAttrs?i.getAttrs(t):i.attrs;if(s===!1)return!1;const a=e.reduce((l,d)=>{const p=d.attribute.parseHTML?d.attribute.parseHTML(t):fS(t.getAttribute(d.name));return p==null?l:{...l,[d.name]:p}},{});return{...s,...a}}}}function kd(i){return Object.fromEntries(Object.entries(i).filter(([e,t])=>e==="attrs"&&uS(t)?!1:t!=null))}function pS(i,e){var t;const s=cg(i),{nodeExtensions:a,markExtensions:l}=xa(i),d=(t=a.find(k=>re(k,"topNode")))===null||t===void 0?void 0:t.name,p=Object.fromEntries(a.map(k=>{const A=s.filter(G=>G.type===k.name),L={name:k.name,options:k.options,storage:k.storage,editor:e},R=i.reduce((G,_)=>{const ne=re(_,"extendNodeSchema",L);return{...G,...ne?ne(k):{}}},{}),z=kd({...R,content:fe(re(k,"content",L)),marks:fe(re(k,"marks",L)),group:fe(re(k,"group",L)),inline:fe(re(k,"inline",L)),atom:fe(re(k,"atom",L)),selectable:fe(re(k,"selectable",L)),draggable:fe(re(k,"draggable",L)),code:fe(re(k,"code",L)),defining:fe(re(k,"defining",L)),isolating:fe(re(k,"isolating",L)),attrs:Object.fromEntries(A.map(G=>{var _;return[G.name,{default:(_=G==null?void 0:G.attribute)===null||_===void 0?void 0:_.default}]}))}),D=fe(re(k,"parseHTML",L));D&&(z.parseDOM=D.map(G=>Sd(G,A)));const W=re(k,"renderHTML",L);W&&(z.toDOM=G=>W({node:G,HTMLAttributes:rl(G,A)}));const X=re(k,"renderText",L);return X&&(z.toText=X),[k.name,z]})),b=Object.fromEntries(l.map(k=>{const A=s.filter(X=>X.type===k.name),L={name:k.name,options:k.options,storage:k.storage,editor:e},R=i.reduce((X,G)=>{const _=re(G,"extendMarkSchema",L);return{...X,..._?_(k):{}}},{}),z=kd({...R,inclusive:fe(re(k,"inclusive",L)),excludes:fe(re(k,"excludes",L)),group:fe(re(k,"group",L)),spanning:fe(re(k,"spanning",L)),code:fe(re(k,"code",L)),attrs:Object.fromEntries(A.map(X=>{var G;return[X.name,{default:(G=X==null?void 0:X.attribute)===null||G===void 0?void 0:G.default}]}))}),D=fe(re(k,"parseHTML",L));D&&(z.parseDOM=D.map(X=>Sd(X,A)));const W=re(k,"renderHTML",L);return W&&(z.toDOM=X=>W({mark:X,HTMLAttributes:rl(X,A)})),[k.name,z]}));return new k0({topNode:d,nodes:p,marks:b})}function no(i,e){return e.nodes[i]||e.marks[i]||null}function Ad(i,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===i.name):e}const gS=(i,e=500)=>{let t="";const s=i.parentOffset;return i.parent.nodesBetween(Math.max(0,s-e),s,(a,l,d,p)=>{var b,k;const A=((k=(b=a.type.spec).toText)===null||k===void 0?void 0:k.call(b,{node:a,pos:l,parent:d,index:p}))||a.textContent||"%leaf%";t+=A.slice(0,Math.max(0,s-l))}),t};function pc(i){return Object.prototype.toString.call(i)==="[object RegExp]"}class ba{constructor(e){this.find=e.find,this.handler=e.handler}}const mS=(i,e)=>{if(pc(e))return e.exec(i);const t=e(i);if(!t)return null;const s=[t.text];return s.index=t.index,s.input=i,s.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(t.replaceWith)),s};function so(i){var e;const{editor:t,from:s,to:a,text:l,rules:d,plugin:p}=i,{view:b}=t;if(b.composing)return!1;const k=b.state.doc.resolve(s);if(k.parent.type.spec.code||!((e=k.nodeBefore||k.nodeAfter)===null||e===void 0)&&e.marks.find(R=>R.type.spec.code))return!1;let A=!1;const L=gS(k)+l;return d.forEach(R=>{if(A)return;const z=mS(L,R.find);if(!z)return;const D=b.state.tr,W=ga({state:b.state,transaction:D}),X={from:s-(z[0].length-l.length),to:a},{commands:G,chain:_,can:ne}=new ma({editor:t,state:W});R.handler({state:W,range:X,match:z,commands:G,chain:_,can:ne})===null||!D.steps.length||(D.setMeta(p,{transform:D,from:s,to:a,text:l}),b.dispatch(D),A=!0)}),A}function xS(i){const{editor:e,rules:t}=i,s=new ct({state:{init(){return null},apply(a,l){const d=a.getMeta(s);return d||(a.selectionSet||a.docChanged?null:l)}},props:{handleTextInput(a,l,d,p){return so({editor:e,from:l,to:d,text:p,rules:t,plugin:s})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:l}=a.state.selection;l&&so({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:s})}),!1)},handleKeyDown(a,l){if(l.key!=="Enter")return!1;const{$cursor:d}=a.state.selection;return d?so({editor:e,from:d.pos,to:d.pos,text:`
`,rules:t,plugin:s}):!1}},isInputRules:!0});return s}function bS(i){return typeof i=="number"}class yS{constructor(e){this.find=e.find,this.handler=e.handler}}const vS=(i,e)=>{if(pc(e))return[...i.matchAll(e)];const t=e(i);return t?t.map(s=>{const a=[s.text];return a.index=s.index,a.input=i,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function wS(i){const{editor:e,state:t,from:s,to:a,rule:l,pasteEvent:d,dropEvent:p}=i,{commands:b,chain:k,can:A}=new ma({editor:e,state:t}),L=[];return t.doc.nodesBetween(s,a,(z,D)=>{if(!z.isTextblock||z.type.spec.code)return;const W=Math.max(s,D),X=Math.min(a,D+z.content.size),G=z.textBetween(W-D,X-D,void 0,"");vS(G,l.find).forEach(ne=>{if(ne.index===void 0)return;const oe=W+ne.index+1,j=oe+ne[0].length,q={from:t.tr.mapping.map(oe),to:t.tr.mapping.map(j)},Z=l.handler({state:t,range:q,match:ne,commands:b,chain:k,can:A,pasteEvent:d,dropEvent:p});L.push(Z)})}),L.every(z=>z!==null)}function SS(i){const{editor:e,rules:t}=i;let s=null,a=!1,l=!1,d=new ClipboardEvent("paste"),p=new DragEvent("drop");return t.map(k=>new ct({view(A){const L=R=>{var z;s=!((z=A.dom.parentElement)===null||z===void 0)&&z.contains(R.target)?A.dom.parentElement:null};return window.addEventListener("dragstart",L),{destroy(){window.removeEventListener("dragstart",L)}}},props:{handleDOMEvents:{drop:(A,L)=>(l=s===A.dom.parentElement,p=L,!1),paste:(A,L)=>{var R;const z=(R=L.clipboardData)===null||R===void 0?void 0:R.getData("text/html");return d=L,a=!!(z!=null&&z.includes("data-pm-slice")),!1}}},appendTransaction:(A,L,R)=>{const z=A[0],D=z.getMeta("uiEvent")==="paste"&&!a,W=z.getMeta("uiEvent")==="drop"&&!l;if(!D&&!W)return;const X=L.doc.content.findDiffStart(R.doc.content),G=L.doc.content.findDiffEnd(R.doc.content);if(!bS(X)||!G||X===G.b)return;const _=R.tr,ne=ga({state:R,transaction:_});if(!(!wS({editor:e,state:ne,from:Math.max(X-1,0),to:G.b-1,rule:k,pasteEvent:d,dropEvent:p})||!_.steps.length))return p=new DragEvent("drop"),d=new ClipboardEvent("paste"),_}}))}function kS(i){const e=i.filter((t,s)=>i.indexOf(t)!==s);return[...new Set(e)]}class bn{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=bn.resolve(e),this.schema=pS(this.extensions,t),this.extensions.forEach(s=>{var a;this.editor.extensionStorage[s.name]=s.storage;const l={name:s.name,options:s.options,storage:s.storage,editor:this.editor,type:no(s.name,this.schema)};s.type==="mark"&&(!((a=fe(re(s,"keepOnSplit",l)))!==null&&a!==void 0)||a)&&this.splittableMarks.push(s.name);const d=re(s,"onBeforeCreate",l);d&&this.editor.on("beforeCreate",d);const p=re(s,"onCreate",l);p&&this.editor.on("create",p);const b=re(s,"onUpdate",l);b&&this.editor.on("update",b);const k=re(s,"onSelectionUpdate",l);k&&this.editor.on("selectionUpdate",k);const A=re(s,"onTransaction",l);A&&this.editor.on("transaction",A);const L=re(s,"onFocus",l);L&&this.editor.on("focus",L);const R=re(s,"onBlur",l);R&&this.editor.on("blur",R);const z=re(s,"onDestroy",l);z&&this.editor.on("destroy",z)})}static resolve(e){const t=bn.sort(bn.flatten(e)),s=kS(t.map(a=>a.name));return s.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${s.map(a=>`'${a}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const s={name:t.name,options:t.options,storage:t.storage},a=re(t,"addExtensions",s);return a?[t,...this.flatten(a())]:t}).flat(10)}static sort(e){return e.sort((s,a)=>{const l=re(s,"priority")||100,d=re(a,"priority")||100;return l>d?-1:l<d?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const s={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:no(t.name,this.schema)},a=re(t,"addCommands",s);return a?{...e,...a()}:e},{})}get plugins(){const{editor:e}=this,t=bn.sort([...this.extensions].reverse()),s=[],a=[],l=t.map(d=>{const p={name:d.name,options:d.options,storage:d.storage,editor:e,type:no(d.name,this.schema)},b=[],k=re(d,"addKeyboardShortcuts",p);let A={};if(d.type==="mark"&&d.config.exitable&&(A.ArrowRight=()=>St.handleExit({editor:e,mark:d})),k){const W=Object.fromEntries(Object.entries(k()).map(([X,G])=>[X,()=>G({editor:e})]));A={...A,...W}}const L=H1(A);b.push(L);const R=re(d,"addInputRules",p);Ad(d,e.options.enableInputRules)&&R&&s.push(...R());const z=re(d,"addPasteRules",p);Ad(d,e.options.enablePasteRules)&&z&&a.push(...z());const D=re(d,"addProseMirrorPlugins",p);if(D){const W=D();b.push(...W)}return b}).flat();return[xS({editor:e,rules:s}),...SS({editor:e,rules:a}),...l]}get attributes(){return cg(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=xa(this.extensions);return Object.fromEntries(t.filter(s=>!!re(s,"addNodeView")).map(s=>{const a=this.attributes.filter(b=>b.type===s.name),l={name:s.name,options:s.options,storage:s.storage,editor:e,type:He(s.name,this.schema)},d=re(s,"addNodeView",l);if(!d)return[];const p=(b,k,A,L)=>{const R=rl(b,a);return d()({editor:e,node:b,getPos:A,decorations:L,HTMLAttributes:R,extension:s})};return[s.name,p]}))}}function AS(i){return Object.prototype.toString.call(i).slice(8,-1)}function ro(i){return AS(i)!=="Object"?!1:i.constructor===Object&&Object.getPrototypeOf(i)===Object.prototype}function ya(i,e){const t={...i};return ro(i)&&ro(e)&&Object.keys(e).forEach(s=>{ro(e[s])?s in i?t[s]=ya(i[s],e[s]):Object.assign(t,{[s]:e[s]}):Object.assign(t,{[s]:e[s]})}),t}class lt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=fe(re(this,"addOptions",{name:this.name}))),this.storage=fe(re(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new lt(e)}configure(e={}){const t=this.extend();return t.options=ya(this.options,e),t.storage=fe(re(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new lt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=fe(re(t,"addOptions",{name:t.name})),t.storage=fe(re(t,"addStorage",{name:t.name,options:t.options})),t}}function dg(i,e,t){const{from:s,to:a}=e,{blockSeparator:l=`

`,textSerializers:d={}}=t||{};let p="",b=!0;return i.nodesBetween(s,a,(k,A,L,R)=>{var z;const D=d==null?void 0:d[k.type.name];D?(k.isBlock&&!b&&(p+=l,b=!0),L&&(p+=D({node:k,pos:A,parent:L,index:R,range:e}))):k.isText?(p+=(z=k==null?void 0:k.text)===null||z===void 0?void 0:z.slice(Math.max(s,A)-A,a-A),b=!1):k.isBlock&&!b&&(p+=l,b=!0)}),p}function ug(i){return Object.fromEntries(Object.entries(i.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const CS=lt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new ct({key:new Vt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:i}=this,{state:e,schema:t}=i,{doc:s,selection:a}=e,{ranges:l}=a,d=Math.min(...l.map(A=>A.$from.pos)),p=Math.max(...l.map(A=>A.$to.pos)),b=ug(t);return dg(s,{from:d,to:p},{textSerializers:b})}}})]}}),ES=()=>({editor:i,view:e})=>(requestAnimationFrame(()=>{var t;i.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),TS=(i=!1)=>({commands:e})=>e.setContent("",i),MS=()=>({state:i,tr:e,dispatch:t})=>{const{selection:s}=e,{ranges:a}=s;return t&&a.forEach(({$from:l,$to:d})=>{i.doc.nodesBetween(l.pos,d.pos,(p,b)=>{if(p.type.isText)return;const{doc:k,mapping:A}=e,L=k.resolve(A.map(b)),R=k.resolve(A.map(b+p.nodeSize)),z=L.blockRange(R);if(!z)return;const D=Xn(z);if(p.type.isTextblock){const{defaultType:W}=L.parent.contentMatchAt(L.index());e.setNodeMarkup(z.start,W)}(D||D===0)&&e.lift(z,D)})}),!0},LS=i=>e=>i(e),PS=()=>({state:i,dispatch:e})=>Z1(i,e),OS=(i,e)=>({editor:t,tr:s})=>{const{state:a}=t,l=a.doc.slice(i.from,i.to);s.deleteRange(i.from,i.to);const d=s.mapping.map(e);return s.insert(d,l.content),s.setSelection(new ue(s.doc.resolve(d-1))),!0},RS=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,s=t.$anchor.node();if(s.content.size>0)return!1;const a=i.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===s.type){if(e){const p=a.before(l),b=a.after(l);i.delete(p,b).scrollIntoView()}return!0}return!1},IS=i=>({tr:e,state:t,dispatch:s})=>{const a=He(i,t.schema),l=e.selection.$anchor;for(let d=l.depth;d>0;d-=1)if(l.node(d).type===a){if(s){const b=l.before(d),k=l.after(d);e.delete(b,k).scrollIntoView()}return!0}return!1},NS=i=>({tr:e,dispatch:t})=>{const{from:s,to:a}=i;return t&&e.delete(s,a),!0},DS=()=>({state:i,dispatch:e})=>_1(i,e),FS=()=>({commands:i})=>i.keyboardShortcut("Enter"),zS=()=>({state:i,dispatch:e})=>J1(i,e);function Lr(i,e,t={strict:!0}){const s=Object.keys(e);return s.length?s.every(a=>t.strict?e[a]===i[a]:pc(e[a])?e[a].test(i[a]):e[a]===i[a]):!0}function al(i,e,t={}){return i.find(s=>s.type===e&&Lr(s.attrs,t))}function BS(i,e,t={}){return!!al(i,e,t)}function gc(i,e,t={}){if(!i||!e)return;let s=i.parent.childAfter(i.parentOffset);if(i.parentOffset===s.offset&&s.offset!==0&&(s=i.parent.childBefore(i.parentOffset)),!s.node)return;const a=al([...s.node.marks],e,t);if(!a)return;let l=s.index,d=i.start()+s.offset,p=l+1,b=d+s.node.nodeSize;for(al([...s.node.marks],e,t);l>0&&a.isInSet(i.parent.child(l-1).marks);)l-=1,d-=i.parent.child(l).nodeSize;for(;p<i.parent.childCount&&BS([...i.parent.child(p).marks],e,t);)b+=i.parent.child(p).nodeSize,p+=1;return{from:d,to:b}}function Mi(i,e){if(typeof i=="string"){if(!e.marks[i])throw Error(`There is no mark type named '${i}'. Maybe you forgot to add the extension?`);return e.marks[i]}return i}const HS=(i,e={})=>({tr:t,state:s,dispatch:a})=>{const l=Mi(i,s.schema),{doc:d,selection:p}=t,{$from:b,from:k,to:A}=p;if(a){const L=gc(b,l,e);if(L&&L.from<=k&&L.to>=A){const R=ue.create(d,L.from,L.to);t.setSelection(R)}}return!0},_S=i=>e=>{const t=typeof i=="function"?i(e):i;for(let s=0;s<t.length;s+=1)if(t[s](e))return!0;return!1};function fg(i){return i instanceof ue}function Xi(i=0,e=0,t=0){return Math.min(Math.max(i,e),t)}function pg(i,e=null){if(!e)return null;const t=pe.atStart(i),s=pe.atEnd(i);if(e==="start"||e===!0)return t;if(e==="end")return s;const a=t.from,l=s.to;return e==="all"?ue.create(i,Xi(0,a,l),Xi(i.content.size,a,l)):ue.create(i,Xi(e,a,l),Xi(e,a,l))}function mc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const XS=(i=null,e={})=>({editor:t,view:s,tr:a,dispatch:l})=>{e={scrollIntoView:!0,...e};const d=()=>{mc()&&s.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(s.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(s.hasFocus()&&i===null||i===!1)return!0;if(l&&i===null&&!fg(t.state.selection))return d(),!0;const p=pg(a.doc,i)||t.state.selection,b=t.state.selection.eq(p);return l&&(b||a.setSelection(p),b&&a.storedMarks&&a.setStoredMarks(a.storedMarks),d()),!0},WS=(i,e)=>t=>i.every((s,a)=>e(s,{...t,index:a})),YS=(i,e)=>({tr:t,commands:s})=>s.insertContentAt({from:t.selection.from,to:t.selection.to},i,e);function Cd(i){const e=`<body>${i}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Pr(i,e,t){if(t={slice:!0,parseOptions:{},...t},typeof i=="object"&&i!==null)try{return Array.isArray(i)&&i.length>0?Q.fromArray(i.map(s=>e.nodeFromJSON(s))):e.nodeFromJSON(i)}catch(s){return console.warn("[tiptap warn]: Invalid content.","Passed value:",i,"Error:",s),Pr("",e,t)}if(typeof i=="string"){const s=ec.fromSchema(e);return t.slice?s.parseSlice(Cd(i),t.parseOptions).content:s.parse(Cd(i),t.parseOptions)}return Pr("",e,t)}function VS(i,e,t){const s=i.steps.length-1;if(s<e)return;const a=i.steps[s];if(!(a instanceof Ye||a instanceof ze))return;const l=i.mapping.maps[s];let d=0;l.forEach((p,b,k,A)=>{d===0&&(d=A)}),i.setSelection(pe.near(i.doc.resolve(d),t))}const jS=i=>i.toString().startsWith("<"),GS=(i,e,t)=>({tr:s,dispatch:a,editor:l})=>{if(a){t={parseOptions:{},updateSelection:!0,...t};const d=Pr(e,l.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions}});if(d.toString()==="<>")return!0;let{from:p,to:b}=typeof i=="number"?{from:i,to:i}:{from:i.from,to:i.to},k=!0,A=!0;if((jS(d)?d:[d]).forEach(R=>{R.check(),k=k?R.isText&&R.marks.length===0:!1,A=A?R.isBlock:!1}),p===b&&A){const{parent:R}=s.doc.resolve(p);R.isTextblock&&!R.type.spec.code&&!R.childCount&&(p-=1,b+=1)}k?Array.isArray(e)?s.insertText(e.map(R=>R.text||"").join(""),p,b):typeof e=="object"&&e&&e.text?s.insertText(e.text,p,b):s.insertText(e,p,b):s.replaceWith(p,b,d),t.updateSelection&&VS(s,s.steps.length-1,-1)}return!0},qS=()=>({state:i,dispatch:e})=>q1(i,e),US=()=>({state:i,dispatch:e})=>U1(i,e),$S=()=>({state:i,dispatch:e})=>W1(i,e),KS=()=>({state:i,dispatch:e})=>j1(i,e),JS=()=>({tr:i,state:e,dispatch:t})=>{try{const s=ha(e.doc,e.selection.$from.pos,-1);return s==null?!1:(i.join(s,2),t&&t(i),!0)}catch{return!1}},ZS=()=>({state:i,dispatch:e,tr:t})=>{try{const s=ha(i.doc,i.selection.$from.pos,1);return s==null?!1:(t.join(s,2),e&&e(t),!0)}catch{return!1}};function xc(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function QS(i){const e=i.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let s,a,l,d;for(let p=0;p<e.length-1;p+=1){const b=e[p];if(/^(cmd|meta|m)$/i.test(b))d=!0;else if(/^a(lt)?$/i.test(b))s=!0;else if(/^(c|ctrl|control)$/i.test(b))a=!0;else if(/^s(hift)?$/i.test(b))l=!0;else if(/^mod$/i.test(b))mc()||xc()?d=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${b}`)}return s&&(t=`Alt-${t}`),a&&(t=`Ctrl-${t}`),d&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}const ek=i=>({editor:e,view:t,tr:s,dispatch:a})=>{const l=QS(i).split(/-(?!$)/),d=l.find(k=>!["Alt","Ctrl","Meta","Shift"].includes(k)),p=new KeyboardEvent("keydown",{key:d==="Space"?" ":d,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),b=e.captureTransaction(()=>{t.someProp("handleKeyDown",k=>k(t,p))});return b==null||b.steps.forEach(k=>{const A=k.map(s.mapping);A&&a&&s.maybeStep(A)}),!0};function bs(i,e,t={}){const{from:s,to:a,empty:l}=i.selection,d=e?He(e,i.schema):null,p=[];i.doc.nodesBetween(s,a,(L,R)=>{if(L.isText)return;const z=Math.max(s,R),D=Math.min(a,R+L.nodeSize);p.push({node:L,from:z,to:D})});const b=a-s,k=p.filter(L=>d?d.name===L.node.type.name:!0).filter(L=>Lr(L.node.attrs,t,{strict:!1}));return l?!!k.length:k.reduce((L,R)=>L+R.to-R.from,0)>=b}const tk=(i,e={})=>({state:t,dispatch:s})=>{const a=He(i,t.schema);return bs(t,a,e)?$1(t,s):!1},ik=()=>({state:i,dispatch:e})=>Q1(i,e),nk=i=>({state:e,dispatch:t})=>{const s=He(i,e.schema);return oS(s)(e,t)},sk=()=>({state:i,dispatch:e})=>K1(i,e);function va(i,e){return e.nodes[i]?"node":e.marks[i]?"mark":null}function Ed(i,e){const t=typeof e=="string"?[e]:e;return Object.keys(i).reduce((s,a)=>(t.includes(a)||(s[a]=i[a]),s),{})}const rk=(i,e)=>({tr:t,state:s,dispatch:a})=>{let l=null,d=null;const p=va(typeof i=="string"?i:i.name,s.schema);return p?(p==="node"&&(l=He(i,s.schema)),p==="mark"&&(d=Mi(i,s.schema)),a&&t.selection.ranges.forEach(b=>{s.doc.nodesBetween(b.$from.pos,b.$to.pos,(k,A)=>{l&&l===k.type&&t.setNodeMarkup(A,void 0,Ed(k.attrs,e)),d&&k.marks.length&&k.marks.forEach(L=>{d===L.type&&t.addMark(A,A+k.nodeSize,d.create(Ed(L.attrs,e)))})})}),!0):!1},ak=()=>({tr:i,dispatch:e})=>(e&&i.scrollIntoView(),!0),ok=()=>({tr:i,commands:e})=>e.setTextSelection({from:0,to:i.doc.content.size}),lk=()=>({state:i,dispatch:e})=>Y1(i,e),ck=()=>({state:i,dispatch:e})=>G1(i,e),hk=()=>({state:i,dispatch:e})=>eS(i,e),dk=()=>({state:i,dispatch:e})=>nS(i,e),uk=()=>({state:i,dispatch:e})=>iS(i,e);function gg(i,e,t={}){return Pr(i,e,{slice:!1,parseOptions:t})}const fk=(i,e=!1,t={})=>({tr:s,editor:a,dispatch:l})=>{const{doc:d}=s,p=gg(i,a.schema,t);return l&&s.replaceWith(0,d.content.size,p).setMeta("preventUpdate",!e),!0};function wa(i,e){const t=Mi(e,i.schema),{from:s,to:a,empty:l}=i.selection,d=[];l?(i.storedMarks&&d.push(...i.storedMarks),d.push(...i.selection.$head.marks())):i.doc.nodesBetween(s,a,b=>{d.push(...b.marks)});const p=d.find(b=>b.type.name===t.name);return p?{...p.attrs}:{}}function pk(i,e){const t=new kp(i);return e.forEach(s=>{s.steps.forEach(a=>{t.step(a)})}),t}function gk(i){for(let e=0;e<i.edgeCount;e+=1){const{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function mk(i,e,t){const s=[];return i.nodesBetween(e.from,e.to,(a,l)=>{t(a)&&s.push({node:a,pos:l})}),s}function xk(i,e){for(let t=i.depth;t>0;t-=1){const s=i.node(t);if(e(s))return{pos:t>0?i.before(t):0,start:i.start(t),depth:t,node:s}}}function bc(i){return e=>xk(e.$from,i)}function bk(i,e){const t=Bt.fromSchema(e).serializeFragment(i),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(t),a.innerHTML}function yk(i,e){const t={from:0,to:i.content.size};return dg(i,t,e)}function vk(i,e){const t=He(e,i.schema),{from:s,to:a}=i.selection,l=[];i.doc.nodesBetween(s,a,p=>{l.push(p)});const d=l.reverse().find(p=>p.type.name===t.name);return d?{...d.attrs}:{}}function mg(i,e){const t=va(typeof e=="string"?e:e.name,i.schema);return t==="node"?vk(i,e):t==="mark"?wa(i,e):{}}function wk(i,e=JSON.stringify){const t={};return i.filter(s=>{const a=e(s);return Object.prototype.hasOwnProperty.call(t,a)?!1:t[a]=!0})}function Sk(i){const e=wk(i);return e.length===1?e:e.filter((t,s)=>!e.filter((l,d)=>d!==s).some(l=>t.oldRange.from>=l.oldRange.from&&t.oldRange.to<=l.oldRange.to&&t.newRange.from>=l.newRange.from&&t.newRange.to<=l.newRange.to))}function kk(i){const{mapping:e,steps:t}=i,s=[];return e.maps.forEach((a,l)=>{const d=[];if(a.ranges.length)a.forEach((p,b)=>{d.push({from:p,to:b})});else{const{from:p,to:b}=t[l];if(p===void 0||b===void 0)return;d.push({from:p,to:b})}d.forEach(({from:p,to:b})=>{const k=e.slice(l).map(p,-1),A=e.slice(l).map(b),L=e.invert().map(k,-1),R=e.invert().map(A);s.push({oldRange:{from:L,to:R},newRange:{from:k,to:A}})})}),Sk(s)}function yc(i,e,t){const s=[];return i===e?t.resolve(i).marks().forEach(a=>{const l=t.resolve(i-1),d=gc(l,a.type);d&&s.push({mark:a,...d})}):t.nodesBetween(i,e,(a,l)=>{s.push(...a.marks.map(d=>({from:l,to:l+a.nodeSize,mark:d})))}),s}function ir(i,e,t){return Object.fromEntries(Object.entries(t).filter(([s])=>{const a=i.find(l=>l.type===e&&l.name===s);return a?a.attribute.keepOnSplit:!1}))}function ol(i,e,t={}){const{empty:s,ranges:a}=i.selection,l=e?Mi(e,i.schema):null;if(s)return!!(i.storedMarks||i.selection.$from.marks()).filter(L=>l?l.name===L.type.name:!0).find(L=>Lr(L.attrs,t,{strict:!1}));let d=0;const p=[];if(a.forEach(({$from:L,$to:R})=>{const z=L.pos,D=R.pos;i.doc.nodesBetween(z,D,(W,X)=>{if(!W.isText&&!W.marks.length)return;const G=Math.max(z,X),_=Math.min(D,X+W.nodeSize),ne=_-G;d+=ne,p.push(...W.marks.map(oe=>({mark:oe,from:G,to:_})))})}),d===0)return!1;const b=p.filter(L=>l?l.name===L.mark.type.name:!0).filter(L=>Lr(L.mark.attrs,t,{strict:!1})).reduce((L,R)=>L+R.to-R.from,0),k=p.filter(L=>l?L.mark.type!==l&&L.mark.type.excludes(l):!0).reduce((L,R)=>L+R.to-R.from,0);return(b>0?b+k:b)>=d}function Ak(i,e,t={}){if(!e)return bs(i,null,t)||ol(i,null,t);const s=va(e,i.schema);return s==="node"?bs(i,e,t):s==="mark"?ol(i,e,t):!1}function Td(i,e){const{nodeExtensions:t}=xa(e),s=t.find(d=>d.name===i);if(!s)return!1;const a={name:s.name,options:s.options,storage:s.storage},l=fe(re(s,"group",a));return typeof l!="string"?!1:l.split(" ").includes("list")}function Ck(i){var e;const t=(e=i.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),s=i.toJSON();return JSON.stringify(t)===JSON.stringify(s)}function Ek(i,e,t){var s;const{selection:a}=e;let l=null;if(fg(a)&&(l=a.$cursor),l){const p=(s=i.storedMarks)!==null&&s!==void 0?s:l.marks();return!!t.isInSet(p)||!p.some(b=>b.type.excludes(t))}const{ranges:d}=a;return d.some(({$from:p,$to:b})=>{let k=p.depth===0?i.doc.inlineContent&&i.doc.type.allowsMarkType(t):!1;return i.doc.nodesBetween(p.pos,b.pos,(A,L,R)=>{if(k)return!1;if(A.isInline){const z=!R||R.type.allowsMarkType(t),D=!!t.isInSet(A.marks)||!A.marks.some(W=>W.type.excludes(t));k=z&&D}return!k}),k})}const Tk=(i,e={})=>({tr:t,state:s,dispatch:a})=>{const{selection:l}=t,{empty:d,ranges:p}=l,b=Mi(i,s.schema);if(a)if(d){const k=wa(s,b);t.addStoredMark(b.create({...k,...e}))}else p.forEach(k=>{const A=k.$from.pos,L=k.$to.pos;s.doc.nodesBetween(A,L,(R,z)=>{const D=Math.max(z,A),W=Math.min(z+R.nodeSize,L);R.marks.find(G=>G.type===b)?R.marks.forEach(G=>{b===G.type&&t.addMark(D,W,b.create({...G.attrs,...e}))}):t.addMark(D,W,b.create(e))})});return Ek(s,t,b)},Mk=(i,e)=>({tr:t})=>(t.setMeta(i,e),!0),Lk=(i,e={})=>({state:t,dispatch:s,chain:a})=>{const l=He(i,t.schema);return l.isTextblock?a().command(({commands:d})=>wd(l,e)(t)?!0:d.clearNodes()).command(({state:d})=>wd(l,e)(d,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Pk=i=>({tr:e,dispatch:t})=>{if(t){const{doc:s}=e,a=Xi(i,0,s.content.size),l=he.create(s,a);e.setSelection(l)}return!0},Ok=i=>({tr:e,dispatch:t})=>{if(t){const{doc:s}=e,{from:a,to:l}=typeof i=="number"?{from:i,to:i}:i,d=ue.atStart(s).from,p=ue.atEnd(s).to,b=Xi(a,d,p),k=Xi(l,d,p),A=ue.create(s,b,k);e.setSelection(A)}return!0},Rk=i=>({state:e,dispatch:t})=>{const s=He(i,e.schema);return hS(s)(e,t)};function Md(i,e){const t=i.storedMarks||i.selection.$to.parentOffset&&i.selection.$from.marks();if(t){const s=t.filter(a=>e==null?void 0:e.includes(a.type.name));i.tr.ensureMarks(s)}}const Ik=({keepMarks:i=!0}={})=>({tr:e,state:t,dispatch:s,editor:a})=>{const{selection:l,doc:d}=e,{$from:p,$to:b}=l,k=a.extensionManager.attributes,A=ir(k,p.node().type.name,p.node().attrs);if(l instanceof he&&l.node.isBlock)return!p.parentOffset||!An(d,p.pos)?!1:(s&&(i&&Md(t,a.extensionManager.splittableMarks),e.split(p.pos).scrollIntoView()),!0);if(!p.parent.isBlock)return!1;if(s){const L=b.parentOffset===b.parent.content.size;l instanceof ue&&e.deleteSelection();const R=p.depth===0?void 0:gk(p.node(-1).contentMatchAt(p.indexAfter(-1)));let z=L&&R?[{type:R,attrs:A}]:void 0,D=An(e.doc,e.mapping.map(p.pos),1,z);if(!z&&!D&&An(e.doc,e.mapping.map(p.pos),1,R?[{type:R}]:void 0)&&(D=!0,z=R?[{type:R,attrs:A}]:void 0),D&&(e.split(e.mapping.map(p.pos),1,z),R&&!L&&!p.parentOffset&&p.parent.type!==R)){const W=e.mapping.map(p.before()),X=e.doc.resolve(W);p.node(-1).canReplaceWith(X.index(),X.index()+1,R)&&e.setNodeMarkup(e.mapping.map(p.before()),R)}i&&Md(t,a.extensionManager.splittableMarks),e.scrollIntoView()}return!0},Nk=i=>({tr:e,state:t,dispatch:s,editor:a})=>{var l;const d=He(i,t.schema),{$from:p,$to:b}=t.selection,k=t.selection.node;if(k&&k.isBlock||p.depth<2||!p.sameParent(b))return!1;const A=p.node(-1);if(A.type!==d)return!1;const L=a.extensionManager.attributes;if(p.parent.content.size===0&&p.node(-1).childCount===p.indexAfter(-1)){if(p.depth===2||p.node(-3).type!==d||p.index(-2)!==p.node(-2).childCount-1)return!1;if(s){let X=Q.empty;const G=p.index(-1)?1:p.index(-2)?2:3;for(let Z=p.depth-G;Z>=p.depth-3;Z-=1)X=Q.from(p.node(Z).copy(X));const _=p.indexAfter(-1)<p.node(-2).childCount?1:p.indexAfter(-2)<p.node(-3).childCount?2:3,ne=ir(L,p.node().type.name,p.node().attrs),oe=((l=d.contentMatch.defaultType)===null||l===void 0?void 0:l.createAndFill(ne))||void 0;X=X.append(Q.from(d.createAndFill(null,oe)||void 0));const j=p.before(p.depth-(G-1));e.replace(j,p.after(-_),new se(X,4-G,0));let q=-1;e.doc.nodesBetween(j,e.doc.content.size,(Z,ce)=>{if(q>-1)return!1;Z.isTextblock&&Z.content.size===0&&(q=ce+1)}),q>-1&&e.setSelection(ue.near(e.doc.resolve(q))),e.scrollIntoView()}return!0}const R=b.pos===p.end()?A.contentMatchAt(0).defaultType:null,z=ir(L,A.type.name,A.attrs),D=ir(L,p.node().type.name,p.node().attrs);e.delete(p.pos,b.pos);const W=R?[{type:d,attrs:z},{type:R,attrs:D}]:[{type:d,attrs:z}];if(!An(e.doc,p.pos,2))return!1;if(s){const{selection:X,storedMarks:G}=t,{splittableMarks:_}=a.extensionManager,ne=G||X.$to.parentOffset&&X.$from.marks();if(e.split(p.pos,2,W).scrollIntoView(),!ne||!s)return!0;const oe=ne.filter(j=>_.includes(j.type.name));e.ensureMarks(oe)}return!0},ao=(i,e)=>{const t=bc(d=>d.type===e)(i.selection);if(!t)return!0;const s=i.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(s===void 0)return!0;const a=i.doc.nodeAt(s);return t.node.type===(a==null?void 0:a.type)&&Ei(i.doc,t.pos)&&i.join(t.pos),!0},oo=(i,e)=>{const t=bc(d=>d.type===e)(i.selection);if(!t)return!0;const s=i.doc.resolve(t.start).after(t.depth);if(s===void 0)return!0;const a=i.doc.nodeAt(s);return t.node.type===(a==null?void 0:a.type)&&Ei(i.doc,s)&&i.join(s),!0},Dk=(i,e,t,s={})=>({editor:a,tr:l,state:d,dispatch:p,chain:b,commands:k,can:A})=>{const{extensions:L,splittableMarks:R}=a.extensionManager,z=He(i,d.schema),D=He(e,d.schema),{selection:W,storedMarks:X}=d,{$from:G,$to:_}=W,ne=G.blockRange(_),oe=X||W.$to.parentOffset&&W.$from.marks();if(!ne)return!1;const j=bc(q=>Td(q.type.name,L))(W);if(ne.depth>=1&&j&&ne.depth-j.depth<=1){if(j.node.type===z)return k.liftListItem(D);if(Td(j.node.type.name,L)&&z.validContent(j.node.content)&&p)return b().command(()=>(l.setNodeMarkup(j.pos,z),!0)).command(()=>ao(l,z)).command(()=>oo(l,z)).run()}return!t||!oe||!p?b().command(()=>A().wrapInList(z,s)?!0:k.clearNodes()).wrapInList(z,s).command(()=>ao(l,z)).command(()=>oo(l,z)).run():b().command(()=>{const q=A().wrapInList(z,s),Z=oe.filter(ce=>R.includes(ce.type.name));return l.ensureMarks(Z),q?!0:k.clearNodes()}).wrapInList(z,s).command(()=>ao(l,z)).command(()=>oo(l,z)).run()},Fk=(i,e={},t={})=>({state:s,commands:a})=>{const{extendEmptyMarkRange:l=!1}=t,d=Mi(i,s.schema);return ol(s,d,e)?a.unsetMark(d,{extendEmptyMarkRange:l}):a.setMark(d,e)},zk=(i,e,t={})=>({state:s,commands:a})=>{const l=He(i,s.schema),d=He(e,s.schema);return bs(s,l,t)?a.setNode(d):a.setNode(l,t)},Bk=(i,e={})=>({state:t,commands:s})=>{const a=He(i,t.schema);return bs(t,a,e)?s.lift(a):s.wrapIn(a,e)},Hk=()=>({state:i,dispatch:e})=>{const t=i.plugins;for(let s=0;s<t.length;s+=1){const a=t[s];let l;if(a.spec.isInputRules&&(l=a.getState(i))){if(e){const d=i.tr,p=l.transform;for(let b=p.steps.length-1;b>=0;b-=1)d.step(p.steps[b].invert(p.docs[b]));if(l.text){const b=d.doc.resolve(l.from).marks();d.replaceWith(l.from,l.to,i.schema.text(l.text,b))}else d.delete(l.from,l.to)}return!0}}return!1},_k=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,{empty:s,ranges:a}=t;return s||e&&a.forEach(l=>{i.removeMark(l.$from.pos,l.$to.pos)}),!0},Xk=(i,e={})=>({tr:t,state:s,dispatch:a})=>{var l;const{extendEmptyMarkRange:d=!1}=e,{selection:p}=t,b=Mi(i,s.schema),{$from:k,empty:A,ranges:L}=p;if(!a)return!0;if(A&&d){let{from:R,to:z}=p;const D=(l=k.marks().find(X=>X.type===b))===null||l===void 0?void 0:l.attrs,W=gc(k,b,D);W&&(R=W.from,z=W.to),t.removeMark(R,z,b)}else L.forEach(R=>{t.removeMark(R.$from.pos,R.$to.pos,b)});return t.removeStoredMark(b),!0},Wk=(i,e={})=>({tr:t,state:s,dispatch:a})=>{let l=null,d=null;const p=va(typeof i=="string"?i:i.name,s.schema);return p?(p==="node"&&(l=He(i,s.schema)),p==="mark"&&(d=Mi(i,s.schema)),a&&t.selection.ranges.forEach(b=>{const k=b.$from.pos,A=b.$to.pos;s.doc.nodesBetween(k,A,(L,R)=>{l&&l===L.type&&t.setNodeMarkup(R,void 0,{...L.attrs,...e}),d&&L.marks.length&&L.marks.forEach(z=>{if(d===z.type){const D=Math.max(R,k),W=Math.min(R+L.nodeSize,A);t.addMark(D,W,d.create({...z.attrs,...e}))}})})}),!0):!1},Yk=(i,e={})=>({state:t,dispatch:s})=>{const a=He(i,t.schema);return sS(a,e)(t,s)},Vk=(i,e={})=>({state:t,dispatch:s})=>{const a=He(i,t.schema);return rS(a,e)(t,s)};var jk=Object.freeze({__proto__:null,blur:ES,clearContent:TS,clearNodes:MS,command:LS,createParagraphNear:PS,cut:OS,deleteCurrentNode:RS,deleteNode:IS,deleteRange:NS,deleteSelection:DS,enter:FS,exitCode:zS,extendMarkRange:HS,first:_S,focus:XS,forEach:WS,insertContent:YS,insertContentAt:GS,joinUp:qS,joinDown:US,joinBackward:$S,joinForward:KS,joinItemBackward:JS,joinItemForward:ZS,keyboardShortcut:ek,lift:tk,liftEmptyBlock:ik,liftListItem:nk,newlineInCode:sk,resetAttributes:rk,scrollIntoView:ak,selectAll:ok,selectNodeBackward:lk,selectNodeForward:ck,selectParentNode:hk,selectTextblockEnd:dk,selectTextblockStart:uk,setContent:fk,setMark:Tk,setMeta:Mk,setNode:Lk,setNodeSelection:Pk,setTextSelection:Ok,sinkListItem:Rk,splitBlock:Ik,splitListItem:Nk,toggleList:Dk,toggleMark:Fk,toggleNode:zk,toggleWrap:Bk,undoInputRule:Hk,unsetAllMarks:_k,unsetMark:Xk,updateAttributes:Wk,wrapIn:Yk,wrapInList:Vk});const Gk=lt.create({name:"commands",addCommands(){return{...jk}}}),qk=lt.create({name:"editable",addProseMirrorPlugins(){return[new ct({key:new Vt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Uk=lt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:i}=this;return[new ct({key:new Vt("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{i.isFocused=!0;const s=i.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,t)=>{i.isFocused=!1;const s=i.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),$k=lt.create({name:"keymap",addKeyboardShortcuts(){const i=()=>this.editor.commands.first(({commands:d})=>[()=>d.undoInputRule(),()=>d.command(({tr:p})=>{const{selection:b,doc:k}=p,{empty:A,$anchor:L}=b,{pos:R,parent:z}=L,D=L.parent.isTextblock?p.doc.resolve(R-1):L,W=D.parent.type.spec.isolating,X=L.pos-L.parentOffset,G=W&&D.parent.childCount===1?X===L.pos:pe.atStart(k).from===R;return!A||!G||!z.type.isTextblock||z.textContent.length?!1:d.clearNodes()}),()=>d.deleteSelection(),()=>d.joinBackward(),()=>d.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:d})=>[()=>d.deleteSelection(),()=>d.deleteCurrentNode(),()=>d.joinForward(),()=>d.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:d})=>[()=>d.newlineInCode(),()=>d.createParagraphNear(),()=>d.liftEmptyBlock(),()=>d.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:i,"Mod-Backspace":i,"Shift-Backspace":i,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...s},l={...s,"Ctrl-h":i,"Alt-Backspace":i,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return mc()||xc()?l:a},addProseMirrorPlugins(){return[new ct({key:new Vt("clearDocument"),appendTransaction:(i,e,t)=>{if(!(i.some(D=>D.docChanged)&&!e.doc.eq(t.doc)))return;const{empty:a,from:l,to:d}=e.selection,p=pe.atStart(e.doc).from,b=pe.atEnd(e.doc).to;if(a||!(l===p&&d===b)||!(t.doc.textBetween(0,t.doc.content.size," "," ").length===0))return;const L=t.tr,R=ga({state:t,transaction:L}),{commands:z}=new ma({editor:this.editor,state:R});if(z.clearNodes(),!!L.steps.length)return L}})]}}),Kk=lt.create({name:"tabindex",addProseMirrorPlugins(){return[new ct({key:new Vt("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Jk=Object.freeze({__proto__:null,ClipboardTextSerializer:CS,Commands:Gk,Editable:qk,FocusEvents:Uk,Keymap:$k,Tabindex:Kk});const Zk=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Qk(i,e,t){const s=document.querySelector(`style[data-tiptap-style${t?`-${t}`:""}]`);if(s!==null)return s;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute(`data-tiptap-style${t?`-${t}`:""}`,""),a.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(a),a}class eA extends dS{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Qk(Zk,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const s=hg(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],a=this.state.reconfigure({plugins:s});this.view.updateState(a)}unregisterPlugin(e){if(this.isDestroyed)return;const t=typeof e=="string"?`${e}$`:e.key,s=this.state.reconfigure({plugins:this.state.plugins.filter(a=>!a.key.startsWith(t))});this.view.updateState(s)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(Jk):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new bn(t,this)}createCommandManager(){this.commandManager=new ma({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=gg(this.options.content,this.schema,this.options.parseOptions),t=pg(e,this.options.autofocus);this.view=new P1(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:xn.create({doc:e,selection:t||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(d=>{var p;return(p=this.capturedTransaction)===null||p===void 0?void 0:p.step(d)});return}const t=this.state.apply(e),s=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),s&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=e.getMeta("focus"),l=e.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return mg(this.state,e)}isActive(e,t){const s=typeof e=="string"?e:null,a=typeof e=="string"?t:e;return Ak(this.state,s,a)}getJSON(){return this.state.doc.toJSON()}getHTML(){return bk(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:s={}}=e||{};return yk(this.state.doc,{blockSeparator:t,textSerializers:{...ug(this.schema),...s}})}get isEmpty(){return Ck(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}function sn(i){return new ba({find:i.find,handler:({state:e,range:t,match:s})=>{const a=fe(i.getAttributes,void 0,s);if(a===!1||a===null)return null;const{tr:l}=e,d=s[s.length-1],p=s[0];if(d){const b=p.search(/\S/),k=t.from+p.indexOf(d),A=k+d.length;if(yc(t.from,t.to,e.doc).filter(z=>z.mark.type.excluded.find(W=>W===i.type&&W!==z.mark.type)).filter(z=>z.to>k).length)return null;A<t.to&&l.delete(A,t.to),k>t.from&&l.delete(t.from+b,k);const R=t.from+b+d.length;l.addMark(t.from+b,R,i.type.create(a||{})),l.removeStoredMark(i.type)}}})}function xg(i){return new ba({find:i.find,handler:({state:e,range:t,match:s})=>{const a=fe(i.getAttributes,void 0,s)||{},{tr:l}=e,d=t.from;let p=t.to;const b=i.type.create(a);if(s[1]){const k=s[0].lastIndexOf(s[1]);let A=d+k;A>p?A=p:p=A+s[1].length;const L=s[0][s[0].length-1];l.insertText(L,d+s[0].length-1),l.replaceWith(A,p,b)}else s[0]&&l.insert(d-1,i.type.create(a)).delete(l.mapping.map(d),l.mapping.map(p));l.scrollIntoView()}})}function ll(i){return new ba({find:i.find,handler:({state:e,range:t,match:s})=>{const a=e.doc.resolve(t.from),l=fe(i.getAttributes,void 0,s)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),i.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,i.type,l)}})}function ys(i){return new ba({find:i.find,handler:({state:e,range:t,match:s,chain:a})=>{const l=fe(i.getAttributes,void 0,s)||{},d=e.tr.delete(t.from,t.to),b=d.doc.resolve(t.from).blockRange(),k=b&&ic(b,i.type,l);if(!k)return null;if(d.wrap(b,k),i.keepMarks&&i.editor){const{selection:L,storedMarks:R}=e,{splittableMarks:z}=i.editor.extensionManager,D=R||L.$to.parentOffset&&L.$from.marks();if(D){const W=D.filter(X=>z.includes(X.type.name));d.ensureMarks(W)}}if(i.keepAttributes){const L=i.type.name==="bulletList"||i.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(L,l).run()}const A=d.doc.resolve(t.from-1).nodeBefore;A&&A.type===i.type&&Ei(d.doc,t.from-1)&&(!i.joinPredicate||i.joinPredicate(s,A))&&d.join(t.from-1)}})}class St{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=fe(re(this,"addOptions",{name:this.name}))),this.storage=fe(re(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new St(e)}configure(e={}){const t=this.extend();return t.options=ya(this.options,e),t.storage=fe(re(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new St(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=fe(re(t,"addOptions",{name:t.name})),t.storage=fe(re(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:s}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const d=a.marks();if(!!!d.find(k=>(k==null?void 0:k.type.name)===t.name))return!1;const b=d.find(k=>(k==null?void 0:k.type.name)===t.name);return b&&s.removeStoredMark(b),s.insertText(" ",a.pos),e.view.dispatch(s),!0}return!1}}let ht=class cl{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=fe(re(this,"addOptions",{name:this.name}))),this.storage=fe(re(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cl(e)}configure(e={}){const t=this.extend();return t.options=ya(this.options,e),t.storage=fe(re(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new cl(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=fe(re(t,"addOptions",{name:t.name})),t.storage=fe(re(t,"addStorage",{name:t.name,options:t.options})),t}};function Ci(i){return new yS({find:i.find,handler:({state:e,range:t,match:s,pasteEvent:a})=>{const l=fe(i.getAttributes,void 0,s,a);if(l===!1||l===null)return null;const{tr:d}=e,p=s[s.length-1],b=s[0];let k=t.to;if(p){const A=b.search(/\S/),L=t.from+b.indexOf(p),R=L+p.length;if(yc(t.from,t.to,e.doc).filter(D=>D.mark.type.excluded.find(X=>X===i.type&&X!==D.mark.type)).filter(D=>D.to>L).length)return null;R<t.to&&d.delete(R,t.to),L>t.from&&d.delete(t.from+A,L),k=t.from+A+p.length,d.addMark(t.from+A,k,i.type.create(l||{})),d.removeStoredMark(i.type)}}})}const tA=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,iA=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,nA=St.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:i=>i.getAttribute("data-color")||i.style.backgroundColor,renderHTML:i=>i.color?{"data-color":i.color,style:`background-color: ${i.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:i}){return["mark",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{setHighlight:i=>({commands:e})=>e.setMark(this.name,i),toggleHighlight:i=>({commands:e})=>e.toggleMark(this.name,i),unsetHighlight:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[sn({find:tA,type:this.type})]},addPasteRules(){return[Ci({find:iA,type:this.type})]}}),sA=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,rA=ht.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:i}){return["img",Pe(this.options.HTMLAttributes,i)]},addCommands(){return{setImage:i=>({commands:e})=>e.insertContent({type:this.name,attrs:i})}},addInputRules(){return[xg({find:sA,type:this.type,getAttributes:i=>{const[,,e,t,s]=i;return{src:t,alt:e,title:s}}})]}}),aA="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",oA="1213426321653223333353565455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Fn=(i,e)=>{for(const t in e)i[t]=e[t];return i},hl="numeric",dl="ascii",ul="alpha",nr="asciinumeric",js="alphanumeric",fl="domain",bg="emoji",lA="scheme",cA="slashscheme",Ld="whitespace";function hA(i,e){return i in e||(e[i]=[]),e[i]}function Wi(i,e,t){e[hl]&&(e[nr]=!0,e[js]=!0),e[dl]&&(e[nr]=!0,e[ul]=!0),e[nr]&&(e[js]=!0),e[ul]&&(e[js]=!0),e[js]&&(e[fl]=!0),e[bg]&&(e[fl]=!0);for(const s in e){const a=hA(s,t);a.indexOf(i)<0&&a.push(i)}}function dA(i,e){const t={};for(const s in e)e[s].indexOf(i)>=0&&(t[s]=!0);return t}function rt(i){i===void 0&&(i=null),this.j={},this.jr=[],this.jd=null,this.t=i}rt.groups={};rt.prototype={accepts(){return!!this.t},go(i){const e=this,t=e.j[i];if(t)return t;for(let s=0;s<e.jr.length;s++){const a=e.jr[s][0],l=e.jr[s][1];if(l&&a.test(i))return l}return e.jd},has(i,e){return e===void 0&&(e=!1),e?i in this.j:!!this.go(i)},ta(i,e,t,s){for(let a=0;a<i.length;a++)this.tt(i[a],e,t,s)},tr(i,e,t,s){s=s||rt.groups;let a;return e&&e.j?a=e:(a=new rt(e),t&&s&&Wi(e,t,s)),this.jr.push([i,a]),a},ts(i,e,t,s){let a=this;const l=i.length;if(!l)return a;for(let d=0;d<l-1;d++)a=a.tt(i[d]);return a.tt(i[l-1],e,t,s)},tt(i,e,t,s){s=s||rt.groups;const a=this;if(e&&e.j)return a.j[i]=e,e;const l=e;let d,p=a.go(i);if(p?(d=new rt,Fn(d.j,p.j),d.jr.push.apply(d.jr,p.jr),d.jd=p.jd,d.t=p.t):d=new rt,l){if(s)if(d.t&&typeof d.t=="string"){const b=Fn(dA(d.t,s),t);Wi(l,b,s)}else t&&Wi(l,t,s);d.t=l}return a.j[i]=d,d}};const le=(i,e,t,s,a)=>i.ta(e,t,s,a),mt=(i,e,t,s,a)=>i.tr(e,t,s,a),Pd=(i,e,t,s,a)=>i.ts(e,t,s,a),ee=(i,e,t,s,a)=>i.tt(e,t,s,a),Gt="WORD",pl="UWORD",vs="LOCALHOST",gl="TLD",ml="UTLD",sr="SCHEME",gn="SLASH_SCHEME",vc="NUM",yg="WS",wc="NL",yn="OPENBRACE",rs="OPENBRACKET",as="OPENANGLEBRACKET",ls="OPENPAREN",Fi="CLOSEBRACE",vn="CLOSEBRACKET",wn="CLOSEANGLEBRACKET",zi="CLOSEPAREN",Or="AMPERSAND",Rr="APOSTROPHE",Ir="ASTERISK",li="AT",Nr="BACKSLASH",Dr="BACKTICK",Fr="CARET",ui="COLON",Sc="COMMA",zr="DOLLAR",Rt="DOT",Br="EQUALS",kc="EXCLAMATION",It="HYPHEN",Hr="PERCENT",_r="PIPE",Xr="PLUS",Wr="POUND",Yr="QUERY",Ac="QUOTE",Cc="SEMI",Nt="SLASH",cs="TILDE",Vr="UNDERSCORE",vg="EMOJI",jr="SYM";var wg=Object.freeze({__proto__:null,WORD:Gt,UWORD:pl,LOCALHOST:vs,TLD:gl,UTLD:ml,SCHEME:sr,SLASH_SCHEME:gn,NUM:vc,WS:yg,NL:wc,OPENBRACE:yn,OPENBRACKET:rs,OPENANGLEBRACKET:as,OPENPAREN:ls,CLOSEBRACE:Fi,CLOSEBRACKET:vn,CLOSEANGLEBRACKET:wn,CLOSEPAREN:zi,AMPERSAND:Or,APOSTROPHE:Rr,ASTERISK:Ir,AT:li,BACKSLASH:Nr,BACKTICK:Dr,CARET:Fr,COLON:ui,COMMA:Sc,DOLLAR:zr,DOT:Rt,EQUALS:Br,EXCLAMATION:kc,HYPHEN:It,PERCENT:Hr,PIPE:_r,PLUS:Xr,POUND:Wr,QUERY:Yr,QUOTE:Ac,SEMI:Cc,SLASH:Nt,TILDE:cs,UNDERSCORE:Vr,EMOJI:vg,SYM:jr});const un=/[a-z]/,lo=/\p{L}/u,co=/\p{Emoji}/u,ho=/\d/,Od=/\s/,Rd=`
`,uA="",fA="";let Gs=null,qs=null;function pA(i){i===void 0&&(i=[]);const e={};rt.groups=e;const t=new rt;Gs==null&&(Gs=Id(aA)),qs==null&&(qs=Id(oA)),ee(t,"'",Rr),ee(t,"{",yn),ee(t,"[",rs),ee(t,"<",as),ee(t,"(",ls),ee(t,"}",Fi),ee(t,"]",vn),ee(t,">",wn),ee(t,")",zi),ee(t,"&",Or),ee(t,"*",Ir),ee(t,"@",li),ee(t,"`",Dr),ee(t,"^",Fr),ee(t,":",ui),ee(t,",",Sc),ee(t,"$",zr),ee(t,".",Rt),ee(t,"=",Br),ee(t,"!",kc),ee(t,"-",It),ee(t,"%",Hr),ee(t,"|",_r),ee(t,"+",Xr),ee(t,"#",Wr),ee(t,"?",Yr),ee(t,'"',Ac),ee(t,"/",Nt),ee(t,";",Cc),ee(t,"~",cs),ee(t,"_",Vr),ee(t,"\\",Nr);const s=mt(t,ho,vc,{[hl]:!0});mt(s,ho,s);const a=mt(t,un,Gt,{[dl]:!0});mt(a,un,a);const l=mt(t,lo,pl,{[ul]:!0});mt(l,un),mt(l,lo,l);const d=mt(t,Od,yg,{[Ld]:!0});ee(t,Rd,wc,{[Ld]:!0}),ee(d,Rd),mt(d,Od,d);const p=mt(t,co,vg,{[bg]:!0});mt(p,co,p),ee(p,uA,p);const b=ee(p,fA);mt(b,co,p);const k=[[un,a]],A=[[un,null],[lo,l]];for(let L=0;L<Gs.length;L++)si(t,Gs[L],gl,Gt,k);for(let L=0;L<qs.length;L++)si(t,qs[L],ml,pl,A);Wi(gl,{tld:!0,ascii:!0},e),Wi(ml,{utld:!0,alpha:!0},e),si(t,"file",sr,Gt,k),si(t,"mailto",sr,Gt,k),si(t,"http",gn,Gt,k),si(t,"https",gn,Gt,k),si(t,"ftp",gn,Gt,k),si(t,"ftps",gn,Gt,k),Wi(sr,{scheme:!0,ascii:!0},e),Wi(gn,{slashscheme:!0,ascii:!0},e),i=i.sort((L,R)=>L[0]>R[0]?1:-1);for(let L=0;L<i.length;L++){const R=i[L][0],D=i[L][1]?{[lA]:!0}:{[cA]:!0};R.indexOf("-")>=0?D[fl]=!0:un.test(R)?ho.test(R)?D[nr]=!0:D[dl]=!0:D[hl]=!0,Pd(t,R,R,D)}return Pd(t,"localhost",vs,{ascii:!0}),t.jd=new rt(jr),{start:t,tokens:Fn({groups:e},wg)}}function gA(i,e){const t=mA(e.replace(/[A-Z]/g,p=>p.toLowerCase())),s=t.length,a=[];let l=0,d=0;for(;d<s;){let p=i,b=null,k=0,A=null,L=-1,R=-1;for(;d<s&&(b=p.go(t[d]));)p=b,p.accepts()?(L=0,R=0,A=p):L>=0&&(L+=t[d].length,R++),k+=t[d].length,l+=t[d].length,d++;l-=L,d-=R,k-=L,a.push({t:A.t,v:e.slice(l-k,l),s:l-k,e:l})}return a}function mA(i){const e=[],t=i.length;let s=0;for(;s<t;){let a=i.charCodeAt(s),l,d=a<55296||a>56319||s+1===t||(l=i.charCodeAt(s+1))<56320||l>57343?i[s]:i.slice(s,s+2);e.push(d),s+=d.length}return e}function si(i,e,t,s,a){let l;const d=e.length;for(let p=0;p<d-1;p++){const b=e[p];i.j[b]?l=i.j[b]:(l=new rt(s),l.jr=a.slice(),i.j[b]=l),i=l}return l=new rt(t),l.jr=a.slice(),i.j[e[d-1]]=l,l}function Id(i){const e=[],t=[];let s=0,a="0123456789";for(;s<i.length;){let l=0;for(;a.indexOf(i[s+l])>=0;)l++;if(l>0){e.push(t.join(""));for(let d=parseInt(i.substring(s,s+l),10);d>0;d--)t.pop();s+=l}else t.push(i[s]),s++}return e}const ws={defaultProtocol:"http",events:null,format:Nd,formatHref:Nd,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ec(i,e){e===void 0&&(e=null);let t=Fn({},ws);i&&(t=Fn(t,i instanceof Ec?i.o:i));const s=t.ignoreTags,a=[];for(let l=0;l<s.length;l++)a.push(s[l].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=a}Ec.prototype={o:ws,ignoreTags:[],defaultRender(i){return i},check(i){return this.get("validate",i.toString(),i)},get(i,e,t){const s=e!=null;let a=this.o[i];return a&&(typeof a=="object"?(a=t.t in a?a[t.t]:ws[i],typeof a=="function"&&s&&(a=a(e,t))):typeof a=="function"&&s&&(a=a(e,t.t,t)),a)},getObj(i,e,t){let s=this.o[i];return typeof s=="function"&&e!=null&&(s=s(e,t.t,t)),s},render(i){const e=i.render(this);return(this.get("render",null,i)||this.defaultRender)(e,i.t,i)}};function Nd(i){return i}function Sg(i,e){this.t="token",this.v=i,this.tk=e}Sg.prototype={isLink:!1,toString(){return this.v},toHref(i){return this.toString()},toFormattedString(i){const e=this.toString(),t=i.get("truncate",e,this),s=i.get("format",e,this);return t&&s.length>t?s.substring(0,t)+"":s},toFormattedHref(i){return i.get("formatHref",this.toHref(i.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(i){return i===void 0&&(i=ws.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(i),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(i){return{type:this.t,value:this.toFormattedString(i),isLink:this.isLink,href:this.toFormattedHref(i),start:this.startIndex(),end:this.endIndex()}},validate(i){return i.get("validate",this.toString(),this)},render(i){const e=this,t=this.toHref(i.get("defaultProtocol")),s=i.get("formatHref",t,this),a=i.get("tagName",t,e),l=this.toFormattedString(i),d={},p=i.get("className",t,e),b=i.get("target",t,e),k=i.get("rel",t,e),A=i.getObj("attributes",t,e),L=i.getObj("events",t,e);return d.href=s,p&&(d.class=p),b&&(d.target=b),k&&(d.rel=k),A&&Fn(d,A),{tagName:a,attributes:d,content:l,eventListeners:L}}};function Sa(i,e){class t extends Sg{constructor(a,l){super(a,l),this.t=i}}for(const s in e)t.prototype[s]=e[s];return t.t=i,t}const Dd=Sa("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Fd=Sa("text"),xA=Sa("nl"),Ri=Sa("url",{isLink:!0,toHref(i){return i===void 0&&(i=ws.defaultProtocol),this.hasProtocol()?this.v:`${i}://${this.v}`},hasProtocol(){const i=this.tk;return i.length>=2&&i[0].t!==vs&&i[1].t===ui}}),Fe=i=>new rt(i);function bA(i){let{groups:e}=i;const t=e.domain.concat([Or,Ir,li,Nr,Dr,Fr,zr,Br,It,vc,Hr,_r,Xr,Wr,Nt,jr,cs,Vr]),s=[Rr,wn,Fi,vn,zi,ui,Sc,Rt,kc,as,yn,rs,ls,Yr,Ac,Cc],a=[Or,Rr,Ir,Nr,Dr,Fr,Fi,zr,Br,It,yn,Hr,_r,Xr,Wr,Yr,Nt,jr,cs,Vr],l=Fe(),d=ee(l,cs);le(d,a,d),le(d,e.domain,d);const p=Fe(),b=Fe(),k=Fe();le(l,e.domain,p),le(l,e.scheme,b),le(l,e.slashscheme,k),le(p,a,d),le(p,e.domain,p);const A=ee(p,li);ee(d,li,A),ee(b,li,A),ee(k,li,A);const L=ee(d,Rt);le(L,a,d),le(L,e.domain,d);const R=Fe();le(A,e.domain,R),le(R,e.domain,R);const z=ee(R,Rt);le(z,e.domain,R);const D=Fe(Dd);le(z,e.tld,D),le(z,e.utld,D),ee(A,vs,D);const W=ee(R,It);le(W,e.domain,R),le(D,e.domain,R),ee(D,Rt,z),ee(D,It,W);const X=ee(D,ui);le(X,e.numeric,Dd);const G=ee(p,It),_=ee(p,Rt);le(G,e.domain,p),le(_,a,d),le(_,e.domain,p);const ne=Fe(Ri);le(_,e.tld,ne),le(_,e.utld,ne),le(ne,e.domain,p),le(ne,a,d),ee(ne,Rt,_),ee(ne,It,G),ee(ne,li,A);const oe=ee(ne,ui),j=Fe(Ri);le(oe,e.numeric,j);const q=Fe(Ri),Z=Fe();le(q,t,q),le(q,s,Z),le(Z,t,q),le(Z,s,Z),ee(ne,Nt,q),ee(j,Nt,q);const ce=ee(b,ui),ae=ee(k,ui),me=ee(ae,Nt),we=ee(me,Nt);le(b,e.domain,p),ee(b,Rt,_),ee(b,It,G),le(k,e.domain,p),ee(k,Rt,_),ee(k,It,G),le(ce,e.domain,q),ee(ce,Nt,q),le(we,e.domain,q),le(we,t,q),ee(we,Nt,q);const ke=ee(q,yn),Je=ee(q,rs),ye=ee(q,as),ft=ee(q,ls);ee(Z,yn,ke),ee(Z,rs,Je),ee(Z,as,ye),ee(Z,ls,ft),ee(ke,Fi,q),ee(Je,vn,q),ee(ye,wn,q),ee(ft,zi,q),ee(ke,Fi,q);const pt=Fe(Ri),Ze=Fe(Ri),_e=Fe(Ri),dt=Fe(Ri);le(ke,t,pt),le(Je,t,Ze),le(ye,t,_e),le(ft,t,dt);const ti=Fe(),an=Fe(),je=Fe(),Ot=Fe();return le(ke,s),le(Je,s),le(ye,s),le(ft,s),le(pt,t,pt),le(Ze,t,Ze),le(_e,t,_e),le(dt,t,dt),le(pt,s,pt),le(Ze,s,Ze),le(_e,s,_e),le(dt,s,dt),le(ti,t,ti),le(an,t,Ze),le(je,t,_e),le(Ot,t,dt),le(ti,s,ti),le(an,s,an),le(je,s,je),le(Ot,s,Ot),ee(Ze,vn,q),ee(_e,wn,q),ee(dt,zi,q),ee(pt,Fi,q),ee(an,vn,q),ee(je,wn,q),ee(Ot,zi,q),ee(ti,zi,q),ee(l,vs,ne),ee(l,wc,xA),{start:l,tokens:wg}}function yA(i,e,t){let s=t.length,a=0,l=[],d=[];for(;a<s;){let p=i,b=null,k=null,A=0,L=null,R=-1;for(;a<s&&!(b=p.go(t[a].t));)d.push(t[a++]);for(;a<s&&(k=b||p.go(t[a].t));)b=null,p=k,p.accepts()?(R=0,L=p):R>=0&&R++,a++,A++;if(R<0)a-=A,a<s&&(d.push(t[a]),a++);else{d.length>0&&(l.push(uo(Fd,e,d)),d=[]),a-=R,A-=R;const z=L.t,D=t.slice(a-A,a);l.push(uo(z,e,D))}}return d.length>0&&l.push(uo(Fd,e,d)),l}function uo(i,e,t){const s=t[0].s,a=t[t.length-1].e,l=e.slice(s,a);return new i(l,t)}const vA=typeof console<"u"&&console&&console.warn||(()=>{}),wA="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Te={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function SA(){rt.groups={},Te.scanner=null,Te.parser=null,Te.tokenQueue=[],Te.pluginQueue=[],Te.customSchemes=[],Te.initialized=!1}function zd(i,e){if(e===void 0&&(e=!1),Te.initialized&&vA(`linkifyjs: already initialized - will not register custom scheme "${i}" ${wA}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(i))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);Te.customSchemes.push([i,e])}function kA(){Te.scanner=pA(Te.customSchemes);for(let i=0;i<Te.tokenQueue.length;i++)Te.tokenQueue[i][1]({scanner:Te.scanner});Te.parser=bA(Te.scanner.tokens);for(let i=0;i<Te.pluginQueue.length;i++)Te.pluginQueue[i][1]({scanner:Te.scanner,parser:Te.parser});Te.initialized=!0}function AA(i){return Te.initialized||kA(),yA(Te.parser.start,i,gA(Te.scanner.start,i))}function kg(i,e,t){if(e===void 0&&(e=null),t===void 0&&(t=null),e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const s=new Ec(t),a=AA(i),l=[];for(let d=0;d<a.length;d++){const p=a[d];p.isLink&&(!e||p.t===e)&&l.push(p.toFormattedObject(s))}return l}function CA(i){return new ct({key:new Vt("autolink"),appendTransaction:(e,t,s)=>{const a=e.some(k=>k.docChanged)&&!t.doc.eq(s.doc),l=e.some(k=>k.getMeta("preventAutolink"));if(!a||l)return;const{tr:d}=s,p=pk(t.doc,[...e]);if(kk(p).forEach(({newRange:k})=>{const A=mk(s.doc,k,z=>z.isTextblock);let L,R;if(A.length>1?(L=A[0],R=s.doc.textBetween(L.pos,L.pos+L.node.nodeSize,void 0," ")):A.length&&s.doc.textBetween(k.from,k.to," "," ").endsWith(" ")&&(L=A[0],R=s.doc.textBetween(L.pos,k.to,void 0," ")),L&&R){const z=R.split(" ").filter(X=>X!=="");if(z.length<=0)return!1;const D=z[z.length-1],W=L.pos+R.lastIndexOf(D);if(!D)return!1;kg(D).filter(X=>X.isLink).map(X=>({...X,from:W+X.start+1,to:W+X.end+1})).filter(X=>s.schema.marks.code?!s.doc.rangeHasMark(X.from,X.to,s.schema.marks.code):!0).filter(X=>i.validate?i.validate(X.value):!0).forEach(X=>{yc(X.from,X.to,s.doc).some(G=>G.mark.type===i.type)||d.addMark(X.from,X.to,i.type.create({href:X.href}))})}}),!!d.steps.length)return d}})}function EA(i){return new ct({key:new Vt("handleClickLink"),props:{handleClick:(e,t,s)=>{var a,l;if(s.button!==0||s.target.nodeName!=="A")return!1;const p=mg(e.state,i.type.name),b=s.target,k=(a=b==null?void 0:b.href)!==null&&a!==void 0?a:p.href,A=(l=b==null?void 0:b.target)!==null&&l!==void 0?l:p.target;return b&&k?(e.editable&&window.open(k,A),!0):!1}}})}const TA=St.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(i=>{if(typeof i=="string"){zd(i);return}zd(i.scheme,i.optionalSlashes)})},onDestroy(){SA()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:i}){return["a",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{setLink:i=>({chain:e})=>e().setMark(this.name,i).setMeta("preventAutolink",!0).run(),toggleLink:i=>({chain:e})=>e().toggleMark(this.name,i,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:i})=>i().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ci({find:i=>kg(i).filter(e=>this.options.validate?this.options.validate(e.value):!0).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:(i,e)=>{var t,s;const a=(t=e.clipboardData)===null||t===void 0?void 0:t.getData("text/html"),l=/href="([^"]*)"/,d=a==null?void 0:a.match(l);return d?{href:d[1]}:{href:(s=i.data)===null||s===void 0?void 0:s.href}}})]},addProseMirrorPlugins(){const i=[];return this.options.autolink&&i.push(CA({type:this.type,validate:this.options.validate})),this.options.openOnClick&&i.push(EA({type:this.type})),i}}),MA=/^\s*>\s$/,LA=ht.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:i}){return["blockquote",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{setBlockquote:()=>({commands:i})=>i.wrapIn(this.name),toggleBlockquote:()=>({commands:i})=>i.toggleWrap(this.name),unsetBlockquote:()=>({commands:i})=>i.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ys({find:MA,type:this.type})]}}),PA=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,OA=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,RA=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,IA=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,NA=St.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:i=>/^(bold(er)?|[5-9]\d{2,})$/.test(i)&&null}]},renderHTML({HTMLAttributes:i}){return["strong",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{setBold:()=>({commands:i})=>i.setMark(this.name),toggleBold:()=>({commands:i})=>i.toggleMark(this.name),unsetBold:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[sn({find:PA,type:this.type}),sn({find:RA,type:this.type})]},addPasteRules(){return[Ci({find:OA,type:this.type}),Ci({find:IA,type:this.type})]}}),DA=ht.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:i}){return["li",Pe(this.options.HTMLAttributes,i),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Bd=St.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:i=>i.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["span",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:i,commands:e})=>{const t=wa(i,this.type);return Object.entries(t).some(([,a])=>!!a)?!0:e.unsetMark(this.name)}}}}),Hd=/^\s*([-+*])\s$/,FA=ht.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:i}){return["ul",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleBulletList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(DA.name,this.editor.getAttributes(Bd.name)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let i=ys({find:Hd,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(i=ys({find:Hd,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Bd.name),editor:this.editor})),[i]}}),zA=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,BA=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,HA=St.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:i}){return["code",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{setCode:()=>({commands:i})=>i.setMark(this.name),toggleCode:()=>({commands:i})=>i.toggleMark(this.name),unsetCode:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[sn({find:zA,type:this.type})]},addPasteRules(){return[Ci({find:BA,type:this.type})]}}),_A=/^```([a-z]+)?[\s\n]$/,XA=/^~~~([a-z]+)?[\s\n]$/,WA=ht.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:i=>{var e;const{languageClassPrefix:t}=this.options,l=[...((e=i.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(d=>d.startsWith(t)).map(d=>d.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:i,HTMLAttributes:e}){return["pre",Pe(this.options.HTMLAttributes,e),["code",{class:i.attrs.language?this.options.languageClassPrefix+i.attrs.language:null},0]]},addCommands(){return{setCodeBlock:i=>({commands:e})=>e.setNode(this.name,i),toggleCodeBlock:i=>({commands:e})=>e.toggleNode(this.name,"paragraph",i)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:i,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!i||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:i})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=i,{selection:t}=e,{$from:s,empty:a}=t;if(!a||s.parent.type!==this.type)return!1;const l=s.parentOffset===s.parent.nodeSize-2,d=s.parent.textContent.endsWith(`

`);return!l||!d?!1:i.chain().command(({tr:p})=>(p.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:i})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=i,{selection:t,doc:s}=e,{$from:a,empty:l}=t;if(!l||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const p=a.after();return p===void 0||s.nodeAt(p)?!1:i.commands.exitCode()}}},addInputRules(){return[ll({find:_A,type:this.type,getAttributes:i=>({language:i[1]})}),ll({find:XA,type:this.type,getAttributes:i=>({language:i[1]})})]},addProseMirrorPlugins(){return[new ct({key:new Vt("codeBlockVSCodeHandler"),props:{handlePaste:(i,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),a=s?JSON.parse(s):void 0,l=a==null?void 0:a.mode;if(!t||!l)return!1;const{tr:d}=i.state;return d.replaceSelectionWith(this.type.create({language:l})),d.setSelection(ue.near(d.doc.resolve(Math.max(0,d.selection.from-2)))),d.insertText(t.replace(/\r\n?/g,`
`)),d.setMeta("paste",!0),i.dispatch(d),!0}}})]}}),YA=ht.create({name:"doc",topNode:!0,content:"block+"});function VA(i={}){return new ct({view(e){return new jA(e,i)}})}class jA{constructor(e,t){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=t.width)!==null&&s!==void 0?s:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let l=d=>{this[a](d)};return e.dom.addEventListener(a,l),{name:a,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,s;if(t){let p=e.nodeBefore,b=e.nodeAfter;if(p||b){let k=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(k){let A=k.getBoundingClientRect(),L=p?A.bottom:A.top;p&&b&&(L=(L+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),s={left:A.left,right:A.right,top:L-this.width/2,bottom:L+this.width/2}}}}if(!s){let p=this.editorView.coordsAtPos(this.cursorPos);s={left:p.left-this.width/2,right:p.left+this.width/2,top:p.top,bottom:p.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let l,d;if(!a||a==document.body&&getComputedStyle(a).position=="static")l=-pageXOffset,d=-pageYOffset;else{let p=a.getBoundingClientRect();l=p.left-a.scrollLeft,d=p.top-a.scrollTop}this.element.style.left=s.left-l+"px",this.element.style.top=s.top-d+"px",this.element.style.width=s.right-s.left+"px",this.element.style.height=s.bottom-s.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),a=s&&s.type.spec.disableDropCursor,l=typeof a=="function"?a(this.editorView,t,e):a;if(t&&!l){let d=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let p=bp(this.editorView.state.doc,d,this.editorView.dragging.slice);p!=null&&(d=p)}this.setCursor(d),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const GA=lt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[VA(this.options)]}});class Le extends pe{constructor(e){super(e,e)}map(e,t){let s=e.resolve(t.map(this.head));return Le.valid(s)?new Le(s):pe.near(s)}content(){return se.empty}eq(e){return e instanceof Le&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Le(e.resolve(t.pos))}getBookmark(){return new Tc(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!qA(e)||!UA(e))return!1;let s=t.type.spec.allowGapCursor;if(s!=null)return s;let a=t.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,t,s=!1){e:for(;;){if(!s&&Le.valid(e))return e;let a=e.pos,l=null;for(let d=e.depth;;d--){let p=e.node(d);if(t>0?e.indexAfter(d)<p.childCount:e.index(d)>0){l=p.child(t>0?e.indexAfter(d):e.index(d)-1);break}else if(d==0)return null;a+=t;let b=e.doc.resolve(a);if(Le.valid(b))return b}for(;;){let d=t>0?l.firstChild:l.lastChild;if(!d){if(l.isAtom&&!l.isText&&!he.isSelectable(l)){e=e.doc.resolve(a+l.nodeSize*t),s=!1;continue e}break}l=d,a+=t;let p=e.doc.resolve(a);if(Le.valid(p))return p}return null}}}Le.prototype.visible=!1;Le.findFrom=Le.findGapCursorFrom;pe.jsonID("gapcursor",Le);class Tc{constructor(e){this.pos=e}map(e){return new Tc(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Le.valid(t)?new Le(t):pe.near(t)}}function qA(i){for(let e=i.depth;e>=0;e--){let t=i.index(e),s=i.node(e);if(t==0){if(s.type.spec.isolating)return!0;continue}for(let a=s.child(t-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function UA(i){for(let e=i.depth;e>=0;e--){let t=i.indexAfter(e),s=i.node(e);if(t==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let a=s.child(t);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function $A(){return new ct({props:{decorations:QA,createSelectionBetween(i,e,t){return e.pos==t.pos&&Le.valid(t)?new Le(t):null},handleClick:JA,handleKeyDown:KA,handleDOMEvents:{beforeinput:ZA}}})}const KA=ng({ArrowLeft:Us("horiz",-1),ArrowRight:Us("horiz",1),ArrowUp:Us("vert",-1),ArrowDown:Us("vert",1)});function Us(i,e){const t=i=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,a,l){let d=s.selection,p=e>0?d.$to:d.$from,b=d.empty;if(d instanceof ue){if(!l.endOfTextblock(t)||p.depth==0)return!1;b=!1,p=s.doc.resolve(e>0?p.after():p.before())}let k=Le.findGapCursorFrom(p,e,b);return k?(a&&a(s.tr.setSelection(new Le(k))),!0):!1}}function JA(i,e,t){if(!i||!i.editable)return!1;let s=i.state.doc.resolve(e);if(!Le.valid(s))return!1;let a=i.posAtCoords({left:t.clientX,top:t.clientY});return a&&a.inside>-1&&he.isSelectable(i.state.doc.nodeAt(a.inside))?!1:(i.dispatch(i.state.tr.setSelection(new Le(s))),!0)}function ZA(i,e){if(e.inputType!="insertCompositionText"||!(i.state.selection instanceof Le))return!1;let{$from:t}=i.state.selection,s=t.parent.contentMatchAt(t.index()).findWrapping(i.state.schema.nodes.text);if(!s)return!1;let a=Q.empty;for(let d=s.length-1;d>=0;d--)a=Q.from(s[d].createAndFill(null,a));let l=i.state.tr.replace(t.pos,t.pos,new se(a,0,0));return l.setSelection(ue.near(l.doc.resolve(t.pos+1))),i.dispatch(l),!1}function QA(i){if(!(i.selection instanceof Le))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ne.create(i.doc,[bt.widget(i.selection.head,e,{key:"gapcursor"})])}const eC=lt.create({name:"gapCursor",addProseMirrorPlugins(){return[$A()]},extendNodeSchema(i){var e;const t={name:i.name,options:i.options,storage:i.storage};return{allowGapCursor:(e=fe(re(i,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),tC=ht.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:i}){return["br",Pe(this.options.HTMLAttributes,i)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:i,chain:e,state:t,editor:s})=>i.first([()=>i.exitCode(),()=>i.command(()=>{const{selection:a,storedMarks:l}=t;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:d}=this.options,{splittableMarks:p}=s.extensionManager,b=l||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:k,dispatch:A})=>{if(A&&b&&d){const L=b.filter(R=>p.includes(R.type.name));k.ensureMarks(L)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),iC=ht.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(i=>({tag:`h${i}`,attrs:{level:i}}))},renderHTML({node:i,HTMLAttributes:e}){return[`h${this.options.levels.includes(i.attrs.level)?i.attrs.level:this.options.levels[0]}`,Pe(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.setNode(this.name,i):!1,toggleHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.toggleNode(this.name,"paragraph",i):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((i,e)=>({...i,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(i=>ll({find:new RegExp(`^(#{1,${i}})\\s$`),type:this.type,getAttributes:{level:i}}))}});var Gr=200,Be=function(){};Be.prototype.append=function(e){return e.length?(e=Be.from(e),!this.length&&e||e.length<Gr&&this.leafAppend(e)||this.length<Gr&&e.leafPrepend(this)||this.appendInner(e)):this};Be.prototype.prepend=function(e){return e.length?Be.from(e).append(this):this};Be.prototype.appendInner=function(e){return new nC(this,e)};Be.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Be.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Be.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Be.prototype.forEach=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=this.length),t<=s?this.forEachInner(e,t,s,0):this.forEachInvertedInner(e,t,s,0)};Be.prototype.map=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=this.length);var a=[];return this.forEach(function(l,d){return a.push(e(l,d))},t,s),a};Be.from=function(e){return e instanceof Be?e:e&&e.length?new Ag(e):Be.empty};var Ag=function(i){function e(s){i.call(this),this.values=s}i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,l){return a==0&&l==this.length?this:new e(this.values.slice(a,l))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,l,d,p){for(var b=l;b<d;b++)if(a(this.values[b],p+b)===!1)return!1},e.prototype.forEachInvertedInner=function(a,l,d,p){for(var b=l-1;b>=d;b--)if(a(this.values[b],p+b)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=Gr)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=Gr)return new e(a.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Be);Be.empty=new Ag([]);var nC=function(i){function e(t,s){i.call(this),this.left=t,this.right=s,this.length=t.length+s.length,this.depth=Math.max(t.depth,s.depth)+1}return i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,a,l,d){var p=this.left.length;if(a<p&&this.left.forEachInner(s,a,Math.min(l,p),d)===!1||l>p&&this.right.forEachInner(s,Math.max(a-p,0),Math.min(this.length,l)-p,d+p)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,l,d){var p=this.left.length;if(a>p&&this.right.forEachInvertedInner(s,a-p,Math.max(l,p)-p,d+p)===!1||l<p&&this.left.forEachInvertedInner(s,Math.min(a,p),l,d)===!1)return!1},e.prototype.sliceInner=function(s,a){if(s==0&&a==this.length)return this;var l=this.left.length;return a<=l?this.left.slice(s,a):s>=l?this.right.slice(s-l,a-l):this.left.slice(s,l).append(this.right.slice(0,a-l))},e.prototype.leafAppend=function(s){var a=this.right.leafAppend(s);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(s){var a=this.left.leafPrepend(s);if(a)return new e(a,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e}(Be);const sC=500;class Et{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let a,l;t&&(a=this.remapping(s,this.items.length),l=a.maps.length);let d=e.tr,p,b,k=[],A=[];return this.items.forEach((L,R)=>{if(!L.step){a||(a=this.remapping(s,R+1),l=a.maps.length),l--,A.push(L);return}if(a){A.push(new ri(L.map));let z=L.step.map(a.slice(l)),D;z&&d.maybeStep(z).doc&&(D=d.mapping.maps[d.mapping.maps.length-1],k.push(new ri(D,void 0,void 0,k.length+A.length))),l--,D&&a.appendMap(D,l)}else d.maybeStep(L.step);if(L.selection)return p=a?L.selection.map(a.slice(l)):L.selection,b=new Et(this.items.slice(0,s).append(A.reverse().concat(k)),this.eventCount-1),!1},this.items.length,0),{remaining:b,transform:d,selection:p}}addTransform(e,t,s,a){let l=[],d=this.eventCount,p=this.items,b=!a&&p.length?p.get(p.length-1):null;for(let A=0;A<e.steps.length;A++){let L=e.steps[A].invert(e.docs[A]),R=new ri(e.mapping.maps[A],L,t),z;(z=b&&b.merge(R))&&(R=z,A?l.pop():p=p.slice(0,p.length-1)),l.push(R),t&&(d++,t=void 0),a||(b=R)}let k=d-s.depth;return k>aC&&(p=rC(p,k),d-=k),new Et(p.append(l),d)}remapping(e,t){let s=new kn;return this.items.forEach((a,l)=>{let d=a.mirrorOffset!=null&&l-a.mirrorOffset>=e?s.maps.length-a.mirrorOffset:void 0;s.appendMap(a.map,d)},e,t),s}addMaps(e){return this.eventCount==0?this:new Et(this.items.append(e.map(t=>new ri(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let s=[],a=Math.max(0,this.items.length-t),l=e.mapping,d=e.steps.length,p=this.eventCount;this.items.forEach(R=>{R.selection&&p--},a);let b=t;this.items.forEach(R=>{let z=l.getMirror(--b);if(z==null)return;d=Math.min(d,z);let D=l.maps[z];if(R.step){let W=e.steps[z].invert(e.docs[z]),X=R.selection&&R.selection.map(l.slice(b+1,z));X&&p++,s.push(new ri(D,W,X))}else s.push(new ri(D))},a);let k=[];for(let R=t;R<d;R++)k.push(new ri(l.maps[R]));let A=this.items.slice(0,a).append(k).append(s),L=new Et(A,p);return L.emptyItemCount()>sC&&(L=L.compress(this.items.length-s.length)),L}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),s=t.maps.length,a=[],l=0;return this.items.forEach((d,p)=>{if(p>=e)a.push(d),d.selection&&l++;else if(d.step){let b=d.step.map(t.slice(s)),k=b&&b.getMap();if(s--,k&&t.appendMap(k,s),b){let A=d.selection&&d.selection.map(t.slice(s));A&&l++;let L=new ri(k.invert(),b,A),R,z=a.length-1;(R=a.length&&a[z].merge(L))?a[z]=R:a.push(L)}}else d.map&&s--},this.items.length,0),new Et(Be.from(a.reverse()),l)}}Et.empty=new Et(Be.empty,0);function rC(i,e){let t;return i.forEach((s,a)=>{if(s.selection&&e--==0)return t=a,!1}),i.slice(t)}let ri=class Cg{constructor(e,t,s,a){this.map=e,this.step=t,this.selection=s,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Cg(t.getMap().invert(),t,this.selection)}}};class ci{constructor(e,t,s,a,l){this.done=e,this.undone=t,this.prevRanges=s,this.prevTime=a,this.prevComposition=l}}const aC=20;function oC(i,e,t,s){let a=t.getMeta(vi),l;if(a)return a.historyState;t.getMeta(cC)&&(i=new ci(i.done,i.undone,null,0,-1));let d=t.getMeta("appendedTransaction");if(t.steps.length==0)return i;if(d&&d.getMeta(vi))return d.getMeta(vi).redo?new ci(i.done.addTransform(t,void 0,s,rr(e)),i.undone,_d(t.mapping.maps[t.steps.length-1]),i.prevTime,i.prevComposition):new ci(i.done,i.undone.addTransform(t,void 0,s,rr(e)),null,i.prevTime,i.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(d&&d.getMeta("addToHistory")===!1)){let p=t.getMeta("composition"),b=i.prevTime==0||!d&&i.prevComposition!=p&&(i.prevTime<(t.time||0)-s.newGroupDelay||!lC(t,i.prevRanges)),k=d?fo(i.prevRanges,t.mapping):_d(t.mapping.maps[t.steps.length-1]);return new ci(i.done.addTransform(t,b?e.selection.getBookmark():void 0,s,rr(e)),Et.empty,k,t.time,p??i.prevComposition)}else return(l=t.getMeta("rebased"))?new ci(i.done.rebased(t,l),i.undone.rebased(t,l),fo(i.prevRanges,t.mapping),i.prevTime,i.prevComposition):new ci(i.done.addMaps(t.mapping.maps),i.undone.addMaps(t.mapping.maps),fo(i.prevRanges,t.mapping),i.prevTime,i.prevComposition)}function lC(i,e){if(!e)return!1;if(!i.docChanged)return!0;let t=!1;return i.mapping.maps[0].forEach((s,a)=>{for(let l=0;l<e.length;l+=2)s<=e[l+1]&&a>=e[l]&&(t=!0)}),t}function _d(i){let e=[];return i.forEach((t,s,a,l)=>e.push(a,l)),e}function fo(i,e){if(!i)return null;let t=[];for(let s=0;s<i.length;s+=2){let a=e.map(i[s],1),l=e.map(i[s+1],-1);a<=l&&t.push(a,l)}return t}function Eg(i,e,t,s){let a=rr(e),l=vi.get(e).spec.config,d=(s?i.undone:i.done).popEvent(e,a);if(!d)return;let p=d.selection.resolve(d.transform.doc),b=(s?i.done:i.undone).addTransform(d.transform,e.selection.getBookmark(),l,a),k=new ci(s?b:d.remaining,s?d.remaining:b,null,0,-1);t(d.transform.setSelection(p).setMeta(vi,{redo:s,historyState:k}).scrollIntoView())}let po=!1,Xd=null;function rr(i){let e=i.plugins;if(Xd!=e){po=!1,Xd=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){po=!0;break}}return po}const vi=new Vt("history"),cC=new Vt("closeHistory");function hC(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new ct({key:vi,state:{init(){return new ci(Et.empty,Et.empty,null,0,-1)},apply(e,t,s){return oC(t,s,e,i)}},config:i,props:{handleDOMEvents:{beforeinput(e,t){let s=t.inputType,a=s=="historyUndo"?Tg:s=="historyRedo"?Mg:null;return a?(t.preventDefault(),a(e.state,e.dispatch)):!1}}}})}const Tg=(i,e)=>{let t=vi.getState(i);return!t||t.done.eventCount==0?!1:(e&&Eg(t,i,e,!1),!0)},Mg=(i,e)=>{let t=vi.getState(i);return!t||t.undone.eventCount==0?!1:(e&&Eg(t,i,e,!0),!0)},dC=lt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:i,dispatch:e})=>Tg(i,e),redo:()=>({state:i,dispatch:e})=>Mg(i,e)}},addProseMirrorPlugins(){return[hC(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),uC=ht.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:i}){return["hr",Pe(this.options.HTMLAttributes,i)]},addCommands(){return{setHorizontalRule:()=>({chain:i,state:e})=>{const{$to:t}=e.selection,s=i();return t.parentOffset===0?s.insertContentAt(Math.max(t.pos-2,0),{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:l})=>{var d;if(l){const{$to:p}=a.selection,b=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?a.setSelection(ue.create(a.doc,p.pos+1)):p.nodeAfter.isBlock?a.setSelection(he.create(a.doc,p.pos)):a.setSelection(ue.create(a.doc,p.pos));else{const k=(d=p.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();k&&(a.insert(b,k),a.setSelection(ue.create(a.doc,b+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[xg({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),fC=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,pC=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,gC=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,mC=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,xC=St.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:i=>i.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:i}){return["em",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{setItalic:()=>({commands:i})=>i.setMark(this.name),toggleItalic:()=>({commands:i})=>i.toggleMark(this.name),unsetItalic:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[sn({find:fC,type:this.type}),sn({find:gC,type:this.type})]},addPasteRules(){return[Ci({find:pC,type:this.type}),Ci({find:mC,type:this.type})]}}),bC=ht.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:i}){return["li",Pe(this.options.HTMLAttributes,i),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yC=ht.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:i}){return["li",Pe(this.options.HTMLAttributes,i),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Wd=St.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:i=>i.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["span",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:i,commands:e})=>{const t=wa(i,this.type);return Object.entries(t).some(([,a])=>!!a)?!0:e.unsetMark(this.name)}}}}),Yd=/^(\d+)\.\s$/,vC=ht.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:i=>i.hasAttribute("start")?parseInt(i.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:i}){const{start:e,...t}=i;return e===1?["ol",Pe(this.options.HTMLAttributes,t),0]:["ol",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleOrderedList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(yC.name,this.editor.getAttributes(Wd.name)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let i=ys({find:Yd,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(i=ys({find:Yd,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Wd.name)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[i]}}),wC=ht.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:i}){return["p",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{setParagraph:()=>({commands:i})=>i.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),SC=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,kC=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,AC=St.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:i=>i.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["s",Pe(this.options.HTMLAttributes,i),0]},addCommands(){return{setStrike:()=>({commands:i})=>i.setMark(this.name),toggleStrike:()=>({commands:i})=>i.toggleMark(this.name),unsetStrike:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){const i={};return xc()?i["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():i["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),i},addInputRules(){return[sn({find:SC,type:this.type})]},addPasteRules(){return[Ci({find:kC,type:this.type})]}}),CC=ht.create({name:"text",group:"inline"}),EC=lt.create({name:"starterKit",addExtensions(){var i,e,t,s,a,l,d,p,b,k,A,L,R,z,D,W,X,G;const _=[];return this.options.blockquote!==!1&&_.push(LA.configure((i=this.options)===null||i===void 0?void 0:i.blockquote)),this.options.bold!==!1&&_.push(NA.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&_.push(FA.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&_.push(HA.configure((s=this.options)===null||s===void 0?void 0:s.code)),this.options.codeBlock!==!1&&_.push(WA.configure((a=this.options)===null||a===void 0?void 0:a.codeBlock)),this.options.document!==!1&&_.push(YA.configure((l=this.options)===null||l===void 0?void 0:l.document)),this.options.dropcursor!==!1&&_.push(GA.configure((d=this.options)===null||d===void 0?void 0:d.dropcursor)),this.options.gapcursor!==!1&&_.push(eC.configure((p=this.options)===null||p===void 0?void 0:p.gapcursor)),this.options.hardBreak!==!1&&_.push(tC.configure((b=this.options)===null||b===void 0?void 0:b.hardBreak)),this.options.heading!==!1&&_.push(iC.configure((k=this.options)===null||k===void 0?void 0:k.heading)),this.options.history!==!1&&_.push(dC.configure((A=this.options)===null||A===void 0?void 0:A.history)),this.options.horizontalRule!==!1&&_.push(uC.configure((L=this.options)===null||L===void 0?void 0:L.horizontalRule)),this.options.italic!==!1&&_.push(xC.configure((R=this.options)===null||R===void 0?void 0:R.italic)),this.options.listItem!==!1&&_.push(bC.configure((z=this.options)===null||z===void 0?void 0:z.listItem)),this.options.orderedList!==!1&&_.push(vC.configure((D=this.options)===null||D===void 0?void 0:D.orderedList)),this.options.paragraph!==!1&&_.push(wC.configure((W=this.options)===null||W===void 0?void 0:W.paragraph)),this.options.strike!==!1&&_.push(AC.configure((X=this.options)===null||X===void 0?void 0:X.strike)),this.options.text!==!1&&_.push(CC.configure((G=this.options)===null||G===void 0?void 0:G.text)),_}}),TC=lt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:i=>i.style.textAlign||this.options.defaultAlignment,renderHTML:i=>i.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${i.textAlign}`}}}}]},addCommands(){return{setTextAlign:i=>({commands:e})=>this.options.alignments.includes(i)?this.options.types.every(t=>e.updateAttributes(t,{textAlign:i})):!1,unsetTextAlign:()=>({commands:i})=>this.options.types.every(e=>i.resetAttributes(e,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});document.addEventListener("alpine:init",()=>{window.Alpine.data("editor",(i={})=>{let e;return{updatedAt:Date.now(),init(){const t=this;e=new eA({content:this.$refs.input.value,element:this.$refs.editor,extensions:[EC,TA.configure({...i.link||{}}),nA.configure({...i.highlight||{}}),rA.configure({...i.image||{}}),TC.configure({...i.textAlign||{}})],editorProps:{attributes:{class:"focus:outline-none",style:"height: 100%; width: 100%; min-height: 100px;"}},onCreate(){t.updatedAt=Date.now()},onUpdate({editor:s}){t.$refs.input.value=s.isEmpty?"":s.getHTML(),t.updatedAt=Date.now()},onSelectionUpdate(){t.updatedAt=Date.now()}})},editor(){return e},isActive(t,s={},a){return e.isActive(t,s)}}})});class MC{constructor(e,t){this.file=e,this.error=null,this.failed=!1,this.progress=0,this.uploaded=0,this.config=t,this.hash=this._createHash(),this.chunks=this._createChunks()}handle(){return this.chunks.reduce((e,t,s)=>e.then(()=>this.upload(t,s+1)),Promise.resolve(null))}upload(e,t){const s=new FormData;return s.set("file",e,`${this.hash}${this.file.name}`),window.$http.post(this.config.url,s,{headers:{"X-Chunk-Hash":this.hash,"X-Chunk-Index":t,"X-Chunk-Total":this.chunks.length,"Content-Type":"multipart/form-data"},onUploadProgress:a=>{this.uploaded+=a.loaded,this.progress=Math.floor(this.uploaded*100/this.file.size)}}).then(a=>a.data).catch(a=>{throw this.error=a.response.data.message,this.failed=!0,new Error})}cancel(){}retry(){this.chunks=this._createChunks(),this.error=null,this.failed=!1,this.hash=this._createHash(),this.processing=!1,this.progress=0,this.uploaded=0}_createHash(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,10)}_createChunks(){let e=[];const t=this.config.chunkSize,s=Math.ceil(this.file.size/t);for(let a=0;a<s;a++)e.push(this.file.slice(a*t,Math.min(a*t+t,this.file.size),this.file.type));return e}}const LC=(i,e=300)=>{let t,s;return function(){const a=arguments,l=this;s?(clearTimeout(t),t=setTimeout(function(){Date.now()-s>=e&&(i.apply(l,a),s=Date.now())},e-(Date.now()-s))):(i.apply(l,a),s=Date.now())}};document.addEventListener("alpine:init",()=>{window.Alpine.data("mediaManager",(i,e)=>({dragging:!1,processing:!1,working:!1,queue:[],items:[],nextPageUrl:i,query:e.query,init(){this.$root.querySelector(".modal__body").addEventListener("scroll",LC(t=>{this.shouldPaginate(t)&&this.paginate()})),this.$watch("query",()=>this.fetch())},fetch(){this.processing=!0,window.$http.get(i,{params:this.query}).then(t=>{this.items=t.data.data}).catch(t=>{}).finally(()=>{this.processing=!1})},paginate(){this.processing=!0,window.$http.get(this.nextPageUrl,{params:this.query}).then(t=>{this.items.push(...t.data.data),this.nextPageUrl=t.data.next_page_url}).catch(t=>{}).finally(()=>{this.processing=!1})},shouldPaginate(t){return!this.processing&&this.nextPageUrl!==null&&this.items.length>0&&Math.abs(t.target.scrollHeight-t.target.scrollTop-t.target.clientHeight)<75},queueFiles(t){for(let s=0;s<t.length;s++)this.queue.unshift(new MC(t[s],{url:i,chunkSize:e.chunk_size}));this.working||this.work()},work(){const t=this.queue.findLast(s=>!s.failed);t&&(this.working=!0,t.handle(i).then(s=>{this.queue.splice(this.queue.indexOf(t),1),this.items.unshift(s)}).catch(s=>{}).finally(()=>{this.working=!1,this.work()}))},retry(t){t.retry(),this.working||this.work()},select(t){e.multiple?this.selection.push(t):this.selection=[t]},deselect(t){this.selection.splice(this.selection.findIndex(s=>s.value===t.value),1)},toggle(t){this.selected(t)?this.deselect(t):this.select(t)},selected(t){return this.selection.findIndex(s=>s.value===t.value)>-1}}))});document.addEventListener("alpine:init",()=>{window.Alpine.data("repeater",(i,e=[])=>({processing:!1,options:e,add(){this.processing=!0,window.$http.post(i).then(t=>{this.options.push(t.data)}).catch(t=>{}).finally(()=>{this.processing=!1})},remove(t){this.options.splice(t,1)},swap(t,s){const a=this.options[s];this.options[s]=this.options[t],this.options[t]=a}}))});document.addEventListener("alpine:init",()=>{window.Alpine.data("dropdown",(i,e,t)=>({selection:e,options:i,search:null,open:!1,highlighted:0,highlight(s){this.open=!0,this.options.length===0?this.highlighted=null:s>=this.options.length?this.highlighted=0:s<0?this.highlighted=this.options.length-1:this.highlighted=s,this.$refs.listbox.children[this.highlighted+1].scrollIntoView({behavior:"smooth",block:"nearest"})},highlightNext(){this.highlight(this.highlighted+1)},highlightPrev(){this.highlight(this.highlighted-1)},select(s){t.multiple?this.selection.push(s):this.selection=[s]},deselect(s){this.selection.splice(this.selection.findIndex(a=>a.value===s.value),1)},toggle(s){this.selected(s)?this.deselect(s):this.select(s)},selected(s){return this.selection.findIndex(a=>a.value===s.value)>-1},filter(s){return s?this.options.filter(a=>a.value.includes(s)||a.label.replace(/<[^>]+>/g,"").includes(s)):this.options}}))});document.addEventListener("alpine:init",()=>{window.Alpine.data("table",i=>({models:i.models,selection:[],selectedAllMatchingQuery:!1,selectedAllModels:!1,init(){this.$watch("selection",()=>{this.$refs.selectCheckbox.indeterminate=this.selection.length>0&&this.selection.length<this.models.length,this.selectedAllModels=this.selection.length>0&&this.selection.length===this.models.length})}}))});function PC(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xl={exports:{}};/*!
 * ApexCharts v3.43.0
 * (c) 2018-2023 ApexCharts
 * Released under the MIT License.
 */(function(i,e){function t(O,n){var r=Object.keys(O);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(O);n&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(O,c).enumerable})),r.push.apply(r,o)}return r}function s(O){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?t(Object(r),!0).forEach(function(o){b(O,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(o){Object.defineProperty(O,o,Object.getOwnPropertyDescriptor(r,o))})}return O}function a(O){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a(O)}function l(O,n){if(!(O instanceof n))throw new TypeError("Cannot call a class as a function")}function d(O,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(O,o.key,o)}}function p(O,n,r){return n&&d(O.prototype,n),r&&d(O,r),O}function b(O,n,r){return n in O?Object.defineProperty(O,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):O[n]=r,O}function k(O,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(n&&n.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),n&&L(O,n)}function A(O){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},A(O)}function L(O,n){return L=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},L(O,n)}function R(O,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(O)}function z(O){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,o=A(O);if(n){var c=A(this).constructor;r=Reflect.construct(o,arguments,c)}else r=o.apply(this,arguments);return R(this,r)}}function D(O,n){return function(r){if(Array.isArray(r))return r}(O)||function(r,o){var c=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(c!=null){var h,u,f=[],g=!0,x=!1;try{for(c=c.call(r);!(g=(h=c.next()).done)&&(f.push(h.value),!o||f.length!==o);g=!0);}catch(y){x=!0,u=y}finally{try{g||c.return==null||c.return()}finally{if(x)throw u}}return f}}(O,n)||X(O,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function W(O){return function(n){if(Array.isArray(n))return G(n)}(O)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(O)||X(O)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function X(O,n){if(O){if(typeof O=="string")return G(O,n);var r=Object.prototype.toString.call(O).slice(8,-1);return r==="Object"&&O.constructor&&(r=O.constructor.name),r==="Map"||r==="Set"?Array.from(O):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(O,n):void 0}}function G(O,n){(n==null||n>O.length)&&(n=O.length);for(var r=0,o=new Array(n);r<n;r++)o[r]=O[r];return o}var _=function(){function O(){l(this,O)}return p(O,[{key:"shadeRGBColor",value:function(n,r){var o=r.split(","),c=n<0?0:255,h=n<0?-1*n:n,u=parseInt(o[0].slice(4),10),f=parseInt(o[1],10),g=parseInt(o[2],10);return"rgb("+(Math.round((c-u)*h)+u)+","+(Math.round((c-f)*h)+f)+","+(Math.round((c-g)*h)+g)+")"}},{key:"shadeHexColor",value:function(n,r){var o=parseInt(r.slice(1),16),c=n<0?0:255,h=n<0?-1*n:n,u=o>>16,f=o>>8&255,g=255&o;return"#"+(16777216+65536*(Math.round((c-u)*h)+u)+256*(Math.round((c-f)*h)+f)+(Math.round((c-g)*h)+g)).toString(16).slice(1)}},{key:"shadeColor",value:function(n,r){return O.isColorHex(r)?this.shadeHexColor(n,r):this.shadeRGBColor(n,r)}}],[{key:"bind",value:function(n,r){return function(){return n.apply(r,arguments)}}},{key:"isObject",value:function(n){return n&&a(n)==="object"&&!Array.isArray(n)&&n!=null}},{key:"is",value:function(n,r){return Object.prototype.toString.call(r)==="[object "+n+"]"}},{key:"listToArray",value:function(n){var r,o=[];for(r=0;r<n.length;r++)o[r]=n[r];return o}},{key:"extend",value:function(n,r){var o=this;typeof Object.assign!="function"&&(Object.assign=function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(h),f=1;f<arguments.length;f++){var g=arguments[f];if(g!=null)for(var x in g)g.hasOwnProperty(x)&&(u[x]=g[x])}return u});var c=Object.assign({},n);return this.isObject(n)&&this.isObject(r)&&Object.keys(r).forEach(function(h){o.isObject(r[h])&&h in n?c[h]=o.extend(n[h],r[h]):Object.assign(c,b({},h,r[h]))}),c}},{key:"extendArray",value:function(n,r){var o=[];return n.map(function(c){o.push(O.extend(r,c))}),n=o}},{key:"monthMod",value:function(n){return n%12}},{key:"clone",value:function(n){if(O.is("Array",n)){for(var r=[],o=0;o<n.length;o++)r[o]=this.clone(n[o]);return r}if(O.is("Null",n))return null;if(O.is("Date",n))return n;if(a(n)==="object"){var c={};for(var h in n)n.hasOwnProperty(h)&&(c[h]=this.clone(n[h]));return c}return n}},{key:"log10",value:function(n){return Math.log(n)/Math.LN10}},{key:"roundToBase10",value:function(n){return Math.pow(10,Math.floor(Math.log10(n)))}},{key:"roundToBase",value:function(n,r){return Math.pow(r,Math.floor(Math.log(n)/Math.log(r)))}},{key:"parseNumber",value:function(n){return n===null?n:parseFloat(n)}},{key:"stripNumber",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(n)?n:parseFloat(n.toPrecision(r))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(n){var r=String(n).split(/[eE]/);if(r.length===1)return r[0];var o="",c=n<0?"-":"",h=r[0].replace(".",""),u=Number(r[1])+1;if(u<0){for(o=c+"0.";u++;)o+="0";return o+h.replace(/^-/,"")}for(u-=h.length;u--;)o+="0";return h+o}},{key:"getDimensions",value:function(n){var r=getComputedStyle(n,null),o=n.clientHeight,c=n.clientWidth;return o-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),[c-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),o]}},{key:"getBoundingClientRect",value:function(n){var r=n.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:n.clientWidth,height:n.clientHeight,x:r.left,y:r.top}}},{key:"getLargestStringFromArr",value:function(n){return n.reduce(function(r,o){return Array.isArray(o)&&(o=o.reduce(function(c,h){return c.length>h.length?c:h})),r.length>o.length?r:o},0)}},{key:"hexToRgba",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;n.substring(0,1)!=="#"&&(n="#999999");var o=n.replace("#","");o=o.match(new RegExp("(.{"+o.length/3+"})","g"));for(var c=0;c<o.length;c++)o[c]=parseInt(o[c].length===1?o[c]+o[c]:o[c],16);return r!==void 0&&o.push(r),"rgba("+o.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(n){return parseFloat(n.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(n){return(n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&n.length===4?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(n)}},{key:"getPolygonPos",value:function(n,r){for(var o=[],c=2*Math.PI/r,h=0;h<r;h++){var u={};u.x=n*Math.sin(h*c),u.y=-n*Math.cos(h*c),o.push(u)}return o}},{key:"polarToCartesian",value:function(n,r,o,c){var h=(c-90)*Math.PI/180;return{x:n+o*Math.cos(h),y:r+o*Math.sin(h)}}},{key:"escapeString",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",o=n.toString().slice();return o=o.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,r)}},{key:"negToZero",value:function(n){return n<0?0:n}},{key:"moveIndexInArray",value:function(n,r,o){if(o>=n.length)for(var c=o-n.length+1;c--;)n.push(void 0);return n.splice(o,0,n.splice(r,1)[0]),n}},{key:"extractNumber",value:function(n){return parseFloat(n.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(n,r){for(;(n=n.parentElement)&&!n.classList.contains(r););return n}},{key:"setELstyles",value:function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n.style.key=r[o])}},{key:"isNumber",value:function(n){return!isNaN(n)&&parseFloat(Number(n))===n&&!isNaN(parseInt(n,10))}},{key:"isFloat",value:function(n){return Number(n)===n&&n%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var n=window.navigator.userAgent,r=n.indexOf("MSIE ");if(r>0)return parseInt(n.substring(r+5,n.indexOf(".",r)),10);if(n.indexOf("Trident/")>0){var o=n.indexOf("rv:");return parseInt(n.substring(o+3,n.indexOf(".",o)),10)}var c=n.indexOf("Edge/");return c>0&&parseInt(n.substring(c+5,n.indexOf(".",c)),10)}}]),O}(),ne=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.setEasingFunctions()}return p(O,[{key:"setEasingFunctions",value:function(){var n;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":n="-";break;case"easein":n="<";break;case"easeout":n=">";break;case"easeinout":default:n="<>";break;case"swing":n=function(r){var o=1.70158;return(r-=1)*r*((o+1)*r+o)+1};break;case"bounce":n=function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375};break;case"elastic":n=function(r){return r===!!r?r:Math.pow(2,-10*r)*Math.sin((r-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=n}}},{key:"animateLine",value:function(n,r,o,c){n.attr(r).animate(c).attr(o)}},{key:"animateMarker",value:function(n,r,o,c,h,u){r||(r=0),n.attr({r,width:r,height:r}).animate(c,h).attr({r:o,width:o.width,height:o.height}).afterAll(function(){u()})}},{key:"animateCircle",value:function(n,r,o,c,h){n.attr({r:r.r,cx:r.cx,cy:r.cy}).animate(c,h).attr({r:o.r,cx:o.cx,cy:o.cy})}},{key:"animateRect",value:function(n,r,o,c,h){n.attr(r).animate(c).attr(o).afterAll(function(){return h()})}},{key:"animatePathsGradually",value:function(n){var r=n.el,o=n.realIndex,c=n.j,h=n.fill,u=n.pathFrom,f=n.pathTo,g=n.speed,x=n.delay,y=this.w,v=0;y.config.chart.animations.animateGradually.enabled&&(v=y.config.chart.animations.animateGradually.delay),y.config.chart.animations.dynamicAnimation.enabled&&y.globals.dataChanged&&y.config.chart.type!=="bar"&&(v=0),this.morphSVG(r,o,c,y.config.chart.type!=="line"||y.globals.comboCharts?h:"stroke",u,f,g,x*v)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(n){var r=n.el;r.classList.remove("apexcharts-element-hidden"),r.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(n){var r=this.w;r.globals.animationEnded||(r.globals.animationEnded=!0,this.showDelayedElements(),typeof r.config.chart.events.animationEnd=="function"&&r.config.chart.events.animationEnd(this.ctx,{el:n,w:r}))}},{key:"morphSVG",value:function(n,r,o,c,h,u,f,g){var x=this,y=this.w;h||(h=n.attr("pathFrom")),u||(u=n.attr("pathTo"));var v=function(S){return y.config.chart.type==="radar"&&(f=1),"M 0 ".concat(y.globals.gridHeight)};(!h||h.indexOf("undefined")>-1||h.indexOf("NaN")>-1)&&(h=v()),(!u||u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u=v()),y.globals.shouldAnimate||(f=1),n.plot(h).animate(1,y.globals.easing,g).plot(h).animate(f,y.globals.easing,g).plot(u).afterAll(function(){_.isNumber(o)?o===y.globals.series[y.globals.maxValsInArrayIndex].length-2&&y.globals.shouldAnimate&&x.animationCompleted(n):c!=="none"&&y.globals.shouldAnimate&&(!y.globals.comboCharts&&r===y.globals.series.length-1||y.globals.comboCharts)&&x.animationCompleted(n),x.showDelayedElements()})}}]),O}(),oe=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"getDefaultFilter",value:function(n,r){var o=this.w;n.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),o.config.states.normal.filter!=="none"?this.applyFilter(n,r,o.config.states.normal.filter.type,o.config.states.normal.filter.value):o.config.chart.dropShadow.enabled&&this.dropShadow(n,o.config.chart.dropShadow,r)}},{key:"addNormalFilter",value:function(n,r){var o=this.w;o.config.chart.dropShadow.enabled&&!n.node.classList.contains("apexcharts-marker")&&this.dropShadow(n,o.config.chart.dropShadow,r)}},{key:"addLightenFilter",value:function(n,r,o){var c=this,h=this.w,u=o.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(f){var g=h.config.chart.dropShadow;(g.enabled?c.addShadow(f,r,g):f).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:u}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"addDarkenFilter",value:function(n,r,o){var c=this,h=this.w,u=o.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(f){var g=h.config.chart.dropShadow;(g.enabled?c.addShadow(f,r,g):f).componentTransfer({rgb:{type:"linear",slope:u}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"applyFilter",value:function(n,r,o){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(o){case"none":this.addNormalFilter(n,r);break;case"lighten":this.addLightenFilter(n,r,{intensity:c});break;case"darken":this.addDarkenFilter(n,r,{intensity:c})}}},{key:"addShadow",value:function(n,r,o){var c=o.blur,h=o.top,u=o.left,f=o.color,g=o.opacity,x=n.flood(Array.isArray(f)?f[r]:f,g).composite(n.sourceAlpha,"in").offset(u,h).gaussianBlur(c).merge(n.source);return n.blend(n.source,x)}},{key:"dropShadow",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=r.top,h=r.left,u=r.blur,f=r.color,g=r.opacity,x=r.noUserSpaceOnUse,y=this.w;return n.unfilter(!0),_.isIE()&&y.config.chart.type==="radialBar"||(f=Array.isArray(f)?f[o]:f,n.filter(function(v){var S=null;S=_.isSafari()||_.isFirefox()||_.isIE()?v.flood(f,g).composite(v.sourceAlpha,"in").offset(h,c).gaussianBlur(u):v.flood(f,g).composite(v.sourceAlpha,"in").offset(h,c).gaussianBlur(u).merge(v.source),v.blend(v.source,S)}),x||n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)),n}},{key:"setSelectionFilter",value:function(n,r,o){var c=this.w;if(c.globals.selectedDataPoints[r]!==void 0&&c.globals.selectedDataPoints[r].indexOf(o)>-1){n.node.setAttribute("selected",!0);var h=c.config.states.active.filter;h!=="none"&&this.applyFilter(n,r,h.type,h.value)}}},{key:"_scaleFilterSize",value:function(n){(function(r){for(var o in r)r.hasOwnProperty(o)&&n.setAttribute(o,r[o])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),O}(),j=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"roundPathCorners",value:function(n,r){function o(H,Y,V){var U=Y.x-H.x,K=Y.y-H.y,$=Math.sqrt(U*U+K*K);return c(H,Y,Math.min(1,V/$))}function c(H,Y,V){return{x:H.x+(Y.x-H.x)*V,y:H.y+(Y.y-H.y)*V}}function h(H,Y){H.length>2&&(H[H.length-2]=Y.x,H[H.length-1]=Y.y)}function u(H){return{x:parseFloat(H[H.length-2]),y:parseFloat(H[H.length-1])}}n.indexOf("NaN")>-1&&(n="");var f=n.split(/[,\s]/).reduce(function(H,Y){var V=Y.match("([a-zA-Z])(.+)");return V?(H.push(V[1]),H.push(V[2])):H.push(Y),H},[]).reduce(function(H,Y){return parseFloat(Y)==Y&&H.length?H[H.length-1].push(Y):H.push([Y]),H},[]),g=[];if(f.length>1){var x=u(f[0]),y=null;f[f.length-1][0]=="Z"&&f[0].length>2&&(y=["L",x.x,x.y],f[f.length-1]=y),g.push(f[0]);for(var v=1;v<f.length;v++){var S=g[g.length-1],C=f[v],E=C==y?f[1]:f[v+1];if(E&&S&&S.length>2&&C[0]=="L"&&E.length>2&&E[0]=="L"){var M,P,N=u(S),F=u(C),m=u(E);M=o(F,N,r),P=o(F,m,r),h(C,M),C.origPoint=F,g.push(C);var w=c(M,F,.5),T=c(F,P,.5),I=["C",w.x,w.y,T.x,T.y,P.x,P.y];I.origPoint=F,g.push(I)}else g.push(C)}if(y){var B=u(g[g.length-1]);g.push(["Z"]),h(g[0],B)}}else g=f;return g.reduce(function(H,Y){return H+Y.join(" ")+" "},"")}},{key:"drawLine",value:function(n,r,o,c){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:n,y1:r,x2:o,y2:c,stroke:h,"stroke-dasharray":u,"stroke-width":f,"stroke-linecap":g})}},{key:"drawRect",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,x=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,y=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,v=this.w.globals.dom.Paper.rect();return v.attr({x:n,y:r,width:o>0?o:0,height:c>0?c:0,rx:h,ry:h,opacity:f,"stroke-width":g!==null?g:0,stroke:x!==null?x:"none","stroke-dasharray":y}),v.node.setAttribute("fill",u),v}},{key:"drawPolygon",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(n).attr({fill:c,stroke:r,"stroke-width":o})}},{key:"drawCircle",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n<0&&(n=0);var o=this.w.globals.dom.Paper.circle(2*n);return r!==null&&o.attr(r),o}},{key:"drawPath",value:function(n){var r=n.d,o=r===void 0?"":r,c=n.stroke,h=c===void 0?"#a8a8a8":c,u=n.strokeWidth,f=u===void 0?1:u,g=n.fill,x=n.fillOpacity,y=x===void 0?1:x,v=n.strokeOpacity,S=v===void 0?1:v,C=n.classes,E=n.strokeLinecap,M=E===void 0?null:E,P=n.strokeDashArray,N=P===void 0?0:P,F=this.w;return M===null&&(M=F.config.stroke.lineCap),(o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o="M 0 ".concat(F.globals.gridHeight)),F.globals.dom.Paper.path(o).attr({fill:g,"fill-opacity":y,stroke:h,"stroke-opacity":S,"stroke-linecap":M,"stroke-width":f,"stroke-dasharray":N,class:C})}},{key:"group",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w.globals.dom.Paper.group();return n!==null&&r.attr(n),r}},{key:"move",value:function(n,r){var o=["M",n,r].join(" ");return o}},{key:"line",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=null;return o===null?c=[" L",n,r].join(" "):o==="H"?c=[" H",n].join(" "):o==="V"&&(c=[" V",r].join(" ")),c}},{key:"curve",value:function(n,r,o,c,h,u){var f=["C",n,r,o,c,h,u].join(" ");return f}},{key:"quadraticCurve",value:function(n,r,o,c){return["Q",n,r,o,c].join(" ")}},{key:"arc",value:function(n,r,o,c,h,u,f){var g="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(g="a");var x=[g,n,r,o,c,h,u,f].join(" ");return x}},{key:"renderPaths",value:function(n){var r,o=n.j,c=n.realIndex,h=n.pathFrom,u=n.pathTo,f=n.stroke,g=n.strokeWidth,x=n.strokeLinecap,y=n.fill,v=n.animationDelay,S=n.initialSpeed,C=n.dataChangeSpeed,E=n.className,M=n.shouldClipToGrid,P=M===void 0||M,N=n.bindEventsOnPaths,F=N===void 0||N,m=n.drawShadow,w=m===void 0||m,T=this.w,I=new oe(this.ctx),B=new ne(this.ctx),H=this.w.config.chart.animations.enabled,Y=H&&this.w.config.chart.animations.dynamicAnimation.enabled,V=!!(H&&!T.globals.resized||Y&&T.globals.dataChanged&&T.globals.shouldAnimate);V?r=h:(r=u,T.globals.animationEnded=!0);var U=T.config.stroke.dashArray,K=0;K=Array.isArray(U)?U[c]:T.config.stroke.dashArray;var $=this.drawPath({d:r,stroke:f,strokeWidth:g,fill:y,fillOpacity:1,classes:E,strokeLinecap:x,strokeDashArray:K});if($.attr("index",c),P&&$.attr({"clip-path":"url(#gridRectMask".concat(T.globals.cuid,")")}),T.config.states.normal.filter.type!=="none")I.getDefaultFilter($,c);else if(T.config.chart.dropShadow.enabled&&w&&(!T.config.chart.dropShadow.enabledOnSeries||T.config.chart.dropShadow.enabledOnSeries&&T.config.chart.dropShadow.enabledOnSeries.indexOf(c)!==-1)){var te=T.config.chart.dropShadow;I.dropShadow($,te,c)}F&&($.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,$)),$.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,$)),$.node.addEventListener("mousedown",this.pathMouseDown.bind(this,$))),$.attr({pathTo:u,pathFrom:h});var ie={el:$,j:o,realIndex:c,pathFrom:h,pathTo:u,fill:y,strokeWidth:g,delay:v};return!H||T.globals.resized||T.globals.dataChanged?!T.globals.resized&&T.globals.dataChanged||B.showDelayedElements():B.animatePathsGradually(s(s({},ie),{},{speed:S})),T.globals.dataChanged&&Y&&V&&B.animatePathsGradually(s(s({},ie),{},{speed:C})),$}},{key:"drawPattern",value:function(n,r,o){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(r,o,function(u){n==="horizontalLines"?u.line(0,0,o,0).stroke({color:c,width:h+1}):n==="verticalLines"?u.line(0,0,0,r).stroke({color:c,width:h+1}):n==="slantedLines"?u.line(0,0,r,o).stroke({color:c,width:h}):n==="squares"?u.rect(r,o).fill("none").stroke({color:c,width:h}):n==="circles"&&u.circle(r).fill("none").stroke({color:c,width:h})})}},{key:"drawGradient",value:function(n,r,o,c,h){var u,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,x=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,y=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,v=this.w;r.length<9&&r.indexOf("#")===0&&(r=_.hexToRgba(r,c)),o.length<9&&o.indexOf("#")===0&&(o=_.hexToRgba(o,h));var S=0,C=1,E=1,M=null;g!==null&&(S=g[0]!==void 0?g[0]/100:0,C=g[1]!==void 0?g[1]/100:1,E=g[2]!==void 0?g[2]/100:1,M=g[3]!==void 0?g[3]/100:null);var P=!(v.config.chart.type!=="donut"&&v.config.chart.type!=="pie"&&v.config.chart.type!=="polarArea"&&v.config.chart.type!=="bubble");if(u=x===null||x.length===0?v.globals.dom.Paper.gradient(P?"radial":"linear",function(m){m.at(S,r,c),m.at(C,o,h),m.at(E,o,h),M!==null&&m.at(M,r,c)}):v.globals.dom.Paper.gradient(P?"radial":"linear",function(m){(Array.isArray(x[y])?x[y]:x).forEach(function(w){m.at(w.offset/100,w.color,w.opacity)})}),P){var N=v.globals.gridWidth/2,F=v.globals.gridHeight/2;v.config.chart.type!=="bubble"?u.attr({gradientUnits:"userSpaceOnUse",cx:N,cy:F,r:f}):u.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else n==="vertical"?u.from(0,0).to(0,1):n==="diagonal"?u.from(0,0).to(1,1):n==="horizontal"?u.from(0,1).to(1,1):n==="diagonal2"&&u.from(1,0).to(0,1);return u}},{key:"getTextBasedOnMaxWidth",value:function(n){var r=n.text,o=n.maxWidth,c=n.fontSize,h=n.fontFamily,u=this.getTextRects(r,c,h),f=u.width/r.length,g=Math.floor(o/f);return o<u.width?r.slice(0,g-3)+"...":r}},{key:"drawText",value:function(n){var r=this,o=n.x,c=n.y,h=n.text,u=n.textAnchor,f=n.fontSize,g=n.fontFamily,x=n.fontWeight,y=n.foreColor,v=n.opacity,S=n.maxWidth,C=n.cssClass,E=C===void 0?"":C,M=n.isPlainText,P=M===void 0||M,N=this.w;h===void 0&&(h="");var F=h;u||(u="start"),y&&y.length||(y=N.config.chart.foreColor),g=g||N.config.chart.fontFamily,x=x||"regular";var m,w={maxWidth:S,fontSize:f=f||"11px",fontFamily:g};return Array.isArray(h)?m=N.globals.dom.Paper.text(function(T){for(var I=0;I<h.length;I++)F=h[I],S&&(F=r.getTextBasedOnMaxWidth(s({text:h[I]},w))),I===0?T.tspan(F):T.tspan(F).newLine()}):(S&&(F=this.getTextBasedOnMaxWidth(s({text:h},w))),m=P?N.globals.dom.Paper.plain(h):N.globals.dom.Paper.text(function(T){return T.tspan(F)})),m.attr({x:o,y:c,"text-anchor":u,"dominant-baseline":"auto","font-size":f,"font-family":g,"font-weight":x,fill:y,class:"apexcharts-text "+E}),m.node.style.fontFamily=g,m.node.style.opacity=v,m}},{key:"drawMarker",value:function(n,r,o){n=n||0;var c=o.pSize||0,h=null;if(o.shape==="square"||o.shape==="rect"){var u=o.pRadius===void 0?c/2:o.pRadius;r!==null&&c||(c=0,u=0);var f=1.2*c+u,g=this.drawRect(f,f,f,f,u);g.attr({x:n-f/2,y:r-f/2,cx:n,cy:r,class:o.class?o.class:"",fill:o.pointFillColor,"fill-opacity":o.pointFillOpacity?o.pointFillOpacity:1,stroke:o.pointStrokeColor,"stroke-width":o.pointStrokeWidth?o.pointStrokeWidth:0,"stroke-opacity":o.pointStrokeOpacity?o.pointStrokeOpacity:1}),h=g}else o.shape!=="circle"&&o.shape||(_.isNumber(r)||(c=0,r=0),h=this.drawCircle(c,{cx:n,cy:r,class:o.class?o.class:"",stroke:o.pointStrokeColor,fill:o.pointFillColor,"fill-opacity":o.pointFillOpacity?o.pointFillOpacity:1,"stroke-width":o.pointStrokeWidth?o.pointStrokeWidth:0,"stroke-opacity":o.pointStrokeOpacity?o.pointStrokeOpacity:1}));return h}},{key:"pathMouseEnter",value:function(n,r){var o=this.w,c=new oe(this.ctx),h=parseInt(n.node.getAttribute("index"),10),u=parseInt(n.node.getAttribute("j"),10);if(typeof o.config.chart.events.dataPointMouseEnter=="function"&&o.config.chart.events.dataPointMouseEnter(r,this.ctx,{seriesIndex:h,dataPointIndex:u,w:o}),this.ctx.events.fireEvent("dataPointMouseEnter",[r,this.ctx,{seriesIndex:h,dataPointIndex:u,w:o}]),(o.config.states.active.filter.type==="none"||n.node.getAttribute("selected")!=="true")&&o.config.states.hover.filter.type!=="none"&&!o.globals.isTouchDevice){var f=o.config.states.hover.filter;c.applyFilter(n,h,f.type,f.value)}}},{key:"pathMouseLeave",value:function(n,r){var o=this.w,c=new oe(this.ctx),h=parseInt(n.node.getAttribute("index"),10),u=parseInt(n.node.getAttribute("j"),10);typeof o.config.chart.events.dataPointMouseLeave=="function"&&o.config.chart.events.dataPointMouseLeave(r,this.ctx,{seriesIndex:h,dataPointIndex:u,w:o}),this.ctx.events.fireEvent("dataPointMouseLeave",[r,this.ctx,{seriesIndex:h,dataPointIndex:u,w:o}]),o.config.states.active.filter.type!=="none"&&n.node.getAttribute("selected")==="true"||o.config.states.hover.filter.type!=="none"&&c.getDefaultFilter(n,h)}},{key:"pathMouseDown",value:function(n,r){var o=this.w,c=new oe(this.ctx),h=parseInt(n.node.getAttribute("index"),10),u=parseInt(n.node.getAttribute("j"),10),f="false";if(n.node.getAttribute("selected")==="true"){if(n.node.setAttribute("selected","false"),o.globals.selectedDataPoints[h].indexOf(u)>-1){var g=o.globals.selectedDataPoints[h].indexOf(u);o.globals.selectedDataPoints[h].splice(g,1)}}else{if(!o.config.states.active.allowMultipleDataPointsSelection&&o.globals.selectedDataPoints.length>0){o.globals.selectedDataPoints=[];var x=o.globals.dom.Paper.select(".apexcharts-series path").members,y=o.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,v=function(E){Array.prototype.forEach.call(E,function(M){M.node.setAttribute("selected","false"),c.getDefaultFilter(M,h)})};v(x),v(y)}n.node.setAttribute("selected","true"),f="true",o.globals.selectedDataPoints[h]===void 0&&(o.globals.selectedDataPoints[h]=[]),o.globals.selectedDataPoints[h].push(u)}if(f==="true"){var S=o.config.states.active.filter;if(S!=="none")c.applyFilter(n,h,S.type,S.value);else if(o.config.states.hover.filter!=="none"&&!o.globals.isTouchDevice){var C=o.config.states.hover.filter;c.applyFilter(n,h,C.type,C.value)}}else o.config.states.active.filter.type!=="none"&&(o.config.states.hover.filter.type==="none"||o.globals.isTouchDevice?c.getDefaultFilter(n,h):(C=o.config.states.hover.filter,c.applyFilter(n,h,C.type,C.value)));typeof o.config.chart.events.dataPointSelection=="function"&&o.config.chart.events.dataPointSelection(r,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:u,w:o}),r&&this.ctx.events.fireEvent("dataPointSelection",[r,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:h,dataPointIndex:u,w:o}])}},{key:"rotateAroundCenter",value:function(n){var r={};return n&&typeof n.getBBox=="function"&&(r=n.getBBox()),{x:r.x+r.width/2,y:r.y+r.height/2}}},{key:"getTextRects",value:function(n,r,o,c){var h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],u=this.w,f=this.drawText({x:-200,y:-200,text:n,textAnchor:"start",fontSize:r,fontFamily:o,foreColor:"#fff",opacity:0});c&&f.attr("transform",c),u.globals.dom.Paper.add(f);var g=f.bbox();return h||(g=f.node.getBoundingClientRect()),f.remove(),{width:g.width,height:g.height}}},{key:"placeTextWithEllipsis",value:function(n,r,o){if(typeof n.getComputedTextLength=="function"&&(n.textContent=r,r.length>0&&n.getComputedTextLength()>=o/1.1)){for(var c=r.length-3;c>0;c-=3)if(n.getSubStringLength(0,c)<=o/1.1)return void(n.textContent=r.substring(0,c)+"...");n.textContent="."}}}],[{key:"setAttrs",value:function(n,r){for(var o in r)r.hasOwnProperty(o)&&n.setAttribute(o,r[o])}}]),O}(),q=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"getStackedSeriesTotals",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this.w,o=[];if(r.globals.series.length===0)return o;for(var c=0;c<r.globals.series[r.globals.maxValsInArrayIndex].length;c++){for(var h=0,u=0;u<r.globals.series.length;u++)r.globals.series[u][c]!==void 0&&n.indexOf(u)===-1&&(h+=r.globals.series[u][c]);o.push(h)}return o}},{key:"getSeriesTotalByIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return n===null?this.w.config.series.reduce(function(r,o){return r+o},0):this.w.globals.series[n].reduce(function(r,o){return r+o},0)}},{key:"isSeriesNull",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(n===null?this.w.config.series.filter(function(r){return r!==null}):this.w.config.series[n].data.filter(function(r){return r!==null})).length===0}},{key:"seriesHaveSameValues",value:function(n){return this.w.globals.series[n].every(function(r,o,c){return r===c[0]})}},{key:"getCategoryLabels",value:function(n){var r=this.w,o=n.slice();return r.config.xaxis.convertedCatToNumeric&&(o=n.map(function(c,h){return r.config.xaxis.labels.formatter(c-r.globals.minX+1)})),o}},{key:"getLargestSeries",value:function(){var n=this.w;n.globals.maxValsInArrayIndex=n.globals.series.map(function(r){return r.length}).indexOf(Math.max.apply(Math,n.globals.series.map(function(r){return r.length})))}},{key:"getLargestMarkerSize",value:function(){var n=this.w,r=0;return n.globals.markers.size.forEach(function(o){r=Math.max(r,o)}),n.config.markers.discrete&&n.config.markers.discrete.length&&n.config.markers.discrete.forEach(function(o){r=Math.max(r,o.size)}),r>0&&(r+=n.config.markers.hover.sizeOffset+1),n.globals.markers.largestSize=r,r}},{key:"getSeriesTotals",value:function(){var n=this.w;n.globals.seriesTotals=n.globals.series.map(function(r,o){var c=0;if(Array.isArray(r))for(var h=0;h<r.length;h++)c+=r[h];else c+=r;return c})}},{key:"getSeriesTotalsXRange",value:function(n,r){var o=this.w;return o.globals.series.map(function(c,h){for(var u=0,f=0;f<c.length;f++)o.globals.seriesX[h][f]>n&&o.globals.seriesX[h][f]<r&&(u+=c[f]);return u})}},{key:"getPercentSeries",value:function(){var n=this.w;n.globals.seriesPercent=n.globals.series.map(function(r,o){var c=[];if(Array.isArray(r))for(var h=0;h<r.length;h++){var u=n.globals.stackedSeriesTotals[h],f=0;u&&(f=100*r[h]/u),c.push(f)}else{var g=100*r/n.globals.seriesTotals.reduce(function(x,y){return x+y},0);c.push(g)}return c})}},{key:"getCalculatedRatios",value:function(){var n,r,o,c,h=this.w.globals,u=[],f=0,g=[],x=.1,y=0;if(h.yRange=[],h.isMultipleYAxis)for(var v=0;v<h.minYArr.length;v++)h.yRange.push(Math.abs(h.minYArr[v]-h.maxYArr[v])),g.push(0);else h.yRange.push(Math.abs(h.minY-h.maxY));h.xRange=Math.abs(h.maxX-h.minX),h.zRange=Math.abs(h.maxZ-h.minZ);for(var S=0;S<h.yRange.length;S++)u.push(h.yRange[S]/h.gridHeight);if(r=h.xRange/h.gridWidth,o=Math.abs(h.initialMaxX-h.initialMinX)/h.gridWidth,n=h.yRange/h.gridWidth,c=h.xRange/h.gridHeight,(f=h.zRange/h.gridHeight*16)||(f=1),h.minY!==Number.MIN_VALUE&&Math.abs(h.minY)!==0&&(h.hasNegs=!0),h.isMultipleYAxis){g=[];for(var C=0;C<u.length;C++)g.push(-h.minYArr[C]/u[C])}else g.push(-h.minY/u[0]),h.minY!==Number.MIN_VALUE&&Math.abs(h.minY)!==0&&(x=-h.minY/n,y=h.minX/r);return{yRatio:u,invertedYRatio:n,zRatio:f,xRatio:r,initialXRatio:o,invertedXRatio:c,baseLineInvertedY:x,baseLineY:g,baseLineX:y}}},{key:"getLogSeries",value:function(n){var r=this,o=this.w;return o.globals.seriesLog=n.map(function(c,h){return o.config.yaxis[h]&&o.config.yaxis[h].logarithmic?c.map(function(u){return u===null?null:r.getLogVal(o.config.yaxis[h].logBase,u,h)}):c}),o.globals.invalidLogScale?n:o.globals.seriesLog}},{key:"getBaseLog",value:function(n,r){return Math.log(r)/Math.log(n)}},{key:"getLogVal",value:function(n,r,o){if(r===0)return 0;var c=this.w,h=c.globals.minYArr[o]===0?-1:this.getBaseLog(n,c.globals.minYArr[o]),u=(c.globals.maxYArr[o]===0?0:this.getBaseLog(n,c.globals.maxYArr[o]))-h;return r<1?r/u:(this.getBaseLog(n,r)-h)/u}},{key:"getLogYRatios",value:function(n){var r=this,o=this.w,c=this.w.globals;return c.yLogRatio=n.slice(),c.logYRange=c.yRange.map(function(h,u){if(o.config.yaxis[u]&&r.w.config.yaxis[u].logarithmic){var f,g=-Number.MAX_VALUE,x=Number.MIN_VALUE;return c.seriesLog.forEach(function(y,v){y.forEach(function(S){o.config.yaxis[v]&&o.config.yaxis[v].logarithmic&&(g=Math.max(S,g),x=Math.min(S,x))})}),f=Math.pow(c.yRange[u],Math.abs(x-g)/c.yRange[u]),c.yLogRatio[u]=f/c.gridHeight,f}}),c.invalidLogScale?n.slice():c.yLogRatio}}],[{key:"checkComboSeries",value:function(n){var r=!1,o=0,c=0;return n.length&&n[0].type!==void 0&&n.forEach(function(h){h.type!=="bar"&&h.type!=="column"&&h.type!=="candlestick"&&h.type!=="boxPlot"||o++,h.type!==void 0&&c++}),c>0&&(r=!0),{comboBarCount:o,comboCharts:r}}},{key:"extendArrayProps",value:function(n,r,o){return r.yaxis&&(r=n.extendYAxis(r,o)),r.annotations&&(r.annotations.yaxis&&(r=n.extendYAxisAnnotations(r)),r.annotations.xaxis&&(r=n.extendXAxisAnnotations(r)),r.annotations.points&&(r=n.extendPointAnnotations(r))),r}}]),O}(),Z=function(){function O(n){l(this,O),this.w=n.w,this.annoCtx=n}return p(O,[{key:"setOrientations",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=this.w;if(n.label.orientation==="vertical"){var c=r!==null?r:0,h=o.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(c,"']"));if(h!==null){var u=h.getBoundingClientRect();h.setAttribute("x",parseFloat(h.getAttribute("x"))-u.height+4),n.label.position==="top"?h.setAttribute("y",parseFloat(h.getAttribute("y"))+u.width):h.setAttribute("y",parseFloat(h.getAttribute("y"))-u.width);var f=this.annoCtx.graphics.rotateAroundCenter(h),g=f.x,x=f.y;h.setAttribute("transform","rotate(-90 ".concat(g," ").concat(x,")"))}}}},{key:"addBackgroundToAnno",value:function(n,r){var o=this.w;if(!n||r.label.text===void 0||r.label.text!==void 0&&!String(r.label.text).trim())return null;var c=o.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),h=n.getBoundingClientRect(),u=r.label.style.padding.left,f=r.label.style.padding.right,g=r.label.style.padding.top,x=r.label.style.padding.bottom;r.label.orientation==="vertical"&&(g=r.label.style.padding.left,x=r.label.style.padding.right,u=r.label.style.padding.top,f=r.label.style.padding.bottom);var y=h.left-c.left-u,v=h.top-c.top-g,S=this.annoCtx.graphics.drawRect(y-o.globals.barPadForNumericAxis,v,h.width+u+f,h.height+g+x,r.label.borderRadius,r.label.style.background,1,r.label.borderWidth,r.label.borderColor,0);return r.id&&S.node.classList.add(r.id),S}},{key:"annotationsBackground",value:function(){var n=this,r=this.w,o=function(c,h,u){var f=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations .apexcharts-").concat(u,"-annotation-label[rel='").concat(h,"']"));if(f){var g=f.parentNode,x=n.addBackgroundToAnno(f,c);x&&(g.insertBefore(x.node,f),c.label.mouseEnter&&x.node.addEventListener("mouseenter",c.label.mouseEnter.bind(n,c)),c.label.mouseLeave&&x.node.addEventListener("mouseleave",c.label.mouseLeave.bind(n,c)),c.label.click&&x.node.addEventListener("click",c.label.click.bind(n,c)))}};r.config.annotations.xaxis.map(function(c,h){o(c,h,"xaxis")}),r.config.annotations.yaxis.map(function(c,h){o(c,h,"yaxis")}),r.config.annotations.points.map(function(c,h){o(c,h,"point")})}},{key:"getY1Y2",value:function(n,r){var o,c=n==="y1"?r.y:r.y2,h=this.w;if(this.annoCtx.invertAxis){var u=h.globals.labels.indexOf(c);h.config.xaxis.convertedCatToNumeric&&(u=h.globals.categoryLabels.indexOf(c));var f=h.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(u+1)+")");f&&(o=parseFloat(f.getAttribute("y")))}else{var g;h.config.yaxis[r.yAxisIndex].logarithmic?g=(c=new q(this.annoCtx.ctx).getLogVal(c,r.yAxisIndex))/h.globals.yLogRatio[r.yAxisIndex]:g=(c-h.globals.minYArr[r.yAxisIndex])/(h.globals.yRange[r.yAxisIndex]/h.globals.gridHeight),o=h.globals.gridHeight-g,!r.marker||r.y!==void 0&&r.y!==null||(o=0),h.config.yaxis[r.yAxisIndex]&&h.config.yaxis[r.yAxisIndex].reversed&&(o=g)}return typeof c=="string"&&c.indexOf("px")>-1&&(o=parseFloat(c)),o}},{key:"getX1X2",value:function(n,r){var o=this.w,c=this.annoCtx.invertAxis?o.globals.minY:o.globals.minX,h=this.annoCtx.invertAxis?o.globals.maxY:o.globals.maxX,u=this.annoCtx.invertAxis?o.globals.yRange[0]:o.globals.xRange,f=(r.x-c)/(u/o.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(f=(h-r.x)/(u/o.globals.gridWidth)),o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||o.globals.dataFormatXNumeric||(f=this.getStringX(r.x));var g=(r.x2-c)/(u/o.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(g=(h-r.x2)/(u/o.globals.gridWidth)),o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||o.globals.dataFormatXNumeric||(g=this.getStringX(r.x2)),r.x!==void 0&&r.x!==null||!r.marker||(f=o.globals.gridWidth),n==="x1"&&typeof r.x=="string"&&r.x.indexOf("px")>-1&&(f=parseFloat(r.x)),n==="x2"&&typeof r.x2=="string"&&r.x2.indexOf("px")>-1&&(g=parseFloat(r.x2)),n==="x1"?f:g}},{key:"getStringX",value:function(n){var r=this.w,o=n;r.config.xaxis.convertedCatToNumeric&&r.globals.categoryLabels.length&&(n=r.globals.categoryLabels.indexOf(n)+1);var c=r.globals.labels.indexOf(n),h=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(c+1)+")");return h&&(o=parseFloat(h.getAttribute("x"))),o}}]),O}(),ce=function(){function O(n){l(this,O),this.w=n.w,this.annoCtx=n,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Z(this.annoCtx)}return p(O,[{key:"addXaxisAnnotation",value:function(n,r,o){var c,h=this.w,u=this.helpers.getX1X2("x1",n),f=n.label.text,g=n.strokeDashArray;if(_.isNumber(u)){if(n.x2===null||n.x2===void 0){var x=this.annoCtx.graphics.drawLine(u+n.offsetX,0+n.offsetY,u+n.offsetX,h.globals.gridHeight+n.offsetY,n.borderColor,g,n.borderWidth);r.appendChild(x.node),n.id&&x.node.classList.add(n.id)}else{if((c=this.helpers.getX1X2("x2",n))<u){var y=u;u=c,c=y}var v=this.annoCtx.graphics.drawRect(u+n.offsetX,0+n.offsetY,c-u,h.globals.gridHeight+n.offsetY,0,n.fillColor,n.opacity,1,n.borderColor,g);v.node.classList.add("apexcharts-annotation-rect"),v.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),r.appendChild(v.node),n.id&&v.node.classList.add(n.id)}var S=this.annoCtx.graphics.getTextRects(f,parseFloat(n.label.style.fontSize)),C=n.label.position==="top"?4:n.label.position==="center"?h.globals.gridHeight/2+(n.label.orientation==="vertical"?S.width/2:0):h.globals.gridHeight,E=this.annoCtx.graphics.drawText({x:u+n.label.offsetX,y:C+n.label.offsetY-(n.label.orientation==="vertical"?n.label.position==="top"?S.width/2-12:-S.width/2:0),text:f,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});E.attr({rel:o}),r.appendChild(E.node),this.annoCtx.helpers.setOrientations(n,o)}}},{key:"drawXAxisAnnotations",value:function(){var n=this,r=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return r.config.annotations.xaxis.map(function(c,h){n.addXaxisAnnotation(c,o.node,h)}),o}}]),O}(),ae=function(){function O(n){l(this,O),this.w=n.w,this.annoCtx=n,this.helpers=new Z(this.annoCtx)}return p(O,[{key:"addYaxisAnnotation",value:function(n,r,o){var c,h=this.w,u=n.strokeDashArray,f=this.helpers.getY1Y2("y1",n),g=n.label.text;if(n.y2===null||n.y2===void 0){var x=this.annoCtx.graphics.drawLine(0+n.offsetX,f+n.offsetY,this._getYAxisAnnotationWidth(n),f+n.offsetY,n.borderColor,u,n.borderWidth);r.appendChild(x.node),n.id&&x.node.classList.add(n.id)}else{if((c=this.helpers.getY1Y2("y2",n))>f){var y=f;f=c,c=y}var v=this.annoCtx.graphics.drawRect(0+n.offsetX,c+n.offsetY,this._getYAxisAnnotationWidth(n),f-c,0,n.fillColor,n.opacity,1,n.borderColor,u);v.node.classList.add("apexcharts-annotation-rect"),v.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),r.appendChild(v.node),n.id&&v.node.classList.add(n.id)}var S=n.label.position==="right"?h.globals.gridWidth:n.label.position==="center"?h.globals.gridWidth/2:0,C=this.annoCtx.graphics.drawText({x:S+n.label.offsetX,y:(c??f)+n.label.offsetY-3,text:g,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});C.attr({rel:o}),r.appendChild(C.node)}},{key:"_getYAxisAnnotationWidth",value:function(n){var r=this.w;return r.globals.gridWidth,(n.width.indexOf("%")>-1?r.globals.gridWidth*parseInt(n.width,10)/100:parseInt(n.width,10))+n.offsetX}},{key:"drawYAxisAnnotations",value:function(){var n=this,r=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return r.config.annotations.yaxis.map(function(c,h){n.addYaxisAnnotation(c,o.node,h)}),o}}]),O}(),me=function(){function O(n){l(this,O),this.w=n.w,this.annoCtx=n,this.helpers=new Z(this.annoCtx)}return p(O,[{key:"addPointAnnotation",value:function(n,r,o){this.w;var c=this.helpers.getX1X2("x1",n),h=this.helpers.getY1Y2("y1",n);if(_.isNumber(c)){var u={pSize:n.marker.size,pointStrokeWidth:n.marker.strokeWidth,pointFillColor:n.marker.fillColor,pointStrokeColor:n.marker.strokeColor,shape:n.marker.shape,pRadius:n.marker.radius,class:"apexcharts-point-annotation-marker ".concat(n.marker.cssClass," ").concat(n.id?n.id:"")},f=this.annoCtx.graphics.drawMarker(c+n.marker.offsetX,h+n.marker.offsetY,u);r.appendChild(f.node);var g=n.label.text?n.label.text:"",x=this.annoCtx.graphics.drawText({x:c+n.label.offsetX,y:h+n.label.offsetY-n.marker.size-parseFloat(n.label.style.fontSize)/1.6,text:g,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});if(x.attr({rel:o}),r.appendChild(x.node),n.customSVG.SVG){var y=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+n.customSVG.cssClass});y.attr({transform:"translate(".concat(c+n.customSVG.offsetX,", ").concat(h+n.customSVG.offsetY,")")}),y.node.innerHTML=n.customSVG.SVG,r.appendChild(y.node)}if(n.image.path){var v=n.image.width?n.image.width:20,S=n.image.height?n.image.height:20;f=this.annoCtx.addImage({x:c+n.image.offsetX-v/2,y:h+n.image.offsetY-S/2,width:v,height:S,path:n.image.path,appendTo:".apexcharts-point-annotations"})}n.mouseEnter&&f.node.addEventListener("mouseenter",n.mouseEnter.bind(this,n)),n.mouseLeave&&f.node.addEventListener("mouseleave",n.mouseLeave.bind(this,n)),n.click&&f.node.addEventListener("click",n.click.bind(this,n))}}},{key:"drawPointAnnotations",value:function(){var n=this,r=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return r.config.annotations.points.map(function(c,h){n.addPointAnnotation(c,o.node,h)}),o}}]),O}(),we={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},ke=function(){function O(){l(this,O),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return p(O,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[we],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(n){return new Date(n).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(n){return n}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(n){return n+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(r,o){return r+o},0)/n.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(n){return n}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(n){return n}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(r,o){return r+o},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(n){return n!==null?n:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(n){return n?n+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),O}(),Je=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.graphics=new j(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Z(this),this.xAxisAnnotations=new ce(this),this.yAxisAnnotations=new ae(this),this.pointsAnnotations=new me(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return p(O,[{key:"drawAxesAnnotations",value:function(){var n=this.w;if(n.globals.axisCharts){for(var r=this.yAxisAnnotations.drawYAxisAnnotations(),o=this.xAxisAnnotations.drawXAxisAnnotations(),c=this.pointsAnnotations.drawPointAnnotations(),h=n.config.chart.animations.enabled,u=[r,o,c],f=[o.node,r.node,c.node],g=0;g<3;g++)n.globals.dom.elGraphical.add(u[g]),!h||n.globals.resized||n.globals.dataChanged||n.config.chart.type!=="scatter"&&n.config.chart.type!=="bubble"&&n.globals.dataPoints>1&&f[g].classList.add("apexcharts-element-hidden"),n.globals.delayedElements.push({el:f[g],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var n=this;this.w.config.annotations.images.map(function(r,o){n.addImage(r,o)})}},{key:"drawTextAnnos",value:function(){var n=this;this.w.config.annotations.texts.map(function(r,o){n.addText(r,o)})}},{key:"addXaxisAnnotation",value:function(n,r,o){this.xAxisAnnotations.addXaxisAnnotation(n,r,o)}},{key:"addYaxisAnnotation",value:function(n,r,o){this.yAxisAnnotations.addYaxisAnnotation(n,r,o)}},{key:"addPointAnnotation",value:function(n,r,o){this.pointsAnnotations.addPointAnnotation(n,r,o)}},{key:"addText",value:function(n,r){var o=n.x,c=n.y,h=n.text,u=n.textAnchor,f=n.foreColor,g=n.fontSize,x=n.fontFamily,y=n.fontWeight,v=n.cssClass,S=n.backgroundColor,C=n.borderWidth,E=n.strokeDashArray,M=n.borderRadius,P=n.borderColor,N=n.appendTo,F=N===void 0?".apexcharts-annotations":N,m=n.paddingLeft,w=m===void 0?4:m,T=n.paddingRight,I=T===void 0?4:T,B=n.paddingBottom,H=B===void 0?2:B,Y=n.paddingTop,V=Y===void 0?2:Y,U=this.w,K=this.graphics.drawText({x:o,y:c,text:h,textAnchor:u||"start",fontSize:g||"12px",fontWeight:y||"regular",fontFamily:x||U.config.chart.fontFamily,foreColor:f||U.config.chart.foreColor,cssClass:v}),$=U.globals.dom.baseEl.querySelector(F);$&&$.appendChild(K.node);var te=K.bbox();if(h){var ie=this.graphics.drawRect(te.x-w,te.y-V,te.width+w+I,te.height+H+V,M,S||"transparent",1,C,P,E);$.insertBefore(ie.node,K.node)}}},{key:"addImage",value:function(n,r){var o=this.w,c=n.path,h=n.x,u=h===void 0?0:h,f=n.y,g=f===void 0?0:f,x=n.width,y=x===void 0?20:x,v=n.height,S=v===void 0?20:v,C=n.appendTo,E=C===void 0?".apexcharts-annotations":C,M=o.globals.dom.Paper.image(c);M.size(y,S).move(u,g);var P=o.globals.dom.baseEl.querySelector(E);return P&&P.appendChild(M.node),M}},{key:"addXaxisAnnotationExternal",value:function(n,r,o){return this.addAnnotationExternal({params:n,pushToMemory:r,context:o,type:"xaxis",contextMethod:o.addXaxisAnnotation}),o}},{key:"addYaxisAnnotationExternal",value:function(n,r,o){return this.addAnnotationExternal({params:n,pushToMemory:r,context:o,type:"yaxis",contextMethod:o.addYaxisAnnotation}),o}},{key:"addPointAnnotationExternal",value:function(n,r,o){return this.invertAxis===void 0&&(this.invertAxis=o.w.globals.isBarHorizontal),this.addAnnotationExternal({params:n,pushToMemory:r,context:o,type:"point",contextMethod:o.addPointAnnotation}),o}},{key:"addAnnotationExternal",value:function(n){var r=n.params,o=n.pushToMemory,c=n.context,h=n.type,u=n.contextMethod,f=c,g=f.w,x=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations")),y=x.childNodes.length+1,v=new ke,S=Object.assign({},h==="xaxis"?v.xAxisAnnotation:h==="yaxis"?v.yAxisAnnotation:v.pointAnnotation),C=_.extend(S,r);switch(h){case"xaxis":this.addXaxisAnnotation(C,x,y);break;case"yaxis":this.addYaxisAnnotation(C,x,y);break;case"point":this.addPointAnnotation(C,x,y)}var E=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations .apexcharts-").concat(h,"-annotation-label[rel='").concat(y,"']")),M=this.helpers.addBackgroundToAnno(E,C);return M&&x.insertBefore(M.node,E),o&&g.globals.memory.methodsToExec.push({context:f,id:C.id?C.id:_.randomId(),method:u,label:"addAnnotation",params:r}),c}},{key:"clearAnnotations",value:function(n){var r=n.w,o=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");r.globals.memory.methodsToExec.map(function(c,h){c.label!=="addText"&&c.label!=="addAnnotation"||r.globals.memory.methodsToExec.splice(h,1)}),o=_.listToArray(o),Array.prototype.forEach.call(o,function(c){for(;c.firstChild;)c.removeChild(c.firstChild)})}},{key:"removeAnnotation",value:function(n,r){var o=n.w,c=o.globals.dom.baseEl.querySelectorAll(".".concat(r));c&&(o.globals.memory.methodsToExec.map(function(h,u){h.id===r&&o.globals.memory.methodsToExec.splice(u,1)}),Array.prototype.forEach.call(c,function(h){h.parentElement.removeChild(h)}))}}]),O}(),ye=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return p(O,[{key:"isValidDate",value:function(n){return!isNaN(this.parseDate(n))}},{key:"getTimeStamp",value:function(n){return Date.parse(n)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toISOString().substr(0,25)).getTime():new Date(n).getTime():n}},{key:"getDate",value:function(n){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toUTCString()):new Date(n)}},{key:"parseDate",value:function(n){var r=Date.parse(n);if(!isNaN(r))return this.getTimeStamp(n);var o=Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "));return o=this.getTimeStamp(o)}},{key:"parseDateWithTimezone",value:function(n){return Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(n,r){var o=this.w.globals.locale,c=this.w.config.xaxis.labels.datetimeUTC,h=["\0"].concat(W(o.months)),u=[""].concat(W(o.shortMonths)),f=[""].concat(W(o.days)),g=[""].concat(W(o.shortDays));function x(H,Y){var V=H+"";for(Y=Y||2;V.length<Y;)V="0"+V;return V}var y=c?n.getUTCFullYear():n.getFullYear();r=(r=(r=r.replace(/(^|[^\\])yyyy+/g,"$1"+y)).replace(/(^|[^\\])yy/g,"$1"+y.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+y);var v=(c?n.getUTCMonth():n.getMonth())+1;r=(r=(r=(r=r.replace(/(^|[^\\])MMMM+/g,"$1"+h[0])).replace(/(^|[^\\])MMM/g,"$1"+u[0])).replace(/(^|[^\\])MM/g,"$1"+x(v))).replace(/(^|[^\\])M/g,"$1"+v);var S=c?n.getUTCDate():n.getDate();r=(r=(r=(r=r.replace(/(^|[^\\])dddd+/g,"$1"+f[0])).replace(/(^|[^\\])ddd/g,"$1"+g[0])).replace(/(^|[^\\])dd/g,"$1"+x(S))).replace(/(^|[^\\])d/g,"$1"+S);var C=c?n.getUTCHours():n.getHours(),E=C>12?C-12:C===0?12:C;r=(r=(r=(r=r.replace(/(^|[^\\])HH+/g,"$1"+x(C))).replace(/(^|[^\\])H/g,"$1"+C)).replace(/(^|[^\\])hh+/g,"$1"+x(E))).replace(/(^|[^\\])h/g,"$1"+E);var M=c?n.getUTCMinutes():n.getMinutes();r=(r=r.replace(/(^|[^\\])mm+/g,"$1"+x(M))).replace(/(^|[^\\])m/g,"$1"+M);var P=c?n.getUTCSeconds():n.getSeconds();r=(r=r.replace(/(^|[^\\])ss+/g,"$1"+x(P))).replace(/(^|[^\\])s/g,"$1"+P);var N=c?n.getUTCMilliseconds():n.getMilliseconds();r=r.replace(/(^|[^\\])fff+/g,"$1"+x(N,3)),N=Math.round(N/10),r=r.replace(/(^|[^\\])ff/g,"$1"+x(N)),N=Math.round(N/10);var F=C<12?"AM":"PM";r=(r=(r=r.replace(/(^|[^\\])f/g,"$1"+N)).replace(/(^|[^\\])TT+/g,"$1"+F)).replace(/(^|[^\\])T/g,"$1"+F.charAt(0));var m=F.toLowerCase();r=(r=r.replace(/(^|[^\\])tt+/g,"$1"+m)).replace(/(^|[^\\])t/g,"$1"+m.charAt(0));var w=-n.getTimezoneOffset(),T=c||!w?"Z":w>0?"+":"-";if(!c){var I=(w=Math.abs(w))%60;T+=x(Math.floor(w/60))+":"+x(I)}r=r.replace(/(^|[^\\])K/g,"$1"+T);var B=(c?n.getUTCDay():n.getDay())+1;return r=(r=(r=(r=(r=r.replace(new RegExp(f[0],"g"),f[B])).replace(new RegExp(g[0],"g"),g[B])).replace(new RegExp(h[0],"g"),h[v])).replace(new RegExp(u[0],"g"),u[v])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(n,r,o){var c=this.w;c.config.xaxis.min!==void 0&&(n=c.config.xaxis.min),c.config.xaxis.max!==void 0&&(r=c.config.xaxis.max);var h=this.getDate(n),u=this.getDate(r),f=this.formatDate(h,"yyyy MM dd HH mm ss fff").split(" "),g=this.formatDate(u,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(f[6],10),maxMillisecond:parseInt(g[6],10),minSecond:parseInt(f[5],10),maxSecond:parseInt(g[5],10),minMinute:parseInt(f[4],10),maxMinute:parseInt(g[4],10),minHour:parseInt(f[3],10),maxHour:parseInt(g[3],10),minDate:parseInt(f[2],10),maxDate:parseInt(g[2],10),minMonth:parseInt(f[1],10)-1,maxMonth:parseInt(g[1],10)-1,minYear:parseInt(f[0],10),maxYear:parseInt(g[0],10)}}},{key:"isLeapYear",value:function(n){return n%4==0&&n%100!=0||n%400==0}},{key:"calculcateLastDaysOfMonth",value:function(n,r,o){return this.determineDaysOfMonths(n,r)-o}},{key:"determineDaysOfYear",value:function(n){var r=365;return this.isLeapYear(n)&&(r=366),r}},{key:"determineRemainingDaysOfYear",value:function(n,r,o){var c=this.daysCntOfYear[r]+o;return r>1&&this.isLeapYear()&&c++,c}},{key:"determineDaysOfMonths",value:function(n,r){var o=30;switch(n=_.monthMod(n),!0){case this.months30.indexOf(n)>-1:n===2&&(o=this.isLeapYear(r)?29:28);break;case this.months31.indexOf(n)>-1:default:o=31}return o}}]),O}(),ft=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.tooltipKeyFormat="dd MMM"}return p(O,[{key:"xLabelFormat",value:function(n,r,o,c){var h=this.w;if(h.config.xaxis.type==="datetime"&&h.config.xaxis.labels.formatter===void 0&&h.config.tooltip.x.formatter===void 0){var u=new ye(this.ctx);return u.formatDate(u.getDate(r),h.config.tooltip.x.format)}return n(r,o,c)}},{key:"defaultGeneralFormatter",value:function(n){return Array.isArray(n)?n.map(function(r){return r}):n}},{key:"defaultYFormatter",value:function(n,r,o){var c=this.w;return _.isNumber(n)&&(n=c.globals.yValueDecimal!==0?n.toFixed(r.decimalsInFloat!==void 0?r.decimalsInFloat:c.globals.yValueDecimal):c.globals.maxYArr[o]-c.globals.minYArr[o]<5?n.toFixed(1):n.toFixed(0)),n}},{key:"setLabelFormatters",value:function(){var n=this,r=this.w;return r.globals.xaxisTooltipFormatter=function(o){return n.defaultGeneralFormatter(o)},r.globals.ttKeyFormatter=function(o){return n.defaultGeneralFormatter(o)},r.globals.ttZFormatter=function(o){return o},r.globals.legendFormatter=function(o){return n.defaultGeneralFormatter(o)},r.config.xaxis.labels.formatter!==void 0?r.globals.xLabelFormatter=r.config.xaxis.labels.formatter:r.globals.xLabelFormatter=function(o){if(_.isNumber(o)){if(!r.config.xaxis.convertedCatToNumeric&&r.config.xaxis.type==="numeric"){if(_.isNumber(r.config.xaxis.decimalsInFloat))return o.toFixed(r.config.xaxis.decimalsInFloat);var c=r.globals.maxX-r.globals.minX;return c>0&&c<100?o.toFixed(1):o.toFixed(0)}return r.globals.isBarHorizontal&&r.globals.maxY-r.globals.minYArr<4?o.toFixed(1):o.toFixed(0)}return o},typeof r.config.tooltip.x.formatter=="function"?r.globals.ttKeyFormatter=r.config.tooltip.x.formatter:r.globals.ttKeyFormatter=r.globals.xLabelFormatter,typeof r.config.xaxis.tooltip.formatter=="function"&&(r.globals.xaxisTooltipFormatter=r.config.xaxis.tooltip.formatter),(Array.isArray(r.config.tooltip.y)||r.config.tooltip.y.formatter!==void 0)&&(r.globals.ttVal=r.config.tooltip.y),r.config.tooltip.z.formatter!==void 0&&(r.globals.ttZFormatter=r.config.tooltip.z.formatter),r.config.legend.formatter!==void 0&&(r.globals.legendFormatter=r.config.legend.formatter),r.config.yaxis.forEach(function(o,c){o.labels.formatter!==void 0?r.globals.yLabelFormatters[c]=o.labels.formatter:r.globals.yLabelFormatters[c]=function(h){return r.globals.xyCharts?Array.isArray(h)?h.map(function(u){return n.defaultYFormatter(u,o,c)}):n.defaultYFormatter(h,o,c):h}}),r.globals}},{key:"heatmapLabelFormatters",value:function(){var n=this.w;if(n.config.chart.type==="heatmap"){n.globals.yAxisScale[0].result=n.globals.seriesNames.slice();var r=n.globals.seriesNames.reduce(function(o,c){return o.length>c.length?o:c},0);n.globals.yAxisScale[0].niceMax=r,n.globals.yAxisScale[0].niceMin=r}}}]),O}(),pt=function(O){var n,r=O.isTimeline,o=O.ctx,c=O.seriesIndex,h=O.dataPointIndex,u=O.y1,f=O.y2,g=O.w,x=g.globals.seriesRangeStart[c][h],y=g.globals.seriesRangeEnd[c][h],v=g.globals.labels[h],S=g.config.series[c].name?g.config.series[c].name:"",C=g.globals.ttKeyFormatter,E=g.config.tooltip.y.title.formatter,M={w:g,seriesIndex:c,dataPointIndex:h,start:x,end:y};typeof E=="function"&&(S=E(S,M)),(n=g.config.series[c].data[h])!==null&&n!==void 0&&n.x&&(v=g.config.series[c].data[h].x),r||g.config.xaxis.type==="datetime"&&(v=new ft(o).xLabelFormat(g.globals.ttKeyFormatter,v,v,{i:void 0,dateFormatter:new ye(o).formatDate,w:g})),typeof C=="function"&&(v=C(v,M)),Number.isFinite(u)&&Number.isFinite(f)&&(x=u,y=f);var P="",N="",F=g.globals.colors[c];if(g.config.tooltip.x.formatter===void 0)if(g.config.xaxis.type==="datetime"){var m=new ye(o);P=m.formatDate(m.getDate(x),g.config.tooltip.x.format),N=m.formatDate(m.getDate(y),g.config.tooltip.x.format)}else P=x,N=y;else P=g.config.tooltip.x.formatter(x),N=g.config.tooltip.x.formatter(y);return{start:x,end:y,startVal:P,endVal:N,ylabel:v,color:F,seriesName:S}},Ze=function(O){var n=O.color,r=O.seriesName,o=O.ylabel,c=O.start,h=O.end,u=O.seriesIndex,f=O.dataPointIndex,g=O.ctx.tooltip.tooltipLabels.getFormatters(u);c=g.yLbFormatter(c),h=g.yLbFormatter(h);var x=g.yLbFormatter(O.w.globals.series[u][f]),y=`<span class="value start-value">
  `.concat(c,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(h,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+n+'">'+(r||"")+'</span></div><div> <span class="category">'+o+": </span> "+(O.w.globals.comboCharts?O.w.config.series[u].type==="rangeArea"||O.w.config.series[u].type==="rangeBar"?y:"<span>".concat(x,"</span>"):y)+" </div></div>"},_e=function(){function O(n){l(this,O),this.opts=n}return p(O,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(n){return this.hideYAxis(),_.extend(n,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),s(s({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var n=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var o=r.seriesIndex,c=r.dataPointIndex,h=r.w;return n._getBoxTooltip(h,o,c,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var n=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(r){var o=r.seriesIndex,c=r.dataPointIndex,h=r.w;return n._getBoxTooltip(h,o,c,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(n,r){r.ctx;var o=r.seriesIndex,c=r.dataPointIndex,h=r.w,u=function(){var f=h.globals.seriesRangeStart[o][c];return h.globals.seriesRangeEnd[o][c]-f};return h.globals.comboCharts?h.config.series[o].type==="rangeBar"||h.config.series[o].type==="rangeArea"?u():n:u()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(n){return n.w.config.plotOptions&&n.w.config.plotOptions.bar&&n.w.config.plotOptions.bar.horizontal?function(r){var o=pt(s(s({},r),{},{isTimeline:!0})),c=o.color,h=o.seriesName,u=o.ylabel,f=o.startVal,g=o.endVal;return Ze(s(s({},r),{},{color:c,seriesName:h,ylabel:u,start:f,end:g}))}(n):function(r){var o=pt(r),c=o.color,h=o.seriesName,u=o.ylabel,f=o.start,g=o.end;return Ze(s(s({},r),{},{color:c,seriesName:h,ylabel:u,start:f,end:g}))}(n)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(n){var r,o;return(r=n.plotOptions.bar)!==null&&r!==void 0&&r.barHeight||(n.plotOptions.bar.barHeight=2),(o=n.plotOptions.bar)!==null&&o!==void 0&&o.columnWidth||(n.plotOptions.bar.columnWidth=2),n}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(n){return function(r){var o=pt(r),c=o.color,h=o.seriesName,u=o.ylabel,f=o.start,g=o.end;return Ze(s(s({},r),{},{color:c,seriesName:h,ylabel:u,start:f,end:g}))}(n)}}}}},{key:"brush",value:function(n){return _.extend(n,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(n){n.dataLabels=n.dataLabels||{},n.dataLabels.formatter=n.dataLabels.formatter||void 0;var r=n.dataLabels.formatter;return n.yaxis.forEach(function(o,c){n.yaxis[c].min=0,n.yaxis[c].max=100}),n.chart.type==="bar"&&(n.dataLabels.formatter=r||function(o){return typeof o=="number"&&o?o.toFixed(0)+"%":o}),n}},{key:"stackedBars",value:function(){var n=this.bar();return s(s({},n),{},{plotOptions:s(s({},n.plotOptions),{},{bar:s(s({},n.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(n){return n.xaxis.convertedCatToNumeric=!0,n}},{key:"convertCatToNumericXaxis",value:function(n,r,o){n.xaxis.type="numeric",n.xaxis.labels=n.xaxis.labels||{},n.xaxis.labels.formatter=n.xaxis.labels.formatter||function(u){return _.isNumber(u)?Math.floor(u):u};var c=n.xaxis.labels.formatter,h=n.xaxis.categories&&n.xaxis.categories.length?n.xaxis.categories:n.labels;return o&&o.length&&(h=o.map(function(u){return Array.isArray(u)?u:String(u)})),h&&h.length&&(n.xaxis.labels.formatter=function(u){return _.isNumber(u)?c(h[Math.floor(u)-1]):c(u)}),n.xaxis.categories=[],n.labels=[],n.xaxis.tickAmount=n.xaxis.tickAmount||"dataPoints",n}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(n){return n},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(n,r,o,c,h){var u=n.globals.seriesCandleO[r][o],f=n.globals.seriesCandleH[r][o],g=n.globals.seriesCandleM[r][o],x=n.globals.seriesCandleL[r][o],y=n.globals.seriesCandleC[r][o];return n.config.series[r].type&&n.config.series[r].type!==h?`<div class="apexcharts-custom-tooltip">
          `.concat(n.config.series[r].name?n.config.series[r].name:"series-"+(r+1),": <strong>").concat(n.globals.series[r][o],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(n.config.chart.type,'">')+"<div>".concat(c[0],': <span class="value">')+u+"</span></div>"+"<div>".concat(c[1],': <span class="value">')+f+"</span></div>"+(g?"<div>".concat(c[2],': <span class="value">')+g+"</span></div>":"")+"<div>".concat(c[3],': <span class="value">')+x+"</span></div>"+"<div>".concat(c[4],': <span class="value">')+y+"</span></div></div>"}}]),O}(),dt=function(){function O(n){l(this,O),this.opts=n}return p(O,[{key:"init",value:function(n){var r=n.responsiveOverride,o=this.opts,c=new ke,h=new _e(o);this.chartType=o.chart.type,o=this.extendYAxis(o),o=this.extendAnnotations(o);var u=c.init(),f={};if(o&&a(o)==="object"){var g,x,y,v,S,C,E,M,P,N,F={};F=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(o.chart.type)!==-1?h[o.chart.type]():h.line(),(g=o.plotOptions)!==null&&g!==void 0&&(x=g.bar)!==null&&x!==void 0&&x.isFunnel&&(F=h.funnel()),o.chart.stacked&&o.chart.type==="bar"&&(F=h.stackedBars()),(y=o.chart.brush)!==null&&y!==void 0&&y.enabled&&(F=h.brush(F)),o.chart.stacked&&o.chart.stackType==="100%"&&(o=h.stacked100(o)),(v=o.plotOptions)!==null&&v!==void 0&&(S=v.bar)!==null&&S!==void 0&&S.isDumbbell&&(o=h.dumbbell(o)),((C=o)===null||C===void 0||(E=C.stroke)===null||E===void 0?void 0:E.curve)==="monotoneCubic"&&(o.stroke.curve="smooth"),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(o),o.xaxis=o.xaxis||window.Apex.xaxis||{},r||(o.xaxis.convertedCatToNumeric=!1),((M=(o=this.checkForCatToNumericXAxis(this.chartType,F,o)).chart.sparkline)!==null&&M!==void 0&&M.enabled||(P=window.Apex.chart)!==null&&P!==void 0&&(N=P.sparkline)!==null&&N!==void 0&&N.enabled)&&(F=h.sparkline(F)),f=_.extend(u,F)}var m=_.extend(f,window.Apex);return u=_.extend(m,o),u=this.handleUserInputErrors(u)}},{key:"checkForCatToNumericXAxis",value:function(n,r,o){var c,h,u=new _e(o),f=(n==="bar"||n==="boxPlot")&&((c=o.plotOptions)===null||c===void 0||(h=c.bar)===null||h===void 0?void 0:h.horizontal),g=n==="pie"||n==="polarArea"||n==="donut"||n==="radar"||n==="radialBar"||n==="heatmap",x=o.xaxis.type!=="datetime"&&o.xaxis.type!=="numeric",y=o.xaxis.tickPlacement?o.xaxis.tickPlacement:r.xaxis&&r.xaxis.tickPlacement;return f||g||!x||y==="between"||(o=u.convertCatToNumeric(o)),o}},{key:"extendYAxis",value:function(n,r){var o=new ke;(n.yaxis===void 0||!n.yaxis||Array.isArray(n.yaxis)&&n.yaxis.length===0)&&(n.yaxis={}),n.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(n.yaxis=_.extend(n.yaxis,window.Apex.yaxis)),n.yaxis.constructor!==Array?n.yaxis=[_.extend(o.yAxis,n.yaxis)]:n.yaxis=_.extendArray(n.yaxis,o.yAxis);var c=!1;n.yaxis.forEach(function(u){u.logarithmic&&(c=!0)});var h=n.series;return r&&!h&&(h=r.config.series),c&&h.length!==n.yaxis.length&&h.length&&(n.yaxis=h.map(function(u,f){if(u.name||(h[f].name="series-".concat(f+1)),n.yaxis[f])return n.yaxis[f].seriesName=h[f].name,n.yaxis[f];var g=_.extend(o.yAxis,n.yaxis[0]);return g.show=!1,g})),c&&h.length>1&&h.length!==n.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),n}},{key:"extendAnnotations",value:function(n){return n.annotations===void 0&&(n.annotations={},n.annotations.yaxis=[],n.annotations.xaxis=[],n.annotations.points=[]),n=this.extendYAxisAnnotations(n),n=this.extendXAxisAnnotations(n),n=this.extendPointAnnotations(n)}},{key:"extendYAxisAnnotations",value:function(n){var r=new ke;return n.annotations.yaxis=_.extendArray(n.annotations.yaxis!==void 0?n.annotations.yaxis:[],r.yAxisAnnotation),n}},{key:"extendXAxisAnnotations",value:function(n){var r=new ke;return n.annotations.xaxis=_.extendArray(n.annotations.xaxis!==void 0?n.annotations.xaxis:[],r.xAxisAnnotation),n}},{key:"extendPointAnnotations",value:function(n){var r=new ke;return n.annotations.points=_.extendArray(n.annotations.points!==void 0?n.annotations.points:[],r.pointAnnotation),n}},{key:"checkForDarkTheme",value:function(n){n.theme&&n.theme.mode==="dark"&&(n.tooltip||(n.tooltip={}),n.tooltip.theme!=="light"&&(n.tooltip.theme="dark"),n.chart.foreColor||(n.chart.foreColor="#f6f7f8"),n.chart.background||(n.chart.background="#424242"),n.theme.palette||(n.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(n){var r=n;if(r.tooltip.shared&&r.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(r.chart.type==="bar"&&r.plotOptions.bar.horizontal){if(r.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");r.yaxis[0].reversed&&(r.yaxis[0].opposite=!0),r.xaxis.tooltip.enabled=!1,r.yaxis[0].tooltip.enabled=!1,r.chart.zoom.enabled=!1}return r.chart.type!=="bar"&&r.chart.type!=="rangeBar"||r.tooltip.shared&&r.xaxis.crosshairs.width==="barWidth"&&r.series.length>1&&(r.xaxis.crosshairs.width="tickWidth"),r.chart.type!=="candlestick"&&r.chart.type!=="boxPlot"||r.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(r.chart.type," chart is not supported.")),r.yaxis[0].reversed=!1),r}}]),O}(),ti=function(){function O(){l(this,O)}return p(O,[{key:"initGlobalVars",value:function(n){n.series=[],n.seriesCandleO=[],n.seriesCandleH=[],n.seriesCandleM=[],n.seriesCandleL=[],n.seriesCandleC=[],n.seriesRangeStart=[],n.seriesRangeEnd=[],n.seriesRange=[],n.seriesPercent=[],n.seriesGoals=[],n.seriesX=[],n.seriesZ=[],n.seriesNames=[],n.seriesTotals=[],n.seriesLog=[],n.seriesColors=[],n.stackedSeriesTotals=[],n.seriesXvalues=[],n.seriesYvalues=[],n.labels=[],n.hasXaxisGroups=!1,n.groups=[],n.hasSeriesGroups=!1,n.seriesGroups=[],n.categoryLabels=[],n.timescaleLabels=[],n.noLabelsProvided=!1,n.resizeTimer=null,n.selectionResizeTimer=null,n.delayedElements=[],n.pointsArray=[],n.dataLabelsRects=[],n.isXNumeric=!1,n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1,n.isDataXYZ=!1,n.isMultiLineX=!1,n.isMultipleYAxis=!1,n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE,n.minYArr=[],n.maxYArr=[],n.maxX=-Number.MAX_VALUE,n.minX=Number.MAX_VALUE,n.initialMaxX=-Number.MAX_VALUE,n.initialMinX=Number.MAX_VALUE,n.maxDate=0,n.minDate=Number.MAX_VALUE,n.minZ=Number.MAX_VALUE,n.maxZ=-Number.MAX_VALUE,n.minXDiff=Number.MAX_VALUE,n.yAxisScale=[],n.xAxisScale=null,n.xAxisTicksPositions=[],n.yLabelsCoords=[],n.yTitleCoords=[],n.barPadForNumericAxis=0,n.padHorizontal=0,n.xRange=0,n.yRange=[],n.zRange=0,n.dataPoints=0,n.xTickAmount=0}},{key:"globalVars",value:function(n){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:n.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:n.chart.toolbar.autoSelected==="zoom"&&n.chart.toolbar.tools.zoom&&n.chart.zoom.enabled,panEnabled:n.chart.toolbar.autoSelected==="pan"&&n.chart.toolbar.tools.pan,selectionEnabled:n.chart.toolbar.autoSelected==="selection"&&n.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(n){var r=this.globalVars(n);return this.initGlobalVars(r),r.initialConfig=_.extend({},n),r.initialSeries=_.clone(n.series),r.lastXAxis=_.clone(r.initialConfig.xaxis),r.lastYAxis=_.clone(r.initialConfig.yaxis),r}}]),O}(),an=function(){function O(n){l(this,O),this.opts=n}return p(O,[{key:"init",value:function(){var n=new dt(this.opts).init({responsiveOverride:!1});return{config:n,globals:new ti().init(n)}}}]),O}(),je=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.opts=null,this.seriesIndex=0}return p(O,[{key:"clippedImgArea",value:function(n){var r=this.w,o=r.config,c=parseInt(r.globals.gridWidth,10),h=parseInt(r.globals.gridHeight,10),u=c>h?c:h,f=n.image,g=0,x=0;n.width===void 0&&n.height===void 0?o.fill.image.width!==void 0&&o.fill.image.height!==void 0?(g=o.fill.image.width+1,x=o.fill.image.height):(g=u+1,x=u):(g=n.width,x=n.height);var y=document.createElementNS(r.globals.SVGNS,"pattern");j.setAttrs(y,{id:n.patternID,patternUnits:n.patternUnits?n.patternUnits:"userSpaceOnUse",width:g+"px",height:x+"px"});var v=document.createElementNS(r.globals.SVGNS,"image");y.appendChild(v),v.setAttributeNS(window.SVG.xlink,"href",f),j.setAttrs(v,{x:0,y:0,preserveAspectRatio:"none",width:g+"px",height:x+"px"}),v.style.opacity=n.opacity,r.globals.dom.elDefs.node.appendChild(y)}},{key:"getSeriesIndex",value:function(n){var r=this.w,o=r.config.chart.type;return(o==="bar"||o==="rangeBar")&&r.config.plotOptions.bar.distributed||o==="heatmap"||o==="treemap"?this.seriesIndex=n.seriesNumber:this.seriesIndex=n.seriesNumber%r.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(n){var r=this.w;this.opts=n;var o,c,h,u=this.w.config;this.seriesIndex=this.getSeriesIndex(n);var f=this.getFillColors()[this.seriesIndex];r.globals.seriesColors[this.seriesIndex]!==void 0&&(f=r.globals.seriesColors[this.seriesIndex]),typeof f=="function"&&(f=f({seriesIndex:this.seriesIndex,dataPointIndex:n.dataPointIndex,value:n.value,w:r}));var g=n.fillType?n.fillType:this.getFillType(this.seriesIndex),x=Array.isArray(u.fill.opacity)?u.fill.opacity[this.seriesIndex]:u.fill.opacity;n.color&&(f=n.color),f||(f="#fff",console.warn("undefined color - ApexCharts"));var y=f;if(f.indexOf("rgb")===-1?f.length<9&&(y=_.hexToRgba(f,x)):f.indexOf("rgba")>-1&&(x=_.getOpacityFromRGBA(f)),n.opacity&&(x=n.opacity),g==="pattern"&&(c=this.handlePatternFill({fillConfig:n.fillConfig,patternFill:c,fillColor:f,fillOpacity:x,defaultColor:y})),g==="gradient"&&(h=this.handleGradientFill({fillConfig:n.fillConfig,fillColor:f,fillOpacity:x,i:this.seriesIndex})),g==="image"){var v=u.fill.image.src,S=n.patternID?n.patternID:"";this.clippedImgArea({opacity:x,image:Array.isArray(v)?n.seriesNumber<v.length?v[n.seriesNumber]:v[0]:v,width:n.width?n.width:void 0,height:n.height?n.height:void 0,patternUnits:n.patternUnits,patternID:"pattern".concat(r.globals.cuid).concat(n.seriesNumber+1).concat(S)}),o="url(#pattern".concat(r.globals.cuid).concat(n.seriesNumber+1).concat(S,")")}else o=g==="gradient"?h:g==="pattern"?c:y;return n.solid&&(o=y),o}},{key:"getFillType",value:function(n){var r=this.w;return Array.isArray(r.config.fill.type)?r.config.fill.type[n]:r.config.fill.type}},{key:"getFillColors",value:function(){var n=this.w,r=n.config,o=this.opts,c=[];return n.globals.comboCharts?n.config.series[this.seriesIndex].type==="line"?Array.isArray(n.globals.stroke.colors)?c=n.globals.stroke.colors:c.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?c=n.globals.fill.colors:c.push(n.globals.fill.colors):r.chart.type==="line"?Array.isArray(n.globals.stroke.colors)?c=n.globals.stroke.colors:c.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?c=n.globals.fill.colors:c.push(n.globals.fill.colors),o.fillColors!==void 0&&(c=[],Array.isArray(o.fillColors)?c=o.fillColors.slice():c.push(o.fillColors)),c}},{key:"handlePatternFill",value:function(n){var r=n.fillConfig,o=n.patternFill,c=n.fillColor,h=n.fillOpacity,u=n.defaultColor,f=this.w.config.fill;r&&(f=r);var g=this.opts,x=new j(this.ctx),y=Array.isArray(f.pattern.strokeWidth)?f.pattern.strokeWidth[this.seriesIndex]:f.pattern.strokeWidth,v=c;return Array.isArray(f.pattern.style)?o=f.pattern.style[g.seriesNumber]!==void 0?x.drawPattern(f.pattern.style[g.seriesNumber],f.pattern.width,f.pattern.height,v,y,h):u:o=x.drawPattern(f.pattern.style,f.pattern.width,f.pattern.height,v,y,h),o}},{key:"handleGradientFill",value:function(n){var r=n.fillColor,o=n.fillOpacity,c=n.fillConfig,h=n.i,u=this.w.config.fill;c&&(u=s(s({},u),c));var f,g=this.opts,x=new j(this.ctx),y=new _,v=u.gradient.type,S=r,C=u.gradient.opacityFrom===void 0?o:Array.isArray(u.gradient.opacityFrom)?u.gradient.opacityFrom[h]:u.gradient.opacityFrom;S.indexOf("rgba")>-1&&(C=_.getOpacityFromRGBA(S));var E=u.gradient.opacityTo===void 0?o:Array.isArray(u.gradient.opacityTo)?u.gradient.opacityTo[h]:u.gradient.opacityTo;if(u.gradient.gradientToColors===void 0||u.gradient.gradientToColors.length===0)f=u.gradient.shade==="dark"?y.shadeColor(-1*parseFloat(u.gradient.shadeIntensity),r.indexOf("rgb")>-1?_.rgb2hex(r):r):y.shadeColor(parseFloat(u.gradient.shadeIntensity),r.indexOf("rgb")>-1?_.rgb2hex(r):r);else if(u.gradient.gradientToColors[g.seriesNumber]){var M=u.gradient.gradientToColors[g.seriesNumber];f=M,M.indexOf("rgba")>-1&&(E=_.getOpacityFromRGBA(M))}else f=r;if(u.gradient.gradientFrom&&(S=u.gradient.gradientFrom),u.gradient.gradientTo&&(f=u.gradient.gradientTo),u.gradient.inverseColors){var P=S;S=f,f=P}return S.indexOf("rgb")>-1&&(S=_.rgb2hex(S)),f.indexOf("rgb")>-1&&(f=_.rgb2hex(f)),x.drawGradient(v,S,f,C,E,g.size,u.gradient.stops,u.gradient.colorStops,h)}}]),O}(),Ot=function(){function O(n,r){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"setGlobalMarkerSize",value:function(){var n=this.w;if(n.globals.markers.size=Array.isArray(n.config.markers.size)?n.config.markers.size:[n.config.markers.size],n.globals.markers.size.length>0){if(n.globals.markers.size.length<n.globals.series.length+1)for(var r=0;r<=n.globals.series.length;r++)n.globals.markers.size[r]===void 0&&n.globals.markers.size.push(n.globals.markers.size[0])}else n.globals.markers.size=n.config.series.map(function(o){return n.config.markers.size})}},{key:"plotChartMarkers",value:function(n,r,o,c){var h,u=arguments.length>4&&arguments[4]!==void 0&&arguments[4],f=this.w,g=r,x=n,y=null,v=new j(this.ctx),S=f.config.markers.discrete&&f.config.markers.discrete.length;if((f.globals.markers.size[r]>0||u||S)&&(y=v.group({class:u||S?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(f.globals.cuid,")")),Array.isArray(x.x))for(var C=0;C<x.x.length;C++){var E=o;o===1&&C===0&&(E=0),o===1&&C===1&&(E=1);var M="apexcharts-marker";if(f.config.chart.type!=="line"&&f.config.chart.type!=="area"||f.globals.comboCharts||f.config.tooltip.intersect||(M+=" no-pointer-events"),(Array.isArray(f.config.markers.size)?f.globals.markers.size[r]>0:f.config.markers.size>0)||u||S){_.isNumber(x.y[C])?M+=" w".concat(_.randomId()):M="apexcharts-nullpoint";var P=this.getMarkerConfig({cssClass:M,seriesIndex:r,dataPointIndex:E});f.config.series[g].data[E]&&(f.config.series[g].data[E].fillColor&&(P.pointFillColor=f.config.series[g].data[E].fillColor),f.config.series[g].data[E].strokeColor&&(P.pointStrokeColor=f.config.series[g].data[E].strokeColor)),c&&(P.pSize=c),(x.x[C]<0||x.x[C]>f.globals.gridWidth||x.y[C]<0||x.y[C]>f.globals.gridHeight)&&(P.pSize=0),(h=v.drawMarker(x.x[C],x.y[C],P)).attr("rel",E),h.attr("j",E),h.attr("index",r),h.node.setAttribute("default-marker-size",P.pSize),new oe(this.ctx).setSelectionFilter(h,r,E),this.addEvents(h),y&&y.add(h)}else f.globals.pointsArray[r]===void 0&&(f.globals.pointsArray[r]=[]),f.globals.pointsArray[r].push([x.x[C],x.y[C]])}return y}},{key:"getMarkerConfig",value:function(n){var r=n.cssClass,o=n.seriesIndex,c=n.dataPointIndex,h=c===void 0?null:c,u=n.finishRadius,f=u===void 0?null:u,g=this.w,x=this.getMarkerStyle(o),y=g.globals.markers.size[o],v=g.config.markers;return h!==null&&v.discrete.length&&v.discrete.map(function(S){S.seriesIndex===o&&S.dataPointIndex===h&&(x.pointStrokeColor=S.strokeColor,x.pointFillColor=S.fillColor,y=S.size,x.pointShape=S.shape)}),{pSize:f===null?y:f,pRadius:v.radius,width:Array.isArray(v.width)?v.width[o]:v.width,height:Array.isArray(v.height)?v.height[o]:v.height,pointStrokeWidth:Array.isArray(v.strokeWidth)?v.strokeWidth[o]:v.strokeWidth,pointStrokeColor:x.pointStrokeColor,pointFillColor:x.pointFillColor,shape:x.pointShape||(Array.isArray(v.shape)?v.shape[o]:v.shape),class:r,pointStrokeOpacity:Array.isArray(v.strokeOpacity)?v.strokeOpacity[o]:v.strokeOpacity,pointStrokeDashArray:Array.isArray(v.strokeDashArray)?v.strokeDashArray[o]:v.strokeDashArray,pointFillOpacity:Array.isArray(v.fillOpacity)?v.fillOpacity[o]:v.fillOpacity,seriesIndex:o}}},{key:"addEvents",value:function(n){var r=this.w,o=new j(this.ctx);n.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this.ctx,n)),n.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this.ctx,n)),n.node.addEventListener("mousedown",o.pathMouseDown.bind(this.ctx,n)),n.node.addEventListener("click",r.config.markers.onClick),n.node.addEventListener("dblclick",r.config.markers.onDblClick),n.node.addEventListener("touchstart",o.pathMouseDown.bind(this.ctx,n),{passive:!0})}},{key:"getMarkerStyle",value:function(n){var r=this.w,o=r.globals.markers.colors,c=r.config.markers.strokeColor||r.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(c)?c[n]:c,pointFillColor:Array.isArray(o)?o[n]:o}}}]),O}(),Mc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return p(O,[{key:"draw",value:function(n,r,o){var c=this.w,h=new j(this.ctx),u=o.realIndex,f=o.pointsPos,g=o.zRatio,x=o.elParent,y=h.group({class:"apexcharts-series-markers apexcharts-series-".concat(c.config.chart.type)});if(y.attr("clip-path","url(#gridRectMarkerMask".concat(c.globals.cuid,")")),Array.isArray(f.x))for(var v=0;v<f.x.length;v++){var S=r+1,C=!0;r===0&&v===0&&(S=0),r===0&&v===1&&(S=1);var E=0,M=c.globals.markers.size[u];if(g!==1/0){var P=c.config.plotOptions.bubble;M=c.globals.seriesZ[u][S],P.zScaling&&(M/=g),P.minBubbleRadius&&M<P.minBubbleRadius&&(M=P.minBubbleRadius),P.maxBubbleRadius&&M>P.maxBubbleRadius&&(M=P.maxBubbleRadius)}c.config.chart.animations.enabled||(E=M);var N=f.x[v],F=f.y[v];if(E=E||0,F!==null&&c.globals.series[u][S]!==void 0||(C=!1),C){var m=this.drawPoint(N,F,E,M,u,S,r);y.add(m)}x.add(y)}}},{key:"drawPoint",value:function(n,r,o,c,h,u,f){var g=this.w,x=h,y=new ne(this.ctx),v=new oe(this.ctx),S=new je(this.ctx),C=new Ot(this.ctx),E=new j(this.ctx),M=C.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:x,dataPointIndex:u,finishRadius:g.config.chart.type==="bubble"||g.globals.comboCharts&&g.config.series[h]&&g.config.series[h].type==="bubble"?c:null});c=M.pSize;var P,N=S.fillPath({seriesNumber:h,dataPointIndex:u,color:M.pointFillColor,patternUnits:"objectBoundingBox",value:g.globals.series[h][f]});if(M.shape==="circle"?P=E.drawCircle(o):M.shape!=="square"&&M.shape!=="rect"||(P=E.drawRect(0,0,M.width-M.pointStrokeWidth/2,M.height-M.pointStrokeWidth/2,M.pRadius)),g.config.series[x].data[u]&&g.config.series[x].data[u].fillColor&&(N=g.config.series[x].data[u].fillColor),P.attr({x:n-M.width/2-M.pointStrokeWidth/2,y:r-M.height/2-M.pointStrokeWidth/2,cx:n,cy:r,fill:N,"fill-opacity":M.pointFillOpacity,stroke:M.pointStrokeColor,r:c,"stroke-width":M.pointStrokeWidth,"stroke-dasharray":M.pointStrokeDashArray,"stroke-opacity":M.pointStrokeOpacity}),g.config.chart.dropShadow.enabled){var F=g.config.chart.dropShadow;v.dropShadow(P,F,h)}if(!this.initialAnim||g.globals.dataChanged||g.globals.resized)g.globals.animationEnded=!0;else{var m=g.config.chart.animations.speed;y.animateMarker(P,0,M.shape==="circle"?c:{width:M.width,height:M.height},m,g.globals.easing,function(){window.setTimeout(function(){y.animationCompleted(P)},100)})}if(g.globals.dataChanged&&M.shape==="circle")if(this.dynamicAnim){var w,T,I,B,H=g.config.chart.animations.dynamicAnimation.speed;(B=g.globals.previousPaths[h]&&g.globals.previousPaths[h][f])!=null&&(w=B.x,T=B.y,I=B.r!==void 0?B.r:c);for(var Y=0;Y<g.globals.collapsedSeries.length;Y++)g.globals.collapsedSeries[Y].index===h&&(H=1,c=0);n===0&&r===0&&(c=0),y.animateCircle(P,{cx:w,cy:T,r:I},{cx:n,cy:r,r:c},H,g.globals.easing)}else P.attr({r:c});return P.attr({rel:u,j:u,index:h,"default-marker-size":c}),v.setSelectionFilter(P,h,u),C.addEvents(P),P.node.classList.add("apexcharts-marker"),P}},{key:"centerTextInBubble",value:function(n){var r=this.w;return{y:n+=parseInt(r.config.dataLabels.style.fontSize,10)/4}}}]),O}(),on=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"dataLabelsCorrection",value:function(n,r,o,c,h,u,f){var g=this.w,x=!1,y=new j(this.ctx).getTextRects(o,f),v=y.width,S=y.height;r<0&&(r=0),r>g.globals.gridHeight+S&&(r=g.globals.gridHeight+S/2),g.globals.dataLabelsRects[c]===void 0&&(g.globals.dataLabelsRects[c]=[]),g.globals.dataLabelsRects[c].push({x:n,y:r,width:v,height:S});var C=g.globals.dataLabelsRects[c].length-2,E=g.globals.lastDrawnDataLabelsIndexes[c]!==void 0?g.globals.lastDrawnDataLabelsIndexes[c][g.globals.lastDrawnDataLabelsIndexes[c].length-1]:0;if(g.globals.dataLabelsRects[c][C]!==void 0){var M=g.globals.dataLabelsRects[c][E];(n>M.x+M.width||r>M.y+M.height||r+S<M.y||n+v<M.x)&&(x=!0)}return(h===0||u)&&(x=!0),{x:n,y:r,textRects:y,drawnextLabel:x}}},{key:"drawDataLabel",value:function(n){var r=this,o=n.type,c=n.pos,h=n.i,u=n.j,f=n.isRangeStart,g=n.strokeWidth,x=g===void 0?2:g,y=this.w,v=new j(this.ctx),S=y.config.dataLabels,C=0,E=0,M=u,P=null;if(!S.enabled||!Array.isArray(c.x))return P;P=v.group({class:"apexcharts-data-labels"});for(var N=0;N<c.x.length;N++)if(C=c.x[N]+S.offsetX,E=c.y[N]+S.offsetY+x,!isNaN(C)){u===1&&N===0&&(M=0),u===1&&N===1&&(M=1);var F=y.globals.series[h][M];o==="rangeArea"&&(F=f?y.globals.seriesRangeStart[h][M]:y.globals.seriesRangeEnd[h][M]);var m="",w=function(T){return y.config.dataLabels.formatter(T,{ctx:r.ctx,seriesIndex:h,dataPointIndex:M,w:y})};y.config.chart.type==="bubble"?(m=w(F=y.globals.seriesZ[h][M]),E=c.y[N],E=new Mc(this.ctx).centerTextInBubble(E,h,M).y):F!==void 0&&(m=w(F)),this.plotDataLabelsText({x:C,y:E,text:m,i:h,j:M,parent:P,offsetCorrection:!0,dataLabelsConfig:y.config.dataLabels})}return P}},{key:"plotDataLabelsText",value:function(n){var r=this.w,o=new j(this.ctx),c=n.x,h=n.y,u=n.i,f=n.j,g=n.text,x=n.textAnchor,y=n.fontSize,v=n.parent,S=n.dataLabelsConfig,C=n.color,E=n.alwaysDrawDataLabel,M=n.offsetCorrection;if(!(Array.isArray(r.config.dataLabels.enabledOnSeries)&&r.config.dataLabels.enabledOnSeries.indexOf(u)<0)){var P={x:c,y:h,drawnextLabel:!0,textRects:null};M&&(P=this.dataLabelsCorrection(c,h,g,u,f,E,parseInt(S.style.fontSize,10))),r.globals.zoomed||(c=P.x,h=P.y),P.textRects&&(c<-10-P.textRects.width||c>r.globals.gridWidth+P.textRects.width+10)&&(g="");var N=r.globals.dataLabels.style.colors[u];((r.config.chart.type==="bar"||r.config.chart.type==="rangeBar")&&r.config.plotOptions.bar.distributed||r.config.dataLabels.distributed)&&(N=r.globals.dataLabels.style.colors[f]),typeof N=="function"&&(N=N({series:r.globals.series,seriesIndex:u,dataPointIndex:f,w:r})),C&&(N=C);var F=S.offsetX,m=S.offsetY;if(r.config.chart.type!=="bar"&&r.config.chart.type!=="rangeBar"||(F=0,m=0),P.drawnextLabel){var w=o.drawText({width:100,height:parseInt(S.style.fontSize,10),x:c+F,y:h+m,foreColor:N,textAnchor:x||S.textAnchor,text:g,fontSize:y||S.style.fontSize,fontFamily:S.style.fontFamily,fontWeight:S.style.fontWeight||"normal"});if(w.attr({class:"apexcharts-datalabel",cx:c,cy:h}),S.dropShadow.enabled){var T=S.dropShadow;new oe(this.ctx).dropShadow(w,T)}v.add(w),r.globals.lastDrawnDataLabelsIndexes[u]===void 0&&(r.globals.lastDrawnDataLabelsIndexes[u]=[]),r.globals.lastDrawnDataLabelsIndexes[u].push(f)}}}},{key:"addBackgroundToDataLabel",value:function(n,r){var o=this.w,c=o.config.dataLabels.background,h=c.padding,u=c.padding/2,f=r.width,g=r.height,x=new j(this.ctx).drawRect(r.x-h,r.y-u/2,f+2*h,g+u,c.borderRadius,o.config.chart.background==="transparent"?"#fff":o.config.chart.background,c.opacity,c.borderWidth,c.borderColor);return c.dropShadow.enabled&&new oe(this.ctx).dropShadow(x,c.dropShadow),x}},{key:"dataLabelsBackground",value:function(){var n=this.w;if(n.config.chart.type!=="bubble")for(var r=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),o=0;o<r.length;o++){var c=r[o],h=c.getBBox(),u=null;if(h.width&&h.height&&(u=this.addBackgroundToDataLabel(c,h)),u){c.parentNode.insertBefore(u.node,c);var f=c.getAttribute("fill");n.config.chart.animations.enabled&&!n.globals.resized&&!n.globals.dataChanged?u.animate().attr({fill:f}):u.attr({fill:f}),c.setAttribute("fill",n.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var n=this.w,r=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),o=n.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),c=0;c<r.length;c++)o&&o.insertBefore(r[c],o.nextSibling)}}]),O}(),gt=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.legendInactiveClass="legend-mouseover-inactive"}return p(O,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(n){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(_.escapeString(n),"']"))}},{key:"isSeriesHidden",value:function(n){var r=this.getSeriesByName(n),o=parseInt(r.getAttribute("data:realIndex"),10);return{isHidden:r.classList.contains("apexcharts-series-collapsed"),realIndex:o}}},{key:"addCollapsedClassToSeries",value:function(n,r){var o=this.w;function c(h){for(var u=0;u<h.length;u++)h[u].index===r&&n.node.classList.add("apexcharts-series-collapsed")}c(o.globals.collapsedSeries),c(o.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(n){var r=this.isSeriesHidden(n);return this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,r.isHidden),r.isHidden}},{key:"showSeries",value:function(n){var r=this.isSeriesHidden(n);r.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!0)}},{key:"hideSeries",value:function(n){var r=this.isSeriesHidden(n);r.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(r.realIndex,!1)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w,h=_.clone(c.globals.initialSeries);c.globals.previousPaths=[],o?(c.globals.collapsedSeries=[],c.globals.ancillaryCollapsedSeries=[],c.globals.collapsedSeriesIndices=[],c.globals.ancillaryCollapsedSeriesIndices=[]):h=this.emptyCollapsedSeries(h),c.config.series=h,n&&(r&&(c.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(n){for(var r=this.w,o=0;o<n.length;o++)r.globals.collapsedSeriesIndices.indexOf(o)>-1&&(n[o].data=[]);return n}},{key:"toggleSeriesOnHover",value:function(n,r){var o=this.w;r||(r=n.target);var c=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(n.type==="mousemove"){var h=parseInt(r.getAttribute("rel"),10)-1,u=null,f=null;o.globals.axisCharts||o.config.chart.type==="radialBar"?o.globals.axisCharts?(u=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(h,"']")),f=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(h,"']"))):u=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"']")):u=o.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(h+1,"'] path"));for(var g=0;g<c.length;g++)c[g].classList.add(this.legendInactiveClass);u!==null&&(o.globals.axisCharts||u.parentNode.classList.remove(this.legendInactiveClass),u.classList.remove(this.legendInactiveClass),f!==null&&f.classList.remove(this.legendInactiveClass))}else if(n.type==="mouseout")for(var x=0;x<c.length;x++)c[x].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(n,r){var o=this,c=this.w,h=c.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),u=function(g){for(var x=0;x<h.length;x++)h[x].classList[g](o.legendInactiveClass)};if(n.type==="mousemove"){var f=parseInt(r.getAttribute("rel"),10)-1;u("add"),function(g){for(var x=0;x<h.length;x++){var y=parseInt(h[x].getAttribute("val"),10);y>=g.from&&y<=g.to&&h[x].classList.remove(o.legendInactiveClass)}}(c.config.plotOptions.heatmap.colorScale.ranges[f])}else n.type==="mouseout"&&u("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=this.w,c=0;if(o.config.series.length>1){for(var h=o.config.series.map(function(f,g){return f.data&&f.data.length>0&&o.globals.collapsedSeriesIndices.indexOf(g)===-1&&(!o.globals.comboCharts||r.length===0||r.length&&r.indexOf(o.config.series[g].type)>-1)?g:-1}),u=n==="asc"?0:h.length-1;n==="asc"?u<h.length:u>=0;n==="asc"?u++:u--)if(h[u]!==-1){c=h[u];break}}return c}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(n,r){return n.type==="bar"||n.type==="column"?r:-1}).filter(function(n){return n!==-1}):this.w.config.series.map(function(n,r){return r})}},{key:"getPreviousPaths",value:function(){var n=this.w;function r(u,f,g){for(var x=u[f].childNodes,y={type:g,paths:[],realIndex:u[f].getAttribute("data:realIndex")},v=0;v<x.length;v++)if(x[v].hasAttribute("pathTo")){var S=x[v].getAttribute("pathTo");y.paths.push({d:S})}n.globals.previousPaths.push(y)}n.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(u){for(var f,g=(f=u,n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(f,"-series .apexcharts-series"))),x=0;x<g.length;x++)r(g,x,u)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var o=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series"));if(o.length>0)for(var c=function(u){for(var f=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(u,"'] rect")),g=[],x=function(v){var S=function(E){return f[v].getAttribute(E)},C={x:parseFloat(S("x")),y:parseFloat(S("y")),width:parseFloat(S("width")),height:parseFloat(S("height"))};g.push({rect:C,color:f[v].getAttribute("color")})},y=0;y<f.length;y++)x(y);n.globals.previousPaths.push(g)},h=0;h<o.length;h++)c(h);n.globals.axisCharts||(n.globals.previousPaths=n.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(n){var r=this.w,o=r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series"));if(o.length>0)for(var c=0;c<o.length;c++){for(var h=r.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series[data\\:realIndex='").concat(c,"'] circle")),u=[],f=0;f<h.length;f++)u.push({x:h[f].getAttribute("cx"),y:h[f].getAttribute("cy"),r:h[f].getAttribute("r")});r.globals.previousPaths.push(u)}}},{key:"clearPreviousPaths",value:function(){var n=this.w;n.globals.previousPaths=[],n.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var n=this.w,r=n.config.noData,o=new j(this.ctx),c=n.globals.svgWidth/2,h=n.globals.svgHeight/2,u="middle";if(n.globals.noData=!0,n.globals.animationEnded=!0,r.align==="left"?(c=10,u="start"):r.align==="right"&&(c=n.globals.svgWidth-10,u="end"),r.verticalAlign==="top"?h=50:r.verticalAlign==="bottom"&&(h=n.globals.svgHeight-50),c+=r.offsetX,h=h+parseInt(r.style.fontSize,10)+2+r.offsetY,r.text!==void 0&&r.text!==""){var f=o.drawText({x:c,y:h,text:r.text,textAnchor:u,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,foreColor:r.style.color,opacity:1,class:"apexcharts-text-nodata"});n.globals.dom.Paper.add(f)}}},{key:"setNullSeriesToZeroValues",value:function(n){for(var r=this.w,o=0;o<n.length;o++)if(n[o].length===0)for(var c=0;c<n[r.globals.maxValsInArrayIndex].length;c++)n[o].push(0);return n}},{key:"hasAllSeriesEqualX",value:function(){for(var n=!0,r=this.w,o=this.filteredSeriesX(),c=0;c<o.length-1;c++)if(o[c][0]!==o[c+1][0]){n=!1;break}return r.globals.allSeriesHasEqualX=n,n}},{key:"filteredSeriesX",value:function(){var n=this.w.globals.seriesX.map(function(r){return r.length>0?r:[]});return n}}]),O}(),Lc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new q(this.ctx)}return p(O,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var n=this.w.config.series.slice(),r=new gt(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].x!==void 0&&n[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var n=this.w.config.series.slice(),r=new gt(this.ctx);if(this.activeSeriesIndex=r.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==void 0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(n,r){for(var o=this.w.config,c=this.w.globals,h=o.chart.type==="boxPlot"||o.series[r].type==="boxPlot",u=0;u<n[r].data.length;u++)if(n[r].data[u][1]!==void 0&&(Array.isArray(n[r].data[u][1])&&n[r].data[u][1].length===4&&!h?this.twoDSeries.push(_.parseNumber(n[r].data[u][1][3])):n[r].data[u].length>=5?this.twoDSeries.push(_.parseNumber(n[r].data[u][4])):this.twoDSeries.push(_.parseNumber(n[r].data[u][1])),c.dataFormatXNumeric=!0),o.xaxis.type==="datetime"){var f=new Date(n[r].data[u][0]);f=new Date(f).getTime(),this.twoDSeriesX.push(f)}else this.twoDSeriesX.push(n[r].data[u][0]);for(var g=0;g<n[r].data.length;g++)n[r].data[g][2]!==void 0&&(this.threeDSeries.push(n[r].data[g][2]),c.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(n,r){var o=this.w.config,c=this.w.globals,h=new ye(this.ctx),u=r;c.collapsedSeriesIndices.indexOf(r)>-1&&(u=this.activeSeriesIndex);for(var f=0;f<n[r].data.length;f++)n[r].data[f].y!==void 0&&(Array.isArray(n[r].data[f].y)?this.twoDSeries.push(_.parseNumber(n[r].data[f].y[n[r].data[f].y.length-1])):this.twoDSeries.push(_.parseNumber(n[r].data[f].y))),n[r].data[f].goals!==void 0&&Array.isArray(n[r].data[f].goals)?(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(n[r].data[f].goals)):(this.seriesGoals[r]===void 0&&(this.seriesGoals[r]=[]),this.seriesGoals[r].push(null));for(var g=0;g<n[u].data.length;g++){var x=typeof n[u].data[g].x=="string",y=Array.isArray(n[u].data[g].x),v=!y&&!!h.isValidDate(n[u].data[g].x.toString());if(x||v)if(x||o.xaxis.convertedCatToNumeric){var S=c.isBarHorizontal&&c.isRangeData;o.xaxis.type!=="datetime"||S?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[u].data[g].x),isNaN(n[u].data[g].x)||this.w.config.xaxis.type==="category"||typeof n[u].data[g].x=="string"||(c.isXNumeric=!0)):this.twoDSeriesX.push(h.parseDate(n[u].data[g].x))}else o.xaxis.type==="datetime"?this.twoDSeriesX.push(h.parseDate(n[u].data[g].x.toString())):(c.dataFormatXNumeric=!0,c.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(n[u].data[g].x)));else y?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[u].data[g].x)):(c.isXNumeric=!0,c.dataFormatXNumeric=!0,this.twoDSeriesX.push(n[u].data[g].x))}if(n[r].data[0]&&n[r].data[0].z!==void 0){for(var C=0;C<n[r].data.length;C++)this.threeDSeries.push(n[r].data[C].z);c.isDataXYZ=!0}}},{key:"handleRangeData",value:function(n,r){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleRangeDataFormat("array",n,r):this.isFormatXY()&&(c=this.handleRangeDataFormat("xy",n,r)),o.seriesRangeStart.push(c.start),o.seriesRangeEnd.push(c.end),o.seriesRange.push(c.rangeUniques),o.seriesRange.forEach(function(h,u){h&&h.forEach(function(f,g){f.y.forEach(function(x,y){for(var v=0;v<f.y.length;v++)if(y!==v){var S=x.y1,C=x.y2,E=f.y[v].y1;S<=f.y[v].y2&&E<=C&&(f.overlaps.indexOf(x.rangeName)<0&&f.overlaps.push(x.rangeName),f.overlaps.indexOf(f.y[v].rangeName)<0&&f.overlaps.push(f.y[v].rangeName))}})})}),c}},{key:"handleCandleStickBoxData",value:function(n,r){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleCandleStickBoxDataFormat("array",n,r):this.isFormatXY()&&(c=this.handleCandleStickBoxDataFormat("xy",n,r)),o.seriesCandleO[r]=c.o,o.seriesCandleH[r]=c.h,o.seriesCandleM[r]=c.m,o.seriesCandleL[r]=c.l,o.seriesCandleC[r]=c.c,c}},{key:"handleRangeDataFormat",value:function(n,r,o){var c=[],h=[],u=r[o].data.filter(function(y,v,S){return v===S.findIndex(function(C){return C.x===y.x})}).map(function(y,v){return{x:y.x,overlaps:[],y:[]}});if(n==="array")for(var f=0;f<r[o].data.length;f++)Array.isArray(r[o].data[f])?(c.push(r[o].data[f][1][0]),h.push(r[o].data[f][1][1])):(c.push(r[o].data[f]),h.push(r[o].data[f]));else if(n==="xy")for(var g=function(y){var v=Array.isArray(r[o].data[y].y),S=_.randomId(),C=r[o].data[y].x,E={y1:v?r[o].data[y].y[0]:r[o].data[y].y,y2:v?r[o].data[y].y[1]:r[o].data[y].y,rangeName:S};r[o].data[y].rangeName=S;var M=u.findIndex(function(P){return P.x===C});u[M].y.push(E),c.push(E.y1),h.push(E.y2)},x=0;x<r[o].data.length;x++)g(x);return{start:c,end:h,rangeUniques:u}}},{key:"handleCandleStickBoxDataFormat",value:function(n,r,o){var c=this.w,h=c.config.chart.type==="boxPlot"||c.config.series[o].type==="boxPlot",u=[],f=[],g=[],x=[],y=[];if(n==="array")if(h&&r[o].data[0].length===6||!h&&r[o].data[0].length===5)for(var v=0;v<r[o].data.length;v++)u.push(r[o].data[v][1]),f.push(r[o].data[v][2]),h?(g.push(r[o].data[v][3]),x.push(r[o].data[v][4]),y.push(r[o].data[v][5])):(x.push(r[o].data[v][3]),y.push(r[o].data[v][4]));else for(var S=0;S<r[o].data.length;S++)Array.isArray(r[o].data[S][1])&&(u.push(r[o].data[S][1][0]),f.push(r[o].data[S][1][1]),h?(g.push(r[o].data[S][1][2]),x.push(r[o].data[S][1][3]),y.push(r[o].data[S][1][4])):(x.push(r[o].data[S][1][2]),y.push(r[o].data[S][1][3])));else if(n==="xy")for(var C=0;C<r[o].data.length;C++)Array.isArray(r[o].data[C].y)&&(u.push(r[o].data[C].y[0]),f.push(r[o].data[C].y[1]),h?(g.push(r[o].data[C].y[2]),x.push(r[o].data[C].y[3]),y.push(r[o].data[C].y[4])):(x.push(r[o].data[C].y[2]),y.push(r[o].data[C].y[3])));return{o:u,h:f,m:g,l:x,c:y}}},{key:"parseDataAxisCharts",value:function(n){var r,o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,h=this.w.config,u=this.w.globals,f=new ye(c),g=h.labels.length>0?h.labels.slice():h.xaxis.categories.slice();if(u.isRangeBar=h.chart.type==="rangeBar"&&u.isBarHorizontal,u.hasXaxisGroups=h.xaxis.type==="category"&&h.xaxis.group.groups.length>0,u.hasXaxisGroups&&(u.groups=h.xaxis.group.groups),u.hasSeriesGroups=(r=n[0])===null||r===void 0?void 0:r.group,u.hasSeriesGroups){var x=[],y=W(new Set(n.map(function(E){return E.group})));n.forEach(function(E,M){var P=y.indexOf(E.group);x[P]||(x[P]=[]),x[P].push(E.name)}),u.seriesGroups=x}for(var v=function(){for(var E=0;E<g.length;E++)if(typeof g[E]=="string"){if(!f.isValidDate(g[E]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");o.twoDSeriesX.push(f.parseDate(g[E]))}else o.twoDSeriesX.push(g[E])},S=0;S<n.length;S++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],n[S].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(h.chart.type!=="rangeBar"&&h.chart.type!=="rangeArea"&&n[S].type!=="rangeBar"&&n[S].type!=="rangeArea"||(u.isRangeData=!0,u.isComboCharts?n[S].type!=="rangeBar"&&n[S].type!=="rangeArea"||this.handleRangeData(n,S):h.chart.type!=="rangeBar"&&h.chart.type!=="rangeArea"||this.handleRangeData(n,S)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(n,S):this.isFormatXY()&&this.handleFormatXY(n,S),h.chart.type!=="candlestick"&&n[S].type!=="candlestick"&&h.chart.type!=="boxPlot"&&n[S].type!=="boxPlot"||this.handleCandleStickBoxData(n,S),u.series.push(this.twoDSeries),u.labels.push(this.twoDSeriesX),u.seriesX.push(this.twoDSeriesX),u.seriesGoals=this.seriesGoals,S!==this.activeSeriesIndex||this.fallbackToCategory||(u.isXNumeric=!0);else{h.xaxis.type==="datetime"?(u.isXNumeric=!0,v(),u.seriesX.push(this.twoDSeriesX)):h.xaxis.type==="numeric"&&(u.isXNumeric=!0,g.length>0&&(this.twoDSeriesX=g,u.seriesX.push(this.twoDSeriesX))),u.labels.push(this.twoDSeriesX);var C=n[S].data.map(function(E){return _.parseNumber(E)});u.series.push(C)}u.seriesZ.push(this.threeDSeries),n[S].name!==void 0?u.seriesNames.push(n[S].name):u.seriesNames.push("series-"+parseInt(S+1,10)),n[S].color!==void 0?u.seriesColors.push(n[S].color):u.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(n){var r=this.w.globals,o=this.w.config;r.series=n.slice(),r.seriesNames=o.labels.slice();for(var c=0;c<r.series.length;c++)r.seriesNames[c]===void 0&&r.seriesNames.push("series-"+(c+1));return this.w}},{key:"handleExternalLabelsData",value:function(n){var r=this.w.config,o=this.w.globals;r.xaxis.categories.length>0?o.labels=r.xaxis.categories:r.labels.length>0?o.labels=r.labels.slice():this.fallbackToCategory?(o.labels=o.labels[0],o.seriesRange.length&&(o.seriesRange.map(function(c){c.forEach(function(h){o.labels.indexOf(h.x)<0&&h.x&&o.labels.push(h.x)})}),o.labels=Array.from(new Set(o.labels.map(JSON.stringify)),JSON.parse)),r.xaxis.convertedCatToNumeric&&(new _e(r).convertCatToNumericXaxis(r,this.ctx,o.seriesX[0]),this._generateExternalLabels(n))):this._generateExternalLabels(n)}},{key:"_generateExternalLabels",value:function(n){var r=this.w.globals,o=this.w.config,c=[];if(r.axisCharts){if(r.series.length>0)if(this.isFormatXY())for(var h=o.series.map(function(v,S){return v.data.filter(function(C,E,M){return M.findIndex(function(P){return P.x===C.x})===E})}),u=h.reduce(function(v,S,C,E){return E[v].length>S.length?v:C},0),f=0;f<h[u].length;f++)c.push(f+1);else for(var g=0;g<r.series[r.maxValsInArrayIndex].length;g++)c.push(g+1);r.seriesX=[];for(var x=0;x<n.length;x++)r.seriesX.push(c);this.w.globals.isBarHorizontal||(r.isXNumeric=!0)}if(c.length===0){c=r.axisCharts?[]:r.series.map(function(v,S){return S+1});for(var y=0;y<n.length;y++)r.seriesX.push(c)}r.labels=c,o.xaxis.convertedCatToNumeric&&(r.categoryLabels=c.map(function(v){return o.xaxis.labels.formatter(v)})),r.noLabelsProvided=!0}},{key:"parseData",value:function(n){var r=this.w,o=r.config,c=r.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),c.axisCharts?(this.parseDataAxisCharts(n),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(n),o.chart.stacked){var h=new gt(this.ctx);c.series=h.setNullSeriesToZeroValues(c.series)}this.coreUtils.getSeriesTotals(),c.axisCharts&&(c.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),c.dataFormatXNumeric||c.isXNumeric&&(o.xaxis.type!=="numeric"||o.labels.length!==0||o.xaxis.categories.length!==0)||this.handleExternalLabelsData(n);for(var u=this.coreUtils.getCategoryLabels(c.labels),f=0;f<u.length;f++)if(Array.isArray(u[f])){c.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var n=this,r=this.w;r.globals.ignoreYAxisIndexes=r.globals.collapsedSeries.map(function(o,c){if(n.w.globals.isMultipleYAxis&&!r.config.chart.stacked)return o.index})}}]),O}(),Li=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"getLabel",value:function(n,r,o,c){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",f=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],g=this.w,x=n[c]===void 0?"":n[c],y=x,v=g.globals.xLabelFormatter,S=g.config.xaxis.labels.formatter,C=!1,E=new ft(this.ctx),M=x;f&&(y=E.xLabelFormat(v,x,M,{i:c,dateFormatter:new ye(this.ctx).formatDate,w:g}),S!==void 0&&(y=S(x,n[c],{i:c,dateFormatter:new ye(this.ctx).formatDate,w:g})));var P,N;r.length>0?(P=r[c].unit,N=null,r.forEach(function(T){T.unit==="month"?N="year":T.unit==="day"?N="month":T.unit==="hour"?N="day":T.unit==="minute"&&(N="hour")}),C=N===P,o=r[c].position,y=r[c].value):g.config.xaxis.type==="datetime"&&S===void 0&&(y=""),y===void 0&&(y=""),y=Array.isArray(y)?y:y.toString();var F=new j(this.ctx),m={};m=g.globals.rotateXLabels&&f?F.getTextRects(y,parseInt(u,10),null,"rotate(".concat(g.config.xaxis.labels.rotate," 0 0)"),!1):F.getTextRects(y,parseInt(u,10));var w=!g.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(y)&&(y.indexOf("NaN")===0||y.toLowerCase().indexOf("invalid")===0||y.toLowerCase().indexOf("infinity")>=0||h.indexOf(y)>=0&&w)&&(y=""),{x:o,text:y,textRect:m,isBold:C}}},{key:"checkLabelBasedOnTickamount",value:function(n,r,o){var c=this.w,h=c.config.xaxis.tickAmount;return h==="dataPoints"&&(h=Math.round(c.globals.gridWidth/120)),h>o||n%Math.round(o/(h+1))==0||(r.text=""),r}},{key:"checkForOverflowingLabels",value:function(n,r,o,c,h){var u=this.w;if(n===0&&u.globals.skipFirstTimelinelabel&&(r.text=""),n===o-1&&u.globals.skipLastTimelinelabel&&(r.text=""),u.config.xaxis.labels.hideOverlappingLabels&&c.length>0){var f=h[h.length-1];r.x<f.textRect.width/(u.globals.rotateXLabels?Math.abs(u.config.xaxis.labels.rotate)/12:1.01)+f.x&&(r.text="")}return r}},{key:"checkForReversedLabels",value:function(n,r){var o=this.w;return o.config.yaxis[n]&&o.config.yaxis[n].reversed&&r.reverse(),r}},{key:"isYAxisHidden",value:function(n){var r=this.w,o=new q(this.ctx);return!r.config.yaxis[n].show||!r.config.yaxis[n].showForNullSeries&&o.isSeriesNull(n)&&r.globals.collapsedSeriesIndices.indexOf(n)===-1}},{key:"getYAxisForeColor",value:function(n,r){var o=this.w;return Array.isArray(n)&&o.globals.yAxisScale[r]&&this.ctx.theme.pushExtraColors(n,o.globals.yAxisScale[r].result.length,!1),n}},{key:"drawYAxisTicks",value:function(n,r,o,c,h,u,f){var g=this.w,x=new j(this.ctx),y=g.globals.translateY;if(c.show&&r>0){g.config.yaxis[h].opposite===!0&&(n+=c.width);for(var v=r;v>=0;v--){var S=y+r/10+g.config.yaxis[h].labels.offsetY-1;g.globals.isBarHorizontal&&(S=u*v),g.config.chart.type==="heatmap"&&(S+=u/2);var C=x.drawLine(n+o.offsetX-c.width+c.offsetX,S+c.offsetY,n+o.offsetX+c.offsetX,S+c.offsetY,c.color);f.add(C),y+=u}}}}]),O}(),Os=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"scaleSvgNode",value:function(n,r){var o=parseFloat(n.getAttributeNS(null,"width")),c=parseFloat(n.getAttributeNS(null,"height"));n.setAttributeNS(null,"width",o*r),n.setAttributeNS(null,"height",c*r),n.setAttributeNS(null,"viewBox","0 0 "+o+" "+c)}},{key:"fixSvgStringForIe11",value:function(n){if(!_.isIE11())return n.replace(/&nbsp;/g,"&#160;");var r=0,o=n.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(c){return++r===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':c});return o=(o=o.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(n){n==null&&(n=1);var r=this.w.globals.dom.Paper.svg();if(n!==1){var o=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(o,n),r=new XMLSerializer().serializeToString(o)}return this.fixSvgStringForIe11(r)}},{key:"cleanup",value:function(){var n=this.w,r=n.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),c=n.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(c,function(h){h.setAttribute("width",0)}),r&&r[0]&&(r[0].setAttribute("x",-500),r[0].setAttribute("x1",-500),r[0].setAttribute("x2",-500)),o&&o[0]&&(o[0].setAttribute("y",-100),o[0].setAttribute("y1",-100),o[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var n=this.getSvgString(),r=new Blob([n],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(r)}},{key:"dataURI",value:function(n){var r=this;return new Promise(function(o){var c=r.w,h=n?n.scale||n.width/c.globals.svgWidth:1;r.cleanup();var u=document.createElement("canvas");u.width=c.globals.svgWidth*h,u.height=parseInt(c.globals.dom.elWrap.style.height,10)*h;var f=c.config.chart.background==="transparent"?"#fff":c.config.chart.background,g=u.getContext("2d");g.fillStyle=f,g.fillRect(0,0,u.width*h,u.height*h);var x=r.getSvgString(h);if(window.canvg&&_.isIE11()){var y=window.canvg.Canvg.fromString(g,x,{ignoreClear:!0,ignoreDimensions:!0});y.start();var v=u.msToBlob();y.stop(),o({blob:v})}else{var S="data:image/svg+xml,"+encodeURIComponent(x),C=new Image;C.crossOrigin="anonymous",C.onload=function(){if(g.drawImage(C,0,0),u.msToBlob){var E=u.msToBlob();o({blob:E})}else{var M=u.toDataURL("image/png");o({imgURI:M})}},C.src=S}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var n=this;this.dataURI().then(function(r){var o=r.imgURI,c=r.blob;c?navigator.msSaveOrOpenBlob(c,n.w.globals.chartID+".png"):n.triggerDownload(o,n.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(n){var r=this,o=n.series,c=n.fileName,h=n.columnDelimiter,u=h===void 0?",":h,f=n.lineDelimiter,g=f===void 0?`
`:f,x=this.w;o||(o=x.config.series);var y=[],v=[],S="",C=x.globals.series.map(function(m,w){return x.globals.collapsedSeriesIndices.indexOf(w)===-1?m:[]}),E=Math.max.apply(Math,W(o.map(function(m){return m.data?m.data.length:0}))),M=new Lc(this.ctx),P=new Li(this.ctx),N=function(m){var w="";if(x.globals.axisCharts){if(x.config.xaxis.type==="category"||x.config.xaxis.convertedCatToNumeric)if(x.globals.isBarHorizontal){var T=x.globals.yLabelFormatters[0],I=new gt(r.ctx).getActiveConfigSeriesIndex();w=T(x.globals.labels[m],{seriesIndex:I,dataPointIndex:m,w:x})}else w=P.getLabel(x.globals.labels,x.globals.timescaleLabels,0,m).text;x.config.xaxis.type==="datetime"&&(x.config.xaxis.categories.length?w=x.config.xaxis.categories[m]:x.config.labels.length&&(w=x.config.labels[m]))}else w=x.config.labels[m];return Array.isArray(w)&&(w=w.join(" ")),_.isNumber(w)?w:w.split(u).join("")},F=function(m,w){if(y.length&&w===0&&v.push(y.join(u)),m.data){m.data=m.data.length&&m.data||W(Array(E)).map(function(){return""});for(var T=0;T<m.data.length;T++){y=[];var I=N(T);if(I||(M.isFormatXY()?I=o[w].data[T].x:M.isFormat2DArray()&&(I=o[w].data[T]?o[w].data[T][0]:"")),w===0){y.push((Y=I,x.config.xaxis.type==="datetime"&&String(Y).length>=10?x.config.chart.toolbar.export.csv.dateFormatter(I):_.isNumber(I)?I:I.split(u).join("")));for(var B=0;B<x.globals.series.length;B++){var H;M.isFormatXY()?y.push((H=o[B].data[T])===null||H===void 0?void 0:H.y):y.push(C[B][T])}}(x.config.chart.type==="candlestick"||m.type&&m.type==="candlestick")&&(y.pop(),y.push(x.globals.seriesCandleO[w][T]),y.push(x.globals.seriesCandleH[w][T]),y.push(x.globals.seriesCandleL[w][T]),y.push(x.globals.seriesCandleC[w][T])),(x.config.chart.type==="boxPlot"||m.type&&m.type==="boxPlot")&&(y.pop(),y.push(x.globals.seriesCandleO[w][T]),y.push(x.globals.seriesCandleH[w][T]),y.push(x.globals.seriesCandleM[w][T]),y.push(x.globals.seriesCandleL[w][T]),y.push(x.globals.seriesCandleC[w][T])),x.config.chart.type==="rangeBar"&&(y.pop(),y.push(x.globals.seriesRangeStart[w][T]),y.push(x.globals.seriesRangeEnd[w][T])),y.length&&v.push(y.join(u))}}var Y};y.push(x.config.chart.toolbar.export.csv.headerCategory),x.config.chart.type==="boxPlot"?(y.push("minimum"),y.push("q1"),y.push("median"),y.push("q3"),y.push("maximum")):x.config.chart.type==="candlestick"?(y.push("open"),y.push("high"),y.push("low"),y.push("close")):x.config.chart.type==="rangeBar"?(y.push("minimum"),y.push("maximum")):o.map(function(m,w){var T=(m.name?m.name:"series-".concat(w))+"";x.globals.axisCharts&&y.push(T.split(u).join("")?T.split(u).join(""):"series-".concat(w))}),x.globals.axisCharts||(y.push(x.config.chart.toolbar.export.csv.headerValue),v.push(y.join(u))),o.map(function(m,w){x.globals.axisCharts?F(m,w):((y=[]).push(x.globals.labels[w].split(u).join("")),y.push(C[w]),v.push(y.join(u)))}),S+=v.join(g),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+S),c||x.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(n,r,o){var c=document.createElement("a");c.href=n,c.download=(r||this.w.globals.chartID)+o,document.body.appendChild(c),c.click(),document.body.removeChild(c)}}]),O}(),Wn=function(){function O(n,r){l(this,O),this.ctx=n,this.elgrid=r,this.w=n.w;var o=this.w;this.axesUtils=new Li(n),this.xaxisLabels=o.globals.labels.slice(),o.globals.timescaleLabels.length>0&&!o.globals.isBarHorizontal&&(this.xaxisLabels=o.globals.timescaleLabels.slice()),o.config.xaxis.overwriteCategories&&(this.xaxisLabels=o.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],o.config.xaxis.position==="top"?this.offY=0:this.offY=o.globals.gridHeight+1,this.offY=this.offY+o.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.xaxisBorderWidth=o.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=o.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=o.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=o.config.xaxis.axisBorder.height,this.yaxis=o.config.yaxis[0]}return p(O,[{key:"drawXaxis",value:function(){var n=this.w,r=new j(this.ctx),o=r.group({class:"apexcharts-xaxis",transform:"translate(".concat(n.config.xaxis.offsetX,", ").concat(n.config.xaxis.offsetY,")")}),c=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(n.globals.translateXAxisX,", ").concat(n.globals.translateXAxisY,")")});o.add(c);for(var h=[],u=0;u<this.xaxisLabels.length;u++)h.push(this.xaxisLabels[u]);if(this.drawXAxisLabelAndGroup(!0,r,c,h,n.globals.isXNumeric,function(E,M){return M}),n.globals.hasXaxisGroups){var f=n.globals.groups;h=[];for(var g=0;g<f.length;g++)h.push(f[g].title);var x={};n.config.xaxis.group.style&&(x.xaxisFontSize=n.config.xaxis.group.style.fontSize,x.xaxisFontFamily=n.config.xaxis.group.style.fontFamily,x.xaxisForeColors=n.config.xaxis.group.style.colors,x.fontWeight=n.config.xaxis.group.style.fontWeight,x.cssClass=n.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,r,c,h,!1,function(E,M){return f[E].cols*M},x)}if(n.config.xaxis.title.text!==void 0){var y=r.group({class:"apexcharts-xaxis-title"}),v=r.drawText({x:n.globals.gridWidth/2+n.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(n.config.xaxis.position==="bottom"?n.globals.xAxisLabelsHeight:-n.globals.xAxisLabelsHeight-10)+n.config.xaxis.title.offsetY,text:n.config.xaxis.title.text,textAnchor:"middle",fontSize:n.config.xaxis.title.style.fontSize,fontFamily:n.config.xaxis.title.style.fontFamily,fontWeight:n.config.xaxis.title.style.fontWeight,foreColor:n.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+n.config.xaxis.title.style.cssClass});y.add(v),o.add(y)}if(n.config.xaxis.axisBorder.show){var S=n.globals.barPadForNumericAxis,C=r.drawLine(n.globals.padHorizontal+n.config.xaxis.axisBorder.offsetX-S,this.offY,this.xaxisBorderWidth+S,this.offY,n.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(C):o.add(C)}return o}},{key:"drawXAxisLabelAndGroup",value:function(n,r,o,c,h,u){var f,g=this,x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},y=[],v=[],S=this.w,C=x.xaxisFontSize||this.xaxisFontSize,E=x.xaxisFontFamily||this.xaxisFontFamily,M=x.xaxisForeColors||this.xaxisForeColors,P=x.fontWeight||S.config.xaxis.labels.style.fontWeight,N=x.cssClass||S.config.xaxis.labels.style.cssClass,F=S.globals.padHorizontal,m=c.length,w=S.config.xaxis.type==="category"?S.globals.dataPoints:m;if(w===0&&m>w&&(w=m),h){var T=w>1?w-1:w;f=S.globals.gridWidth/Math.min(T,m-1),F=F+u(0,f)/2+S.config.xaxis.labels.offsetX}else f=S.globals.gridWidth/w,F=F+u(0,f)+S.config.xaxis.labels.offsetX;for(var I=function(H){var Y=F-u(H,f)/2+S.config.xaxis.labels.offsetX;H===0&&m===1&&f/2===F&&w===1&&(Y=S.globals.gridWidth/2);var V=g.axesUtils.getLabel(c,S.globals.timescaleLabels,Y,H,y,C,n),U=28;if(S.globals.rotateXLabels&&n&&(U=22),S.config.xaxis.title.text&&S.config.xaxis.position==="top"&&(U+=parseFloat(S.config.xaxis.title.style.fontSize)+2),n||(U=U+parseFloat(C)+(S.globals.xAxisLabelsHeight-S.globals.xAxisGroupLabelsHeight)+(S.globals.rotateXLabels?10:0)),V=S.config.xaxis.tickAmount!==void 0&&S.config.xaxis.tickAmount!=="dataPoints"&&S.config.xaxis.type!=="datetime"?g.axesUtils.checkLabelBasedOnTickamount(H,V,m):g.axesUtils.checkForOverflowingLabels(H,V,m,y,v),S.config.xaxis.labels.show){var K=r.drawText({x:V.x,y:g.offY+S.config.xaxis.labels.offsetY+U-(S.config.xaxis.position==="top"?S.globals.xAxisHeight+S.config.xaxis.axisTicks.height-2:0),text:V.text,textAnchor:"middle",fontWeight:V.isBold?600:P,fontSize:C,fontFamily:E,foreColor:Array.isArray(M)?n&&S.config.xaxis.convertedCatToNumeric?M[S.globals.minX+H-1]:M[H]:M,isPlainText:!1,cssClass:(n?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+N});if(o.add(K),K.on("click",function(te){if(typeof S.config.chart.events.xAxisLabelClick=="function"){var ie=Object.assign({},S,{labelIndex:H});S.config.chart.events.xAxisLabelClick(te,g.ctx,ie)}}),n){var $=document.createElementNS(S.globals.SVGNS,"title");$.textContent=Array.isArray(V.text)?V.text.join(" "):V.text,K.node.appendChild($),V.text!==""&&(y.push(V.text),v.push(V))}}H<m-1&&(F+=u(H+1,f))},B=0;B<=m-1;B++)I(B)}},{key:"drawXaxisInversed",value:function(n){var r,o,c=this,h=this.w,u=new j(this.ctx),f=h.config.yaxis[0].opposite?h.globals.translateYAxisX[n]:0,g=u.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:n}),x=u.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+f+", 0)"});g.add(x);var y=[];if(h.config.yaxis[n].show)for(var v=0;v<this.xaxisLabels.length;v++)y.push(this.xaxisLabels[v]);r=h.globals.gridHeight/y.length,o=-r/2.2;var S=h.globals.yLabelFormatters[0],C=h.config.yaxis[0].labels;if(C.show)for(var E=function(T){var I=y[T]===void 0?"":y[T];I=S(I,{seriesIndex:n,dataPointIndex:T,w:h});var B=c.axesUtils.getYAxisForeColor(C.style.colors,n),H=0;Array.isArray(I)&&(H=I.length/2*parseInt(C.style.fontSize,10));var Y=C.offsetX-15,V="end";c.yaxis.opposite&&(V="start"),h.config.yaxis[0].labels.align==="left"?(Y=C.offsetX,V="start"):h.config.yaxis[0].labels.align==="center"?(Y=C.offsetX,V="middle"):h.config.yaxis[0].labels.align==="right"&&(V="end");var U=u.drawText({x:Y,y:o+r+C.offsetY-H,text:I,textAnchor:V,foreColor:Array.isArray(B)?B[T]:B,fontSize:C.style.fontSize,fontFamily:C.style.fontFamily,fontWeight:C.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+C.style.cssClass,maxWidth:C.maxWidth});x.add(U),U.on("click",function(te){if(typeof h.config.chart.events.xAxisLabelClick=="function"){var ie=Object.assign({},h,{labelIndex:T});h.config.chart.events.xAxisLabelClick(te,c.ctx,ie)}});var K=document.createElementNS(h.globals.SVGNS,"title");if(K.textContent=Array.isArray(I)?I.join(" "):I,U.node.appendChild(K),h.config.yaxis[n].labels.rotate!==0){var $=u.rotateAroundCenter(U.node);U.node.setAttribute("transform","rotate(".concat(h.config.yaxis[n].labels.rotate," 0 ").concat($.y,")"))}o+=r},M=0;M<=y.length-1;M++)E(M);if(h.config.yaxis[0].title.text!==void 0){var P=u.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+f+", 0)"}),N=u.drawText({x:h.config.yaxis[0].title.offsetX,y:h.globals.gridHeight/2+h.config.yaxis[0].title.offsetY,text:h.config.yaxis[0].title.text,textAnchor:"middle",foreColor:h.config.yaxis[0].title.style.color,fontSize:h.config.yaxis[0].title.style.fontSize,fontWeight:h.config.yaxis[0].title.style.fontWeight,fontFamily:h.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+h.config.yaxis[0].title.style.cssClass});P.add(N),g.add(P)}var F=0;this.isCategoryBarHorizontal&&h.config.yaxis[0].opposite&&(F=h.globals.gridWidth);var m=h.config.xaxis.axisBorder;if(m.show){var w=u.drawLine(h.globals.padHorizontal+m.offsetX+F,1+m.offsetY,h.globals.padHorizontal+m.offsetX+F,h.globals.gridHeight+m.offsetY,m.color,0);this.elgrid&&this.elgrid.elGridBorders&&h.config.grid.show?this.elgrid.elGridBorders.add(w):g.add(w)}return h.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(F,y.length,h.config.yaxis[0].axisBorder,h.config.yaxis[0].axisTicks,0,r,g),g}},{key:"drawXaxisTicks",value:function(n,r,o){var c=this.w,h=n;if(!(n<0||n-2>c.globals.gridWidth)){var u=this.offY+c.config.xaxis.axisTicks.offsetY;if(r=r+u+c.config.xaxis.axisTicks.height,c.config.xaxis.position==="top"&&(r=u-c.config.xaxis.axisTicks.height),c.config.xaxis.axisTicks.show){var f=new j(this.ctx).drawLine(n+c.config.xaxis.axisTicks.offsetX,u+c.config.xaxis.offsetY,h+c.config.xaxis.axisTicks.offsetX,r+c.config.xaxis.offsetY,c.config.xaxis.axisTicks.color);o.add(f),f.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var n=this.w,r=[],o=this.xaxisLabels.length,c=n.globals.padHorizontal;if(n.globals.timescaleLabels.length>0)for(var h=0;h<o;h++)c=this.xaxisLabels[h].position,r.push(c);else for(var u=o,f=0;f<u;f++){var g=u;n.globals.isXNumeric&&n.config.chart.type!=="bar"&&(g-=1),c+=n.globals.gridWidth/g,r.push(c)}return r}},{key:"xAxisLabelCorrections",value:function(){var n=this.w,r=new j(this.ctx),o=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),c=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),h=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),u=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(n.globals.rotateXLabels||n.config.xaxis.labels.rotateAlways)for(var f=0;f<c.length;f++){var g=r.rotateAroundCenter(c[f]);g.y=g.y-1,g.x=g.x+1,c[f].setAttribute("transform","rotate(".concat(n.config.xaxis.labels.rotate," ").concat(g.x," ").concat(g.y,")")),c[f].setAttribute("text-anchor","end"),o.setAttribute("transform","translate(0, ".concat(-10,")"));var x=c[f].childNodes;n.config.xaxis.labels.trim&&Array.prototype.forEach.call(x,function(C){r.placeTextWithEllipsis(C,C.textContent,n.globals.xAxisLabelsHeight-(n.config.legend.position==="bottom"?20:10))})}else(function(){for(var C=n.globals.gridWidth/(n.globals.labels.length+1),E=0;E<c.length;E++){var M=c[E].childNodes;n.config.xaxis.labels.trim&&n.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(M,function(P){r.placeTextWithEllipsis(P,P.textContent,C)})}})();if(h.length>0){var y=h[h.length-1].getBBox(),v=h[0].getBBox();y.x<-20&&h[h.length-1].parentNode.removeChild(h[h.length-1]),v.x+v.width>n.globals.gridWidth&&!n.globals.isBarHorizontal&&h[0].parentNode.removeChild(h[0]);for(var S=0;S<u.length;S++)r.placeTextWithEllipsis(u[S],u[S].textContent,n.config.yaxis[0].labels.maxWidth-(n.config.yaxis[0].title.text?2*parseFloat(n.config.yaxis[0].title.style.fontSize):0)-15)}}}]),O}(),Pc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w;var r=this.w;this.xaxisLabels=r.globals.labels.slice(),this.axesUtils=new Li(n),this.isRangeBar=r.globals.seriesRange.length&&r.globals.isBarHorizontal,r.globals.timescaleLabels.length>0&&(this.xaxisLabels=r.globals.timescaleLabels.slice())}return p(O,[{key:"drawGridArea",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.w,o=new j(this.ctx);n===null&&(n=o.group({class:"apexcharts-grid"}));var c=o.drawLine(r.globals.padHorizontal,1,r.globals.padHorizontal,r.globals.gridHeight,"transparent"),h=o.drawLine(r.globals.padHorizontal,r.globals.gridHeight,r.globals.gridWidth,r.globals.gridHeight,"transparent");return n.add(h),n.add(c),n}},{key:"drawGrid",value:function(){var n=null;return this.w.globals.axisCharts&&(n=this.renderGrid(),this.drawGridArea(n.el)),n}},{key:"createGridMask",value:function(){var n=this.w,r=n.globals,o=new j(this.ctx),c=Array.isArray(n.config.stroke.width)?0:n.config.stroke.width;if(Array.isArray(n.config.stroke.width)){var h=0;n.config.stroke.width.forEach(function(v){h=Math.max(h,v)}),c=h}r.dom.elGridRectMask=document.createElementNS(r.SVGNS,"clipPath"),r.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(r.cuid)),r.dom.elGridRectMarkerMask=document.createElementNS(r.SVGNS,"clipPath"),r.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(r.cuid)),r.dom.elForecastMask=document.createElementNS(r.SVGNS,"clipPath"),r.dom.elForecastMask.setAttribute("id","forecastMask".concat(r.cuid)),r.dom.elNonForecastMask=document.createElementNS(r.SVGNS,"clipPath"),r.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(r.cuid));var u=n.config.chart.type,f=0,g=0;(u==="bar"||u==="rangeBar"||u==="candlestick"||u==="boxPlot"||n.globals.comboBarCount>0)&&n.globals.isXNumeric&&!n.globals.isBarHorizontal&&(f=n.config.grid.padding.left,g=n.config.grid.padding.right,r.barPadForNumericAxis>f&&(f=r.barPadForNumericAxis,g=r.barPadForNumericAxis)),r.dom.elGridRect=o.drawRect(-c/2-f-2,-c/2,r.gridWidth+c+g+f+4,r.gridHeight+c,0,"#fff");var x=n.globals.markers.largestSize+1;r.dom.elGridRectMarker=o.drawRect(2*-x,2*-x,r.gridWidth+4*x,r.gridHeight+4*x,0,"#fff"),r.dom.elGridRectMask.appendChild(r.dom.elGridRect.node),r.dom.elGridRectMarkerMask.appendChild(r.dom.elGridRectMarker.node);var y=r.dom.baseEl.querySelector("defs");y.appendChild(r.dom.elGridRectMask),y.appendChild(r.dom.elForecastMask),y.appendChild(r.dom.elNonForecastMask),y.appendChild(r.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(n){var r=n.i,o=n.x1,c=n.y1,h=n.x2,u=n.y2,f=n.xCount,g=n.parent,x=this.w;if(!(r===0&&x.globals.skipFirstTimelinelabel||r===f-1&&x.globals.skipLastTimelinelabel&&!x.config.xaxis.labels.formatter||x.config.chart.type==="radar")){x.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,x1:o,y1:c,x2:h,y2:u,xCount:f,parent:g});var y=0;if(x.globals.hasXaxisGroups&&x.config.xaxis.tickPlacement==="between"){var v=x.globals.groups;if(v){for(var S=0,C=0;S<r&&C<v.length;C++)S+=v[C].cols;S===r&&(y=.6*x.globals.xAxisLabelsHeight)}}new Wn(this.ctx).drawXaxisTicks(o,y,x.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(n){var r=n.i,o=n.x1,c=n.y1,h=n.x2,u=n.y2,f=n.xCount,g=n.parent,x=this.w,y=!1,v=g.node.classList.contains("apexcharts-gridlines-horizontal"),S=x.config.grid.strokeDashArray,C=x.globals.barPadForNumericAxis;(c===0&&u===0||o===0&&h===0)&&(y=!0),c===x.globals.gridHeight&&u===x.globals.gridHeight&&(y=!0),!x.globals.isBarHorizontal||r!==0&&r!==f-1||(y=!0);var E=new j(this).drawLine(o-(v?C:0),c,h+(v?C:0),u,x.config.grid.borderColor,S);E.node.classList.add("apexcharts-gridline"),y&&x.config.grid.show?this.elGridBorders.add(E):g.add(E)}},{key:"_drawGridBandRect",value:function(n){var r=n.c,o=n.x1,c=n.y1,h=n.x2,u=n.y2,f=n.type,g=this.w,x=new j(this.ctx),y=g.globals.barPadForNumericAxis;if(f!=="column"||g.config.xaxis.type!=="datetime"){var v=g.config.grid[f].colors[r],S=x.drawRect(o-(f==="row"?y:0),c,h+(f==="row"?2*y:0),u,0,v,g.config.grid[f].opacity);this.elg.add(S),S.attr("clip-path","url(#gridRectMask".concat(g.globals.cuid,")")),S.node.classList.add("apexcharts-grid-".concat(f))}}},{key:"_drawXYLines",value:function(n){var r=this,o=n.xCount,c=n.tickAmount,h=this.w;if(h.config.grid.xaxis.lines.show||h.config.xaxis.axisTicks.show){var u,f=h.globals.padHorizontal,g=h.globals.gridHeight;h.globals.timescaleLabels.length?function(E){for(var M=E.xC,P=E.x1,N=E.y1,F=E.x2,m=E.y2,w=0;w<M;w++)P=r.xaxisLabels[w].position,F=r.xaxisLabels[w].position,r._drawGridLines({i:w,x1:P,y1:N,x2:F,y2:m,xCount:o,parent:r.elgridLinesV})}({xC:o,x1:f,y1:0,x2:u,y2:g}):(h.globals.isXNumeric&&(o=h.globals.xAxisScale.result.length),function(E){for(var M=E.xC,P=E.x1,N=E.y1,F=E.x2,m=E.y2,w=0;w<M+(h.globals.isXNumeric?0:1);w++)w===0&&M===1&&h.globals.dataPoints===1&&(F=P=h.globals.gridWidth/2),r._drawGridLines({i:w,x1:P,y1:N,x2:F,y2:m,xCount:o,parent:r.elgridLinesV}),F=P+=h.globals.gridWidth/(h.globals.isXNumeric?M-1:M)}({xC:o,x1:f,y1:0,x2:u,y2:g}))}if(h.config.grid.yaxis.lines.show){var x=0,y=0,v=h.globals.gridWidth,S=c+1;this.isRangeBar&&(S=h.globals.labels.length);for(var C=0;C<S+(this.isRangeBar?1:0);C++)this._drawGridLine({i:C,xCount:S+(this.isRangeBar?1:0),x1:0,y1:x,x2:v,y2:y,parent:this.elgridLinesH}),y=x+=h.globals.gridHeight/(this.isRangeBar?S:c)}}},{key:"_drawInvertedXYLines",value:function(n){var r=n.xCount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show)for(var c,h=o.globals.padHorizontal,u=o.globals.gridHeight,f=0;f<r+1;f++)o.config.grid.xaxis.lines.show&&this._drawGridLine({i:f,xCount:r+1,x1:h,y1:0,x2:c,y2:u,parent:this.elgridLinesV}),new Wn(this.ctx).drawXaxisTicks(h,0,o.globals.dom.elGraphical),c=h=h+o.globals.gridWidth/r+.3;if(o.config.grid.yaxis.lines.show)for(var g=0,x=0,y=o.globals.gridWidth,v=0;v<o.globals.dataPoints+1;v++)this._drawGridLine({i:v,xCount:o.globals.dataPoints+1,x1:0,y1:g,x2:y,y2:x,parent:this.elgridLinesH}),x=g+=o.globals.gridHeight/o.globals.dataPoints}},{key:"renderGrid",value:function(){var n=this.w,r=new j(this.ctx);this.elg=r.group({class:"apexcharts-grid"}),this.elgridLinesH=r.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=r.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=r.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),n.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var o,c=n.globals.yAxisScale.length?n.globals.yAxisScale[0].result.length-1:5,h=0;h<n.globals.series.length&&(n.globals.yAxisScale[h]!==void 0&&(c=n.globals.yAxisScale[h].result.length-1),!(c>2));h++);return!n.globals.isBarHorizontal||this.isRangeBar?(o=this.xaxisLabels.length,this.isRangeBar&&(o--,c=n.globals.labels.length,n.config.xaxis.tickAmount&&n.config.xaxis.labels.formatter&&(o=n.config.xaxis.tickAmount)),this._drawXYLines({xCount:o,tickAmount:c})):(o=c,c=n.globals.xTickAmount,this._drawInvertedXYLines({xCount:o,tickAmount:c})),this.drawGridBands(o,c),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:n.globals.gridWidth/o}}},{key:"drawGridBands",value:function(n,r){var o=this.w;if(o.config.grid.row.colors!==void 0&&o.config.grid.row.colors.length>0)for(var c=0,h=o.globals.gridHeight/r,u=o.globals.gridWidth,f=0,g=0;f<r;f++,g++)g>=o.config.grid.row.colors.length&&(g=0),this._drawGridBandRect({c:g,x1:0,y1:c,x2:u,y2:h,type:"row"}),c+=o.globals.gridHeight/r;if(o.config.grid.column.colors!==void 0&&o.config.grid.column.colors.length>0)for(var x=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?n:n-1,y=o.globals.padHorizontal,v=o.globals.padHorizontal+o.globals.gridWidth/x,S=o.globals.gridHeight,C=0,E=0;C<n;C++,E++)E>=o.config.grid.column.colors.length&&(E=0),this._drawGridBandRect({c:E,x1:y,y1:0,x2:v,y2:S,type:"column"}),y+=o.globals.gridWidth/x}}]),O}(),ln=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"niceScale",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,h=arguments.length>4?arguments[4]:void 0,u=this.w,f=Math.abs(r-n);if((o=this._adjustTicksForSmallRange(o,c,f))==="dataPoints"&&(o=u.globals.dataPoints-1),n===Number.MIN_VALUE&&r===0||!_.isNumber(n)&&!_.isNumber(r)||n===Number.MIN_VALUE&&r===-Number.MAX_VALUE)return n=0,r=o,this.linearScale(n,r,o);n>r?(console.warn("axis.min cannot be greater than axis.max"),r=n+.1):n===r&&(n=n===0?0:n-.5,r=r===0?2:r+.5);var g=[];f<1&&h&&(u.config.chart.type==="candlestick"||u.config.series[c].type==="candlestick"||u.config.chart.type==="boxPlot"||u.config.series[c].type==="boxPlot"||u.globals.isRangeData)&&(r*=1.01);var x=o+1;x<2?x=2:x>2&&(x-=2);var y=f/x,v=Math.floor(_.log10(y)),S=Math.pow(10,v),C=Math.round(y/S);C<1&&(C=1);var E=C*S,M=E*Math.floor(n/E),P=E*Math.ceil(r/E),N=M;if(h&&f>2){for(;g.push(_.stripNumber(N,7)),!((N+=E)>P););return{result:g,niceMin:g[0],niceMax:g[g.length-1]}}var F=n;(g=[]).push(_.stripNumber(F,7));for(var m=Math.abs(r-n)/o,w=0;w<=o;w++)F+=m,g.push(F);return g[g.length-2]>=r&&g.pop(),{result:g,niceMin:g[0],niceMax:g[g.length-1]}}},{key:"linearScale",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,c=arguments.length>3?arguments[3]:void 0,h=Math.abs(r-n);(o=this._adjustTicksForSmallRange(o,c,h))==="dataPoints"&&(o=this.w.globals.dataPoints-1);var u=h/o;o===Number.MAX_VALUE&&(o=10,u=1);for(var f=[],g=n;o>=0;)f.push(g),g+=u,o-=1;return{result:f,niceMin:f[0],niceMax:f[f.length-1]}}},{key:"logarithmicScaleNice",value:function(n,r,o){r<=0&&(r=Math.max(n,o)),n<=0&&(n=Math.min(r,o));for(var c=[],h=Math.ceil(Math.log(r)/Math.log(o)+1),u=Math.floor(Math.log(n)/Math.log(o));u<h;u++)c.push(Math.pow(o,u));return{result:c,niceMin:c[0],niceMax:c[c.length-1]}}},{key:"logarithmicScale",value:function(n,r,o){r<=0&&(r=Math.max(n,o)),n<=0&&(n=Math.min(r,o));for(var c=[],h=Math.log(r)/Math.log(o),u=Math.log(n)/Math.log(o),f=h-u,g=Math.round(f),x=f/g,y=0,v=u;y<g;y++,v+=x)c.push(Math.pow(o,v));return c.push(Math.pow(o,h)),{result:c,niceMin:n,niceMax:r}}},{key:"_adjustTicksForSmallRange",value:function(n,r,o){var c=n;if(r!==void 0&&this.w.config.yaxis[r].labels.formatter&&this.w.config.yaxis[r].tickAmount===void 0){var h=Number(this.w.config.yaxis[r].labels.formatter(1));_.isNumber(h)&&this.w.globals.yValueDecimal===0&&(c=Math.ceil(o))}return c<n?c:n}},{key:"setYScaleForIndex",value:function(n,r,o){var c=this.w.globals,h=this.w.config,u=c.isBarHorizontal?h.xaxis:h.yaxis[n];c.yAxisScale[n]===void 0&&(c.yAxisScale[n]=[]);var f=Math.abs(o-r);if(u.logarithmic&&f<=5&&(c.invalidLogScale=!0),u.logarithmic&&f>5)c.allSeriesCollapsed=!1,c.yAxisScale[n]=this.logarithmicScale(r,o,u.logBase),c.yAxisScale[n]=u.forceNiceScale?this.logarithmicScaleNice(r,o,u.logBase):this.logarithmicScale(r,o,u.logBase);else if(o!==-Number.MAX_VALUE&&_.isNumber(o))if(c.allSeriesCollapsed=!1,u.min===void 0&&u.max===void 0||u.forceNiceScale){var g=h.yaxis[n].max===void 0&&h.yaxis[n].min===void 0||h.yaxis[n].forceNiceScale;c.yAxisScale[n]=this.niceScale(r,o,u.tickAmount?u.tickAmount:f<5&&f>1?f+1:5,n,g)}else c.yAxisScale[n]=this.linearScale(r,o,u.tickAmount,n);else c.yAxisScale[n]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(n,r){var o=this.w,c=o.globals,h=o.config.xaxis,u=Math.abs(r-n);return r!==-Number.MAX_VALUE&&_.isNumber(r)?c.xAxisScale=this.linearScale(n,r,h.tickAmount?h.tickAmount:u<5&&u>1?u+1:5,0):c.xAxisScale=this.linearScale(0,5,5),c.xAxisScale}},{key:"setMultipleYScales",value:function(){var n=this,r=this.w.globals,o=this.w.config,c=r.minYArr.concat([]),h=r.maxYArr.concat([]),u=[];o.yaxis.forEach(function(f,g){var x=g;o.series.forEach(function(S,C){S.name===f.seriesName&&(x=C,g!==C?u.push({index:C,similarIndex:g,alreadyExists:!0}):u.push({index:C}))});var y=c[x],v=h[x];n.setYScaleForIndex(g,y,v)}),this.sameScaleInMultipleAxes(c,h,u)}},{key:"sameScaleInMultipleAxes",value:function(n,r,o){var c=this,h=this.w.config,u=this.w.globals,f=[];o.forEach(function(M){M.alreadyExists&&(f[M.index]===void 0&&(f[M.index]=[]),f[M.index].push(M.index),f[M.index].push(M.similarIndex))}),u.yAxisSameScaleIndices=f,f.forEach(function(M,P){f.forEach(function(N,F){var m,w;P!==F&&(m=M,w=N,m.filter(function(T){return w.indexOf(T)!==-1})).length>0&&(f[P]=f[P].concat(f[F]))})});var g=f.map(function(M){return M.filter(function(P,N){return M.indexOf(P)===N})}).map(function(M){return M.sort()});f=f.filter(function(M){return!!M});var x=g.slice(),y=x.map(function(M){return JSON.stringify(M)});x=x.filter(function(M,P){return y.indexOf(JSON.stringify(M))===P});var v=[],S=[];n.forEach(function(M,P){x.forEach(function(N,F){N.indexOf(P)>-1&&(v[F]===void 0&&(v[F]=[],S[F]=[]),v[F].push({key:P,value:M}),S[F].push({key:P,value:r[P]}))})});var C=Array.apply(null,Array(x.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),E=Array.apply(null,Array(x.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);v.forEach(function(M,P){M.forEach(function(N,F){C[P]=Math.min(N.value,C[P])})}),S.forEach(function(M,P){M.forEach(function(N,F){E[P]=Math.max(N.value,E[P])})}),n.forEach(function(M,P){S.forEach(function(N,F){var m=C[F],w=E[F];h.chart.stacked&&(w=0,N.forEach(function(T,I){T.value!==-Number.MAX_VALUE&&(w+=T.value),m!==Number.MIN_VALUE&&(m+=v[F][I].value)})),N.forEach(function(T,I){N[I].key===P&&(h.yaxis[P].min!==void 0&&(m=typeof h.yaxis[P].min=="function"?h.yaxis[P].min(u.minY):h.yaxis[P].min),h.yaxis[P].max!==void 0&&(w=typeof h.yaxis[P].max=="function"?h.yaxis[P].max(u.maxY):h.yaxis[P].max),c.setYScaleForIndex(P,m,w))})})})}},{key:"autoScaleY",value:function(n,r,o){n||(n=this);var c=n.w;if(c.globals.isMultipleYAxis||c.globals.collapsedSeries.length)return console.warn("autoScaleYaxis not supported in a multi-yaxis chart."),r;var h=c.globals.seriesX[0],u=c.config.chart.stacked;return r.forEach(function(f,g){for(var x=0,y=0;y<h.length;y++)if(h[y]>=o.xaxis.min){x=y;break}var v,S,C=c.globals.minYArr[g],E=c.globals.maxYArr[g],M=c.globals.stackedSeriesTotals;c.globals.series.forEach(function(P,N){var F=P[x];u?(F=M[x],v=S=F,M.forEach(function(m,w){h[w]<=o.xaxis.max&&h[w]>=o.xaxis.min&&(m>S&&m!==null&&(S=m),P[w]<v&&P[w]!==null&&(v=P[w]))})):(v=S=F,P.forEach(function(m,w){if(h[w]<=o.xaxis.max&&h[w]>=o.xaxis.min){var T=m,I=m;c.globals.series.forEach(function(B,H){m!==null&&(T=Math.min(B[w],T),I=Math.max(B[w],I))}),I>S&&I!==null&&(S=I),T<v&&T!==null&&(v=T)}})),v===void 0&&S===void 0&&(v=C,S=E),S*=S<0?.9:1.1,(v*=v<0?1.1:.9)===0&&S===0&&(v=-1,S=1),S<0&&S<E&&(S=E),v<0&&v>C&&(v=C),r.length>1?(r[N].min=f.min===void 0?v:f.min,r[N].max=f.max===void 0?S:f.max):(r[0].min=f.min===void 0?v:f.min,r[0].max=f.max===void 0?S:f.max)})}),r}}]),O}(),ka=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.scales=new ln(n)}return p(O,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w.config,u=this.w.globals,f=-Number.MAX_VALUE,g=Number.MIN_VALUE;c===null&&(c=n+1);var x=u.series,y=x,v=x;h.chart.type==="candlestick"?(y=u.seriesCandleL,v=u.seriesCandleH):h.chart.type==="boxPlot"?(y=u.seriesCandleO,v=u.seriesCandleC):u.isRangeData&&(y=u.seriesRangeStart,v=u.seriesRangeEnd);for(var S=n;S<c;S++){u.dataPoints=Math.max(u.dataPoints,x[S].length),u.categoryLabels.length&&(u.dataPoints=u.categoryLabels.filter(function(M){return M!==void 0}).length),u.labels.length&&h.xaxis.type!=="datetime"&&u.series.reduce(function(M,P){return M+P.length},0)!==0&&(u.dataPoints=Math.max(u.dataPoints,u.labels.length));for(var C=0;C<u.series[S].length;C++){var E=x[S][C];E!==null&&_.isNumber(E)?(v[S][C]!==void 0&&(f=Math.max(f,v[S][C]),r=Math.min(r,v[S][C])),y[S][C]!==void 0&&(r=Math.min(r,y[S][C]),o=Math.max(o,y[S][C])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||u.seriesCandleC[S][C]!==void 0&&(f=Math.max(f,u.seriesCandleO[S][C]),f=Math.max(f,u.seriesCandleH[S][C]),f=Math.max(f,u.seriesCandleL[S][C]),f=Math.max(f,u.seriesCandleC[S][C]),this.w.config.chart.type==="boxPlot"&&(f=Math.max(f,u.seriesCandleM[S][C]))),!h.series[S].type||h.series[S].type==="candlestick"&&h.series[S].type==="boxPlot"&&h.series[S].type==="rangeArea"&&h.series[S].type==="rangeBar"||(f=Math.max(f,u.series[S][C]),r=Math.min(r,u.series[S][C])),o=f),u.seriesGoals[S]&&u.seriesGoals[S][C]&&Array.isArray(u.seriesGoals[S][C])&&u.seriesGoals[S][C].forEach(function(M){g!==Number.MIN_VALUE&&(g=Math.min(g,M.value),r=g),f=Math.max(f,M.value),o=f}),_.isFloat(E)&&(E=_.noExponents(E),u.yValueDecimal=Math.max(u.yValueDecimal,E.toString().split(".")[1].length)),g>y[S][C]&&y[S][C]<0&&(g=y[S][C])):u.hasNullValues=!0}}return h.chart.type==="rangeBar"&&u.seriesRangeStart.length&&u.isBarHorizontal&&(g=r),h.chart.type==="bar"&&(g<0&&f<0&&(f=0),g===Number.MIN_VALUE&&(g=0)),{minY:g,maxY:f,lowestY:r,highestY:o}}},{key:"setYRange",value:function(){var n=this.w.globals,r=this.w.config;n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE;var o=Number.MAX_VALUE;if(n.isMultipleYAxis)for(var c=0;c<n.series.length;c++){var h=this.getMinYMaxY(c,o,null,c+1);n.minYArr.push(h.minY),n.maxYArr.push(h.maxY),o=h.lowestY}var u=this.getMinYMaxY(0,o,null,n.series.length);if(n.minY=u.minY,n.maxY=u.maxY,o=u.lowestY,r.chart.stacked&&this._setStackedMinMax(),(r.chart.type==="line"||r.chart.type==="area"||r.chart.type==="candlestick"||r.chart.type==="boxPlot"||r.chart.type==="rangeBar"&&!n.isBarHorizontal)&&n.minY===Number.MIN_VALUE&&o!==-Number.MAX_VALUE&&o!==n.maxY){var f=n.maxY-o;(o>=0&&o<=10||r.yaxis[0].min!==void 0||r.yaxis[0].max!==void 0)&&(f=0),n.minY=o-5*f/100,o>0&&n.minY<0&&(n.minY=0),n.maxY=n.maxY+5*f/100}return r.yaxis.forEach(function(g,x){g.max!==void 0&&(typeof g.max=="number"?n.maxYArr[x]=g.max:typeof g.max=="function"&&(n.maxYArr[x]=g.max(n.isMultipleYAxis?n.maxYArr[x]:n.maxY)),n.maxY=n.maxYArr[x]),g.min!==void 0&&(typeof g.min=="number"?n.minYArr[x]=g.min:typeof g.min=="function"&&(n.minYArr[x]=g.min(n.isMultipleYAxis?n.minYArr[x]===Number.MIN_VALUE?0:n.minYArr[x]:n.minY)),n.minY=n.minYArr[x])}),n.isBarHorizontal&&["min","max"].forEach(function(g){r.xaxis[g]!==void 0&&typeof r.xaxis[g]=="number"&&(g==="min"?n.minY=r.xaxis[g]:n.maxY=r.xaxis[g])}),n.isMultipleYAxis?(this.scales.setMultipleYScales(),n.minY=o,n.yAxisScale.forEach(function(g,x){n.minYArr[x]=g.niceMin,n.maxYArr[x]=g.niceMax})):(this.scales.setYScaleForIndex(0,n.minY,n.maxY),n.minY=n.yAxisScale[0].niceMin,n.maxY=n.yAxisScale[0].niceMax,n.minYArr[0]=n.yAxisScale[0].niceMin,n.maxYArr[0]=n.yAxisScale[0].niceMax),{minY:n.minY,maxY:n.maxY,minYArr:n.minYArr,maxYArr:n.maxYArr,yAxisScale:n.yAxisScale}}},{key:"setXRange",value:function(){var n=this.w.globals,r=this.w.config,o=r.xaxis.type==="numeric"||r.xaxis.type==="datetime"||r.xaxis.type==="category"&&!n.noLabelsProvided||n.noLabelsProvided||n.isXNumeric;if(n.isXNumeric&&function(){for(var f=0;f<n.series.length;f++)if(n.labels[f])for(var g=0;g<n.labels[f].length;g++)n.labels[f][g]!==null&&_.isNumber(n.labels[f][g])&&(n.maxX=Math.max(n.maxX,n.labels[f][g]),n.initialMaxX=Math.max(n.maxX,n.labels[f][g]),n.minX=Math.min(n.minX,n.labels[f][g]),n.initialMinX=Math.min(n.minX,n.labels[f][g]))}(),n.noLabelsProvided&&r.xaxis.categories.length===0&&(n.maxX=n.labels[n.labels.length-1],n.initialMaxX=n.labels[n.labels.length-1],n.minX=1,n.initialMinX=1),n.isXNumeric||n.noLabelsProvided||n.dataFormatXNumeric){var c;if(r.xaxis.tickAmount===void 0?(c=Math.round(n.svgWidth/150),r.xaxis.type==="numeric"&&n.dataPoints<30&&(c=n.dataPoints-1),c>n.dataPoints&&n.dataPoints!==0&&(c=n.dataPoints-1)):r.xaxis.tickAmount==="dataPoints"?(n.series.length>1&&(c=n.series[n.maxValsInArrayIndex].length-1),n.isXNumeric&&(c=n.maxX-n.minX-1)):c=r.xaxis.tickAmount,n.xTickAmount=c,r.xaxis.max!==void 0&&typeof r.xaxis.max=="number"&&(n.maxX=r.xaxis.max),r.xaxis.min!==void 0&&typeof r.xaxis.min=="number"&&(n.minX=r.xaxis.min),r.xaxis.range!==void 0&&(n.minX=n.maxX-r.xaxis.range),n.minX!==Number.MAX_VALUE&&n.maxX!==-Number.MAX_VALUE)if(r.xaxis.convertedCatToNumeric&&!n.dataFormatXNumeric){for(var h=[],u=n.minX-1;u<n.maxX;u++)h.push(u+1);n.xAxisScale={result:h,niceMin:h[0],niceMax:h[h.length-1]}}else n.xAxisScale=this.scales.setXScale(n.minX,n.maxX);else n.xAxisScale=this.scales.linearScale(0,c,c),n.noLabelsProvided&&n.labels.length>0&&(n.xAxisScale=this.scales.linearScale(1,n.labels.length,c-1),n.seriesX=n.labels.slice());o&&(n.labels=n.xAxisScale.result.slice())}return n.isBarHorizontal&&n.labels.length&&(n.xTickAmount=n.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:n.minX,maxX:n.maxX}}},{key:"setZRange",value:function(){var n=this.w.globals;if(n.isDataXYZ){for(var r=0;r<n.series.length;r++)if(n.seriesZ[r]!==void 0)for(var o=0;o<n.seriesZ[r].length;o++)n.seriesZ[r][o]!==null&&_.isNumber(n.seriesZ[r][o])&&(n.maxZ=Math.max(n.maxZ,n.seriesZ[r][o]),n.minZ=Math.min(n.minZ,n.seriesZ[r][o]))}}},{key:"_handleSingleDataPoint",value:function(){var n=this.w.globals,r=this.w.config;if(n.minX===n.maxX){var o=new ye(this.ctx);if(r.xaxis.type==="datetime"){var c=o.getDate(n.minX);r.xaxis.labels.datetimeUTC?c.setUTCDate(c.getUTCDate()-2):c.setDate(c.getDate()-2),n.minX=new Date(c).getTime();var h=o.getDate(n.maxX);r.xaxis.labels.datetimeUTC?h.setUTCDate(h.getUTCDate()+2):h.setDate(h.getDate()+2),n.maxX=new Date(h).getTime()}else(r.xaxis.type==="numeric"||r.xaxis.type==="category"&&!n.noLabelsProvided)&&(n.minX=n.minX-2,n.initialMinX=n.minX,n.maxX=n.maxX+2,n.initialMaxX=n.maxX)}}},{key:"_getMinXDiff",value:function(){var n=this.w.globals;n.isXNumeric&&n.seriesX.forEach(function(r,o){r.length===1&&r.push(n.seriesX[n.maxValsInArrayIndex][n.seriesX[n.maxValsInArrayIndex].length-1]);var c=r.slice();c.sort(function(h,u){return h-u}),c.forEach(function(h,u){if(u>0){var f=h-c[u-1];f>0&&(n.minXDiff=Math.min(f,n.minXDiff))}}),n.dataPoints!==1&&n.minXDiff!==Number.MAX_VALUE||(n.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var n=this,r=this.w.globals;if(r.series.length){var o=r.seriesGroups;o.length||(o=[this.w.config.series.map(function(u){return u.name})]);var c={},h={};o.forEach(function(u){c[u]=[],h[u]=[],n.w.config.series.map(function(f,g){return u.indexOf(f.name)>-1?g:null}).filter(function(f){return f!==null}).forEach(function(f){for(var g=0;g<r.series[r.maxValsInArrayIndex].length;g++)c[u][g]===void 0&&(c[u][g]=0,h[u][g]=0),r.series[f][g]!==null&&_.isNumber(r.series[f][g])&&(r.series[f][g]>0?c[u][g]+=parseFloat(r.series[f][g])+1e-4:h[u][g]+=parseFloat(r.series[f][g]))})}),Object.entries(c).forEach(function(u){var f=D(u,1)[0];c[f].forEach(function(g,x){r.maxY=Math.max(r.maxY,c[f][x]),r.minY=Math.min(r.minY,h[f][x])})})}}}]),O}(),Aa=function(){function O(n,r){l(this,O),this.ctx=n,this.elgrid=r,this.w=n.w;var o=this.w;this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.axisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xAxisoffX=0,o.config.xaxis.position==="bottom"&&(this.xAxisoffX=o.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Li(n)}return p(O,[{key:"drawYaxis",value:function(n){var r=this,o=this.w,c=new j(this.ctx),h=o.config.yaxis[n].labels.style,u=h.fontSize,f=h.fontFamily,g=h.fontWeight,x=c.group({class:"apexcharts-yaxis",rel:n,transform:"translate("+o.globals.translateYAxisX[n]+", 0)"});if(this.axesUtils.isYAxisHidden(n))return x;var y=c.group({class:"apexcharts-yaxis-texts-g"});x.add(y);var v=o.globals.yAxisScale[n].result.length-1,S=o.globals.gridHeight/v,C=o.globals.translateY,E=o.globals.yLabelFormatters[n],M=o.globals.yAxisScale[n].result.slice();M=this.axesUtils.checkForReversedLabels(n,M);var P="";if(o.config.yaxis[n].labels.show)for(var N=function(Y){var V=M[Y];V=E(V,Y,o);var U=o.config.yaxis[n].labels.padding;o.config.yaxis[n].opposite&&o.config.yaxis.length!==0&&(U*=-1);var K="end";o.config.yaxis[n].opposite&&(K="start"),o.config.yaxis[n].labels.align==="left"?K="start":o.config.yaxis[n].labels.align==="center"?K="middle":o.config.yaxis[n].labels.align==="right"&&(K="end");var $=r.axesUtils.getYAxisForeColor(h.colors,n),te=o.config.yaxis[n].labels.offsetY;o.config.chart.type==="heatmap"&&(te-=(o.globals.gridHeight/o.globals.series.length-1)/2);var ie=c.drawText({x:U,y:C+v/10+te+1,text:V,textAnchor:K,fontSize:u,fontFamily:f,fontWeight:g,maxWidth:o.config.yaxis[n].labels.maxWidth,foreColor:Array.isArray($)?$[Y]:$,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.cssClass});Y===v&&(P=ie),y.add(ie);var de=document.createElementNS(o.globals.SVGNS,"title");if(de.textContent=Array.isArray(V)?V.join(" "):V,ie.node.appendChild(de),o.config.yaxis[n].labels.rotate!==0){var ge=c.rotateAroundCenter(P.node),be=c.rotateAroundCenter(ie.node);ie.node.setAttribute("transform","rotate(".concat(o.config.yaxis[n].labels.rotate," ").concat(ge.x," ").concat(be.y,")"))}C+=S},F=v;F>=0;F--)N(F);if(o.config.yaxis[n].title.text!==void 0){var m=c.group({class:"apexcharts-yaxis-title"}),w=0;o.config.yaxis[n].opposite&&(w=o.globals.translateYAxisX[n]);var T=c.drawText({x:w,y:o.globals.gridHeight/2+o.globals.translateY+o.config.yaxis[n].title.offsetY,text:o.config.yaxis[n].title.text,textAnchor:"end",foreColor:o.config.yaxis[n].title.style.color,fontSize:o.config.yaxis[n].title.style.fontSize,fontWeight:o.config.yaxis[n].title.style.fontWeight,fontFamily:o.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+o.config.yaxis[n].title.style.cssClass});m.add(T),x.add(m)}var I=o.config.yaxis[n].axisBorder,B=31+I.offsetX;if(o.config.yaxis[n].opposite&&(B=-31-I.offsetX),I.show){var H=c.drawLine(B,o.globals.translateY+I.offsetY-2,B,o.globals.gridHeight+o.globals.translateY+I.offsetY+2,I.color,0,I.width);x.add(H)}return o.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(B,v,I,o.config.yaxis[n].axisTicks,n,S,x),x}},{key:"drawYaxisInversed",value:function(n){var r=this.w,o=new j(this.ctx),c=o.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),h=o.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(r.globals.translateXAxisX,", ").concat(r.globals.translateXAxisY,")")});c.add(h);var u=r.globals.yAxisScale[n].result.length-1,f=r.globals.gridWidth/u+.1,g=f+r.config.xaxis.labels.offsetX,x=r.globals.xLabelFormatter,y=r.globals.yAxisScale[n].result.slice(),v=r.globals.timescaleLabels;v.length>0&&(this.xaxisLabels=v.slice(),u=(y=v.slice()).length),y=this.axesUtils.checkForReversedLabels(n,y);var S=v.length;if(r.config.xaxis.labels.show)for(var C=S?0:u;S?C<S:C>=0;S?C++:C--){var E=y[C];E=x(E,C,r);var M=r.globals.gridWidth+r.globals.padHorizontal-(g-f+r.config.xaxis.labels.offsetX);if(v.length){var P=this.axesUtils.getLabel(y,v,M,C,this.drawnLabels,this.xaxisFontSize);M=P.x,E=P.text,this.drawnLabels.push(P.text),C===0&&r.globals.skipFirstTimelinelabel&&(E=""),C===y.length-1&&r.globals.skipLastTimelinelabel&&(E="")}var N=o.drawText({x:M,y:this.xAxisoffX+r.config.xaxis.labels.offsetY+30-(r.config.xaxis.position==="top"?r.globals.xAxisHeight+r.config.xaxis.axisTicks.height-2:0),text:E,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[n]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:r.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+r.config.xaxis.labels.style.cssClass});h.add(N),N.tspan(E);var F=document.createElementNS(r.globals.SVGNS,"title");F.textContent=E,N.node.appendChild(F),g+=f}return this.inversedYAxisTitleText(c),this.inversedYAxisBorder(c),c}},{key:"inversedYAxisBorder",value:function(n){var r=this.w,o=new j(this.ctx),c=r.config.xaxis.axisBorder;if(c.show){var h=0;r.config.chart.type==="bar"&&r.globals.isXNumeric&&(h-=15);var u=o.drawLine(r.globals.padHorizontal+h+c.offsetX,this.xAxisoffX,r.globals.gridWidth,this.xAxisoffX,c.color,0,c.height);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(u):n.add(u)}}},{key:"inversedYAxisTitleText",value:function(n){var r=this.w,o=new j(this.ctx);if(r.config.xaxis.title.text!==void 0){var c=o.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),h=o.drawText({x:r.globals.gridWidth/2+r.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(r.config.xaxis.title.style.fontSize)+r.config.xaxis.title.offsetY+20,text:r.config.xaxis.title.text,textAnchor:"middle",fontSize:r.config.xaxis.title.style.fontSize,fontFamily:r.config.xaxis.title.style.fontFamily,fontWeight:r.config.xaxis.title.style.fontWeight,foreColor:r.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+r.config.xaxis.title.style.cssClass});c.add(h),n.add(c)}}},{key:"yAxisTitleRotate",value:function(n,r){var o=this.w,c=new j(this.ctx),h={width:0,height:0},u={width:0,height:0},f=o.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g"));f!==null&&(h=f.getBoundingClientRect());var g=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-title text"));if(g!==null&&(u=g.getBoundingClientRect()),g!==null){var x=this.xPaddingForYAxisTitle(n,h,u,r);g.setAttribute("x",x.xPos-(r?10:0))}if(g!==null){var y=c.rotateAroundCenter(g);g.setAttribute("transform","rotate(".concat(r?-1*o.config.yaxis[n].title.rotate:o.config.yaxis[n].title.rotate," ").concat(y.x," ").concat(y.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(n,r,o,c){var h=this.w,u=0,f=0,g=10;return h.config.yaxis[n].title.text===void 0||n<0?{xPos:f,padd:0}:(c?(f=r.width+h.config.yaxis[n].title.offsetX+o.width/2+g/2,(u+=1)===0&&(f-=g/2)):(f=-1*r.width+h.config.yaxis[n].title.offsetX+g/2+o.width/2,h.globals.isBarHorizontal&&(g=25,f=-1*r.width-h.config.yaxis[n].title.offsetX-g)),{xPos:f,padd:g})}},{key:"setYAxisXPosition",value:function(n,r){var o=this.w,c=0,h=0,u=18,f=1;o.config.yaxis.length>1&&(this.multipleYs=!0),o.config.yaxis.map(function(g,x){var y=o.globals.ignoreYAxisIndexes.indexOf(x)>-1||!g.show||g.floating||n[x].width===0,v=n[x].width+r[x].width;g.opposite?o.globals.isBarHorizontal?(h=o.globals.gridWidth+o.globals.translateX-1,o.globals.translateYAxisX[x]=h-g.labels.offsetX):(h=o.globals.gridWidth+o.globals.translateX+f,y||(f=f+v+20),o.globals.translateYAxisX[x]=h-g.labels.offsetX+20):(c=o.globals.translateX-u,y||(u=u+v+20),o.globals.translateYAxisX[x]=c+g.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var n=this.w,r=n.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(r=_.listToArray(r)).forEach(function(o,c){var h=n.config.yaxis[c];if(h&&!h.floating&&h.labels.align!==void 0){var u=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g")),f=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-label"));f=_.listToArray(f);var g=u.getBoundingClientRect();h.labels.align==="left"?(f.forEach(function(x,y){x.setAttribute("text-anchor","start")}),h.opposite||u.setAttribute("transform","translate(-".concat(g.width,", 0)"))):h.labels.align==="center"?(f.forEach(function(x,y){x.setAttribute("text-anchor","middle")}),u.setAttribute("transform","translate(".concat(g.width/2*(h.opposite?1:-1),", 0)"))):h.labels.align==="right"&&(f.forEach(function(x,y){x.setAttribute("text-anchor","end")}),h.opposite&&u.setAttribute("transform","translate(".concat(g.width,", 0)")))}})}}]),O}(),Lg=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.documentEvent=_.bind(this.documentEvent,this)}return p(O,[{key:"addEventListener",value:function(n,r){var o=this.w;o.globals.events.hasOwnProperty(n)?o.globals.events[n].push(r):o.globals.events[n]=[r]}},{key:"removeEventListener",value:function(n,r){var o=this.w;if(o.globals.events.hasOwnProperty(n)){var c=o.globals.events[n].indexOf(r);c!==-1&&o.globals.events[n].splice(c,1)}}},{key:"fireEvent",value:function(n,r){var o=this.w;if(o.globals.events.hasOwnProperty(n)){r&&r.length||(r=[]);for(var c=o.globals.events[n],h=c.length,u=0;u<h;u++)c[u].apply(null,r)}}},{key:"setupEventHandlers",value:function(){var n=this,r=this.w,o=this.ctx,c=r.globals.dom.baseEl.querySelector(r.globals.chartClass);this.ctx.eventList.forEach(function(h){c.addEventListener(h,function(u){var f=Object.assign({},r,{seriesIndex:r.globals.capturedSeriesIndex,dataPointIndex:r.globals.capturedDataPointIndex});u.type==="mousemove"||u.type==="touchmove"?typeof r.config.chart.events.mouseMove=="function"&&r.config.chart.events.mouseMove(u,o,f):u.type==="mouseleave"||u.type==="touchleave"?typeof r.config.chart.events.mouseLeave=="function"&&r.config.chart.events.mouseLeave(u,o,f):(u.type==="mouseup"&&u.which===1||u.type==="touchend")&&(typeof r.config.chart.events.click=="function"&&r.config.chart.events.click(u,o,f),o.ctx.events.fireEvent("click",[u,o,f]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(h){r.globals.dom.baseEl.addEventListener(h,n.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(n){var r=this.w,o=n.target.className;if(n.type==="click"){var c=r.globals.dom.baseEl.querySelector(".apexcharts-menu");c&&c.classList.contains("apexcharts-menu-open")&&o!=="apexcharts-menu-icon"&&c.classList.remove("apexcharts-menu-open")}r.globals.clientX=n.type==="touchmove"?n.touches[0].clientX:n.clientX,r.globals.clientY=n.type==="touchmove"?n.touches[0].clientY:n.clientY}}]),O}(),Pg=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"setCurrentLocaleValues",value:function(n){var r=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(r=this.w.config.chart.locales.concat(window.Apex.chart.locales));var o=r.filter(function(h){return h.name===n})[0];if(!o)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var c=_.extend(we,o);this.w.globals.locale=c.options}}]),O}(),Og=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"drawAxis",value:function(n,r){var o,c,h=this,u=this.w.globals,f=this.w.config,g=new Wn(this.ctx,r),x=new Aa(this.ctx,r);u.axisCharts&&n!=="radar"&&(u.isBarHorizontal?(c=x.drawYaxisInversed(0),o=g.drawXaxisInversed(0),u.dom.elGraphical.add(o),u.dom.elGraphical.add(c)):(o=g.drawXaxis(),u.dom.elGraphical.add(o),f.yaxis.map(function(y,v){if(u.ignoreYAxisIndexes.indexOf(v)===-1&&(c=x.drawYaxis(v),u.dom.Paper.add(c),h.w.config.grid.position==="back")){var S=u.dom.Paper.children()[1];S.remove(),u.dom.Paper.add(S)}})))}}]),O}(),Ca=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"drawXCrosshairs",value:function(){var n=this.w,r=new j(this.ctx),o=new oe(this.ctx),c=n.config.xaxis.crosshairs.fill.gradient,h=n.config.xaxis.crosshairs.dropShadow,u=n.config.xaxis.crosshairs.fill.type,f=c.colorFrom,g=c.colorTo,x=c.opacityFrom,y=c.opacityTo,v=c.stops,S=h.enabled,C=h.left,E=h.top,M=h.blur,P=h.color,N=h.opacity,F=n.config.xaxis.crosshairs.fill.color;if(n.config.xaxis.crosshairs.show){u==="gradient"&&(F=r.drawGradient("vertical",f,g,x,y,null,v,null));var m=r.drawRect();n.config.xaxis.crosshairs.width===1&&(m=r.drawLine());var w=n.globals.gridHeight;(!_.isNumber(w)||w<0)&&(w=0);var T=n.config.xaxis.crosshairs.width;(!_.isNumber(T)||T<0)&&(T=0),m.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:w,width:T,height:w,fill:F,filter:"none","fill-opacity":n.config.xaxis.crosshairs.opacity,stroke:n.config.xaxis.crosshairs.stroke.color,"stroke-width":n.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":n.config.xaxis.crosshairs.stroke.dashArray}),S&&(m=o.dropShadow(m,{left:C,top:E,blur:M,color:P,opacity:N})),n.globals.dom.elGraphical.add(m)}}},{key:"drawYCrosshairs",value:function(){var n=this.w,r=new j(this.ctx),o=n.config.yaxis[0].crosshairs,c=n.globals.barPadForNumericAxis;if(n.config.yaxis[0].crosshairs.show){var h=r.drawLine(-c,0,n.globals.gridWidth+c,0,o.stroke.color,o.stroke.dashArray,o.stroke.width);h.attr({class:"apexcharts-ycrosshairs"}),n.globals.dom.elGraphical.add(h)}var u=r.drawLine(-c,0,n.globals.gridWidth+c,0,o.stroke.color,0,0);u.attr({class:"apexcharts-ycrosshairs-hidden"}),n.globals.dom.elGraphical.add(u)}}]),O}(),Rg=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"checkResponsiveConfig",value:function(n){var r=this,o=this.w,c=o.config;if(c.responsive.length!==0){var h=c.responsive.slice();h.sort(function(x,y){return x.breakpoint>y.breakpoint?1:y.breakpoint>x.breakpoint?-1:0}).reverse();var u=new dt({}),f=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=h[0].breakpoint,v=window.innerWidth>0?window.innerWidth:screen.width;if(v>y){var S=q.extendArrayProps(u,o.globals.initialConfig,o);x=_.extend(S,x),x=_.extend(o.config,x),r.overrideResponsiveOptions(x)}else for(var C=0;C<h.length;C++)v<h[C].breakpoint&&(x=q.extendArrayProps(u,h[C].options,o),x=_.extend(o.config,x),r.overrideResponsiveOptions(x))};if(n){var g=q.extendArrayProps(u,n,o);g=_.extend(o.config,g),f(g=_.extend(g,n))}else f({})}}},{key:"overrideResponsiveOptions",value:function(n){var r=new dt(n).init({responsiveOverride:!0});this.w.config=r}}]),O}(),Ig=function(){function O(n){l(this,O),this.ctx=n,this.colors=[],this.w=n.w;var r=this.w;this.isColorFn=!1,this.isHeatmapDistributed=r.config.chart.type==="treemap"&&r.config.plotOptions.treemap.distributed||r.config.chart.type==="heatmap"&&r.config.plotOptions.heatmap.distributed,this.isBarDistributed=r.config.plotOptions.bar.distributed&&(r.config.chart.type==="bar"||r.config.chart.type==="rangeBar")}return p(O,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var n,r=this,o=this.w,c=new _;if(o.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(o.config.theme.mode)),o.config.colors===void 0||((n=o.config.colors)===null||n===void 0?void 0:n.length)===0?o.globals.colors=this.predefined():(o.globals.colors=o.config.colors,Array.isArray(o.config.colors)&&o.config.colors.length>0&&typeof o.config.colors[0]=="function"&&(o.globals.colors=o.config.series.map(function(E,M){var P=o.config.colors[M];return P||(P=o.config.colors[0]),typeof P=="function"?(r.isColorFn=!0,P({value:o.globals.axisCharts?o.globals.series[M][0]?o.globals.series[M][0]:0:o.globals.series[M],seriesIndex:M,dataPointIndex:M,w:o})):P}))),o.globals.seriesColors.map(function(E,M){E&&(o.globals.colors[M]=E)}),o.config.theme.monochrome.enabled){var h=[],u=o.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(u=o.globals.series[0].length*o.globals.series.length);for(var f=o.config.theme.monochrome.color,g=1/(u/o.config.theme.monochrome.shadeIntensity),x=o.config.theme.monochrome.shadeTo,y=0,v=0;v<u;v++){var S=void 0;x==="dark"?(S=c.shadeColor(-1*y,f),y+=g):(S=c.shadeColor(y,f),y+=g),h.push(S)}o.globals.colors=h.slice()}var C=o.globals.colors.slice();this.pushExtraColors(o.globals.colors),["fill","stroke"].forEach(function(E){o.config[E].colors===void 0?o.globals[E].colors=r.isColorFn?o.config.colors:C:o.globals[E].colors=o.config[E].colors.slice(),r.pushExtraColors(o.globals[E].colors)}),o.config.dataLabels.style.colors===void 0?o.globals.dataLabels.style.colors=C:o.globals.dataLabels.style.colors=o.config.dataLabels.style.colors.slice(),this.pushExtraColors(o.globals.dataLabels.style.colors,50),o.config.plotOptions.radar.polygons.fill.colors===void 0?o.globals.radarPolygons.fill.colors=[o.config.theme.mode==="dark"?"#424242":"none"]:o.globals.radarPolygons.fill.colors=o.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(o.globals.radarPolygons.fill.colors,20),o.config.markers.colors===void 0?o.globals.markers.colors=C:o.globals.markers.colors=o.config.markers.colors.slice(),this.pushExtraColors(o.globals.markers.colors)}},{key:"pushExtraColors",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,h=r||c.globals.series.length;if(o===null&&(o=this.isBarDistributed||this.isHeatmapDistributed||c.config.chart.type==="heatmap"&&c.config.plotOptions.heatmap.colorScale.inverse),o&&c.globals.series.length&&(h=c.globals.series[c.globals.maxValsInArrayIndex].length*c.globals.series.length),n.length<h)for(var u=h-n.length,f=0;f<u;f++)n.push(n[f])}},{key:"updateThemeOptions",value:function(n){n.chart=n.chart||{},n.tooltip=n.tooltip||{};var r=n.theme.mode||"light",o=n.theme.palette?n.theme.palette:r==="dark"?"palette4":"palette1",c=n.chart.foreColor?n.chart.foreColor:r==="dark"?"#f6f7f8":"#373d3f";return n.tooltip.theme=r,n.chart.foreColor=c,n.theme.palette=o,n}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),O}(),Ng=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(n){var r=this.w,o=n==="title"?r.config.title:r.config.subtitle,c=r.globals.svgWidth/2,h=o.offsetY,u="middle";if(o.align==="left"?(c=10,u="start"):o.align==="right"&&(c=r.globals.svgWidth-10,u="end"),c+=o.offsetX,h=h+parseInt(o.style.fontSize,10)+o.margin/2,o.text!==void 0){var f=new j(this.ctx).drawText({x:c,y:h,text:o.text,textAnchor:u,fontSize:o.style.fontSize,fontFamily:o.style.fontFamily,fontWeight:o.style.fontWeight,foreColor:o.style.color,opacity:1});f.node.setAttribute("class","apexcharts-".concat(n,"-text")),r.globals.dom.Paper.add(f)}}}]),O}(),Dg=function(){function O(n){l(this,O),this.w=n.w,this.dCtx=n}return p(O,[{key:"getTitleSubtitleCoords",value:function(n){var r=this.w,o=0,c=0,h=n==="title"?r.config.title.floating:r.config.subtitle.floating,u=r.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-text"));if(u!==null&&!h){var f=u.getBoundingClientRect();o=f.width,c=r.globals.axisCharts?f.height+5:f.height}return{width:o,height:c}}},{key:"getLegendsRect",value:function(){var n=this.w,r=n.globals.dom.elLegendWrap;n.config.legend.height||n.config.legend.position!=="top"&&n.config.legend.position!=="bottom"||(r.style.maxHeight=n.globals.svgHeight/2+"px");var o=Object.assign({},_.getBoundingClientRect(r));return r!==null&&!n.config.legend.floating&&n.config.legend.show?this.dCtx.lgRect={x:o.x,y:o.y,height:o.height,width:o.height===0?0:o.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},n.config.legend.position!=="left"&&n.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>n.globals.svgWidth&&(this.dCtx.lgRect.width=n.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(n,r){var o=n;if(this.w.globals.isMultiLineX){var c=r.map(function(u,f){return Array.isArray(u)?u.length:1}),h=Math.max.apply(Math,W(c));o=r[c.indexOf(h)]}return o}}]),O}(),Fg=function(){function O(n){l(this,O),this.w=n.w,this.dCtx=n}return p(O,[{key:"getxAxisLabelsCoords",value:function(){var n,r=this.w,o=r.globals.labels.slice();if(r.config.xaxis.convertedCatToNumeric&&o.length===0&&(o=r.globals.categoryLabels),r.globals.timescaleLabels.length>0){var c=this.getxAxisTimeScaleLabelsCoords();n={width:c.width,height:c.height},r.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=r.config.legend.position!=="left"&&r.config.legend.position!=="right"||r.config.legend.floating?0:this.dCtx.lgRect.width;var h=r.globals.xLabelFormatter,u=_.getLargestStringFromArr(o),f=this.dCtx.dimHelpers.getLargestStringFromMultiArr(u,o);r.globals.isBarHorizontal&&(f=u=r.globals.yAxisScale[0].result.reduce(function(E,M){return E.length>M.length?E:M},0));var g=new ft(this.dCtx.ctx),x=u;u=g.xLabelFormat(h,u,x,{i:void 0,dateFormatter:new ye(this.dCtx.ctx).formatDate,w:r}),f=g.xLabelFormat(h,f,x,{i:void 0,dateFormatter:new ye(this.dCtx.ctx).formatDate,w:r}),(r.config.xaxis.convertedCatToNumeric&&u===void 0||String(u).trim()==="")&&(f=u="1");var y=new j(this.dCtx.ctx),v=y.getTextRects(u,r.config.xaxis.labels.style.fontSize),S=v;if(u!==f&&(S=y.getTextRects(f,r.config.xaxis.labels.style.fontSize)),(n={width:v.width>=S.width?v.width:S.width,height:v.height>=S.height?v.height:S.height}).width*o.length>r.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&r.config.xaxis.labels.rotate!==0||r.config.xaxis.labels.rotateAlways){if(!r.globals.isBarHorizontal){r.globals.rotateXLabels=!0;var C=function(E){return y.getTextRects(E,r.config.xaxis.labels.style.fontSize,r.config.xaxis.labels.style.fontFamily,"rotate(".concat(r.config.xaxis.labels.rotate," 0 0)"),!1)};v=C(u),u!==f&&(S=C(f)),n.height=(v.height>S.height?v.height:S.height)/1.5,n.width=v.width>S.width?v.width:S.width}}else r.globals.rotateXLabels=!1}return r.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var n,r=this.w;if(!r.globals.hasXaxisGroups)return{width:0,height:0};var o,c=((n=r.config.xaxis.group.style)===null||n===void 0?void 0:n.fontSize)||r.config.xaxis.labels.style.fontSize,h=r.globals.groups.map(function(v){return v.title}),u=_.getLargestStringFromArr(h),f=this.dCtx.dimHelpers.getLargestStringFromMultiArr(u,h),g=new j(this.dCtx.ctx),x=g.getTextRects(u,c),y=x;return u!==f&&(y=g.getTextRects(f,c)),o={width:x.width>=y.width?x.width:y.width,height:x.height>=y.height?x.height:y.height},r.config.xaxis.labels.show||(o={width:0,height:0}),{width:o.width,height:o.height}}},{key:"getxAxisTitleCoords",value:function(){var n=this.w,r=0,o=0;if(n.config.xaxis.title.text!==void 0){var c=new j(this.dCtx.ctx).getTextRects(n.config.xaxis.title.text,n.config.xaxis.title.style.fontSize);r=c.width,o=c.height}return{width:r,height:o}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var n,r=this.w;this.dCtx.timescaleLabels=r.globals.timescaleLabels.slice();var o=this.dCtx.timescaleLabels.map(function(h){return h.value}),c=o.reduce(function(h,u){return h===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):h.length>u.length?h:u},0);return 1.05*(n=new j(this.dCtx.ctx).getTextRects(c,r.config.xaxis.labels.style.fontSize)).width*o.length>r.globals.gridWidth&&r.config.xaxis.labels.rotate!==0&&(r.globals.overlappingXLabels=!0),n}},{key:"additionalPaddingXLabels",value:function(n){var r=this,o=this.w,c=o.globals,h=o.config,u=h.xaxis.type,f=n.width;c.skipLastTimelinelabel=!1,c.skipFirstTimelinelabel=!1;var g=o.config.yaxis[0].opposite&&o.globals.isBarHorizontal,x=function(y,v){h.yaxis.length>1&&function(S){return c.collapsedSeriesIndices.indexOf(S)!==-1}(v)||function(S){if(r.dCtx.timescaleLabels&&r.dCtx.timescaleLabels.length){var C=r.dCtx.timescaleLabels[0],E=r.dCtx.timescaleLabels[r.dCtx.timescaleLabels.length-1].position+f/1.75-r.dCtx.yAxisWidthRight,M=C.position-f/1.75+r.dCtx.yAxisWidthLeft,P=o.config.legend.position==="right"&&r.dCtx.lgRect.width>0?r.dCtx.lgRect.width:0;E>c.svgWidth-c.translateX-P&&(c.skipLastTimelinelabel=!0),M<-(S.show&&!S.floating||h.chart.type!=="bar"&&h.chart.type!=="candlestick"&&h.chart.type!=="rangeBar"&&h.chart.type!=="boxPlot"?10:f/1.75)&&(c.skipFirstTimelinelabel=!0)}else u==="datetime"?r.dCtx.gridPad.right<f&&!c.rotateXLabels&&(c.skipLastTimelinelabel=!0):u!=="datetime"&&r.dCtx.gridPad.right<f/2-r.dCtx.yAxisWidthRight&&!c.rotateXLabels&&!o.config.xaxis.labels.trim&&(o.config.xaxis.tickPlacement!=="between"||o.globals.isBarHorizontal)&&(r.dCtx.xPadRight=f/2+1)}(y)};h.yaxis.forEach(function(y,v){g?(r.dCtx.gridPad.left<f&&(r.dCtx.xPadLeft=f/2+1),r.dCtx.xPadRight=f/2+1):x(y,v)})}}]),O}(),zg=function(){function O(n){l(this,O),this.w=n.w,this.dCtx=n}return p(O,[{key:"getyAxisLabelsCoords",value:function(){var n=this,r=this.w,o=[],c=10,h=new Li(this.dCtx.ctx);return r.config.yaxis.map(function(u,f){var g={seriesIndex:f,dataPointIndex:-1,w:r},x=r.globals.yAxisScale[f],y=0;if(!h.isYAxisHidden(f)&&u.labels.show&&u.labels.minWidth!==void 0&&(y=u.labels.minWidth),!h.isYAxisHidden(f)&&u.labels.show&&x.result.length){var v=r.globals.yLabelFormatters[f],S=x.niceMin===Number.MIN_VALUE?0:x.niceMin,C=x.result.reduce(function(w,T){var I,B;return((I=String(v(w,g)))===null||I===void 0?void 0:I.length)>((B=String(v(T,g)))===null||B===void 0?void 0:B.length)?w:T},S),E=C=v(C,g);if(C!==void 0&&C.length!==0||(C=x.niceMax),r.globals.isBarHorizontal){c=0;var M=r.globals.labels.slice();C=_.getLargestStringFromArr(M),C=v(C,{seriesIndex:f,dataPointIndex:-1,w:r}),E=n.dCtx.dimHelpers.getLargestStringFromMultiArr(C,M)}var P=new j(n.dCtx.ctx),N="rotate(".concat(u.labels.rotate," 0 0)"),F=P.getTextRects(C,u.labels.style.fontSize,u.labels.style.fontFamily,N,!1),m=F;C!==E&&(m=P.getTextRects(E,u.labels.style.fontSize,u.labels.style.fontFamily,N,!1)),o.push({width:(y>m.width||y>F.width?y:m.width>F.width?m.width:F.width)+c,height:m.height>F.height?m.height:F.height})}else o.push({width:0,height:0})}),o}},{key:"getyAxisTitleCoords",value:function(){var n=this,r=this.w,o=[];return r.config.yaxis.map(function(c,h){if(c.show&&c.title.text!==void 0){var u=new j(n.dCtx.ctx),f="rotate(".concat(c.title.rotate," 0 0)"),g=u.getTextRects(c.title.text,c.title.style.fontSize,c.title.style.fontFamily,f,!1);o.push({width:g.width,height:g.height})}else o.push({width:0,height:0})}),o}},{key:"getTotalYAxisWidth",value:function(){var n=this.w,r=0,o=0,c=0,h=n.globals.yAxisScale.length>1?10:0,u=new Li(this.dCtx.ctx),f=function(g,x){var y=n.config.yaxis[x].floating,v=0;g.width>0&&!y?(v=g.width+h,function(S){return n.globals.ignoreYAxisIndexes.indexOf(S)>-1}(x)&&(v=v-g.width-h)):v=y||u.isYAxisHidden(x)?0:5,n.config.yaxis[x].opposite?c+=v:o+=v,r+=v};return n.globals.yLabelsCoords.map(function(g,x){f(g,x)}),n.globals.yTitleCoords.map(function(g,x){f(g,x)}),n.globals.isBarHorizontal&&!n.config.yaxis[0].floating&&(r=n.globals.yLabelsCoords[0].width+n.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=o,this.dCtx.yAxisWidthRight=c,r}}]),O}(),Bg=function(){function O(n){l(this,O),this.w=n.w,this.dCtx=n}return p(O,[{key:"gridPadForColumnsInNumericAxis",value:function(n){var r=this.w;if(r.globals.noData||r.globals.allSeriesCollapsed)return 0;var o=function(y){return y==="bar"||y==="rangeBar"||y==="candlestick"||y==="boxPlot"},c=r.config.chart.type,h=0,u=o(c)?r.config.series.length:1;if(r.globals.comboBarCount>0&&(u=r.globals.comboBarCount),r.globals.collapsedSeries.forEach(function(y){o(y.type)&&(u-=1)}),r.config.chart.stacked&&(u=1),(o(c)||r.globals.comboBarCount>0)&&r.globals.isXNumeric&&!r.globals.isBarHorizontal&&u>0){var f,g,x=Math.abs(r.globals.initialMaxX-r.globals.initialMinX);x<=3&&(x=r.globals.dataPoints),f=x/n,r.globals.minXDiff&&r.globals.minXDiff/f>0&&(g=r.globals.minXDiff/f),g>n/2&&(g/=2),(h=g/u*parseInt(r.config.plotOptions.bar.columnWidth,10)/100)<1&&(h=1),h=h/(u>1?1:1.5)+5,r.globals.barPadForNumericAxis=h}return h}},{key:"gridPadFortitleSubtitle",value:function(){var n=this,r=this.w,o=r.globals,c=this.dCtx.isSparkline||!r.globals.axisCharts?0:10;["title","subtitle"].forEach(function(f){r.config[f].text!==void 0?c+=r.config[f].margin:c+=n.dCtx.isSparkline||!r.globals.axisCharts?0:5}),!r.config.legend.show||r.config.legend.position!=="bottom"||r.config.legend.floating||r.globals.axisCharts||(c+=10);var h=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),u=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");o.gridHeight=o.gridHeight-h.height-u.height-c,o.translateY=o.translateY+h.height+u.height+c}},{key:"setGridXPosForDualYAxis",value:function(n,r){var o=this.w,c=new Li(this.dCtx.ctx);o.config.yaxis.map(function(h,u){o.globals.ignoreYAxisIndexes.indexOf(u)!==-1||h.floating||c.isYAxisHidden(u)||(h.opposite&&(o.globals.translateX=o.globals.translateX-(r[u].width+n[u].width)-parseInt(o.config.yaxis[u].labels.style.fontSize,10)/1.2-12),o.globals.translateX<2&&(o.globals.translateX=2))})}}]),O}(),Rs=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Dg(this),this.dimYAxis=new zg(this),this.dimXAxis=new Fg(this),this.dimGrid=new Bg(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return p(O,[{key:"plotCoords",value:function(){var n=this,r=this.w,o=r.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(r.config.markers.discrete.length>0||r.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(h){var u=D(h,2),f=u[0],g=u[1];n.gridPad[f]=Math.max(g,n.w.globals.markers.largestSize/1.5)}),o.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),o.gridHeight=o.gridHeight-this.gridPad.top-this.gridPad.bottom,o.gridWidth=o.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var c=this.dimGrid.gridPadForColumnsInNumericAxis(o.gridWidth);o.gridWidth=o.gridWidth-2*c,o.translateX=o.translateX+this.gridPad.left+this.xPadLeft+(c>0?c+4:0),o.translateY=o.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var n=this,r=this.w,o=r.globals,c=this.dimYAxis.getyAxisLabelsCoords(),h=this.dimYAxis.getyAxisTitleCoords();r.globals.yLabelsCoords=[],r.globals.yTitleCoords=[],r.config.yaxis.map(function(C,E){r.globals.yLabelsCoords.push({width:c[E].width,index:E}),r.globals.yTitleCoords.push({width:h[E].width,index:E})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var u=this.dimXAxis.getxAxisLabelsCoords(),f=this.dimXAxis.getxAxisGroupLabelsCoords(),g=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(u,g,f),o.translateXAxisY=r.globals.rotateXLabels?this.xAxisHeight/8:-4,o.translateXAxisX=r.globals.rotateXLabels&&r.globals.isXNumeric&&r.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,r.globals.isBarHorizontal&&(o.rotateXLabels=!1,o.translateXAxisY=parseInt(r.config.xaxis.labels.style.fontSize,10)/1.5*-1),o.translateXAxisY=o.translateXAxisY+r.config.xaxis.labels.offsetY,o.translateXAxisX=o.translateXAxisX+r.config.xaxis.labels.offsetX;var x=this.yAxisWidth,y=this.xAxisHeight;o.xAxisLabelsHeight=this.xAxisHeight-g.height,o.xAxisGroupLabelsHeight=o.xAxisLabelsHeight-u.height,o.xAxisLabelsWidth=this.xAxisWidth,o.xAxisHeight=this.xAxisHeight;var v=10;(r.config.chart.type==="radar"||this.isSparkline)&&(x=0,y=o.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||r.config.chart.type==="treemap")&&(x=0,y=0,v=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(u);var S=function(){o.translateX=x,o.gridHeight=o.svgHeight-n.lgRect.height-y-(n.isSparkline||r.config.chart.type==="treemap"?0:r.globals.rotateXLabels?10:15),o.gridWidth=o.svgWidth-x};switch(r.config.xaxis.position==="top"&&(v=o.xAxisHeight-r.config.xaxis.axisTicks.height-5),r.config.legend.position){case"bottom":o.translateY=v,S();break;case"top":o.translateY=this.lgRect.height+v,S();break;case"left":o.translateY=v,o.translateX=this.lgRect.width+x,o.gridHeight=o.svgHeight-y-12,o.gridWidth=o.svgWidth-this.lgRect.width-x;break;case"right":o.translateY=v,o.translateX=x,o.gridHeight=o.svgHeight-y-12,o.gridWidth=o.svgWidth-this.lgRect.width-x-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(h,c),new Aa(this.ctx).setYAxisXPosition(c,h)}},{key:"setDimensionsForNonAxisCharts",value:function(){var n=this.w,r=n.globals,o=n.config,c=0;n.config.legend.show&&!n.config.legend.floating&&(c=20);var h=o.chart.type==="pie"||o.chart.type==="polarArea"||o.chart.type==="donut"?"pie":"radialBar",u=o.plotOptions[h].offsetY,f=o.plotOptions[h].offsetX;if(!o.legend.show||o.legend.floating)return r.gridHeight=r.svgHeight-o.grid.padding.left+o.grid.padding.right,r.gridWidth=r.gridHeight,r.translateY=u,void(r.translateX=f+(r.svgWidth-r.gridWidth)/2);switch(o.legend.position){case"bottom":r.gridHeight=r.svgHeight-this.lgRect.height-r.goldenPadding,r.gridWidth=r.svgWidth,r.translateY=u-10,r.translateX=f+(r.svgWidth-r.gridWidth)/2;break;case"top":r.gridHeight=r.svgHeight-this.lgRect.height-r.goldenPadding,r.gridWidth=r.svgWidth,r.translateY=this.lgRect.height+u+10,r.translateX=f+(r.svgWidth-r.gridWidth)/2;break;case"left":r.gridWidth=r.svgWidth-this.lgRect.width-c,r.gridHeight=o.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=u,r.translateX=f+this.lgRect.width+c;break;case"right":r.gridWidth=r.svgWidth-this.lgRect.width-c-5,r.gridHeight=o.chart.height!=="auto"?r.svgHeight:r.gridWidth,r.translateY=u,r.translateX=f+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(n,r,o){var c=this.w,h=c.globals.hasXaxisGroups?2:1,u=o.height+n.height+r.height,f=c.globals.isMultiLineX?1.2:c.globals.LINE_HEIGHT_RATIO,g=c.globals.rotateXLabels?22:10,x=c.globals.rotateXLabels&&c.config.legend.position==="bottom"?10:0;this.xAxisHeight=u*f+h*g+x,this.xAxisWidth=n.width,this.xAxisHeight-r.height>c.config.xaxis.labels.maxHeight&&(this.xAxisHeight=c.config.xaxis.labels.maxHeight),c.config.xaxis.labels.minHeight&&this.xAxisHeight<c.config.xaxis.labels.minHeight&&(this.xAxisHeight=c.config.xaxis.labels.minHeight),c.config.xaxis.floating&&(this.xAxisHeight=0);var y=0,v=0;c.config.yaxis.forEach(function(S){y+=S.labels.minWidth,v+=S.labels.maxWidth}),this.yAxisWidth<y&&(this.yAxisWidth=y),this.yAxisWidth>v&&(this.yAxisWidth=v)}}]),O}(),Hg=function(){function O(n){l(this,O),this.w=n.w,this.lgCtx=n}return p(O,[{key:"getLegendStyles",value:function(){var n=document.createElement("style");n.setAttribute("type","text/css");var r=document.createTextNode(`	
    	
      .apexcharts-legend {	
        display: flex;	
        overflow: auto;	
        padding: 0 10px;	
      }	
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
        flex-wrap: wrap	
      }	
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        flex-direction: column;	
        bottom: 0;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        justify-content: flex-start;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
        justify-content: center;  	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
        justify-content: flex-end;	
      }	
      .apexcharts-legend-series {	
        cursor: pointer;	
        line-height: normal;	
      }	
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
        display: flex;	
        align-items: center;	
      }	
      .apexcharts-legend-text {	
        position: relative;	
        font-size: 14px;	
      }	
      .apexcharts-legend-text *, .apexcharts-legend-marker * {	
        pointer-events: none;	
      }	
      .apexcharts-legend-marker {	
        position: relative;	
        display: inline-block;	
        cursor: pointer;	
        margin-right: 3px;	
        border-style: solid;
      }	
      	
      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
        display: inline-block;	
      }	
      .apexcharts-legend-series.apexcharts-no-click {	
        cursor: auto;	
      }	
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
        display: none !important;	
      }	
      .apexcharts-inactive-legend {	
        opacity: 0.45;	
      }`);return n.appendChild(r),n}},{key:"getLegendBBox",value:function(){var n=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),r=n.width;return{clwh:n.height,clww:r}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(n,r){var o=this,c=this.w;if(c.globals.axisCharts||c.config.chart.type==="radialBar"){c.globals.resized=!0;var h=null,u=null;c.globals.risingSeries=[],c.globals.axisCharts?(h=c.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"']")),u=parseInt(h.getAttribute("data:realIndex"),10)):(h=c.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"']")),u=parseInt(h.getAttribute("rel"),10)-1),r?[{cs:c.globals.collapsedSeries,csi:c.globals.collapsedSeriesIndices},{cs:c.globals.ancillaryCollapsedSeries,csi:c.globals.ancillaryCollapsedSeriesIndices}].forEach(function(y){o.riseCollapsedSeries(y.cs,y.csi,u)}):this.hideSeries({seriesEl:h,realIndex:u})}else{var f=c.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(n+1,"'] path")),g=c.config.chart.type;if(g==="pie"||g==="polarArea"||g==="donut"){var x=c.config.plotOptions.pie.donut.labels;new j(this.lgCtx.ctx).pathMouseDown(f.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(f.members[0].node,x)}f.fire("click")}}},{key:"hideSeries",value:function(n){var r=n.seriesEl,o=n.realIndex,c=this.w,h=_.clone(c.config.series);if(c.globals.axisCharts){var u=!1;if(c.config.yaxis[o]&&c.config.yaxis[o].show&&c.config.yaxis[o].showAlways&&(u=!0,c.globals.ancillaryCollapsedSeriesIndices.indexOf(o)<0&&(c.globals.ancillaryCollapsedSeries.push({index:o,data:h[o].data.slice(),type:r.parentNode.className.baseVal.split("-")[1]}),c.globals.ancillaryCollapsedSeriesIndices.push(o))),!u){c.globals.collapsedSeries.push({index:o,data:h[o].data.slice(),type:r.parentNode.className.baseVal.split("-")[1]}),c.globals.collapsedSeriesIndices.push(o);var f=c.globals.risingSeries.indexOf(o);c.globals.risingSeries.splice(f,1)}}else c.globals.collapsedSeries.push({index:o,data:h[o]}),c.globals.collapsedSeriesIndices.push(o);for(var g=r.childNodes,x=0;x<g.length;x++)g[x].classList.contains("apexcharts-series-markers-wrap")&&(g[x].classList.contains("apexcharts-hide")?g[x].classList.remove("apexcharts-hide"):g[x].classList.add("apexcharts-hide"));c.globals.allSeriesCollapsed=c.globals.collapsedSeries.length===c.config.series.length,h=this._getSeriesBasedOnCollapsedState(h),this.lgCtx.ctx.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(n,r,o){var c=this.w,h=_.clone(c.config.series);if(n.length>0){for(var u=0;u<n.length;u++)n[u].index===o&&(c.globals.axisCharts?(h[o].data=n[u].data.slice(),n.splice(u,1),r.splice(u,1),c.globals.risingSeries.push(o)):(h[o]=n[u].data,n.splice(u,1),r.splice(u,1),c.globals.risingSeries.push(o)));h=this._getSeriesBasedOnCollapsedState(h),this.lgCtx.ctx.updateHelpers._updateSeries(h,c.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(n){var r=this.w;return r.globals.axisCharts?n.forEach(function(o,c){r.globals.collapsedSeriesIndices.indexOf(c)>-1&&(n[c].data=[])}):n.forEach(function(o,c){r.globals.collapsedSeriesIndices.indexOf(c)>-1&&(n[c]=0)}),n}}]),O}(),Oc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Hg(this)}return p(O,[{key:"init",value:function(){var n=this.w,r=n.globals,o=n.config;if((o.legend.showForSingleSeries&&r.series.length===1||this.isBarsDistributed||r.series.length>1||!r.axisCharts)&&o.legend.show){for(;r.dom.elLegendWrap.firstChild;)r.dom.elLegendWrap.removeChild(r.dom.elLegendWrap.firstChild);this.drawLegends(),_.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),o.legend.position==="bottom"||o.legend.position==="top"?this.legendAlignHorizontal():o.legend.position!=="right"&&o.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var n=this,r=this.w,o=r.config.legend.fontFamily,c=r.globals.seriesNames,h=r.globals.colors.slice();if(r.config.chart.type==="heatmap"){var u=r.config.plotOptions.heatmap.colorScale.ranges;c=u.map(function($){return $.name?$.name:$.from+" - "+$.to}),h=u.map(function($){return $.color})}else this.isBarsDistributed&&(c=r.globals.labels.slice());r.config.legend.customLegendItems.length&&(c=r.config.legend.customLegendItems);for(var f=r.globals.legendFormatter,g=r.config.legend.inverseOrder,x=g?c.length-1:0;g?x>=0:x<=c.length-1;g?x--:x++){var y,v=f(c[x],{seriesIndex:x,w:r}),S=!1,C=!1;if(r.globals.collapsedSeries.length>0)for(var E=0;E<r.globals.collapsedSeries.length;E++)r.globals.collapsedSeries[E].index===x&&(S=!0);if(r.globals.ancillaryCollapsedSeriesIndices.length>0)for(var M=0;M<r.globals.ancillaryCollapsedSeriesIndices.length;M++)r.globals.ancillaryCollapsedSeriesIndices[M]===x&&(C=!0);var P=document.createElement("span");P.classList.add("apexcharts-legend-marker");var N=r.config.legend.markers.offsetX,F=r.config.legend.markers.offsetY,m=r.config.legend.markers.height,w=r.config.legend.markers.width,T=r.config.legend.markers.strokeWidth,I=r.config.legend.markers.strokeColor,B=r.config.legend.markers.radius,H=P.style;H.background=h[x],H.color=h[x],H.setProperty("background",h[x],"important"),r.config.legend.markers.fillColors&&r.config.legend.markers.fillColors[x]&&(H.background=r.config.legend.markers.fillColors[x]),r.globals.seriesColors[x]!==void 0&&(H.background=r.globals.seriesColors[x],H.color=r.globals.seriesColors[x]),H.height=Array.isArray(m)?parseFloat(m[x])+"px":parseFloat(m)+"px",H.width=Array.isArray(w)?parseFloat(w[x])+"px":parseFloat(w)+"px",H.left=(Array.isArray(N)?parseFloat(N[x]):parseFloat(N))+"px",H.top=(Array.isArray(F)?parseFloat(F[x]):parseFloat(F))+"px",H.borderWidth=Array.isArray(T)?T[x]:T,H.borderColor=Array.isArray(I)?I[x]:I,H.borderRadius=Array.isArray(B)?parseFloat(B[x])+"px":parseFloat(B)+"px",r.config.legend.markers.customHTML&&(Array.isArray(r.config.legend.markers.customHTML)?r.config.legend.markers.customHTML[x]&&(P.innerHTML=r.config.legend.markers.customHTML[x]()):P.innerHTML=r.config.legend.markers.customHTML()),j.setAttrs(P,{rel:x+1,"data:collapsed":S||C}),(S||C)&&P.classList.add("apexcharts-inactive-legend");var Y=document.createElement("div"),V=document.createElement("span");V.classList.add("apexcharts-legend-text"),V.innerHTML=Array.isArray(v)?v.join(" "):v;var U=r.config.legend.labels.useSeriesColors?r.globals.colors[x]:Array.isArray(r.config.legend.labels.colors)?(y=r.config.legend.labels.colors)===null||y===void 0?void 0:y[x]:r.config.legend.labels.colors;U||(U=r.config.chart.foreColor),V.style.color=U,V.style.fontSize=parseFloat(r.config.legend.fontSize)+"px",V.style.fontWeight=r.config.legend.fontWeight,V.style.fontFamily=o||r.config.chart.fontFamily,j.setAttrs(V,{rel:x+1,i:x,"data:default-text":encodeURIComponent(v),"data:collapsed":S||C}),Y.appendChild(P),Y.appendChild(V);var K=new q(this.ctx);r.config.legend.showForZeroSeries||K.getSeriesTotalByIndex(x)===0&&K.seriesHaveSameValues(x)&&!K.isSeriesNull(x)&&r.globals.collapsedSeriesIndices.indexOf(x)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(x)===-1&&Y.classList.add("apexcharts-hidden-zero-series"),r.config.legend.showForNullSeries||K.isSeriesNull(x)&&r.globals.collapsedSeriesIndices.indexOf(x)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(x)===-1&&Y.classList.add("apexcharts-hidden-null-series"),r.globals.dom.elLegendWrap.appendChild(Y),r.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(r.config.legend.horizontalAlign)),r.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+r.config.legend.position),Y.classList.add("apexcharts-legend-series"),Y.style.margin="".concat(r.config.legend.itemMargin.vertical,"px ").concat(r.config.legend.itemMargin.horizontal,"px"),r.globals.dom.elLegendWrap.style.width=r.config.legend.width?r.config.legend.width+"px":"",r.globals.dom.elLegendWrap.style.height=r.config.legend.height?r.config.legend.height+"px":"",j.setAttrs(Y,{rel:x+1,seriesName:_.escapeString(c[x]),"data:collapsed":S||C}),(S||C)&&Y.classList.add("apexcharts-inactive-legend"),r.config.legend.onItemClick.toggleDataSeries||Y.classList.add("apexcharts-no-click")}r.globals.dom.elWrap.addEventListener("click",n.onLegendClick,!0),r.config.legend.onItemHover.highlightDataSeries&&r.config.legend.customLegendItems.length===0&&(r.globals.dom.elWrap.addEventListener("mousemove",n.onLegendHovered,!0),r.globals.dom.elWrap.addEventListener("mouseout",n.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(n,r){var o=this.w,c=o.globals.dom.elLegendWrap,h=c.getBoundingClientRect(),u=0,f=0;if(o.config.legend.position==="bottom")f+=o.globals.svgHeight-h.height/2;else if(o.config.legend.position==="top"){var g=new Rs(this.ctx),x=g.dimHelpers.getTitleSubtitleCoords("title").height,y=g.dimHelpers.getTitleSubtitleCoords("subtitle").height;f=f+(x>0?x-10:0)+(y>0?y-10:0)}c.style.position="absolute",u=u+n+o.config.legend.offsetX,f=f+r+o.config.legend.offsetY,c.style.left=u+"px",c.style.top=f+"px",o.config.legend.position==="bottom"?(c.style.top="auto",c.style.bottom=5-o.config.legend.offsetY+"px"):o.config.legend.position==="right"&&(c.style.left="auto",c.style.right=25+o.config.legend.offsetX+"px"),["width","height"].forEach(function(v){c.style[v]&&(c.style[v]=parseInt(o.config.legend[v],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var n=this.w;n.globals.dom.elLegendWrap.style.right=0;var r=this.legendHelpers.getLegendBBox(),o=new Rs(this.ctx),c=o.dimHelpers.getTitleSubtitleCoords("title"),h=o.dimHelpers.getTitleSubtitleCoords("subtitle"),u=0;n.config.legend.position==="bottom"?u=-r.clwh/1.8:n.config.legend.position==="top"&&(u=c.height+h.height+n.config.title.margin+n.config.subtitle.margin-10),this.setLegendWrapXY(20,u)}},{key:"legendAlignVertical",value:function(){var n=this.w,r=this.legendHelpers.getLegendBBox(),o=0;n.config.legend.position==="left"&&(o=20),n.config.legend.position==="right"&&(o=n.globals.svgWidth-r.clww-10),this.setLegendWrapXY(o,20)}},{key:"onLegendHovered",value:function(n){var r=this.w,o=n.target.classList.contains("apexcharts-legend-series")||n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker");if(r.config.chart.type==="heatmap"||this.isBarsDistributed){if(o){var c=parseInt(n.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,c,this.w]),new gt(this.ctx).highlightRangeInSeries(n,n.target)}}else!n.target.classList.contains("apexcharts-inactive-legend")&&o&&new gt(this.ctx).toggleSeriesOnHover(n,n.target)}},{key:"onLegendClick",value:function(n){var r=this.w;if(!r.config.legend.customLegendItems.length&&(n.target.classList.contains("apexcharts-legend-series")||n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker"))){var o=parseInt(n.target.getAttribute("rel"),10)-1,c=n.target.getAttribute("data:collapsed")==="true",h=this.w.config.chart.events.legendClick;typeof h=="function"&&h(this.ctx,o,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,o,this.w]);var u=this.w.config.legend.markers.onClick;typeof u=="function"&&n.target.classList.contains("apexcharts-legend-marker")&&(u(this.ctx,o,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,o,this.w])),r.config.chart.type!=="treemap"&&r.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&r.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(o,c)}}}]),O}(),Rc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w;var r=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=r.globals.minX,this.maxX=r.globals.maxX}return p(O,[{key:"createToolbar",value:function(){var n=this,r=this.w,o=function(){return document.createElement("div")},c=o();if(c.setAttribute("class","apexcharts-toolbar"),c.style.top=r.config.chart.toolbar.offsetY+"px",c.style.right=3-r.config.chart.toolbar.offsetX+"px",r.globals.dom.elWrap.appendChild(c),this.elZoom=o(),this.elZoomIn=o(),this.elZoomOut=o(),this.elPan=o(),this.elSelection=o(),this.elZoomReset=o(),this.elMenuIcon=o(),this.elMenu=o(),this.elCustomIcons=[],this.t=r.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var h=0;h<this.t.customIcons.length;h++)this.elCustomIcons.push(o());var u=[],f=function(v,S,C){var E=v.toLowerCase();n.t[E]&&r.config.chart.zoom.enabled&&u.push({el:S,icon:typeof n.t[E]=="string"?n.t[E]:C,title:n.localeValues[v],class:"apexcharts-".concat(E,"-icon")})};f("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),f("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var g=function(v){n.t[v]&&r.config.chart[v].enabled&&u.push({el:v==="zoom"?n.elZoom:n.elSelection,icon:typeof n.t[v]=="string"?n.t[v]:v==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:n.localeValues[v==="zoom"?"selectionZoom":"selection"],class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(v,"-icon")})};g("zoom"),g("selection"),this.t.pan&&r.config.chart.zoom.enabled&&u.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:r.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),f("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&u.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var x=0;x<this.elCustomIcons.length;x++)u.push({el:this.elCustomIcons[x],icon:this.t.customIcons[x].icon,title:this.t.customIcons[x].title,index:this.t.customIcons[x].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[x].class});u.forEach(function(v,S){v.index&&_.moveIndexInArray(u,S,v.index)});for(var y=0;y<u.length;y++)j.setAttrs(u[y].el,{class:u[y].class,title:u[y].title}),u[y].el.innerHTML=u[y].icon,c.appendChild(u[y].el);this._createHamburgerMenu(c),r.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):r.globals.panEnabled?this.elPan.classList.add(this.selectedClass):r.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(n){this.elMenuItems=[],n.appendChild(this.elMenu),j.setAttrs(this.elMenu,{class:"apexcharts-menu"});var r=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||r.splice(2,1);for(var o=0;o<r.length;o++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[o].innerHTML=r[o].title,j.setAttrs(this.elMenuItems[o],{class:"apexcharts-menu-item ".concat(r[o].name),title:r[o].title}),this.elMenu.appendChild(this.elMenuItems[o])}},{key:"addToolbarEventListeners",value:function(){var n=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(o){o.classList.contains("exportSVG")?o.addEventListener("click",n.handleDownload.bind(n,"svg")):o.classList.contains("exportPNG")?o.addEventListener("click",n.handleDownload.bind(n,"png")):o.classList.contains("exportCSV")&&o.addEventListener("click",n.handleDownload.bind(n,"csv"))});for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons[r].addEventListener("click",this.t.customIcons[r].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(n){this.ctx.getSyncedCharts().forEach(function(r){r.ctx.toolbar.toggleOtherControls();var o=n==="selection"?r.ctx.toolbar.elSelection:r.ctx.toolbar.elZoom,c=n==="selection"?"selectionEnabled":"zoomEnabled";r.w.globals[c]=!r.w.globals[c],o.classList.contains(r.ctx.toolbar.selectedClass)?o.classList.remove(r.ctx.toolbar.selectedClass):o.classList.add(r.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var n=this.w;this.elZoom||(this.elZoom=n.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=n.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=n.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(n){this.toggleOtherControls(),n==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var r=n==="pan"?this.elPan:this.elZoom,o=n==="pan"?this.elZoom:this.elPan;r&&r.classList.add(this.selectedClass),o&&o.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(n){n.ctx.toolbar.toggleOtherControls(),n.w.globals.panEnabled=!n.w.globals.panEnabled,n.ctx.toolbar.elPan.classList.contains(n.ctx.toolbar.selectedClass)?n.ctx.toolbar.elPan.classList.remove(n.ctx.toolbar.selectedClass):n.ctx.toolbar.elPan.classList.add(n.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var n=this,r=this.w;r.globals.panEnabled=!1,r.globals.zoomEnabled=!1,r.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(o){o&&o.classList.remove(n.selectedClass)})}},{key:"handleZoomIn",value:function(){var n=this.w;n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY);var r=(this.minX+this.maxX)/2,o=(this.minX+r)/2,c=(this.maxX+r)/2,h=this._getNewMinXMaxX(o,c);n.globals.disableZoomIn||this.zoomUpdateOptions(h.minX,h.maxX)}},{key:"handleZoomOut",value:function(){var n=this.w;if(n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY),!(n.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var r=(this.minX+this.maxX)/2,o=this.minX-(r-this.minX),c=this.maxX-(r-this.maxX),h=this._getNewMinXMaxX(o,c);n.globals.disableZoomOut||this.zoomUpdateOptions(h.minX,h.maxX)}}},{key:"_getNewMinXMaxX",value:function(n,r){var o=this.w.config.xaxis.convertedCatToNumeric;return{minX:o?Math.floor(n):n,maxX:o?Math.floor(r):r}}},{key:"zoomUpdateOptions",value:function(n,r){var o=this.w;if(n!==void 0||r!==void 0){if(!(o.config.xaxis.convertedCatToNumeric&&(n<1&&(n=1,r=o.globals.dataPoints),r-n<2))){var c={min:n,max:r},h=this.getBeforeZoomRange(c);h&&(c=h.xaxis);var u={xaxis:c},f=_.clone(o.globals.initialConfig.yaxis);o.config.chart.zoom.autoScaleYaxis&&(f=new ln(this.ctx).autoScaleY(this.ctx,f,{xaxis:c})),o.config.chart.group||(u.yaxis=f),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(u,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(c,f)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(n,r){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:n,yaxis:r})}},{key:"getBeforeZoomRange",value:function(n,r){var o=null;return typeof this.ev.beforeZoom=="function"&&(o=this.ev.beforeZoom(this,{xaxis:n,yaxis:r})),o}},{key:"toggleMenu",value:function(){var n=this;window.setTimeout(function(){n.elMenu.classList.contains("apexcharts-menu-open")?n.elMenu.classList.remove("apexcharts-menu-open"):n.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(n){var r=this.w,o=new Os(this.ctx);switch(n){case"svg":o.exportToSVG(this.ctx);break;case"png":o.exportToPng(this.ctx);break;case"csv":o.exportToCSV({series:r.config.series,columnDelimiter:r.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(n){this.ctx.getSyncedCharts().forEach(function(r){var o=r.w;if(o.globals.lastXAxis.min=o.globals.initialConfig.xaxis.min,o.globals.lastXAxis.max=o.globals.initialConfig.xaxis.max,r.updateHelpers.revertDefaultAxisMinMax(),typeof o.config.chart.events.beforeResetZoom=="function"){var c=o.config.chart.events.beforeResetZoom(r,o);c&&r.updateHelpers.revertDefaultAxisMinMax(c)}typeof o.config.chart.events.zoomed=="function"&&r.ctx.toolbar.zoomCallback({min:o.config.xaxis.min,max:o.config.xaxis.max}),o.globals.zoomed=!1;var h=r.ctx.series.emptyCollapsedSeries(_.clone(o.globals.initialSeries));r.updateHelpers._updateSeries(h,o.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),O}(),_g=function(O){k(r,Rc);var n=z(r);function r(o){var c;return l(this,r),(c=n.call(this,o)).ctx=o,c.w=o.w,c.dragged=!1,c.graphics=new j(c.ctx),c.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],c.clientX=0,c.clientY=0,c.startX=0,c.endX=0,c.dragX=0,c.startY=0,c.endY=0,c.dragY=0,c.moveDirection="none",c}return p(r,[{key:"init",value:function(o){var c=this,h=o.xyRatios,u=this.w,f=this;this.xyRatios=h,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=u.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),u.globals.dom.elGraphical.add(this.zoomRect),u.globals.dom.elGraphical.add(this.selectionRect),u.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:u.globals.gridWidth,maxY:u.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):u.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:u.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=u.globals.dom.baseEl.querySelector("".concat(u.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(g){c.hoverArea.addEventListener(g,f.svgMouseEvents.bind(f,h),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(o,c){var h=this.w,u=this,f=this.ctx.toolbar,g=h.globals.zoomEnabled?h.config.chart.zoom.type:h.config.chart.selection.type,x=h.config.chart.toolbar.autoSelected;if(c.shiftKey?(this.shiftWasPressed=!0,f.enableZoomPanFromToolbar(x==="pan"?"zoom":"pan")):this.shiftWasPressed&&(f.enableZoomPanFromToolbar(x),this.shiftWasPressed=!1),c.target){var y,v=c.target.classList;if(c.target.parentNode&&c.target.parentNode!==null&&(y=c.target.parentNode.classList),!(v.contains("apexcharts-selection-rect")||v.contains("apexcharts-legend-marker")||v.contains("apexcharts-legend-text")||y&&y.contains("apexcharts-toolbar"))){if(u.clientX=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientX:c.type==="touchend"?c.changedTouches[0].clientX:c.clientX,u.clientY=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientY:c.type==="touchend"?c.changedTouches[0].clientY:c.clientY,c.type==="mousedown"&&c.which===1){var S=u.gridRect.getBoundingClientRect();u.startX=u.clientX-S.left,u.startY=u.clientY-S.top,u.dragged=!1,u.w.globals.mousedown=!0}if((c.type==="mousemove"&&c.which===1||c.type==="touchmove")&&(u.dragged=!0,h.globals.panEnabled?(h.globals.selection=null,u.w.globals.mousedown&&u.panDragging({context:u,zoomtype:g,xyRatios:o})):(u.w.globals.mousedown&&h.globals.zoomEnabled||u.w.globals.mousedown&&h.globals.selectionEnabled)&&(u.selection=u.selectionDrawing({context:u,zoomtype:g}))),c.type==="mouseup"||c.type==="touchend"||c.type==="mouseleave"){var C=u.gridRect.getBoundingClientRect();u.w.globals.mousedown&&(u.endX=u.clientX-C.left,u.endY=u.clientY-C.top,u.dragX=Math.abs(u.endX-u.startX),u.dragY=Math.abs(u.endY-u.startY),(h.globals.zoomEnabled||h.globals.selectionEnabled)&&u.selectionDrawn({context:u,zoomtype:g}),h.globals.panEnabled&&h.config.xaxis.convertedCatToNumeric&&u.delayedPanScrolled()),h.globals.zoomEnabled&&u.hideSelectionRect(this.selectionRect),u.dragged=!1,u.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var o=this.w;if(this.selectionRect){var c=this.selectionRect.node.getBoundingClientRect();c.width>0&&c.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var o=this.w,c=this.xyRatios;if(!o.globals.zoomEnabled){if(o.globals.selection!==void 0&&o.globals.selection!==null)this.drawSelectionRect(o.globals.selection);else if(o.config.chart.selection.xaxis.min!==void 0&&o.config.chart.selection.xaxis.max!==void 0){var h=(o.config.chart.selection.xaxis.min-o.globals.minX)/c.xRatio,u={x:h,y:0,width:o.globals.gridWidth-(o.globals.maxX-o.config.chart.selection.xaxis.max)/c.xRatio-h,height:o.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(u),this.makeSelectionRectDraggable(),typeof o.config.chart.events.selection=="function"&&o.config.chart.events.selection(this.ctx,{xaxis:{min:o.config.chart.selection.xaxis.min,max:o.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(o){var c=o.x,h=o.y,u=o.width,f=o.height,g=o.translateX,x=g===void 0?0:g,y=o.translateY,v=y===void 0?0:y,S=this.w,C=this.zoomRect,E=this.selectionRect;if(this.dragged||S.globals.selection!==null){var M={transform:"translate("+x+", "+v+")"};S.globals.zoomEnabled&&this.dragged&&(u<0&&(u=1),C.attr({x:c,y:h,width:u,height:f,fill:S.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":S.config.chart.zoom.zoomedArea.fill.opacity,stroke:S.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":S.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":S.config.chart.zoom.zoomedArea.stroke.opacity}),j.setAttrs(C.node,M)),S.globals.selectionEnabled&&(E.attr({x:c,y:h,width:u>0?u:0,height:f>0?f:0,fill:S.config.chart.selection.fill.color,"fill-opacity":S.config.chart.selection.fill.opacity,stroke:S.config.chart.selection.stroke.color,"stroke-width":S.config.chart.selection.stroke.width,"stroke-dasharray":S.config.chart.selection.stroke.dashArray,"stroke-opacity":S.config.chart.selection.stroke.opacity}),j.setAttrs(E.node,M))}}},{key:"hideSelectionRect",value:function(o){o&&o.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(o){var c=o.context,h=o.zoomtype,u=this.w,f=c,g=this.gridRect.getBoundingClientRect(),x=f.startX-1,y=f.startY,v=!1,S=!1,C=f.clientX-g.left-x,E=f.clientY-g.top-y,M={};return Math.abs(C+x)>u.globals.gridWidth?C=u.globals.gridWidth-x:f.clientX-g.left<0&&(C=x),x>f.clientX-g.left&&(v=!0,C=Math.abs(C)),y>f.clientY-g.top&&(S=!0,E=Math.abs(E)),M=h==="x"?{x:v?x-C:x,y:0,width:C,height:u.globals.gridHeight}:h==="y"?{x:0,y:S?y-E:y,width:u.globals.gridWidth,height:E}:{x:v?x-C:x,y:S?y-E:y,width:C,height:E},f.drawSelectionRect(M),f.selectionDragging("resizing"),M}},{key:"selectionDragging",value:function(o,c){var h=this,u=this.w,f=this.xyRatios,g=this.selectionRect,x=0;o==="resizing"&&(x=30);var y=function(S){return parseFloat(g.node.getAttribute(S))},v={x:y("x"),y:y("y"),width:y("width"),height:y("height")};u.globals.selection=v,typeof u.config.chart.events.selection=="function"&&u.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var S=h.gridRect.getBoundingClientRect(),C=g.node.getBoundingClientRect(),E={xaxis:{min:u.globals.xAxisScale.niceMin+(C.left-S.left)*f.xRatio,max:u.globals.xAxisScale.niceMin+(C.right-S.left)*f.xRatio},yaxis:{min:u.globals.yAxisScale[0].niceMin+(S.bottom-C.bottom)*f.yRatio[0],max:u.globals.yAxisScale[0].niceMax-(C.top-S.top)*f.yRatio[0]}};u.config.chart.events.selection(h.ctx,E),u.config.chart.brush.enabled&&u.config.chart.events.brushScrolled!==void 0&&u.config.chart.events.brushScrolled(h.ctx,E)},x))}},{key:"selectionDrawn",value:function(o){var c=o.context,h=o.zoomtype,u=this.w,f=c,g=this.xyRatios,x=this.ctx.toolbar;if(f.startX>f.endX){var y=f.startX;f.startX=f.endX,f.endX=y}if(f.startY>f.endY){var v=f.startY;f.startY=f.endY,f.endY=v}var S=void 0,C=void 0;u.globals.isRangeBar?(S=u.globals.yAxisScale[0].niceMin+f.startX*g.invertedYRatio,C=u.globals.yAxisScale[0].niceMin+f.endX*g.invertedYRatio):(S=u.globals.xAxisScale.niceMin+f.startX*g.xRatio,C=u.globals.xAxisScale.niceMin+f.endX*g.xRatio);var E=[],M=[];if(u.config.yaxis.forEach(function(B,H){E.push(u.globals.yAxisScale[H].niceMax-g.yRatio[H]*f.startY),M.push(u.globals.yAxisScale[H].niceMax-g.yRatio[H]*f.endY)}),f.dragged&&(f.dragX>10||f.dragY>10)&&S!==C){if(u.globals.zoomEnabled){var P=_.clone(u.globals.initialConfig.yaxis),N=_.clone(u.globals.initialConfig.xaxis);if(u.globals.zoomed=!0,u.config.xaxis.convertedCatToNumeric&&(S=Math.floor(S),C=Math.floor(C),S<1&&(S=1,C=u.globals.dataPoints),C-S<2&&(C=S+1)),h!=="xy"&&h!=="x"||(N={min:S,max:C}),h!=="xy"&&h!=="y"||P.forEach(function(B,H){P[H].min=M[H],P[H].max=E[H]}),u.config.chart.zoom.autoScaleYaxis){var F=new ln(f.ctx);P=F.autoScaleY(f.ctx,P,{xaxis:N})}if(x){var m=x.getBeforeZoomRange(N,P);m&&(N=m.xaxis?m.xaxis:N,P=m.yaxis?m.yaxis:P)}var w={xaxis:N};u.config.chart.group||(w.yaxis=P),f.ctx.updateHelpers._updateOptions(w,!1,f.w.config.chart.animations.dynamicAnimation.enabled),typeof u.config.chart.events.zoomed=="function"&&x.zoomCallback(N,P)}else if(u.globals.selectionEnabled){var T,I=null;T={min:S,max:C},h!=="xy"&&h!=="y"||(I=_.clone(u.config.yaxis)).forEach(function(B,H){I[H].min=M[H],I[H].max=E[H]}),u.globals.selection=f.selection,typeof u.config.chart.events.selection=="function"&&u.config.chart.events.selection(f.ctx,{xaxis:T,yaxis:I})}}}},{key:"panDragging",value:function(o){var c=o.context,h=this.w,u=c;if(h.globals.lastClientPosition.x!==void 0){var f=h.globals.lastClientPosition.x-u.clientX,g=h.globals.lastClientPosition.y-u.clientY;Math.abs(f)>Math.abs(g)&&f>0?this.moveDirection="left":Math.abs(f)>Math.abs(g)&&f<0?this.moveDirection="right":Math.abs(g)>Math.abs(f)&&g>0?this.moveDirection="up":Math.abs(g)>Math.abs(f)&&g<0&&(this.moveDirection="down")}h.globals.lastClientPosition={x:u.clientX,y:u.clientY};var x=h.globals.isRangeBar?h.globals.minY:h.globals.minX,y=h.globals.isRangeBar?h.globals.maxY:h.globals.maxX;h.config.xaxis.convertedCatToNumeric||u.panScrolled(x,y)}},{key:"delayedPanScrolled",value:function(){var o=this.w,c=o.globals.minX,h=o.globals.maxX,u=(o.globals.maxX-o.globals.minX)/2;this.moveDirection==="left"?(c=o.globals.minX+u,h=o.globals.maxX+u):this.moveDirection==="right"&&(c=o.globals.minX-u,h=o.globals.maxX-u),c=Math.floor(c),h=Math.floor(h),this.updateScrolledChart({xaxis:{min:c,max:h}},c,h)}},{key:"panScrolled",value:function(o,c){var h=this.w,u=this.xyRatios,f=_.clone(h.globals.initialConfig.yaxis),g=u.xRatio,x=h.globals.minX,y=h.globals.maxX;h.globals.isRangeBar&&(g=u.invertedYRatio,x=h.globals.minY,y=h.globals.maxY),this.moveDirection==="left"?(o=x+h.globals.gridWidth/15*g,c=y+h.globals.gridWidth/15*g):this.moveDirection==="right"&&(o=x-h.globals.gridWidth/15*g,c=y-h.globals.gridWidth/15*g),h.globals.isRangeBar||(o<h.globals.initialMinX||c>h.globals.initialMaxX)&&(o=x,c=y);var v={min:o,max:c};h.config.chart.zoom.autoScaleYaxis&&(f=new ln(this.ctx).autoScaleY(this.ctx,f,{xaxis:v}));var S={xaxis:{min:o,max:c}};h.config.chart.group||(S.yaxis=f),this.updateScrolledChart(S,o,c)}},{key:"updateScrolledChart",value:function(o,c,h){var u=this.w;this.ctx.updateHelpers._updateOptions(o,!1,!1),typeof u.config.chart.events.scrolled=="function"&&u.config.chart.events.scrolled(this.ctx,{xaxis:{min:c,max:h}})}}]),r}(),Ic=function(){function O(n){l(this,O),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx}return p(O,[{key:"getNearestValues",value:function(n){var r=n.hoverArea,o=n.elGrid,c=n.clientX,h=n.clientY,u=this.w,f=o.getBoundingClientRect(),g=f.width,x=f.height,y=g/(u.globals.dataPoints-1),v=x/u.globals.dataPoints,S=this.hasBars();!u.globals.comboCharts&&!S||u.config.xaxis.convertedCatToNumeric||(y=g/u.globals.dataPoints);var C=c-f.left-u.globals.barPadForNumericAxis,E=h-f.top;C<0||E<0||C>g||E>x?(r.classList.remove("hovering-zoom"),r.classList.remove("hovering-pan")):u.globals.zoomEnabled?(r.classList.remove("hovering-pan"),r.classList.add("hovering-zoom")):u.globals.panEnabled&&(r.classList.remove("hovering-zoom"),r.classList.add("hovering-pan"));var M=Math.round(C/y),P=Math.floor(E/v);S&&!u.config.xaxis.convertedCatToNumeric&&(M=Math.ceil(C/y),M-=1);var N=null,F=null,m=u.globals.seriesXvalues.map(function(H){return H.filter(function(Y){return _.isNumber(Y)})}),w=u.globals.seriesYvalues.map(function(H){return H.filter(function(Y){return _.isNumber(Y)})});if(u.globals.isXNumeric){var T=this.ttCtx.getElGrid().getBoundingClientRect(),I=C*(T.width/g),B=E*(T.height/x);N=(F=this.closestInMultiArray(I,B,m,w)).index,M=F.j,N!==null&&(m=u.globals.seriesXvalues[N],M=(F=this.closestInArray(I,m)).index)}return u.globals.capturedSeriesIndex=N===null?-1:N,(!M||M<1)&&(M=0),u.globals.isBarHorizontal?u.globals.capturedDataPointIndex=P:u.globals.capturedDataPointIndex=M,{capturedSeries:N,j:u.globals.isBarHorizontal?P:M,hoverX:C,hoverY:E}}},{key:"closestInMultiArray",value:function(n,r,o,c){var h=this.w,u=0,f=null,g=-1;h.globals.series.length>1?u=this.getFirstActiveXArray(o):f=0;var x=o[u][0],y=Math.abs(n-x);if(o.forEach(function(C){C.forEach(function(E,M){var P=Math.abs(n-E);P<=y&&(y=P,g=M)})}),g!==-1){var v=c[u][g],S=Math.abs(r-v);f=u,c.forEach(function(C,E){var M=Math.abs(r-C[g]);M<=S&&(S=M,f=E)})}return{index:f,j:g}}},{key:"getFirstActiveXArray",value:function(n){for(var r=this.w,o=0,c=n.map(function(u,f){return u.length>0?f:-1}),h=0;h<c.length;h++)if(c[h]!==-1&&r.globals.collapsedSeriesIndices.indexOf(h)===-1&&r.globals.ancillaryCollapsedSeriesIndices.indexOf(h)===-1){o=c[h];break}return o}},{key:"closestInArray",value:function(n,r){for(var o=r[0],c=null,h=Math.abs(n-o),u=0;u<r.length;u++){var f=Math.abs(n-r[u]);f<h&&(h=f,c=u)}return{index:c}}},{key:"isXoverlap",value:function(n){var r=[],o=this.w.globals.seriesX.filter(function(h){return h[0]!==void 0});if(o.length>0)for(var c=0;c<o.length-1;c++)o[c][n]!==void 0&&o[c+1][n]!==void 0&&o[c][n]!==o[c+1][n]&&r.push("unEqual");return r.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var n=!0,r=this.w.globals.initialSeries,o=0;o<r.length-1;o++)if(r[o].data.length!==r[o+1].data.length){n=!1;break}return n}},{key:"getBarsHeight",value:function(n){return W(n).reduce(function(r,o){return r+o.getBBox().height},0)}},{key:"getElMarkers",value:function(n){return typeof n=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(n=W(n)).sort(function(o,c){var h=Number(o.getAttribute("data:realIndex")),u=Number(c.getAttribute("data:realIndex"));return u<h?1:u>h?-1:0});var r=[];return n.forEach(function(o){r.push(o.querySelector(".apexcharts-marker"))}),r}},{key:"hasMarkers",value:function(n){return this.getElMarkers(n).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(n){var r=this.w,o=r.config.markers.hover.size;return o===void 0&&(o=r.globals.markers.size[n]+r.config.markers.hover.sizeOffset),o}},{key:"toggleAllTooltipSeriesGroups",value:function(n){var r=this.w,o=this.ttCtx;o.allTooltipSeriesGroups.length===0&&(o.allTooltipSeriesGroups=r.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var c=o.allTooltipSeriesGroups,h=0;h<c.length;h++)n==="enable"?(c[h].classList.add("apexcharts-active"),c[h].style.display=r.config.tooltip.items.display):(c[h].classList.remove("apexcharts-active"),c[h].style.display="none")}}]),O}(),Xg=function(){function O(n){l(this,O),this.w=n.w,this.ctx=n.ctx,this.ttCtx=n,this.tooltipUtil=new Ic(n)}return p(O,[{key:"drawSeriesTexts",value:function(n){var r=n.shared,o=r===void 0||r,c=n.ttItems,h=n.i,u=h===void 0?0:h,f=n.j,g=f===void 0?null:f,x=n.y1,y=n.y2,v=n.e,S=this.w;S.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:u,j:g,y1:x,y2:y,w:S}):this.toggleActiveInactiveSeries(o);var C=this.getValuesToPrint({i:u,j:g});this.printLabels({i:u,j:g,values:C,ttItems:c,shared:o,e:v});var E=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=E.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=E.getBoundingClientRect().height}},{key:"printLabels",value:function(n){var r,o=this,c=n.i,h=n.j,u=n.values,f=n.ttItems,g=n.shared,x=n.e,y=this.w,v=[],S=function(T){return y.globals.seriesGoals[T]&&y.globals.seriesGoals[T][h]&&Array.isArray(y.globals.seriesGoals[T][h])},C=u.xVal,E=u.zVal,M=u.xAxisTTVal,P="",N=y.globals.colors[c];h!==null&&y.config.plotOptions.bar.distributed&&(N=y.globals.colors[h]);for(var F=function(T,I){var B=o.getFormatters(c);P=o.getSeriesName({fn:B.yLbTitleFormatter,index:c,seriesIndex:c,j:h}),y.config.chart.type==="treemap"&&(P=B.yLbTitleFormatter(String(y.config.series[c].data[h].x),{series:y.globals.series,seriesIndex:c,dataPointIndex:h,w:y}));var H=y.config.tooltip.inverseOrder?I:T;if(y.globals.axisCharts){var Y=function(K){var $,te,ie,de;return y.globals.isRangeData?B.yLbFormatter(($=y.globals.seriesRangeStart)===null||$===void 0||(te=$[K])===null||te===void 0?void 0:te[h],{series:y.globals.seriesRangeStart,seriesIndex:K,dataPointIndex:h,w:y})+" - "+B.yLbFormatter((ie=y.globals.seriesRangeEnd)===null||ie===void 0||(de=ie[K])===null||de===void 0?void 0:de[h],{series:y.globals.seriesRangeEnd,seriesIndex:K,dataPointIndex:h,w:y}):B.yLbFormatter(y.globals.series[K][h],{series:y.globals.series,seriesIndex:K,dataPointIndex:h,w:y})};if(g)B=o.getFormatters(H),P=o.getSeriesName({fn:B.yLbTitleFormatter,index:H,seriesIndex:c,j:h}),N=y.globals.colors[H],r=Y(H),S(H)&&(v=y.globals.seriesGoals[H][h].map(function(K){return{attrs:K,val:B.yLbFormatter(K.value,{seriesIndex:H,dataPointIndex:h,w:y})}}));else{var V,U=x==null||(V=x.target)===null||V===void 0?void 0:V.getAttribute("fill");U&&(N=U.indexOf("url")!==-1?document.querySelector(U.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):U),r=Y(c),S(c)&&Array.isArray(y.globals.seriesGoals[c][h])&&(v=y.globals.seriesGoals[c][h].map(function(K){return{attrs:K,val:B.yLbFormatter(K.value,{seriesIndex:c,dataPointIndex:h,w:y})}}))}}h===null&&(r=B.yLbFormatter(y.globals.series[c],s(s({},y),{},{seriesIndex:c,dataPointIndex:c}))),o.DOMHandling({i:c,t:H,j:h,ttItems:f,values:{val:r,goalVals:v,xVal:C,xAxisTTVal:M,zVal:E},seriesName:P,shared:g,pColor:N})},m=0,w=y.globals.series.length-1;m<y.globals.series.length;m++,w--)F(m,w)}},{key:"getFormatters",value:function(n){var r,o=this.w,c=o.globals.yLabelFormatters[n];return o.globals.ttVal!==void 0?Array.isArray(o.globals.ttVal)?(c=o.globals.ttVal[n]&&o.globals.ttVal[n].formatter,r=o.globals.ttVal[n]&&o.globals.ttVal[n].title&&o.globals.ttVal[n].title.formatter):(c=o.globals.ttVal.formatter,typeof o.globals.ttVal.title.formatter=="function"&&(r=o.globals.ttVal.title.formatter)):r=o.config.tooltip.y.title.formatter,typeof c!="function"&&(c=o.globals.yLabelFormatters[0]?o.globals.yLabelFormatters[0]:function(h){return h}),typeof r!="function"&&(r=function(h){return h}),{yLbFormatter:c,yLbTitleFormatter:r}}},{key:"getSeriesName",value:function(n){var r=n.fn,o=n.index,c=n.seriesIndex,h=n.j,u=this.w;return r(String(u.globals.seriesNames[o]),{series:u.globals.series,seriesIndex:c,dataPointIndex:h,w:u})}},{key:"DOMHandling",value:function(n){n.i;var r=n.t,o=n.j,c=n.ttItems,h=n.values,u=n.seriesName,f=n.shared,g=n.pColor,x=this.w,y=this.ttCtx,v=h.val,S=h.goalVals,C=h.xVal,E=h.xAxisTTVal,M=h.zVal,P=null;P=c[r].children,x.config.tooltip.fillSeriesColor&&(c[r].style.backgroundColor=g,P[0].style.display="none"),y.showTooltipTitle&&(y.tooltipTitle===null&&(y.tooltipTitle=x.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),y.tooltipTitle.innerHTML=C),y.isXAxisTooltipEnabled&&(y.xaxisTooltipText.innerHTML=E!==""?E:C);var N=c[r].querySelector(".apexcharts-tooltip-text-y-label");N&&(N.innerHTML=u||"");var F=c[r].querySelector(".apexcharts-tooltip-text-y-value");F&&(F.innerHTML=v!==void 0?v:""),P[0]&&P[0].classList.contains("apexcharts-tooltip-marker")&&(x.config.tooltip.marker.fillColors&&Array.isArray(x.config.tooltip.marker.fillColors)&&(g=x.config.tooltip.marker.fillColors[r]),P[0].style.backgroundColor=g),x.config.tooltip.marker.show||(P[0].style.display="none");var m=c[r].querySelector(".apexcharts-tooltip-text-goals-label"),w=c[r].querySelector(".apexcharts-tooltip-text-goals-value");if(S.length&&x.globals.seriesGoals[r]){var T=function(){var I="<div >",B="<div>";S.forEach(function(H,Y){I+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(H.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(H.attrs.name,"</div>"),B+="<div>".concat(H.val,"</div>")}),m.innerHTML=I+"</div>",w.innerHTML=B+"</div>"};f?x.globals.seriesGoals[r][o]&&Array.isArray(x.globals.seriesGoals[r][o])?T():(m.innerHTML="",w.innerHTML=""):T()}else m.innerHTML="",w.innerHTML="";M!==null&&(c[r].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=x.config.tooltip.z.title,c[r].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=M!==void 0?M:""),f&&P[0]&&(v==null||x.globals.ancillaryCollapsedSeriesIndices.indexOf(r)>-1||x.globals.collapsedSeriesIndices.indexOf(r)>-1?P[0].parentNode.style.display="none":P[0].parentNode.style.display=x.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(n){var r=this.w;if(n)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var o=r.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");o&&(o.classList.add("apexcharts-active"),o.style.display=r.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(n){var r=n.i,o=n.j,c=this.w,h=this.ctx.series.filteredSeriesX(),u="",f="",g=null,x=null,y={series:c.globals.series,seriesIndex:r,dataPointIndex:o,w:c},v=c.globals.ttZFormatter;o===null?x=c.globals.series[r]:c.globals.isXNumeric&&c.config.chart.type!=="treemap"?(u=h[r][o],h[r].length===0&&(u=h[this.tooltipUtil.getFirstActiveXArray(h)][o])):u=c.globals.labels[o]!==void 0?c.globals.labels[o]:"";var S=u;return c.globals.isXNumeric&&c.config.xaxis.type==="datetime"?u=new ft(this.ctx).xLabelFormat(c.globals.ttKeyFormatter,S,S,{i:void 0,dateFormatter:new ye(this.ctx).formatDate,w:this.w}):u=c.globals.isBarHorizontal?c.globals.yLabelFormatters[0](S,y):c.globals.xLabelFormatter(S,y),c.config.tooltip.x.formatter!==void 0&&(u=c.globals.ttKeyFormatter(S,y)),c.globals.seriesZ.length>0&&c.globals.seriesZ[r].length>0&&(g=v(c.globals.seriesZ[r][o],c)),f=typeof c.config.xaxis.tooltip.formatter=="function"?c.globals.xaxisTooltipFormatter(S,y):u,{val:Array.isArray(x)?x.join(" "):x,xVal:Array.isArray(u)?u.join(" "):u,xAxisTTVal:Array.isArray(f)?f.join(" "):f,zVal:g}}},{key:"handleCustomTooltip",value:function(n){var r=n.i,o=n.j,c=n.y1,h=n.y2,u=n.w,f=this.ttCtx.getElTooltip(),g=u.config.tooltip.custom;Array.isArray(g)&&g[r]&&(g=g[r]),f.innerHTML=g({ctx:this.ctx,series:u.globals.series,seriesIndex:r,dataPointIndex:o,y1:c,y2:h,w:u})}}]),O}(),Nc=function(){function O(n){l(this,O),this.ttCtx=n,this.ctx=n.ctx,this.w=n.w}return p(O,[{key:"moveXCrosshairs",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=this.ttCtx,c=this.w,h=o.getElXCrosshairs(),u=n-o.xcrosshairsWidth/2,f=c.globals.labels.slice().length;if(r!==null&&(u=c.globals.gridWidth/f*r),h===null||c.globals.isBarHorizontal||(h.setAttribute("x",u),h.setAttribute("x1",u),h.setAttribute("x2",u),h.setAttribute("y2",c.globals.gridHeight),h.classList.add("apexcharts-active")),u<0&&(u=0),u>c.globals.gridWidth&&(u=c.globals.gridWidth),o.isXAxisTooltipEnabled){var g=u;c.config.xaxis.crosshairs.width!=="tickWidth"&&c.config.xaxis.crosshairs.width!=="barWidth"||(g=u+o.xcrosshairsWidth/2),this.moveXAxisTooltip(g)}}},{key:"moveYCrosshairs",value:function(n){var r=this.ttCtx;r.ycrosshairs!==null&&j.setAttrs(r.ycrosshairs,{y1:n,y2:n}),r.ycrosshairsHidden!==null&&j.setAttrs(r.ycrosshairsHidden,{y1:n,y2:n})}},{key:"moveXAxisTooltip",value:function(n){var r=this.w,o=this.ttCtx;if(o.xaxisTooltip!==null&&o.xcrosshairsWidth!==0){o.xaxisTooltip.classList.add("apexcharts-active");var c=o.xaxisOffY+r.config.xaxis.tooltip.offsetY+r.globals.translateY+1+r.config.xaxis.offsetY;if(n-=o.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(n)){n+=r.globals.translateX;var h;h=new j(this.ctx).getTextRects(o.xaxisTooltipText.innerHTML),o.xaxisTooltipText.style.minWidth=h.width+"px",o.xaxisTooltip.style.left=n+"px",o.xaxisTooltip.style.top=c+"px"}}}},{key:"moveYAxisTooltip",value:function(n){var r=this.w,o=this.ttCtx;o.yaxisTTEls===null&&(o.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var c=parseInt(o.ycrosshairsHidden.getAttribute("y1"),10),h=r.globals.translateY+c,u=o.yaxisTTEls[n].getBoundingClientRect().height,f=r.globals.translateYAxisX[n]-2;r.config.yaxis[n].opposite&&(f-=26),h-=u/2,r.globals.ignoreYAxisIndexes.indexOf(n)===-1?(o.yaxisTTEls[n].classList.add("apexcharts-active"),o.yaxisTTEls[n].style.top=h+"px",o.yaxisTTEls[n].style.left=f+r.config.yaxis[n].tooltip.offsetX+"px"):o.yaxisTTEls[n].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,h=this.ttCtx,u=h.getElTooltip(),f=h.tooltipRect,g=o!==null?parseFloat(o):1,x=parseFloat(n)+g+5,y=parseFloat(r)+g/2;if(x>c.globals.gridWidth/2&&(x=x-f.ttWidth-g-10),x>c.globals.gridWidth-f.ttWidth-10&&(x=c.globals.gridWidth-f.ttWidth),x<-20&&(x=-20),c.config.tooltip.followCursor){var v=h.getElGrid().getBoundingClientRect();(x=h.e.clientX-v.left)>c.globals.gridWidth/2&&(x-=h.tooltipRect.ttWidth),(y=h.e.clientY+c.globals.translateY-v.top)>c.globals.gridHeight/2&&(y-=h.tooltipRect.ttHeight)}else c.globals.isBarHorizontal||f.ttHeight/2+y>c.globals.gridHeight&&(y=c.globals.gridHeight-f.ttHeight+c.globals.translateY);isNaN(x)||(x+=c.globals.translateX,u.style.left=x+"px",u.style.top=y+"px")}},{key:"moveMarkers",value:function(n,r){var o=this.w,c=this.ttCtx;if(o.globals.markers.size[n]>0)for(var h=o.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-marker")),u=0;u<h.length;u++)parseInt(h[u].getAttribute("rel"),10)===r&&(c.marker.resetPointsSize(),c.marker.enlargeCurrentPoint(r,h[u]));else c.marker.resetPointsSize(),this.moveDynamicPointOnHover(r,n)}},{key:"moveDynamicPointOnHover",value:function(n,r){var o,c,h=this.w,u=this.ttCtx,f=h.globals.pointsArray,g=u.tooltipUtil.getHoverMarkerSize(r),x=h.config.series[r].type;if(!x||x!=="column"&&x!=="candlestick"&&x!=="boxPlot"){o=f[r][n][0],c=f[r][n][1]?f[r][n][1]:0;var y=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"'] .apexcharts-series-markers circle"));y&&c<h.globals.gridHeight&&c>0&&(y.setAttribute("r",g),y.setAttribute("cx",o),y.setAttribute("cy",c)),this.moveXCrosshairs(o),u.fixedTooltip||this.moveTooltip(o,c,g)}}},{key:"moveDynamicPointsOnHover",value:function(n){var r,o=this.ttCtx,c=o.w,h=0,u=0,f=c.globals.pointsArray;r=new gt(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var g=o.tooltipUtil.getHoverMarkerSize(r);f[r]&&(h=f[r][n][0],u=f[r][n][1]);var x=o.tooltipUtil.getAllMarkers();if(x!==null)for(var y=0;y<c.globals.series.length;y++){var v=f[y];if(c.globals.comboCharts&&v===void 0&&x.splice(y,0,null),v&&v.length){var S=f[y][n][1],C=void 0;if(x[y].setAttribute("cx",h),c.config.chart.type==="rangeArea"&&!c.globals.comboCharts){var E=n+c.globals.series[y].length;C=f[y][E][1],S-=Math.abs(S-C)/2}S!==null&&!isNaN(S)&&S<c.globals.gridHeight+g&&S+g>0?(x[y]&&x[y].setAttribute("r",g),x[y]&&x[y].setAttribute("cy",S)):x[y]&&x[y].setAttribute("r",0)}}this.moveXCrosshairs(h),o.fixedTooltip||this.moveTooltip(h,u||c.globals.gridHeight,g)}},{key:"moveStickyTooltipOverBars",value:function(n,r){var o=this.w,c=this.ttCtx,h=o.globals.columnSeries?o.globals.columnSeries.length:o.globals.series.length,u=h>=2&&h%2==0?Math.floor(h/2):Math.floor(h/2)+1;o.globals.isBarHorizontal&&(u=new gt(this.ctx).getActiveConfigSeriesIndex("desc")+1);var f=o.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(u,"'] path[j='").concat(n,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(u,"'] path[j='").concat(n,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(u,"'] path[j='").concat(n,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(u,"'] path[j='").concat(n,"']"));f||typeof r!="number"||(f=o.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(r,"'] path[j='").concat(n,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(n,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(n,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(r,"'] path[j='").concat(n,"']")));var g=f?parseFloat(f.getAttribute("cx")):0,x=f?parseFloat(f.getAttribute("cy")):0,y=f?parseFloat(f.getAttribute("barWidth")):0,v=c.getElGrid().getBoundingClientRect(),S=f&&(f.classList.contains("apexcharts-candlestick-area")||f.classList.contains("apexcharts-boxPlot-area"));o.globals.isXNumeric?(f&&!S&&(g-=h%2!=0?y/2:0),f&&S&&o.globals.comboCharts&&(g-=y/2)):o.globals.isBarHorizontal||(g=c.xAxisTicksPositions[n-1]+c.dataPointsDividedWidth/2,isNaN(g)&&(g=c.xAxisTicksPositions[n]-c.dataPointsDividedWidth/2)),o.globals.isBarHorizontal?x-=c.tooltipRect.ttHeight:o.config.tooltip.followCursor?x=c.e.clientY-v.top-c.tooltipRect.ttHeight/2:x+c.tooltipRect.ttHeight+15>o.globals.gridHeight&&(x=o.globals.gridHeight),o.globals.isBarHorizontal||this.moveXCrosshairs(g),c.fixedTooltip||this.moveTooltip(g,x||o.globals.gridHeight)}}]),O}(),Wg=function(){function O(n){l(this,O),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx,this.tooltipPosition=new Nc(n)}return p(O,[{key:"drawDynamicPoints",value:function(){var n=this.w,r=new j(this.ctx),o=new Ot(this.ctx),c=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");c=W(c),n.config.chart.stacked&&c.sort(function(v,S){return parseFloat(v.getAttribute("data:realIndex"))-parseFloat(S.getAttribute("data:realIndex"))});for(var h=0;h<c.length;h++){var u=c[h].querySelector(".apexcharts-series-markers-wrap");if(u!==null){var f=void 0,g="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));n.config.chart.type!=="line"&&n.config.chart.type!=="area"||n.globals.comboCharts||n.config.tooltip.intersect||(g+=" no-pointer-events");var x=o.getMarkerConfig({cssClass:g,seriesIndex:Number(u.getAttribute("data:realIndex"))});(f=r.drawMarker(0,0,x)).node.setAttribute("default-marker-size",0);var y=document.createElementNS(n.globals.SVGNS,"g");y.classList.add("apexcharts-series-markers"),y.appendChild(f.node),u.appendChild(y)}}}},{key:"enlargeCurrentPoint",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=this.w;h.config.chart.type!=="bubble"&&this.newPointSize(n,r);var u=r.getAttribute("cx"),f=r.getAttribute("cy");if(o!==null&&c!==null&&(u=o,f=c),this.tooltipPosition.moveXCrosshairs(u),!this.fixedTooltip){if(h.config.chart.type==="radar"){var g=this.ttCtx.getElGrid().getBoundingClientRect();u=this.ttCtx.e.clientX-g.left}this.tooltipPosition.moveTooltip(u,f,h.config.markers.hover.size)}}},{key:"enlargePoints",value:function(n){for(var r=this.w,o=this,c=this.ttCtx,h=n,u=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),f=r.config.markers.hover.size,g=0;g<u.length;g++){var x=u[g].getAttribute("rel"),y=u[g].getAttribute("index");if(f===void 0&&(f=r.globals.markers.size[y]+r.config.markers.hover.sizeOffset),h===parseInt(x,10)){o.newPointSize(h,u[g]);var v=u[g].getAttribute("cx"),S=u[g].getAttribute("cy");o.tooltipPosition.moveXCrosshairs(v),c.fixedTooltip||o.tooltipPosition.moveTooltip(v,S,f)}else o.oldPointSize(u[g])}}},{key:"newPointSize",value:function(n,r){var o=this.w,c=o.config.markers.hover.size,h=n===0?r.parentNode.firstChild:r.parentNode.lastChild;if(h.getAttribute("default-marker-size")!=="0"){var u=parseInt(h.getAttribute("index"),10);c===void 0&&(c=o.globals.markers.size[u]+o.config.markers.hover.sizeOffset),c<0&&(c=0),h.setAttribute("r",c)}}},{key:"oldPointSize",value:function(n){var r=parseFloat(n.getAttribute("default-marker-size"));n.setAttribute("r",r)}},{key:"resetPointsSize",value:function(){for(var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=0;r<n.length;r++){var o=parseFloat(n[r].getAttribute("default-marker-size"));_.isNumber(o)&&o>=0?n[r].setAttribute("r",o):n[r].setAttribute("r",0)}}}]),O}(),Yg=function(){function O(n){l(this,O),this.w=n.w;var r=this.w;this.ttCtx=n,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.config.chart.type==="rangeBar"&&r.config.plotOptions.bar.rangeBarGroupRows}return p(O,[{key:"getAttr",value:function(n,r){return parseFloat(n.target.getAttribute(r))}},{key:"handleHeatTreeTooltip",value:function(n){var r=n.e,o=n.opt,c=n.x,h=n.y,u=n.type,f=this.ttCtx,g=this.w;if(r.target.classList.contains("apexcharts-".concat(u,"-rect"))){var x=this.getAttr(r,"i"),y=this.getAttr(r,"j"),v=this.getAttr(r,"cx"),S=this.getAttr(r,"cy"),C=this.getAttr(r,"width"),E=this.getAttr(r,"height");if(f.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:x,j:y,shared:!1,e:r}),g.globals.capturedSeriesIndex=x,g.globals.capturedDataPointIndex=y,c=v+f.tooltipRect.ttWidth/2+C,h=S+f.tooltipRect.ttHeight/2-E/2,f.tooltipPosition.moveXCrosshairs(v+C/2),c>g.globals.gridWidth/2&&(c=v-f.tooltipRect.ttWidth/2+C),f.w.config.tooltip.followCursor){var M=g.globals.dom.elWrap.getBoundingClientRect();c=g.globals.clientX-M.left-(c>g.globals.gridWidth/2?f.tooltipRect.ttWidth:0),h=g.globals.clientY-M.top-(h>g.globals.gridHeight/2?f.tooltipRect.ttHeight:0)}}return{x:c,y:h}}},{key:"handleMarkerTooltip",value:function(n){var r,o,c=n.e,h=n.opt,u=n.x,f=n.y,g=this.w,x=this.ttCtx;if(c.target.classList.contains("apexcharts-marker")){var y=parseInt(h.paths.getAttribute("cx"),10),v=parseInt(h.paths.getAttribute("cy"),10),S=parseFloat(h.paths.getAttribute("val"));if(o=parseInt(h.paths.getAttribute("rel"),10),r=parseInt(h.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,x.intersect){var C=_.findAncestor(h.paths,"apexcharts-series");C&&(r=parseInt(C.getAttribute("data:realIndex"),10))}if(x.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:r,j:o,shared:!x.showOnIntersect&&g.config.tooltip.shared,e:c}),c.type==="mouseup"&&x.markerClick(c,r,o),g.globals.capturedSeriesIndex=r,g.globals.capturedDataPointIndex=o,u=y,f=v+g.globals.translateY-1.4*x.tooltipRect.ttHeight,x.w.config.tooltip.followCursor){var E=x.getElGrid().getBoundingClientRect();f=x.e.clientY+g.globals.translateY-E.top}S<0&&(f=v),x.marker.enlargeCurrentPoint(o,h.paths,u,f)}return{x:u,y:f}}},{key:"handleBarTooltip",value:function(n){var r,o,c=n.e,h=n.opt,u=this.w,f=this.ttCtx,g=f.getElTooltip(),x=0,y=0,v=0,S=this.getBarTooltipXY({e:c,opt:h});r=S.i;var C=S.barHeight,E=S.j;u.globals.capturedSeriesIndex=r,u.globals.capturedDataPointIndex=E,u.globals.isBarHorizontal&&f.tooltipUtil.hasBars()||!u.config.tooltip.shared?(y=S.x,v=S.y,o=Array.isArray(u.config.stroke.width)?u.config.stroke.width[r]:u.config.stroke.width,x=y):u.globals.comboCharts||u.config.tooltip.shared||(x/=2),isNaN(v)&&(v=u.globals.svgHeight-f.tooltipRect.ttHeight);var M=parseInt(h.paths.parentNode.getAttribute("data:realIndex"),10),P=u.globals.isMultipleYAxis?u.config.yaxis[M]&&u.config.yaxis[M].reversed:u.config.yaxis[0].reversed;if(y+f.tooltipRect.ttWidth>u.globals.gridWidth&&!P?y-=f.tooltipRect.ttWidth:y<0&&(y=0),f.w.config.tooltip.followCursor){var N=f.getElGrid().getBoundingClientRect();v=f.e.clientY-N.top}f.tooltip===null&&(f.tooltip=u.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),u.config.tooltip.shared||(u.globals.comboBarCount>0?f.tooltipPosition.moveXCrosshairs(x+o/2):f.tooltipPosition.moveXCrosshairs(x)),!f.fixedTooltip&&(!u.config.tooltip.shared||u.globals.isBarHorizontal&&f.tooltipUtil.hasBars())&&(P&&(y-=f.tooltipRect.ttWidth)<0&&(y=0),!P||u.globals.isBarHorizontal&&f.tooltipUtil.hasBars()||(v=v+C-2*(u.globals.series[r][E]<0?C:0)),v=v+u.globals.translateY-f.tooltipRect.ttHeight/2,g.style.left=y+u.globals.translateX+"px",g.style.top=v+"px")}},{key:"getBarTooltipXY",value:function(n){var r=this,o=n.e,c=n.opt,h=this.w,u=null,f=this.ttCtx,g=0,x=0,y=0,v=0,S=0,C=o.target.classList;if(C.contains("apexcharts-bar-area")||C.contains("apexcharts-candlestick-area")||C.contains("apexcharts-boxPlot-area")||C.contains("apexcharts-rangebar-area")){var E=o.target,M=E.getBoundingClientRect(),P=c.elGrid.getBoundingClientRect(),N=M.height;S=M.height;var F=M.width,m=parseInt(E.getAttribute("cx"),10),w=parseInt(E.getAttribute("cy"),10);v=parseFloat(E.getAttribute("barWidth"));var T=o.type==="touchmove"?o.touches[0].clientX:o.clientX;u=parseInt(E.getAttribute("j"),10),g=parseInt(E.parentNode.getAttribute("rel"),10)-1;var I=E.getAttribute("data-range-y1"),B=E.getAttribute("data-range-y2");h.globals.comboCharts&&(g=parseInt(E.parentNode.getAttribute("data:realIndex"),10));var H=function(V){return h.globals.isXNumeric?m-F/2:r.isVerticalGroupedRangeBar?m+F/2:m-f.dataPointsDividedWidth+F/2},Y=function(){return w-f.dataPointsDividedHeight+N/2-f.tooltipRect.ttHeight/2};f.tooltipLabels.drawSeriesTexts({ttItems:c.ttItems,i:g,j:u,y1:I?parseInt(I,10):null,y2:B?parseInt(B,10):null,shared:!f.showOnIntersect&&h.config.tooltip.shared,e:o}),h.config.tooltip.followCursor?h.globals.isBarHorizontal?(x=T-P.left+15,y=Y()):(x=H(),y=o.clientY-P.top-f.tooltipRect.ttHeight/2-15):h.globals.isBarHorizontal?((x=m)<f.xyRatios.baseLineInvertedY&&(x=m-f.tooltipRect.ttWidth),y=Y()):(x=H(),y=w)}return{x,y,barHeight:S,barWidth:v,i:g,j:u}}}]),O}(),Vg=function(){function O(n){l(this,O),this.w=n.w,this.ttCtx=n}return p(O,[{key:"drawXaxisTooltip",value:function(){var n=this.w,r=this.ttCtx,o=n.config.xaxis.position==="bottom";r.xaxisOffY=o?n.globals.gridHeight+1:-n.globals.xAxisHeight-n.config.xaxis.axisTicks.height+3;var c=o?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",h=n.globals.dom.elWrap;r.isXAxisTooltipEnabled&&n.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(r.xaxisTooltip=document.createElement("div"),r.xaxisTooltip.setAttribute("class",c+" apexcharts-theme-"+n.config.tooltip.theme),h.appendChild(r.xaxisTooltip),r.xaxisTooltipText=document.createElement("div"),r.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),r.xaxisTooltipText.style.fontFamily=n.config.xaxis.tooltip.style.fontFamily||n.config.chart.fontFamily,r.xaxisTooltipText.style.fontSize=n.config.xaxis.tooltip.style.fontSize,r.xaxisTooltip.appendChild(r.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var n=this.w,r=this.ttCtx,o=function(h){var u=n.config.yaxis[h].opposite||n.config.yaxis[h].crosshairs.opposite;r.yaxisOffX=u?n.globals.gridWidth+1:1;var f="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(h,u?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");n.globals.yAxisSameScaleIndices.map(function(x,y){x.map(function(v,S){S===h&&(f+=n.config.yaxis[S].show?" ":" apexcharts-yaxistooltip-hidden")})});var g=n.globals.dom.elWrap;n.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(h))===null&&(r.yaxisTooltip=document.createElement("div"),r.yaxisTooltip.setAttribute("class",f+" apexcharts-theme-"+n.config.tooltip.theme),g.appendChild(r.yaxisTooltip),h===0&&(r.yaxisTooltipText=[]),r.yaxisTooltipText[h]=document.createElement("div"),r.yaxisTooltipText[h].classList.add("apexcharts-yaxistooltip-text"),r.yaxisTooltip.appendChild(r.yaxisTooltipText[h]))},c=0;c<n.config.yaxis.length;c++)o(c)}},{key:"setXCrosshairWidth",value:function(){var n=this.w,r=this.ttCtx,o=r.getElXCrosshairs();if(r.xcrosshairsWidth=parseInt(n.config.xaxis.crosshairs.width,10),n.globals.comboCharts){var c=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null&&n.config.xaxis.crosshairs.width==="barWidth"){var h=parseFloat(c.getAttribute("barWidth"));r.xcrosshairsWidth=h}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var u=n.globals.labels.length;r.xcrosshairsWidth=n.globals.gridWidth/u}}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var f=n.globals.labels.length;r.xcrosshairsWidth=n.globals.gridWidth/f}else if(n.config.xaxis.crosshairs.width==="barWidth"){var g=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(g!==null){var x=parseFloat(g.getAttribute("barWidth"));r.xcrosshairsWidth=x}else r.xcrosshairsWidth=1}n.globals.isBarHorizontal&&(r.xcrosshairsWidth=0),o!==null&&r.xcrosshairsWidth>0&&o.setAttribute("width",r.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var n=this.w,r=this.ttCtx;r.ycrosshairs=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),r.ycrosshairsHidden=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(n,r,o){var c=this.ttCtx,h=this.w,u=h.globals.yLabelFormatters[n];if(c.yaxisTooltips[n]){var f=c.getElGrid().getBoundingClientRect(),g=(r-f.top)*o.yRatio[n],x=h.globals.maxYArr[n]-h.globals.minYArr[n],y=h.globals.minYArr[n]+(x-g);c.tooltipPosition.moveYCrosshairs(r-f.top),c.yaxisTooltipText[n].innerHTML=u(y),c.tooltipPosition.moveYAxisTooltip(n)}}}]),O}(),Dc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w;var r=this.w;this.tConfig=r.config.tooltip,this.tooltipUtil=new Ic(this),this.tooltipLabels=new Xg(this),this.tooltipPosition=new Nc(this),this.marker=new Wg(this),this.intersect=new Yg(this),this.axesTooltip=new Vg(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!r.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return p(O,[{key:"getElTooltip",value:function(n){return n||(n=this),n.w.globals.dom.baseEl?n.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(n){var r=this.w;this.xyRatios=n,this.isXAxisTooltipEnabled=r.config.xaxis.tooltip.enabled&&r.globals.axisCharts,this.yaxisTooltips=r.config.yaxis.map(function(u,f){return!!(u.show&&u.tooltip.enabled&&r.globals.axisCharts)}),this.allTooltipSeriesGroups=[],r.globals.axisCharts||(this.showTooltipTitle=!1);var o=document.createElement("div");if(o.classList.add("apexcharts-tooltip"),r.config.tooltip.cssClass&&o.classList.add(r.config.tooltip.cssClass),o.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),r.globals.dom.elWrap.appendChild(o),r.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var c=new Wn(this.ctx);this.xAxisTicksPositions=c.getXAxisTicksPositions()}if(!r.globals.comboCharts&&!this.tConfig.intersect&&r.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),r.config.markers.size!==0&&r.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),r.globals.collapsedSeries.length!==r.globals.series.length){this.dataPointsDividedHeight=r.globals.gridHeight/r.globals.dataPoints,this.dataPointsDividedWidth=r.globals.gridWidth/r.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||r.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,o.appendChild(this.tooltipTitle));var h=r.globals.series.length;(r.globals.xyCharts||r.globals.comboCharts)&&this.tConfig.shared&&(h=this.showOnIntersect?1:r.globals.series.length),this.legendLabels=r.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(h),this.addSVGEvents()}}},{key:"createTTElements",value:function(n){for(var r=this,o=this.w,c=[],h=this.getElTooltip(),u=function(g){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-series-group"),x.style.order=o.config.tooltip.inverseOrder?n-g:g+1,r.tConfig.shared&&r.tConfig.enabledOnSeries&&Array.isArray(r.tConfig.enabledOnSeries)&&r.tConfig.enabledOnSeries.indexOf(g)<0&&x.classList.add("apexcharts-tooltip-series-group-hidden");var y=document.createElement("span");y.classList.add("apexcharts-tooltip-marker"),y.style.backgroundColor=o.globals.colors[g],x.appendChild(y);var v=document.createElement("div");v.classList.add("apexcharts-tooltip-text"),v.style.fontFamily=r.tConfig.style.fontFamily||o.config.chart.fontFamily,v.style.fontSize=r.tConfig.style.fontSize,["y","goals","z"].forEach(function(S){var C=document.createElement("div");C.classList.add("apexcharts-tooltip-".concat(S,"-group"));var E=document.createElement("span");E.classList.add("apexcharts-tooltip-text-".concat(S,"-label")),C.appendChild(E);var M=document.createElement("span");M.classList.add("apexcharts-tooltip-text-".concat(S,"-value")),C.appendChild(M),v.appendChild(C)}),x.appendChild(v),h.appendChild(x),c.push(x)},f=0;f<n;f++)u(f);return c}},{key:"addSVGEvents",value:function(){var n=this.w,r=n.config.chart.type,o=this.getElTooltip(),c=!(r!=="bar"&&r!=="candlestick"&&r!=="boxPlot"&&r!=="rangeBar"),h=r==="area"||r==="line"||r==="scatter"||r==="bubble"||r==="radar",u=n.globals.dom.Paper.node,f=this.getElGrid();f&&(this.seriesBound=f.getBoundingClientRect());var g,x=[],y=[],v={hoverArea:u,elGrid:f,tooltipEl:o,tooltipY:x,tooltipX:y,ttItems:this.ttItems};if(n.globals.axisCharts&&(h?g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):c?g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):r!=="heatmap"&&r!=="treemap"||(g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),g&&g.length))for(var S=0;S<g.length;S++)x.push(g[S].getAttribute("cy")),y.push(g[S].getAttribute("cx"));if(n.globals.xyCharts&&!this.showOnIntersect||n.globals.comboCharts&&!this.showOnIntersect||c&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([u],v);else if(c&&!n.globals.comboCharts||h&&this.showOnIntersect)this.addDatapointEventsListeners(v);else if(!n.globals.axisCharts||r==="heatmap"||r==="treemap"){var C=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(C,v)}if(this.showOnIntersect){var E=n.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");E.length>0&&this.addPathsEventListeners(E,v),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(v)}}},{key:"drawFixedTooltipRect",value:function(){var n=this.w,r=this.getElTooltip(),o=r.getBoundingClientRect(),c=o.width+10,h=o.height+10,u=this.tConfig.fixed.offsetX,f=this.tConfig.fixed.offsetY,g=this.tConfig.fixed.position.toLowerCase();return g.indexOf("right")>-1&&(u=u+n.globals.svgWidth-c+10),g.indexOf("bottom")>-1&&(f=f+n.globals.svgHeight-h-10),r.style.left=u+"px",r.style.top=f+"px",{x:u,y:f,ttWidth:c,ttHeight:h}}},{key:"addDatapointEventsListeners",value:function(n){var r=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(r,n)}},{key:"addPathsEventListeners",value:function(n,r){for(var o=this,c=function(u){var f={paths:n[u],tooltipEl:r.tooltipEl,tooltipY:r.tooltipY,tooltipX:r.tooltipX,elGrid:r.elGrid,hoverArea:r.hoverArea,ttItems:r.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(g){return n[u].addEventListener(g,o.onSeriesHover.bind(o,f),{capture:!1,passive:!0})})},h=0;h<n.length;h++)c(h)}},{key:"onSeriesHover",value:function(n,r){var o=this,c=Date.now()-this.lastHoverTime;c>=100?this.seriesHover(n,r):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){o.seriesHover(n,r)},100-c))}},{key:"seriesHover",value:function(n,r){var o=this;this.lastHoverTime=Date.now();var c=[],h=this.w;h.config.chart.group&&(c=this.ctx.getGroupedCharts()),h.globals.axisCharts&&(h.globals.minX===-1/0&&h.globals.maxX===1/0||h.globals.dataPoints===0)||(c.length?c.forEach(function(u){var f=o.getElTooltip(u),g={paths:n.paths,tooltipEl:f,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:u.w.globals.tooltip.ttItems};u.w.globals.minX===o.w.globals.minX&&u.w.globals.maxX===o.w.globals.maxX&&u.w.globals.tooltip.seriesHoverByContext({chartCtx:u,ttCtx:u.w.globals.tooltip,opt:g,e:r})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:n,e:r}))}},{key:"seriesHoverByContext",value:function(n){var r=n.chartCtx,o=n.ttCtx,c=n.opt,h=n.e,u=r.w,f=this.getElTooltip();f&&(o.tooltipRect={x:0,y:0,ttWidth:f.getBoundingClientRect().width,ttHeight:f.getBoundingClientRect().height},o.e=h,o.tooltipUtil.hasBars()&&!u.globals.comboCharts&&!o.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new gt(r).toggleSeriesOnHover(h,h.target.parentNode),o.fixedTooltip&&o.drawFixedTooltipRect(),u.globals.axisCharts?o.axisChartsTooltips({e:h,opt:c,tooltipRect:o.tooltipRect}):o.nonAxisChartsTooltips({e:h,opt:c,tooltipRect:o.tooltipRect}))}},{key:"axisChartsTooltips",value:function(n){var r,o,c=n.e,h=n.opt,u=this.w,f=h.elGrid.getBoundingClientRect(),g=c.type==="touchmove"?c.touches[0].clientX:c.clientX,x=c.type==="touchmove"?c.touches[0].clientY:c.clientY;if(this.clientY=x,this.clientX=g,u.globals.capturedSeriesIndex=-1,u.globals.capturedDataPointIndex=-1,x<f.top||x>f.top+f.height)this.handleMouseOut(h);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!u.config.tooltip.shared){var y=parseInt(h.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(y)<0)return void this.handleMouseOut(h)}var v=this.getElTooltip(),S=this.getElXCrosshairs(),C=u.globals.xyCharts||u.config.chart.type==="bar"&&!u.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||u.globals.comboCharts&&this.tooltipUtil.hasBars();if(c.type==="mousemove"||c.type==="touchmove"||c.type==="mouseup"){if(u.globals.collapsedSeries.length+u.globals.ancillaryCollapsedSeries.length===u.globals.series.length)return;S!==null&&S.classList.add("apexcharts-active");var E=this.yaxisTooltips.filter(function(N){return N===!0});if(this.ycrosshairs!==null&&E.length&&this.ycrosshairs.classList.add("apexcharts-active"),C&&!this.showOnIntersect)this.handleStickyTooltip(c,g,x,h);else if(u.config.chart.type==="heatmap"||u.config.chart.type==="treemap"){var M=this.intersect.handleHeatTreeTooltip({e:c,opt:h,x:r,y:o,type:u.config.chart.type});r=M.x,o=M.y,v.style.left=r+"px",v.style.top=o+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:c,opt:h}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:c,opt:h,x:r,y:o});if(this.yaxisTooltips.length)for(var P=0;P<u.config.yaxis.length;P++)this.axesTooltip.drawYaxisTooltipText(P,x,this.xyRatios);h.tooltipEl.classList.add("apexcharts-active")}else c.type!=="mouseout"&&c.type!=="touchend"||this.handleMouseOut(h)}}},{key:"nonAxisChartsTooltips",value:function(n){var r=n.e,o=n.opt,c=n.tooltipRect,h=this.w,u=o.paths.getAttribute("rel"),f=this.getElTooltip(),g=h.globals.dom.elWrap.getBoundingClientRect();if(r.type==="mousemove"||r.type==="touchmove"){f.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:parseInt(u,10)-1,shared:!1});var x=h.globals.clientX-g.left-c.ttWidth/2,y=h.globals.clientY-g.top-c.ttHeight-10;if(f.style.left=x+"px",f.style.top=y+"px",h.config.legend.tooltipHoverFormatter){var v=u-1,S=(0,h.config.legend.tooltipHoverFormatter)(this.legendLabels[v].getAttribute("data:default-text"),{seriesIndex:v,dataPointIndex:v,w:h});this.legendLabels[v].innerHTML=S}}else r.type!=="mouseout"&&r.type!=="touchend"||(f.classList.remove("apexcharts-active"),h.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(C){var E=C.getAttribute("data:default-text");C.innerHTML=decodeURIComponent(E)}))}},{key:"handleStickyTooltip",value:function(n,r,o,c){var h=this.w,u=this.tooltipUtil.getNearestValues({context:this,hoverArea:c.hoverArea,elGrid:c.elGrid,clientX:r,clientY:o}),f=u.j,g=u.capturedSeries;h.globals.collapsedSeriesIndices.includes(g)&&(g=null);var x=c.elGrid.getBoundingClientRect();if(u.hoverX<0||u.hoverX>x.width)this.handleMouseOut(c);else if(g!==null)this.handleStickyCapturedSeries(n,g,c,f);else if(this.tooltipUtil.isXoverlap(f)||h.globals.isBarHorizontal){var y=h.globals.series.findIndex(function(v,S){return!h.globals.collapsedSeriesIndices.includes(S)});this.create(n,this,y,f,c.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(n,r,o,c){var h=this.w;if(!this.tConfig.shared&&h.globals.series[r][c]===null)return void this.handleMouseOut(o);if(h.globals.series[r][c]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(c)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(n,this,r,c,o.ttItems):this.create(n,this,r,c,o.ttItems,!1);else if(this.tooltipUtil.isXoverlap(c)){var u=h.globals.series.findIndex(function(f,g){return!h.globals.collapsedSeriesIndices.includes(g)});this.create(n,this,u,c,o.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var n=this.w,r=new j(this.ctx),o=n.globals.dom.Paper.select(".apexcharts-bar-area"),c=0;c<o.length;c++)r.pathMouseLeave(o[c])}},{key:"handleMouseOut",value:function(n){var r=this.w,o=this.getElXCrosshairs();if(n.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),r.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),o!==null&&o.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=r.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var c=0;c<this.yaxisTTEls.length;c++)this.yaxisTTEls[c].classList.remove("apexcharts-active")}r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(h){var u=h.getAttribute("data:default-text");h.innerHTML=decodeURIComponent(u)})}},{key:"markerClick",value:function(n,r,o){var c=this.w;typeof c.config.chart.events.markerClick=="function"&&c.config.chart.events.markerClick(n,this.ctx,{seriesIndex:r,dataPointIndex:o,w:c}),this.ctx.events.fireEvent("markerClick",[n,this.ctx,{seriesIndex:r,dataPointIndex:o,w:c}])}},{key:"create",value:function(n,r,o,c,h){var u,f,g,x,y,v,S,C,E,M,P,N,F,m,w,T,I=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,B=this.w,H=r;n.type==="mouseup"&&this.markerClick(n,o,c),I===null&&(I=this.tConfig.shared);var Y=this.tooltipUtil.hasMarkers(o),V=this.tooltipUtil.getElBars();if(B.config.legend.tooltipHoverFormatter){var U=B.config.legend.tooltipHoverFormatter,K=Array.from(this.legendLabels);K.forEach(function(kt){var Oi=kt.getAttribute("data:default-text");kt.innerHTML=decodeURIComponent(Oi)});for(var $=0;$<K.length;$++){var te=K[$],ie=parseInt(te.getAttribute("i"),10),de=decodeURIComponent(te.getAttribute("data:default-text")),ge=U(de,{seriesIndex:I?ie:o,dataPointIndex:c,w:B});if(I)te.innerHTML=B.globals.collapsedSeriesIndices.indexOf(ie)<0?ge:de;else if(te.innerHTML=ie===o?ge:de,o===ie)break}}var be=s(s({ttItems:h,i:o,j:c},((u=B.globals.seriesRange)===null||u===void 0||(f=u[o])===null||f===void 0||(g=f[c])===null||g===void 0||(x=g.y[0])===null||x===void 0?void 0:x.y1)!==void 0&&{y1:(y=B.globals.seriesRange)===null||y===void 0||(v=y[o])===null||v===void 0||(S=v[c])===null||S===void 0||(C=S.y[0])===null||C===void 0?void 0:C.y1}),((E=B.globals.seriesRange)===null||E===void 0||(M=E[o])===null||M===void 0||(P=M[c])===null||P===void 0||(N=P.y[0])===null||N===void 0?void 0:N.y2)!==void 0&&{y2:(F=B.globals.seriesRange)===null||F===void 0||(m=F[o])===null||m===void 0||(w=m[c])===null||w===void 0||(T=w.y[0])===null||T===void 0?void 0:T.y2});if(I){if(H.tooltipLabels.drawSeriesTexts(s(s({},be),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Y)B.globals.markers.largestSize>0?H.marker.enlargePoints(c):H.tooltipPosition.moveDynamicPointsOnHover(c);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(V),this.barSeriesHeight>0)){var Ee=new j(this.ctx),Se=B.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(c,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(c,o);for(var Me=0;Me<Se.length;Me++)Ee.pathMouseEnter(Se[Me])}}else H.tooltipLabels.drawSeriesTexts(s({shared:!1},be)),this.tooltipUtil.hasBars()&&H.tooltipPosition.moveStickyTooltipOverBars(c,o),Y&&H.tooltipPosition.moveMarkers(o,c)}}]),O}(),jg=function(){function O(n){l(this,O),this.w=n.w,this.barCtx=n,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return p(O,[{key:"handleBarDataLabels",value:function(n){var r=n.x,o=n.y,c=n.y1,h=n.y2,u=n.i,f=n.j,g=n.realIndex,x=n.groupIndex,y=n.series,v=n.barHeight,S=n.barWidth,C=n.barXPosition,E=n.barYPosition,M=n.visibleSeries,P=n.renderedPath,N=this.w,F=new j(this.barCtx.ctx),m=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth,w=r+parseFloat(S*M),T=o+parseFloat(v*M);N.globals.isXNumeric&&!N.globals.isBarHorizontal&&(w=r+parseFloat(S*(M+1)),T=o+parseFloat(v*(M+1))-m);var I,B=null,H=r,Y=o,V={},U=N.config.dataLabels,K=this.barCtx.barOptions.dataLabels,$=this.barCtx.barOptions.dataLabels.total;E!==void 0&&this.barCtx.isRangeBar&&(T=E,Y=E),C!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(w=C,H=C);var te=U.offsetX,ie=U.offsetY,de={width:0,height:0};if(N.config.dataLabels.enabled){var ge=this.barCtx.series[u][f];de=F.getTextRects(N.globals.yLabelFormatters[0](ge),parseFloat(U.style.fontSize))}var be={x:r,y:o,i:u,j:f,realIndex:g,groupIndex:x||-1,renderedPath:P,bcx:w,bcy:T,barHeight:v,barWidth:S,textRects:de,strokeWidth:m,dataLabelsX:H,dataLabelsY:Y,dataLabelsConfig:U,barDataLabelsConfig:K,barTotalDataLabelsConfig:$,offX:te,offY:ie};return V=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(be):this.calculateColumnsDataLabelsPosition(be),P.attr({cy:V.bcy,cx:V.bcx,j:f,val:y[u][f],barHeight:v,barWidth:S}),I=this.drawCalculatedDataLabels({x:V.dataLabelsX,y:V.dataLabelsY,val:this.barCtx.isRangeBar?[c,h]:y[u][f],i:g,j:f,barWidth:S,barHeight:v,textRects:de,dataLabelsConfig:U}),N.config.chart.stacked&&$.enabled&&(B=this.drawTotalDataLabels({x:V.totalDataLabelsX,y:V.totalDataLabelsY,realIndex:g,textAnchor:V.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:g,j:f}),dataLabelsConfig:U,barTotalDataLabelsConfig:$})),{dataLabels:I,totalDataLabels:B}}},{key:"getStackedTotalDataLabel",value:function(n){var r=n.realIndex,o=n.j,c=this.w,h=this.barCtx.stackedSeriesTotals[o];return this.totalFormatter&&(h=this.totalFormatter(h,s(s({},c),{},{seriesIndex:r,dataPointIndex:o,w:c}))),h}},{key:"calculateColumnsDataLabelsPosition",value:function(n){var r,o,c=this.w,h=n.i,u=n.j,f=n.realIndex,g=n.groupIndex,x=n.y,y=n.bcx,v=n.barWidth,S=n.barHeight,C=n.textRects,E=n.dataLabelsX,M=n.dataLabelsY,P=n.dataLabelsConfig,N=n.barDataLabelsConfig,F=n.barTotalDataLabelsConfig,m=n.strokeWidth,w=n.offX,T=n.offY;S=Math.abs(S);var I=c.config.plotOptions.bar.dataLabels.orientation==="vertical",B=this.barCtx.barHelpers.getZeroValueEncounters({i:h,j:u}).zeroEncounters;y=y-m/2+(g!==-1?g*v:0);var H=c.globals.gridWidth/c.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?E+=v/2:(E=c.globals.isXNumeric?y-v/2+w:y-H+v/2+w,B>0&&c.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(E-=v*B)),I&&(E=E+C.height/2-m/2-2);var Y=this.barCtx.series[h][u]<0,V=x;switch(this.barCtx.isReversed&&(V=x-S+(Y?2*S:0),x-=S),N.position){case"center":M=I?Y?V-S/2+T:V+S/2-T:Y?V-S/2+C.height/2+T:V+S/2+C.height/2-T;break;case"bottom":M=I?Y?V-S+T:V+S-T:Y?V-S+C.height+m+T:V+S-C.height/2+m-T;break;case"top":M=I?Y?V+T:V-T:Y?V-C.height/2-T:V+C.height+T}if(this.barCtx.lastActiveBarSerieIndex===f&&F.enabled){var U=new j(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:f,j:u}),P.fontSize);r=Y?V-U.height/2-T-F.offsetY+18:V+U.height+T+F.offsetY-18,o=E+F.offsetX}return c.config.chart.stacked||(M<0?M=0+m:M+C.height/3>c.globals.gridHeight&&(M=c.globals.gridHeight-m)),{bcx:y,bcy:x,dataLabelsX:E,dataLabelsY:M,totalDataLabelsX:o,totalDataLabelsY:r,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(n){var r=this.w,o=n.x,c=n.i,h=n.j,u=n.realIndex,f=n.groupIndex,g=n.bcy,x=n.barHeight,y=n.barWidth,v=n.textRects,S=n.dataLabelsX,C=n.strokeWidth,E=n.dataLabelsConfig,M=n.barDataLabelsConfig,P=n.barTotalDataLabelsConfig,N=n.offX,F=n.offY,m=r.globals.gridHeight/r.globals.dataPoints;y=Math.abs(y);var w,T,I=(g+=f!==-1?f*x:0)-(this.barCtx.isRangeBar?0:m)+x/2+v.height/2+F-3,B="start",H=this.barCtx.series[c][h]<0,Y=o;switch(this.barCtx.isReversed&&(Y=o+y-(H?2*y:0),o=r.globals.gridWidth-y),M.position){case"center":S=H?Y+y/2-N:Math.max(v.width/2,Y-y/2)+N;break;case"bottom":S=H?Y+y-C-Math.round(v.width/2)-N:Y-y+C+Math.round(v.width/2)+N;break;case"top":S=H?Y-C+Math.round(v.width/2)-N:Y-C-Math.round(v.width/2)+N}if(this.barCtx.lastActiveBarSerieIndex===u&&P.enabled){var V=new j(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:u,j:h}),E.fontSize);H?(w=Y-C+Math.round(V.width/2)-N-P.offsetX-15,B="end"):w=Y-C-Math.round(V.width/2)+N+P.offsetX+15,T=I+P.offsetY}return r.config.chart.stacked||(S<0?S=S+v.width+C:S+v.width/2>r.globals.gridWidth&&(S=r.globals.gridWidth-v.width-C)),{bcx:o,bcy:g,dataLabelsX:S,dataLabelsY:I,totalDataLabelsX:w,totalDataLabelsY:T,totalDataLabelsAnchor:B}}},{key:"drawCalculatedDataLabels",value:function(n){var r=n.x,o=n.y,c=n.val,h=n.i,u=n.j,f=n.textRects,g=n.barHeight,x=n.barWidth,y=n.dataLabelsConfig,v=this.w,S="rotate(0)";v.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(S="rotate(-90, ".concat(r,", ").concat(o,")"));var C=new on(this.barCtx.ctx),E=new j(this.barCtx.ctx),M=y.formatter,P=null,N=v.globals.collapsedSeriesIndices.indexOf(h)>-1;if(y.enabled&&!N){P=E.group({class:"apexcharts-data-labels",transform:S});var F="";c!==void 0&&(F=M(c,s(s({},v),{},{seriesIndex:h,dataPointIndex:u,w:v}))),!c&&v.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(F="");var m=v.globals.series[h][u]<0,w=v.config.plotOptions.bar.dataLabels.position;v.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(w==="top"&&(y.textAnchor=m?"end":"start"),w==="center"&&(y.textAnchor="middle"),w==="bottom"&&(y.textAnchor=m?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&x<E.getTextRects(F,parseFloat(y.style.fontSize)).width&&(F=""),v.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?f.width/1.6>Math.abs(x)&&(F=""):f.height/1.6>Math.abs(g)&&(F=""));var T=s({},y);this.barCtx.isHorizontal&&c<0&&(y.textAnchor==="start"?T.textAnchor="end":y.textAnchor==="end"&&(T.textAnchor="start")),C.plotDataLabelsText({x:r,y:o,text:F,i:h,j:u,parent:P,dataLabelsConfig:T,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return P}},{key:"drawTotalDataLabels",value:function(n){var r,o=n.x,c=n.y,h=n.val,u=n.realIndex,f=n.textAnchor,g=n.barTotalDataLabelsConfig,x=new j(this.barCtx.ctx);return g.enabled&&o!==void 0&&c!==void 0&&this.barCtx.lastActiveBarSerieIndex===u&&(r=x.drawText({x:o,y:c,foreColor:g.style.color,text:h,textAnchor:f,fontFamily:g.style.fontFamily,fontSize:g.style.fontSize,fontWeight:g.style.fontWeight})),r}}]),O}(),Gg=function(){function O(n){l(this,O),this.w=n.w,this.barCtx=n}return p(O,[{key:"initVariables",value:function(n){var r=this.w;this.barCtx.series=n,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var o=0;o<n.length;o++)if(n[o].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=n[o].length),r.globals.isXNumeric)for(var c=0;c<n[o].length;c++)r.globals.seriesX[o][c]>r.globals.minX&&r.globals.seriesX[o][c]<r.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=r.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],r.globals.comboCharts||this.checkZeroSeries({series:n})}},{key:"initialPositions",value:function(){var n,r,o,c,h,u,f,g,x=this.w,y=x.globals.dataPoints;this.barCtx.isRangeBar&&(y=x.globals.labels.length);var v=this.barCtx.seriesLen;if(x.config.plotOptions.bar.rangeBarGroupRows&&(v=1),this.barCtx.isHorizontal)h=(o=x.globals.gridHeight/y)/v,x.globals.isXNumeric&&(h=(o=x.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),h=h*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(h=parseInt(this.barCtx.barOptions.barHeight,10)),g=this.barCtx.baseLineInvertedY+x.globals.padHorizontal+(this.barCtx.isReversed?x.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(g=x.globals.gridWidth/2),r=(o-h*this.barCtx.seriesLen)/2;else{if(c=x.globals.gridWidth/this.barCtx.visibleItems,x.config.xaxis.convertedCatToNumeric&&(c=x.globals.gridWidth/x.globals.dataPoints),u=c/v*parseInt(this.barCtx.barOptions.columnWidth,10)/100,x.globals.isXNumeric){var S=this.barCtx.xRatio;x.config.xaxis.convertedCatToNumeric&&(S=this.barCtx.initialXRatio),x.globals.minXDiff&&x.globals.minXDiff!==.5&&x.globals.minXDiff/S>0&&(c=x.globals.minXDiff/S),(u=c/v*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(u=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(u=parseInt(this.barCtx.barOptions.columnWidth,10)),f=x.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?x.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),n=x.globals.padHorizontal+(c-u*this.barCtx.seriesLen)/2}return{x:n,y:r,yDivision:o,xDivision:c,barHeight:h,barWidth:u,zeroH:f,zeroW:g}}},{key:"initializeStackedPrevVars",value:function(n){var r=n.w;r.globals.hasSeriesGroups?r.globals.seriesGroups.forEach(function(o){n[o]||(n[o]={}),n[o].prevY=[],n[o].prevX=[],n[o].prevYF=[],n[o].prevXF=[],n[o].prevYVal=[],n[o].prevXVal=[]}):(n.prevY=[],n.prevX=[],n.prevYF=[],n.prevXF=[],n.prevYVal=[],n.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(n){var r=n.w;r.globals.hasSeriesGroups?r.globals.seriesGroups.forEach(function(o){n[o]||(n[o]={}),n[o].xArrj=[],n[o].xArrjF=[],n[o].xArrjVal=[],n[o].yArrj=[],n[o].yArrjF=[],n[o].yArrjVal=[]}):(n.xArrj=[],n.xArrjF=[],n.xArrjVal=[],n.yArrj=[],n.yArrjF=[],n.yArrjVal=[])}},{key:"getPathFillColor",value:function(n,r,o,c){var h,u,f,g,x=this.w,y=new je(this.barCtx.ctx),v=null,S=this.barCtx.barOptions.distributed?o:r;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(C){n[r][o]>=C.from&&n[r][o]<=C.to&&(v=C.color)}),x.config.series[r].data[o]&&x.config.series[r].data[o].fillColor&&(v=x.config.series[r].data[o].fillColor),y.fillPath({seriesNumber:this.barCtx.barOptions.distributed?S:c,dataPointIndex:o,color:v,value:n[r][o],fillConfig:(h=x.config.series[r].data[o])===null||h===void 0?void 0:h.fill,fillType:(u=x.config.series[r].data[o])!==null&&u!==void 0&&(f=u.fill)!==null&&f!==void 0&&f.type?(g=x.config.series[r].data[o])===null||g===void 0?void 0:g.fill.type:x.config.fill.type})}},{key:"getStrokeWidth",value:function(n,r,o){var c=0,h=this.w;return this.barCtx.series[n][r]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,h.config.stroke.show&&(this.barCtx.isNullValue||(c=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth)),c}},{key:"shouldApplyRadius",value:function(n){var r=this.w,o=!1;return r.config.plotOptions.bar.borderRadius>0&&(r.config.chart.stacked&&r.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===n&&(o=!0):o=!0),o}},{key:"barBackground",value:function(n){var r=n.j,o=n.i,c=n.x1,h=n.x2,u=n.y1,f=n.y2,g=n.elSeries,x=this.w,y=new j(this.barCtx.ctx),v=new gt(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&v===o){r>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(r%=this.barCtx.barOptions.colors.backgroundBarColors.length);var S=this.barCtx.barOptions.colors.backgroundBarColors[r],C=y.drawRect(c!==void 0?c:0,u!==void 0?u:0,h!==void 0?h:x.globals.gridWidth,f!==void 0?f:x.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,S,this.barCtx.barOptions.colors.backgroundBarOpacity);g.add(C),C.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(n){var r,o=n.barWidth,c=n.barXPosition,h=n.y1,u=n.y2,f=n.strokeWidth,g=n.seriesGroup,x=n.realIndex,y=n.i,v=n.j,S=n.w,C=new j(this.barCtx.ctx);(f=Array.isArray(f)?f[x]:f)||(f=0);var E=o,M=c;(r=S.config.series[x].data[v])!==null&&r!==void 0&&r.columnWidthOffset&&(M=c-S.config.series[x].data[v].columnWidthOffset/2,E=o+S.config.series[x].data[v].columnWidthOffset);var P=M,N=M+E;h+=.001,u+=.001;var F=C.move(P,h),m=C.move(P,h),w=C.line(N-f,h);if(S.globals.previousPaths.length>0&&(m=this.barCtx.getPreviousPath(x,v,!1)),F=F+C.line(P,u)+C.line(N-f,u)+C.line(N-f,h)+(S.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),m=m+C.line(P,h)+w+w+w+w+w+C.line(P,h)+(S.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(x)&&(F=C.roundPathCorners(F,S.config.plotOptions.bar.borderRadius)),S.config.chart.stacked){var T=this.barCtx;S.globals.hasSeriesGroups&&g&&(T=this.barCtx[g]),T.yArrj.push(u),T.yArrjF.push(Math.abs(h-u)),T.yArrjVal.push(this.barCtx.series[y][v])}return{pathTo:F,pathFrom:m}}},{key:"getBarpaths",value:function(n){var r,o=n.barYPosition,c=n.barHeight,h=n.x1,u=n.x2,f=n.strokeWidth,g=n.seriesGroup,x=n.realIndex,y=n.i,v=n.j,S=n.w,C=new j(this.barCtx.ctx);(f=Array.isArray(f)?f[x]:f)||(f=0);var E=o,M=c;(r=S.config.series[x].data[v])!==null&&r!==void 0&&r.barHeightOffset&&(E=o-S.config.series[x].data[v].barHeightOffset/2,M=c+S.config.series[x].data[v].barHeightOffset);var P=E,N=E+M;h+=.001,u+=.001;var F=C.move(h,P),m=C.move(h,P);S.globals.previousPaths.length>0&&(m=this.barCtx.getPreviousPath(x,v,!1));var w=C.line(h,N-f);if(F=F+C.line(u,P)+C.line(u,N-f)+w+(S.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),m=m+C.line(h,P)+w+w+w+w+w+C.line(h,P)+(S.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(x)&&(F=C.roundPathCorners(F,S.config.plotOptions.bar.borderRadius)),S.config.chart.stacked){var T=this.barCtx;S.globals.hasSeriesGroups&&g&&(T=this.barCtx[g]),T.xArrj.push(u),T.xArrjF.push(Math.abs(h-u)),T.xArrjVal.push(this.barCtx.series[y][v])}return{pathTo:F,pathFrom:m}}},{key:"checkZeroSeries",value:function(n){for(var r=n.series,o=this.w,c=0;c<r.length;c++){for(var h=0,u=0;u<r[o.globals.maxValsInArrayIndex].length;u++)h+=r[c][u];h===0&&this.barCtx.zeroSerieses.push(c)}}},{key:"getXForValue",value:function(n,r){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?r:null;return n!=null&&(o=r+n/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?n/this.barCtx.invertedYRatio:0)),o}},{key:"getYForValue",value:function(n,r){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?r:null;return n!=null&&(o=r-n/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?n/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),o}},{key:"getGoalValues",value:function(n,r,o,c,h){var u=this,f=this.w,g=[],x=function(S,C){var E;g.push((b(E={},n,n==="x"?u.getXForValue(S,r,!1):u.getYForValue(S,o,!1)),b(E,"attrs",C),E))};if(f.globals.seriesGoals[c]&&f.globals.seriesGoals[c][h]&&Array.isArray(f.globals.seriesGoals[c][h])&&f.globals.seriesGoals[c][h].forEach(function(S){x(S.value,S)}),this.barCtx.barOptions.isDumbbell&&f.globals.seriesRange.length){var y=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:f.globals.colors,v={strokeHeight:n==="x"?0:f.globals.markers.size[c],strokeWidth:n==="x"?f.globals.markers.size[c]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(y[c])?y[c][0]:y[c]};x(f.globals.seriesRangeStart[c][h],v),x(f.globals.seriesRangeEnd[c][h],s(s({},v),{},{strokeColor:Array.isArray(y[c])?y[c][1]:y[c]}))}return g}},{key:"drawGoalLine",value:function(n){var r=n.barXPosition,o=n.barYPosition,c=n.goalX,h=n.goalY,u=n.barWidth,f=n.barHeight,g=new j(this.barCtx.ctx),x=g.group({className:"apexcharts-bar-goals-groups"});x.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:x.node}),x.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var y=null;return this.barCtx.isHorizontal?Array.isArray(c)&&c.forEach(function(v){var S=v.attrs.strokeHeight!==void 0?v.attrs.strokeHeight:f/2,C=o+S+f/2;y=g.drawLine(v.x,C-2*S,v.x,C,v.attrs.strokeColor?v.attrs.strokeColor:void 0,v.attrs.strokeDashArray,v.attrs.strokeWidth?v.attrs.strokeWidth:2,v.attrs.strokeLineCap),x.add(y)}):Array.isArray(h)&&h.forEach(function(v){var S=v.attrs.strokeWidth!==void 0?v.attrs.strokeWidth:u/2,C=r+S+u/2;y=g.drawLine(C-2*S,v.y,C,v.y,v.attrs.strokeColor?v.attrs.strokeColor:void 0,v.attrs.strokeDashArray,v.attrs.strokeHeight?v.attrs.strokeHeight:2,v.attrs.strokeLineCap),x.add(y)}),x}},{key:"drawBarShadow",value:function(n){var r=n.prevPaths,o=n.currPaths,c=n.color,h=this.w,u=r.x,f=r.x1,g=r.barYPosition,x=o.x,y=o.x1,v=o.barYPosition,S=g+o.barHeight,C=new j(this.barCtx.ctx),E=new _,M=C.move(f,S)+C.line(u,S)+C.line(x,v)+C.line(y,v)+C.line(f,S)+(h.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z");return C.drawPath({d:M,fill:E.shadeColor(.5,_.rgb2hex(c)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(n){var r=n.i,o=n.j,c=this.w,h=0,u=0;return c.globals.seriesPercent.forEach(function(f,g){f[o]&&h++,g<r&&f[o]===0&&u++}),{nonZeroColumns:h,zeroEncounters:u}}}]),O}(),cn=function(){function O(n,r){l(this,O),this.ctx=n,this.w=n.w;var o=this.w;this.barOptions=o.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=o.config.stroke.width,this.isNullValue=!1,this.isRangeBar=o.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!o.globals.isBarHorizontal&&o.globals.seriesRange.length&&o.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=r,this.xyRatios!==null&&(this.xRatio=r.xRatio,this.initialXRatio=r.initialXRatio,this.yRatio=r.yRatio,this.invertedXRatio=r.invertedXRatio,this.invertedYRatio=r.invertedYRatio,this.baseLineY=r.baseLineY,this.baseLineInvertedY=r.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.pathArr=[];var c=new gt(this.ctx);this.lastActiveBarSerieIndex=c.getActiveConfigSeriesIndex("desc",["bar","column"]);var h=c.getBarSeriesIndices(),u=new q(this.ctx);this.stackedSeriesTotals=u.getStackedSeriesTotals(this.w.config.series.map(function(f,g){return h.indexOf(g)===-1?g:-1}).filter(function(f){return f!==-1})),this.barHelpers=new Gg(this)}return p(O,[{key:"draw",value:function(n,r){var o=this.w,c=new j(this.ctx),h=new q(this.ctx,o);n=h.getLogSeries(n),this.series=n,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);var u=c.group({class:"apexcharts-bar-series apexcharts-plot-series"});o.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var f=0,g=0;f<n.length;f++,g++){var x,y,v,S,C=void 0,E=void 0,M=[],P=[],N=o.globals.comboCharts?r[f]:f,F=c.group({class:"apexcharts-series",rel:f+1,seriesName:_.escapeString(o.globals.seriesNames[N]),"data:realIndex":N});this.ctx.series.addCollapsedClassToSeries(F,N),n[f].length>0&&(this.visibleI=this.visibleI+1);var m=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=N),this.isReversed=o.config.yaxis[this.yaxisIndex]&&o.config.yaxis[this.yaxisIndex].reversed;var T=this.barHelpers.initialPositions();E=T.y,m=T.barHeight,y=T.yDivision,S=T.zeroW,C=T.x,w=T.barWidth,x=T.xDivision,v=T.zeroH,this.horizontal||P.push(C+w/2);var I=c.group({class:"apexcharts-datalabels","data:realIndex":N});o.globals.delayedElements.push({el:I.node}),I.node.classList.add("apexcharts-element-hidden");var B=c.group({class:"apexcharts-bar-goals-markers"}),H=c.group({class:"apexcharts-bar-shadows"});o.globals.delayedElements.push({el:H.node}),H.node.classList.add("apexcharts-element-hidden");for(var Y=0;Y<o.globals.dataPoints;Y++){var V=this.barHelpers.getStrokeWidth(f,Y,N),U=null,K={indexes:{i:f,j:Y,realIndex:N,bc:g},x:C,y:E,strokeWidth:V,elSeries:F};this.isHorizontal?(U=this.drawBarPaths(s(s({},K),{},{barHeight:m,zeroW:S,yDivision:y})),w=this.series[f][Y]/this.invertedYRatio):(U=this.drawColumnPaths(s(s({},K),{},{xDivision:x,barWidth:w,zeroH:v})),m=this.series[f][Y]/this.yRatio[this.yaxisIndex]);var $=this.barHelpers.getPathFillColor(n,f,Y,N);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Y>0){var te=this.barHelpers.drawBarShadow({color:typeof $=="string"&&($==null?void 0:$.indexOf("url"))===-1?$:_.hexToRgba(o.globals.colors[f]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:U});te&&H.add(te)}this.pathArr.push(U);var ie=this.barHelpers.drawGoalLine({barXPosition:U.barXPosition,barYPosition:U.barYPosition,goalX:U.goalX,goalY:U.goalY,barHeight:m,barWidth:w});ie&&B.add(ie),E=U.y,C=U.x,Y>0&&P.push(C+w/2),M.push(E),this.renderSeries({realIndex:N,pathFill:$,j:Y,i:f,pathFrom:U.pathFrom,pathTo:U.pathTo,strokeWidth:V,elSeries:F,x:C,y:E,series:n,barHeight:U.barHeight?U.barHeight:m,barWidth:U.barWidth?U.barWidth:w,elDataLabelsWrap:I,elGoalsMarkers:B,elBarShadows:H,visibleSeries:this.visibleI,type:"bar"})}o.globals.seriesXvalues[N]=P,o.globals.seriesYvalues[N]=M,u.add(F)}return u}},{key:"renderSeries",value:function(n){var r=n.realIndex,o=n.pathFill,c=n.lineFill,h=n.j,u=n.i,f=n.groupIndex,g=n.pathFrom,x=n.pathTo,y=n.strokeWidth,v=n.elSeries,S=n.x,C=n.y,E=n.y1,M=n.y2,P=n.series,N=n.barHeight,F=n.barWidth,m=n.barXPosition,w=n.barYPosition,T=n.elDataLabelsWrap,I=n.elGoalsMarkers,B=n.elBarShadows,H=n.visibleSeries,Y=n.type,V=this.w,U=new j(this.ctx);c||(c=this.barOptions.distributed?V.globals.stroke.colors[h]:V.globals.stroke.colors[r]),V.config.series[u].data[h]&&V.config.series[u].data[h].strokeColor&&(c=V.config.series[u].data[h].strokeColor),this.isNullValue&&(o="none");var K=h/V.config.chart.animations.animateGradually.delay*(V.config.chart.animations.speed/V.globals.dataPoints)/2.4,$=U.renderPaths({i:u,j:h,realIndex:r,pathFrom:g,pathTo:x,stroke:c,strokeWidth:y,strokeLineCap:V.config.stroke.lineCap,fill:o,animationDelay:K,initialSpeed:V.config.chart.animations.speed,dataChangeSpeed:V.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Y,"-area")});$.attr("clip-path","url(#gridRectMask".concat(V.globals.cuid,")"));var te=V.config.forecastDataPoints;te.count>0&&h>=V.globals.dataPoints-te.count&&($.node.setAttribute("stroke-dasharray",te.dashArray),$.node.setAttribute("stroke-width",te.strokeWidth),$.node.setAttribute("fill-opacity",te.fillOpacity)),E!==void 0&&M!==void 0&&($.attr("data-range-y1",E),$.attr("data-range-y2",M)),new oe(this.ctx).setSelectionFilter($,r,h),v.add($);var ie=new jg(this).handleBarDataLabels({x:S,y:C,y1:E,y2:M,i:u,j:h,series:P,realIndex:r,groupIndex:f,barHeight:N,barWidth:F,barXPosition:m,barYPosition:w,renderedPath:$,visibleSeries:H});return ie.dataLabels!==null&&T.add(ie.dataLabels),ie.totalDataLabels&&T.add(ie.totalDataLabels),v.add(T),I&&v.add(I),B&&v.add(B),v}},{key:"drawBarPaths",value:function(n){var r,o=n.indexes,c=n.barHeight,h=n.strokeWidth,u=n.zeroW,f=n.x,g=n.y,x=n.yDivision,y=n.elSeries,v=this.w,S=o.i,C=o.j;if(v.globals.isXNumeric)r=(g=(v.globals.seriesX[S][C]-v.globals.minX)/this.invertedXRatio-c)+c*this.visibleI;else if(v.config.plotOptions.bar.hideZeroBarsWhenGrouped){var E=0,M=0;v.globals.seriesPercent.forEach(function(N,F){N[C]&&E++,F<S&&N[C]===0&&M++}),E>0&&(c=this.seriesLen*c/E),r=g+c*this.visibleI,r-=c*M}else r=g+c*this.visibleI;this.isFunnel&&(u-=(this.barHelpers.getXForValue(this.series[S][C],u)-u)/2),f=this.barHelpers.getXForValue(this.series[S][C],u);var P=this.barHelpers.getBarpaths({barYPosition:r,barHeight:c,x1:u,x2:f,strokeWidth:h,series:this.series,realIndex:o.realIndex,i:S,j:C,w:v});return v.globals.isXNumeric||(g+=x),this.barHelpers.barBackground({j:C,i:S,y1:r-c*this.visibleI,y2:c*this.seriesLen,elSeries:y}),{pathTo:P.pathTo,pathFrom:P.pathFrom,x1:u,x:f,y:g,goalX:this.barHelpers.getGoalValues("x",u,null,S,C),barYPosition:r,barHeight:c}}},{key:"drawColumnPaths",value:function(n){var r,o=n.indexes,c=n.x,h=n.y,u=n.xDivision,f=n.barWidth,g=n.zeroH,x=n.strokeWidth,y=n.elSeries,v=this.w,S=o.realIndex,C=o.i,E=o.j,M=o.bc;if(v.globals.isXNumeric){var P=S;v.globals.seriesX[S].length||(P=v.globals.maxValsInArrayIndex),v.globals.seriesX[P][E]&&(c=(v.globals.seriesX[P][E]-v.globals.minX)/this.xRatio-f*this.seriesLen/2),r=c+f*this.visibleI}else if(v.config.plotOptions.bar.hideZeroBarsWhenGrouped){var N=this.barHelpers.getZeroValueEncounters({i:C,j:E}),F=N.nonZeroColumns,m=N.zeroEncounters;F>0&&(f=this.seriesLen*f/F),r=c+f*this.visibleI,r-=f*m}else r=c+f*this.visibleI;h=this.barHelpers.getYForValue(this.series[C][E],g);var w=this.barHelpers.getColumnPaths({barXPosition:r,barWidth:f,y1:g,y2:h,strokeWidth:x,series:this.series,realIndex:o.realIndex,i:C,j:E,w:v});return v.globals.isXNumeric||(c+=u),this.barHelpers.barBackground({bc:M,j:E,i:C,x1:r-x/2-f*this.visibleI,x2:f*this.seriesLen+x/2,elSeries:y}),{pathTo:w.pathTo,pathFrom:w.pathFrom,x:c,y:h,goalY:this.barHelpers.getGoalValues("y",null,g,C,E),barXPosition:r,barWidth:f}}},{key:"getPreviousPath",value:function(n,r){for(var o,c=this.w,h=0;h<c.globals.previousPaths.length;h++){var u=c.globals.previousPaths[h];u.paths&&u.paths.length>0&&parseInt(u.realIndex,10)===parseInt(n,10)&&c.globals.previousPaths[h].paths[r]!==void 0&&(o=c.globals.previousPaths[h].paths[r].d)}return o}}]),O}(),Fc=function(O){k(r,cn);var n=z(r);function r(){return l(this,r),n.apply(this,arguments)}return p(r,[{key:"draw",value:function(o,c){var h=this,u=this.w;this.graphics=new j(this.ctx),this.bar=new cn(this.ctx,this.xyRatios);var f=new q(this.ctx,u);o=f.getLogSeries(o),this.yRatio=f.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o),u.config.chart.stackType==="100%"&&(o=u.globals.seriesPercent.slice()),this.series=o,this.barHelpers.initializeStackedPrevVars(this);for(var g=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),x=0,y=0,v=function(E,M){var P=void 0,N=void 0,F=void 0,m=void 0,w=-1;h.groupCtx=h,u.globals.seriesGroups.forEach(function(Se,Me){Se.indexOf(u.config.series[E].name)>-1&&(w=Me)}),w!==-1&&(h.groupCtx=h[u.globals.seriesGroups[w]]);var T=[],I=[],B=u.globals.comboCharts?c[E]:E;h.yRatio.length>1&&(h.yaxisIndex=B),h.isReversed=u.config.yaxis[h.yaxisIndex]&&u.config.yaxis[h.yaxisIndex].reversed;var H=h.graphics.group({class:"apexcharts-series",seriesName:_.escapeString(u.globals.seriesNames[B]),rel:E+1,"data:realIndex":B});h.ctx.series.addCollapsedClassToSeries(H,B);var Y=h.graphics.group({class:"apexcharts-datalabels","data:realIndex":B}),V=h.graphics.group({class:"apexcharts-bar-goals-markers"}),U=0,K=0,$=h.initialPositions(x,y,P,N,F,m);y=$.y,U=$.barHeight,N=$.yDivision,m=$.zeroW,x=$.x,K=$.barWidth,P=$.xDivision,F=$.zeroH,h.barHelpers.initializeStackedXYVars(h),h.groupCtx.prevY.length===1&&h.groupCtx.prevY[0].every(function(Se){return isNaN(Se)})&&(h.groupCtx.prevY[0]=h.groupCtx.prevY[0].map(function(Se){return F}),h.groupCtx.prevYF[0]=h.groupCtx.prevYF[0].map(function(Se){return 0}));for(var te=0;te<u.globals.dataPoints;te++){var ie=h.barHelpers.getStrokeWidth(E,te,B),de={indexes:{i:E,j:te,realIndex:B,bc:M},strokeWidth:ie,x,y,elSeries:H,groupIndex:w,seriesGroup:u.globals.seriesGroups[w]},ge=null;h.isHorizontal?(ge=h.drawStackedBarPaths(s(s({},de),{},{zeroW:m,barHeight:U,yDivision:N})),K=h.series[E][te]/h.invertedYRatio):(ge=h.drawStackedColumnPaths(s(s({},de),{},{xDivision:P,barWidth:K,zeroH:F})),U=h.series[E][te]/h.yRatio[h.yaxisIndex]);var be=h.barHelpers.drawGoalLine({barXPosition:ge.barXPosition,barYPosition:ge.barYPosition,goalX:ge.goalX,goalY:ge.goalY,barHeight:U,barWidth:K});be&&V.add(be),y=ge.y,x=ge.x,T.push(x),I.push(y);var Ee=h.barHelpers.getPathFillColor(o,E,te,B);H=h.renderSeries({realIndex:B,pathFill:Ee,j:te,i:E,groupIndex:w,pathFrom:ge.pathFrom,pathTo:ge.pathTo,strokeWidth:ie,elSeries:H,x,y,series:o,barHeight:U,barWidth:K,elDataLabelsWrap:Y,elGoalsMarkers:V,type:"bar",visibleSeries:0})}u.globals.seriesXvalues[B]=T,u.globals.seriesYvalues[B]=I,h.groupCtx.prevY.push(h.groupCtx.yArrj),h.groupCtx.prevYF.push(h.groupCtx.yArrjF),h.groupCtx.prevYVal.push(h.groupCtx.yArrjVal),h.groupCtx.prevX.push(h.groupCtx.xArrj),h.groupCtx.prevXF.push(h.groupCtx.xArrjF),h.groupCtx.prevXVal.push(h.groupCtx.xArrjVal),g.add(H)},S=0,C=0;S<o.length;S++,C++)v(S,C);return g}},{key:"initialPositions",value:function(o,c,h,u,f,g){var x,y,v,S,C=this.w;return this.isHorizontal?(v=(v=u=C.globals.gridHeight/C.globals.dataPoints)*parseInt(C.config.plotOptions.bar.barHeight,10)/100,String(C.config.plotOptions.bar.barHeight).indexOf("%")===-1&&(v=parseInt(C.config.plotOptions.bar.barHeight,10)),g=this.baseLineInvertedY+C.globals.padHorizontal+(this.isReversed?C.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),c=(u-v)/2):(S=h=C.globals.gridWidth/C.globals.dataPoints,S=C.globals.isXNumeric&&C.globals.dataPoints>1?(h=C.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:S*parseInt(C.config.plotOptions.bar.columnWidth,10)/100,String(C.config.plotOptions.bar.columnWidth).indexOf("%")===-1&&(S=parseInt(C.config.plotOptions.bar.columnWidth,10)),f=C.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?C.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),o=C.globals.padHorizontal+(h-S)/2),{x:o,y:c,yDivision:u,xDivision:h,barHeight:(x=C.globals.seriesGroups)!==null&&x!==void 0&&x.length?v/C.globals.seriesGroups.length:v,barWidth:(y=C.globals.seriesGroups)!==null&&y!==void 0&&y.length?S/C.globals.seriesGroups.length:S,zeroH:f,zeroW:g}}},{key:"drawStackedBarPaths",value:function(o){for(var c,h=o.indexes,u=o.barHeight,f=o.strokeWidth,g=o.zeroW,x=o.x,y=o.y,v=o.groupIndex,S=o.seriesGroup,C=o.yDivision,E=o.elSeries,M=this.w,P=y+(v!==-1?v*u:0),N=h.i,F=h.j,m=0,w=0;w<this.groupCtx.prevXF.length;w++)m+=this.groupCtx.prevXF[w][F];var T=N;if(S&&(T=S.indexOf(M.config.series[N].name)),T>0){var I=g;this.groupCtx.prevXVal[T-1][F]<0?I=this.series[N][F]>=0?this.groupCtx.prevX[T-1][F]+m-2*(this.isReversed?m:0):this.groupCtx.prevX[T-1][F]:this.groupCtx.prevXVal[T-1][F]>=0&&(I=this.series[N][F]>=0?this.groupCtx.prevX[T-1][F]:this.groupCtx.prevX[T-1][F]-m+2*(this.isReversed?m:0)),c=I}else c=g;x=this.series[N][F]===null?c:c+this.series[N][F]/this.invertedYRatio-2*(this.isReversed?this.series[N][F]/this.invertedYRatio:0);var B=this.barHelpers.getBarpaths({barYPosition:P,barHeight:u,x1:c,x2:x,strokeWidth:f,series:this.series,realIndex:h.realIndex,seriesGroup:S,i:N,j:F,w:M});return this.barHelpers.barBackground({j:F,i:N,y1:P,y2:u,elSeries:E}),y+=C,{pathTo:B.pathTo,pathFrom:B.pathFrom,goalX:this.barHelpers.getGoalValues("x",g,null,N,F),barYPosition:P,x,y}}},{key:"drawStackedColumnPaths",value:function(o){var c=o.indexes,h=o.x,u=o.y,f=o.xDivision,g=o.barWidth,x=o.zeroH,y=o.groupIndex,v=o.seriesGroup,S=o.elSeries,C=this.w,E=c.i,M=c.j,P=c.bc;if(C.globals.isXNumeric){var N=C.globals.seriesX[E][M];N||(N=0),h=(N-C.globals.minX)/this.xRatio-g/2,C.globals.seriesGroups.length&&(h=(N-C.globals.minX)/this.xRatio-g/2*C.globals.seriesGroups.length)}for(var F,m=h+(y!==-1?y*g:0),w=0,T=0;T<this.groupCtx.prevYF.length;T++)w+=isNaN(this.groupCtx.prevYF[T][M])?0:this.groupCtx.prevYF[T][M];var I=E;if(v&&(I=v.indexOf(C.config.series[E].name)),I>0&&!C.globals.isXNumeric||I>0&&C.globals.isXNumeric&&C.globals.seriesX[E-1][M]===C.globals.seriesX[E][M]){var B,H,Y,V=Math.min(this.yRatio.length+1,E+1);if(this.groupCtx.prevY[I-1]!==void 0&&this.groupCtx.prevY[I-1].length)for(var U=1;U<V;U++){var K;if(!isNaN((K=this.groupCtx.prevY[I-U])===null||K===void 0?void 0:K[M])){Y=this.groupCtx.prevY[I-U][M];break}}for(var $=1;$<V;$++){var te,ie;if(((te=this.groupCtx.prevYVal[I-$])===null||te===void 0?void 0:te[M])<0){H=this.series[E][M]>=0?Y-w+2*(this.isReversed?w:0):Y;break}if(((ie=this.groupCtx.prevYVal[I-$])===null||ie===void 0?void 0:ie[M])>=0){H=this.series[E][M]>=0?Y:Y+w-2*(this.isReversed?w:0);break}}H===void 0&&(H=C.globals.gridHeight),F=(B=this.groupCtx.prevYF[0])!==null&&B!==void 0&&B.every(function(ge){return ge===0})&&this.groupCtx.prevYF.slice(1,I).every(function(ge){return ge.every(function(be){return isNaN(be)})})?x:H}else F=x;u=this.series[E][M]?F-this.series[E][M]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[E][M]/this.yRatio[this.yaxisIndex]:0):F;var de=this.barHelpers.getColumnPaths({barXPosition:m,barWidth:g,y1:F,y2:u,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:v,realIndex:c.realIndex,i:E,j:M,w:C});return this.barHelpers.barBackground({bc:P,j:M,i:E,x1:m,x2:g,elSeries:S}),h+=f,{pathTo:de.pathTo,pathFrom:de.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,x,E,M),barXPosition:m,x:C.globals.isXNumeric?h-f:h,y:u}}}]),r}(),Ea=function(O){k(r,cn);var n=z(r);function r(){return l(this,r),n.apply(this,arguments)}return p(r,[{key:"draw",value:function(o,c,h){var u=this,f=this.w,g=new j(this.ctx),x=f.globals.comboCharts?c:f.config.chart.type,y=new je(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=f.config.plotOptions.bar.horizontal;var v=new q(this.ctx,f);o=v.getLogSeries(o),this.series=o,this.yRatio=v.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o);for(var S=g.group({class:"apexcharts-".concat(x,"-series apexcharts-plot-series")}),C=function(M){u.isBoxPlot=f.config.chart.type==="boxPlot"||f.config.series[M].type==="boxPlot";var P,N,F,m,w=void 0,T=void 0,I=[],B=[],H=f.globals.comboCharts?h[M]:M,Y=g.group({class:"apexcharts-series",seriesName:_.escapeString(f.globals.seriesNames[H]),rel:M+1,"data:realIndex":H});u.ctx.series.addCollapsedClassToSeries(Y,H),o[M].length>0&&(u.visibleI=u.visibleI+1);var V,U;u.yRatio.length>1&&(u.yaxisIndex=H);var K=u.barHelpers.initialPositions();T=K.y,V=K.barHeight,N=K.yDivision,m=K.zeroW,w=K.x,U=K.barWidth,P=K.xDivision,F=K.zeroH,B.push(w+U/2);for(var $=g.group({class:"apexcharts-datalabels","data:realIndex":H}),te=function(de){var ge=u.barHelpers.getStrokeWidth(M,de,H),be=null,Ee={indexes:{i:M,j:de,realIndex:H},x:w,y:T,strokeWidth:ge,elSeries:Y};be=u.isHorizontal?u.drawHorizontalBoxPaths(s(s({},Ee),{},{yDivision:N,barHeight:V,zeroW:m})):u.drawVerticalBoxPaths(s(s({},Ee),{},{xDivision:P,barWidth:U,zeroH:F})),T=be.y,w=be.x,de>0&&B.push(w+U/2),I.push(T),be.pathTo.forEach(function(Se,Me){var kt=!u.isBoxPlot&&u.candlestickOptions.wick.useFillColor?be.color[Me]:f.globals.stroke.colors[M],Oi=y.fillPath({seriesNumber:H,dataPointIndex:de,color:be.color[Me],value:o[M][de]});u.renderSeries({realIndex:H,pathFill:Oi,lineFill:kt,j:de,i:M,pathFrom:be.pathFrom,pathTo:Se,strokeWidth:ge,elSeries:Y,x:w,y:T,series:o,barHeight:V,barWidth:U,elDataLabelsWrap:$,visibleSeries:u.visibleI,type:f.config.chart.type})})},ie=0;ie<f.globals.dataPoints;ie++)te(ie);f.globals.seriesXvalues[H]=B,f.globals.seriesYvalues[H]=I,S.add(Y)},E=0;E<o.length;E++)C(E);return S}},{key:"drawVerticalBoxPaths",value:function(o){var c=o.indexes,h=o.x;o.y;var u=o.xDivision,f=o.barWidth,g=o.zeroH,x=o.strokeWidth,y=this.w,v=new j(this.ctx),S=c.i,C=c.j,E=!0,M=y.config.plotOptions.candlestick.colors.upward,P=y.config.plotOptions.candlestick.colors.downward,N="";this.isBoxPlot&&(N=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var F=this.yRatio[this.yaxisIndex],m=c.realIndex,w=this.getOHLCValue(m,C),T=g,I=g;w.o>w.c&&(E=!1);var B=Math.min(w.o,w.c),H=Math.max(w.o,w.c),Y=w.m;y.globals.isXNumeric&&(h=(y.globals.seriesX[m][C]-y.globals.minX)/this.xRatio-f/2);var V=h+f*this.visibleI;this.series[S][C]===void 0||this.series[S][C]===null?(B=g,H=g):(B=g-B/F,H=g-H/F,T=g-w.h/F,I=g-w.l/F,Y=g-w.m/F);var U=v.move(V,g),K=v.move(V+f/2,B);return y.globals.previousPaths.length>0&&(K=this.getPreviousPath(m,C,!0)),U=this.isBoxPlot?[v.move(V,B)+v.line(V+f/2,B)+v.line(V+f/2,T)+v.line(V+f/4,T)+v.line(V+f-f/4,T)+v.line(V+f/2,T)+v.line(V+f/2,B)+v.line(V+f,B)+v.line(V+f,Y)+v.line(V,Y)+v.line(V,B+x/2),v.move(V,Y)+v.line(V+f,Y)+v.line(V+f,H)+v.line(V+f/2,H)+v.line(V+f/2,I)+v.line(V+f-f/4,I)+v.line(V+f/4,I)+v.line(V+f/2,I)+v.line(V+f/2,H)+v.line(V,H)+v.line(V,Y)+"z"]:[v.move(V,H)+v.line(V+f/2,H)+v.line(V+f/2,T)+v.line(V+f/2,H)+v.line(V+f,H)+v.line(V+f,B)+v.line(V+f/2,B)+v.line(V+f/2,I)+v.line(V+f/2,B)+v.line(V,B)+v.line(V,H-x/2)],K+=v.move(V,B),y.globals.isXNumeric||(h+=u),{pathTo:U,pathFrom:K,x:h,y:H,barXPosition:V,color:this.isBoxPlot?N:E?[M]:[P]}}},{key:"drawHorizontalBoxPaths",value:function(o){var c=o.indexes;o.x;var h=o.y,u=o.yDivision,f=o.barHeight,g=o.zeroW,x=o.strokeWidth,y=this.w,v=new j(this.ctx),S=c.i,C=c.j,E=this.boxOptions.colors.lower;this.isBoxPlot&&(E=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var M=this.invertedYRatio,P=c.realIndex,N=this.getOHLCValue(P,C),F=g,m=g,w=Math.min(N.o,N.c),T=Math.max(N.o,N.c),I=N.m;y.globals.isXNumeric&&(h=(y.globals.seriesX[P][C]-y.globals.minX)/this.invertedXRatio-f/2);var B=h+f*this.visibleI;this.series[S][C]===void 0||this.series[S][C]===null?(w=g,T=g):(w=g+w/M,T=g+T/M,F=g+N.h/M,m=g+N.l/M,I=g+N.m/M);var H=v.move(g,B),Y=v.move(w,B+f/2);return y.globals.previousPaths.length>0&&(Y=this.getPreviousPath(P,C,!0)),H=[v.move(w,B)+v.line(w,B+f/2)+v.line(F,B+f/2)+v.line(F,B+f/2-f/4)+v.line(F,B+f/2+f/4)+v.line(F,B+f/2)+v.line(w,B+f/2)+v.line(w,B+f)+v.line(I,B+f)+v.line(I,B)+v.line(w+x/2,B),v.move(I,B)+v.line(I,B+f)+v.line(T,B+f)+v.line(T,B+f/2)+v.line(m,B+f/2)+v.line(m,B+f-f/4)+v.line(m,B+f/4)+v.line(m,B+f/2)+v.line(T,B+f/2)+v.line(T,B)+v.line(I,B)+"z"],Y+=v.move(w,B),y.globals.isXNumeric||(h+=u),{pathTo:H,pathFrom:Y,x:T,y:h,barYPosition:B,color:E}}},{key:"getOHLCValue",value:function(o,c){var h=this.w;return{o:this.isBoxPlot?h.globals.seriesCandleH[o][c]:h.globals.seriesCandleO[o][c],h:this.isBoxPlot?h.globals.seriesCandleO[o][c]:h.globals.seriesCandleH[o][c],m:h.globals.seriesCandleM[o][c],l:this.isBoxPlot?h.globals.seriesCandleC[o][c]:h.globals.seriesCandleL[o][c],c:this.isBoxPlot?h.globals.seriesCandleL[o][c]:h.globals.seriesCandleC[o][c]}}}]),r}(),zc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"checkColorRange",value:function(){var n=this.w,r=!1,o=n.config.plotOptions[n.config.chart.type];return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(c,h){c.from<=0&&(r=!0)}),r}},{key:"getShadeColor",value:function(n,r,o,c){var h=this.w,u=1,f=h.config.plotOptions[n].shadeIntensity,g=this.determineColor(n,r,o);h.globals.hasNegs||c?u=h.config.plotOptions[n].reverseNegativeShade?g.percent<0?g.percent/100*(1.25*f):(1-g.percent/100)*(1.25*f):g.percent<=0?1-(1+g.percent/100)*f:(1-g.percent/100)*f:(u=1-g.percent/100,n==="treemap"&&(u=(1-g.percent/100)*(1.25*f)));var x=g.color,y=new _;return h.config.plotOptions[n].enableShades&&(x=this.w.config.theme.mode==="dark"?_.hexToRgba(y.shadeColor(-1*u,g.color),h.config.fill.opacity):_.hexToRgba(y.shadeColor(u,g.color),h.config.fill.opacity)),{color:x,colorProps:g}}},{key:"determineColor",value:function(n,r,o){var c=this.w,h=c.globals.series[r][o],u=c.config.plotOptions[n],f=u.colorScale.inverse?o:r;u.distributed&&c.config.chart.type==="treemap"&&(f=o);var g=c.globals.colors[f],x=null,y=Math.min.apply(Math,W(c.globals.series[r])),v=Math.max.apply(Math,W(c.globals.series[r]));u.distributed||n!=="heatmap"||(y=c.globals.minY,v=c.globals.maxY),u.colorScale.min!==void 0&&(y=u.colorScale.min<c.globals.minY?u.colorScale.min:c.globals.minY,v=u.colorScale.max>c.globals.maxY?u.colorScale.max:c.globals.maxY);var S=Math.abs(v)+Math.abs(y),C=100*h/(S===0?S-1e-6:S);return u.colorScale.ranges.length>0&&u.colorScale.ranges.map(function(E,M){if(h>=E.from&&h<=E.to){g=E.color,x=E.foreColor?E.foreColor:null,y=E.from,v=E.to;var P=Math.abs(v)+Math.abs(y);C=100*h/(P===0?P-1e-6:P)}}),{color:g,foreColor:x,percent:C}}},{key:"calculateDataLabels",value:function(n){var r=n.text,o=n.x,c=n.y,h=n.i,u=n.j,f=n.colorProps,g=n.fontSize,x=this.w.config.dataLabels,y=new j(this.ctx),v=new on(this.ctx),S=null;if(x.enabled){S=y.group({class:"apexcharts-data-labels"});var C=x.offsetX,E=x.offsetY,M=o+C,P=c+parseFloat(x.style.fontSize)/3+E;v.plotDataLabelsText({x:M,y:P,text:r,i:h,j:u,color:f.foreColor,parent:S,fontSize:g,dataLabelsConfig:x})}return S}},{key:"addListeners",value:function(n){var r=new j(this.ctx);n.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,n)),n.node.addEventListener("mousedown",r.pathMouseDown.bind(this,n))}}]),O}(),qg=function(){function O(n,r){l(this,O),this.ctx=n,this.w=n.w,this.xRatio=r.xRatio,this.yRatio=r.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new zc(n),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return p(O,[{key:"draw",value:function(n){var r=this.w,o=new j(this.ctx),c=o.group({class:"apexcharts-heatmap"});c.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")"));var h=r.globals.gridWidth/r.globals.dataPoints,u=r.globals.gridHeight/r.globals.series.length,f=0,g=!1;this.negRange=this.helpers.checkColorRange();var x=n.slice();r.config.yaxis[0].reversed&&(g=!0,x.reverse());for(var y=g?0:x.length-1;g?y<x.length:y>=0;g?y++:y--){var v=o.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:_.escapeString(r.globals.seriesNames[y]),rel:y+1,"data:realIndex":y});if(this.ctx.series.addCollapsedClassToSeries(v,y),r.config.chart.dropShadow.enabled){var S=r.config.chart.dropShadow;new oe(this.ctx).dropShadow(v,S,y)}for(var C=0,E=r.config.plotOptions.heatmap.shadeIntensity,M=0;M<x[y].length;M++){var P=this.helpers.getShadeColor(r.config.chart.type,y,M,this.negRange),N=P.color,F=P.colorProps;r.config.fill.type==="image"&&(N=new je(this.ctx).fillPath({seriesNumber:y,dataPointIndex:M,opacity:r.globals.hasNegs?F.percent<0?1-(1+F.percent/100):E+F.percent/100:F.percent/100,patternID:_.randomId(),width:r.config.fill.image.width?r.config.fill.image.width:h,height:r.config.fill.image.height?r.config.fill.image.height:u}));var m=this.rectRadius,w=o.drawRect(C,f,h,u,m);if(w.attr({cx:C,cy:f}),w.node.classList.add("apexcharts-heatmap-rect"),v.add(w),w.attr({fill:N,i:y,index:y,j:M,val:x[y][M],"stroke-width":this.strokeWidth,stroke:r.config.plotOptions.heatmap.useFillColorAsStroke?N:r.globals.stroke.colors[0],color:N}),this.helpers.addListeners(w),r.config.chart.animations.enabled&&!r.globals.dataChanged){var T=1;r.globals.resized||(T=r.config.chart.animations.speed),this.animateHeatMap(w,C,f,h,u,T)}if(r.globals.dataChanged){var I=1;if(this.dynamicAnim.enabled&&r.globals.shouldAnimate){I=this.dynamicAnim.speed;var B=r.globals.previousPaths[y]&&r.globals.previousPaths[y][M]&&r.globals.previousPaths[y][M].color;B||(B="rgba(255, 255, 255, 0)"),this.animateHeatColor(w,_.isColorHex(B)?B:_.rgb2hex(B),_.isColorHex(N)?N:_.rgb2hex(N),I)}}var H=(0,r.config.dataLabels.formatter)(r.globals.series[y][M],{value:r.globals.series[y][M],seriesIndex:y,dataPointIndex:M,w:r}),Y=this.helpers.calculateDataLabels({text:H,x:C+h/2,y:f+u/2,i:y,j:M,colorProps:F,series:x});Y!==null&&v.add(Y),C+=h}f+=u,c.add(v)}var V=r.globals.yAxisScale[0].result.slice();return r.config.yaxis[0].reversed?V.unshift(""):V.push(""),r.globals.yAxisScale[0].result=V,c}},{key:"animateHeatMap",value:function(n,r,o,c,h,u){var f=new ne(this.ctx);f.animateRect(n,{x:r+c/2,y:o+h/2,width:0,height:0},{x:r,y:o,width:c,height:h},u,function(){f.animationCompleted(n)})}},{key:"animateHeatColor",value:function(n,r,o,c){n.attr({fill:r}).animate(c).attr({fill:o})}}]),O}(),Bc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"drawYAxisTexts",value:function(n,r,o,c){var h=this.w,u=h.config.yaxis[0],f=h.globals.yLabelFormatters[0];return new j(this.ctx).drawText({x:n+u.labels.offsetX,y:r+u.labels.offsetY,text:f(c,o),textAnchor:"middle",fontSize:u.labels.style.fontSize,fontFamily:u.labels.style.fontFamily,foreColor:Array.isArray(u.labels.style.colors)?u.labels.style.colors[o]:u.labels.style.colors})}}]),O}(),Hc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w;var r=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=Math.min(r.globals.gridWidth,r.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=r.globals.gridWidth/2,r.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(r.config.plotOptions.pie.endAngle-r.config.plotOptions.pie.startAngle),this.initialAngle=r.config.plotOptions.pie.startAngle%this.fullAngle,r.globals.radialSize=this.defaultSize/2.05-r.config.stroke.width-(r.config.chart.sparkline.enabled?0:r.config.chart.dropShadow.blur),this.donutSize=r.globals.radialSize*parseInt(r.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return p(O,[{key:"draw",value:function(n){var r=this,o=this.w,c=new j(this.ctx);if(this.ret=c.group({class:"apexcharts-pie"}),o.globals.noData)return this.ret;for(var h=0,u=0;u<n.length;u++)h+=_.negToZero(n[u]);var f=[],g=c.group();h===0&&(h=1e-5),n.forEach(function(B){r.maxY=Math.max(r.maxY,B)}),o.config.yaxis[0].max&&(this.maxY=o.config.yaxis[0].max),o.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var x=0;x<n.length;x++){var y=this.fullAngle*_.negToZero(n[x])/h;f.push(y),this.chartType==="polarArea"?(f[x]=this.fullAngle/n.length,this.sliceSizes.push(o.globals.radialSize*n[x]/this.maxY)):this.sliceSizes.push(o.globals.radialSize)}if(o.globals.dataChanged){for(var v,S=0,C=0;C<o.globals.previousPaths.length;C++)S+=_.negToZero(o.globals.previousPaths[C]);for(var E=0;E<o.globals.previousPaths.length;E++)v=this.fullAngle*_.negToZero(o.globals.previousPaths[E])/S,this.prevSectorAngleArr.push(v)}this.donutSize<0&&(this.donutSize=0);var M=o.config.plotOptions.pie.customScale,P=o.globals.gridWidth/2,N=o.globals.gridHeight/2,F=P-o.globals.gridWidth/2*M,m=N-o.globals.gridHeight/2*M;if(this.chartType==="donut"){var w=c.drawCircle(this.donutSize);w.attr({cx:this.centerX,cy:this.centerY,fill:o.config.plotOptions.pie.donut.background?o.config.plotOptions.pie.donut.background:"transparent"}),g.add(w)}var T=this.drawArcs(f,n);if(this.sliceLabels.forEach(function(B){T.add(B)}),g.attr({transform:"translate(".concat(F,", ").concat(m,") scale(").concat(M,")")}),g.add(T),this.ret.add(g),this.donutDataLabels.show){var I=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:F,translateY:m});this.ret.add(I)}return o.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(n,r){var o=this.w,c=new oe(this.ctx),h=new j(this.ctx),u=new je(this.ctx),f=h.group({class:"apexcharts-slices"}),g=this.initialAngle,x=this.initialAngle,y=this.initialAngle,v=this.initialAngle;this.strokeWidth=o.config.stroke.show?o.config.stroke.width:0;for(var S=0;S<n.length;S++){var C=h.group({class:"apexcharts-series apexcharts-pie-series",seriesName:_.escapeString(o.globals.seriesNames[S]),rel:S+1,"data:realIndex":S});f.add(C),x=v,y=(g=y)+n[S],v=x+this.prevSectorAngleArr[S];var E=y<g?this.fullAngle+y-g:y-g,M=u.fillPath({seriesNumber:S,size:this.sliceSizes[S],value:r[S]}),P=this.getChangedPath(x,v),N=h.drawPath({d:P,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[S]:this.lineColorArr,strokeWidth:0,fill:M,fillOpacity:o.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(S)});if(N.attr({index:0,j:S}),c.setSelectionFilter(N,0,S),o.config.chart.dropShadow.enabled){var F=o.config.chart.dropShadow;c.dropShadow(N,F,S)}this.addListeners(N,this.donutDataLabels),j.setAttrs(N.node,{"data:angle":E,"data:startAngle":g,"data:strokeWidth":this.strokeWidth,"data:value":r[S]});var m={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?m=_.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize/1.25+o.config.plotOptions.pie.dataLabels.offset,(g+E/2)%this.fullAngle):this.chartType==="donut"&&(m=_.polarToCartesian(this.centerX,this.centerY,(o.globals.radialSize+this.donutSize)/2+o.config.plotOptions.pie.dataLabels.offset,(g+E/2)%this.fullAngle)),C.add(N);var w=0;if(!this.initialAnim||o.globals.resized||o.globals.dataChanged?this.animBeginArr.push(0):((w=E/this.fullAngle*o.config.chart.animations.speed)===0&&(w=1),this.animDur=w+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&o.globals.dataChanged?this.animatePaths(N,{size:this.sliceSizes[S],endAngle:y,startAngle:g,prevStartAngle:x,prevEndAngle:v,animateStartingPos:!0,i:S,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:o.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(N,{size:this.sliceSizes[S],endAngle:y,startAngle:g,i:S,totalItems:n.length-1,animBeginArr:this.animBeginArr,dur:w}),o.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&N.click(this.pieClicked.bind(this,S)),o.globals.selectedDataPoints[0]!==void 0&&o.globals.selectedDataPoints[0].indexOf(S)>-1&&this.pieClicked(S),o.config.dataLabels.enabled){var T=m.x,I=m.y,B=100*E/this.fullAngle+"%";if(E!==0&&o.config.plotOptions.pie.dataLabels.minAngleToShowLabel<n[S]){var H=o.config.dataLabels.formatter;H!==void 0&&(B=H(o.globals.seriesPercent[S][0],{seriesIndex:S,w:o}));var Y=o.globals.dataLabels.style.colors[S],V=h.group({class:"apexcharts-datalabels"}),U=h.drawText({x:T,y:I,text:B,textAnchor:"middle",fontSize:o.config.dataLabels.style.fontSize,fontFamily:o.config.dataLabels.style.fontFamily,fontWeight:o.config.dataLabels.style.fontWeight,foreColor:Y});if(V.add(U),o.config.dataLabels.dropShadow.enabled){var K=o.config.dataLabels.dropShadow;c.dropShadow(U,K)}U.node.classList.add("apexcharts-pie-label"),o.config.chart.animations.animate&&o.globals.resized===!1&&(U.node.classList.add("apexcharts-pie-label-delay"),U.node.style.animationDelay=o.config.chart.animations.speed/940+"s"),this.sliceLabels.push(V)}}}return f}},{key:"addListeners",value:function(n,r){var o=new j(this.ctx);n.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this,n)),n.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,n.node,r)),n.node.addEventListener("mousedown",o.pathMouseDown.bind(this,n)),this.donutDataLabels.total.showAlways||(n.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,n.node,r)),n.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,n.node,r)))}},{key:"animatePaths",value:function(n,r){var o=this.w,c=r.endAngle<r.startAngle?this.fullAngle+r.endAngle-r.startAngle:r.endAngle-r.startAngle,h=c,u=r.startAngle,f=r.startAngle;r.prevStartAngle!==void 0&&r.prevEndAngle!==void 0&&(u=r.prevEndAngle,h=r.prevEndAngle<r.prevStartAngle?this.fullAngle+r.prevEndAngle-r.prevStartAngle:r.prevEndAngle-r.prevStartAngle),r.i===o.config.series.length-1&&(c+f>this.fullAngle?r.endAngle=r.endAngle-(c+f):c+f<this.fullAngle&&(r.endAngle=r.endAngle+(this.fullAngle-(c+f)))),c===this.fullAngle&&(c=this.fullAngle-.01),this.animateArc(n,u,f,c,h,r)}},{key:"animateArc",value:function(n,r,o,c,h,u){var f,g=this,x=this.w,y=new ne(this.ctx),v=u.size;(isNaN(r)||isNaN(h))&&(r=o,h=c,u.dur=0);var S=c,C=o,E=r<o?this.fullAngle+r-o:r-o;x.globals.dataChanged&&u.shouldSetPrevPaths&&u.prevEndAngle&&(f=g.getPiePath({me:g,startAngle:u.prevStartAngle,angle:u.prevEndAngle<u.prevStartAngle?this.fullAngle+u.prevEndAngle-u.prevStartAngle:u.prevEndAngle-u.prevStartAngle,size:v}),n.attr({d:f})),u.dur!==0?n.animate(u.dur,x.globals.easing,u.animBeginArr[u.i]).afterAll(function(){g.chartType!=="pie"&&g.chartType!=="donut"&&g.chartType!=="polarArea"||this.animate(x.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":g.strokeWidth}),u.i===x.config.series.length-1&&y.animationCompleted(n)}).during(function(M){S=E+(c-E)*M,u.animateStartingPos&&(S=h+(c-h)*M,C=r-h+(o-(r-h))*M),f=g.getPiePath({me:g,startAngle:C,angle:S,size:v}),n.node.setAttribute("data:pathOrig",f),n.attr({d:f})}):(f=g.getPiePath({me:g,startAngle:C,angle:c,size:v}),u.isTrack||(x.globals.animationEnded=!0),n.node.setAttribute("data:pathOrig",f),n.attr({d:f,"stroke-width":g.strokeWidth}))}},{key:"pieClicked",value:function(n){var r,o=this.w,c=this,h=c.sliceSizes[n]+(o.config.plotOptions.pie.expandOnClick?4:0),u=o.globals.dom.Paper.select(".apexcharts-".concat(c.chartType.toLowerCase(),"-slice-").concat(n)).members[0];if(u.attr("data:pieClicked")!=="true"){var f=o.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(f,function(v){v.setAttribute("data:pieClicked","false");var S=v.getAttribute("data:pathOrig");S&&v.setAttribute("d",S)}),u.attr("data:pieClicked","true");var g=parseInt(u.attr("data:startAngle"),10),x=parseInt(u.attr("data:angle"),10);r=c.getPiePath({me:c,startAngle:g,angle:x,size:h}),x!==360&&u.plot(r)}else{u.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(u.node,this.donutDataLabels);var y=u.attr("data:pathOrig");u.attr({d:y})}}},{key:"getChangedPath",value:function(n,r){var o="";return this.dynamicAnim&&this.w.globals.dataChanged&&(o=this.getPiePath({me:this,startAngle:n,angle:r-n,size:this.size})),o}},{key:"getPiePath",value:function(n){var r=n.me,o=n.startAngle,c=n.angle,h=n.size,u=o,f=Math.PI*(u-90)/180,g=c+o;Math.ceil(g)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(g=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(g)>this.fullAngle&&(g-=this.fullAngle);var x=Math.PI*(g-90)/180,y=r.centerX+h*Math.cos(f),v=r.centerY+h*Math.sin(f),S=r.centerX+h*Math.cos(x),C=r.centerY+h*Math.sin(x),E=_.polarToCartesian(r.centerX,r.centerY,r.donutSize,g),M=_.polarToCartesian(r.centerX,r.centerY,r.donutSize,u),P=c>180?1:0,N=["M",y,v,"A",h,h,0,P,1,S,C];return r.chartType==="donut"?[].concat(N,["L",E.x,E.y,"A",r.donutSize,r.donutSize,0,P,0,M.x,M.y,"L",y,v,"z"]).join(" "):r.chartType==="pie"||r.chartType==="polarArea"?[].concat(N,["L",r.centerX,r.centerY,"L",y,v]).join(" "):[].concat(N).join(" ")}},{key:"drawPolarElements",value:function(n){var r=this.w,o=new ln(this.ctx),c=new j(this.ctx),h=new Bc(this.ctx),u=c.group(),f=c.group(),g=o.niceScale(0,Math.ceil(this.maxY),r.config.yaxis[0].tickAmount,0,!0),x=g.result.reverse(),y=g.result.length;this.maxY=g.niceMax;for(var v=r.globals.radialSize,S=v/(y-1),C=0;C<y-1;C++){var E=c.drawCircle(v);if(E.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":r.config.plotOptions.polarArea.rings.strokeWidth,stroke:r.config.plotOptions.polarArea.rings.strokeColor}),r.config.yaxis[0].show){var M=h.drawYAxisTexts(this.centerX,this.centerY-v+parseInt(r.config.yaxis[0].labels.style.fontSize,10)/2,C,x[C]);f.add(M)}u.add(E),v-=S}this.drawSpokes(n),n.add(u),n.add(f)}},{key:"renderInnerDataLabels",value:function(n,r){var o=this.w,c=new j(this.ctx),h=c.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(r.translateX?r.translateX:0,", ").concat(r.translateY?r.translateY:0,") scale(").concat(o.config.plotOptions.pie.customScale,")")}),u=n.total.show;h.node.style.opacity=r.opacity;var f,g,x=r.centerX,y=r.centerY;f=n.name.color===void 0?o.globals.colors[0]:n.name.color;var v=n.name.fontSize,S=n.name.fontFamily,C=n.name.fontWeight;g=n.value.color===void 0?o.config.chart.foreColor:n.value.color;var E=n.value.formatter,M="",P="";if(u?(f=n.total.color,v=n.total.fontSize,S=n.total.fontFamily,C=n.total.fontWeight,P=n.total.label,M=n.total.formatter(o)):o.globals.series.length===1&&(M=E(o.globals.series[0],o),P=o.globals.seriesNames[0]),P&&(P=n.name.formatter(P,n.total.show,o)),n.name.show){var N=c.drawText({x,y:y+parseFloat(n.name.offsetY),text:P,textAnchor:"middle",foreColor:f,fontSize:v,fontWeight:C,fontFamily:S});N.node.classList.add("apexcharts-datalabel-label"),h.add(N)}if(n.value.show){var F=n.name.show?parseFloat(n.value.offsetY)+16:n.value.offsetY,m=c.drawText({x,y:y+F,text:M,textAnchor:"middle",foreColor:g,fontWeight:n.value.fontWeight,fontSize:n.value.fontSize,fontFamily:n.value.fontFamily});m.node.classList.add("apexcharts-datalabel-value"),h.add(m)}return h}},{key:"printInnerLabels",value:function(n,r,o,c){var h,u=this.w;c?h=n.name.color===void 0?u.globals.colors[parseInt(c.parentNode.getAttribute("rel"),10)-1]:n.name.color:u.globals.series.length>1&&n.total.show&&(h=n.total.color);var f=u.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),g=u.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");o=(0,n.value.formatter)(o,u),c||typeof n.total.formatter!="function"||(o=n.total.formatter(u));var x=r===n.total.label;r=n.name.formatter(r,x,u),f!==null&&(f.textContent=r),g!==null&&(g.textContent=o),f!==null&&(f.style.fill=h)}},{key:"printDataLabelsInner",value:function(n,r){var o=this.w,c=n.getAttribute("data:value"),h=o.globals.seriesNames[parseInt(n.parentNode.getAttribute("rel"),10)-1];o.globals.series.length>1&&this.printInnerLabels(r,h,c,n);var u=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");u!==null&&(u.style.opacity=1)}},{key:"drawSpokes",value:function(n){var r=this,o=this.w,c=new j(this.ctx),h=o.config.plotOptions.polarArea.spokes;if(h.strokeWidth!==0){for(var u=[],f=360/o.globals.series.length,g=0;g<o.globals.series.length;g++)u.push(_.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize,o.config.plotOptions.pie.startAngle+f*g));u.forEach(function(x,y){var v=c.drawLine(x.x,x.y,r.centerX,r.centerY,Array.isArray(h.connectorColors)?h.connectorColors[y]:h.connectorColors);n.add(v)})}}},{key:"revertDataLabelsInner",value:function(n,r,o){var c=this,h=this.w,u=h.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),f=!1,g=h.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),x=function(S){var C=S.makeSliceOut,E=S.printLabel;Array.prototype.forEach.call(g,function(M){M.getAttribute("data:pieClicked")==="true"&&(C&&(f=!0),E&&c.printDataLabelsInner(M,r))})};if(x({makeSliceOut:!0,printLabel:!1}),r.total.show&&h.globals.series.length>1)f&&!r.total.showAlways?x({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(r,r.total.label,r.total.formatter(h));else if(x({makeSliceOut:!1,printLabel:!0}),!f)if(h.globals.selectedDataPoints.length&&h.globals.series.length>1)if(h.globals.selectedDataPoints[0].length>0){var y=h.globals.selectedDataPoints[0],v=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(y));this.printDataLabelsInner(v,r)}else u&&h.globals.selectedDataPoints.length&&h.globals.selectedDataPoints[0].length===0&&(u.style.opacity=0);else u&&h.globals.series.length>1&&(u.style.opacity=0)}}]),O}(),Ug=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var r=this.w;this.graphics=new j(this.ctx),this.lineColorArr=r.globals.stroke.colors!==void 0?r.globals.stroke.colors:r.globals.colors,this.defaultSize=r.globals.svgHeight<r.globals.svgWidth?r.globals.gridHeight+1.5*r.globals.goldenPadding:r.globals.gridWidth,this.isLog=r.config.yaxis[0].logarithmic,this.coreUtils=new q(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(r.globals.maxY,0):r.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):r.globals.minY,this.polygons=r.config.plotOptions.radar.polygons,this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-r.config.chart.dropShadow.blur,r.config.xaxis.labels.show&&(this.size=this.size-r.globals.xAxisLabelsWidth/1.75),r.config.plotOptions.radar.size!==void 0&&(this.size=r.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return p(O,[{key:"draw",value:function(n){var r=this,o=this.w,c=new je(this.ctx),h=[],u=new on(this.ctx);n.length&&(this.dataPointsLen=n[o.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var f=o.globals.gridWidth/2,g=o.globals.gridHeight/2,x=f+o.config.plotOptions.radar.offsetX,y=g+o.config.plotOptions.radar.offsetY,v=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(x||0,", ").concat(y||0,")")}),S=[],C=null,E=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),n.forEach(function(P,N){var F=P.length===o.globals.dataPoints,m=r.graphics.group().attr({class:"apexcharts-series","data:longestSeries":F,seriesName:_.escapeString(o.globals.seriesNames[N]),rel:N+1,"data:realIndex":N});r.dataRadiusOfPercent[N]=[],r.dataRadius[N]=[],r.angleArr[N]=[],P.forEach(function($,te){var ie=Math.abs(r.maxValue-r.minValue);$+=Math.abs(r.minValue),r.isLog&&($=r.coreUtils.getLogVal($,0)),r.dataRadiusOfPercent[N][te]=$/ie,r.dataRadius[N][te]=r.dataRadiusOfPercent[N][te]*r.size,r.angleArr[N][te]=te*r.disAngle}),S=r.getDataPointsPos(r.dataRadius[N],r.angleArr[N]);var w=r.createPaths(S,{x:0,y:0});C=r.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),E=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":N}),o.globals.delayedElements.push({el:C.node,index:N});var T={i:N,realIndex:N,animationDelay:N,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:o.globals.stroke.colors[N],strokeLineCap:o.config.stroke.lineCap},I=null;o.globals.previousPaths.length>0&&(I=r.getPreviousPath(N));for(var B=0;B<w.linePathsTo.length;B++){var H=r.graphics.renderPaths(s(s({},T),{},{pathFrom:I===null?w.linePathsFrom[B]:I,pathTo:w.linePathsTo[B],strokeWidth:Array.isArray(r.strokeWidth)?r.strokeWidth[N]:r.strokeWidth,fill:"none",drawShadow:!1}));m.add(H);var Y=c.fillPath({seriesNumber:N}),V=r.graphics.renderPaths(s(s({},T),{},{pathFrom:I===null?w.areaPathsFrom[B]:I,pathTo:w.areaPathsTo[B],strokeWidth:0,fill:Y,drawShadow:!1}));if(o.config.chart.dropShadow.enabled){var U=new oe(r.ctx),K=o.config.chart.dropShadow;U.dropShadow(V,Object.assign({},K,{noUserSpaceOnUse:!0}),N)}m.add(V)}P.forEach(function($,te){var ie=new Ot(r.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:N,dataPointIndex:te}),de=r.graphics.drawMarker(S[te].x,S[te].y,ie);de.attr("rel",te),de.attr("j",te),de.attr("index",N),de.node.setAttribute("default-marker-size",ie.pSize);var ge=r.graphics.group({class:"apexcharts-series-markers"});ge&&ge.add(de),C.add(ge),m.add(C);var be=o.config.dataLabels;if(be.enabled){var Ee=be.formatter(o.globals.series[N][te],{seriesIndex:N,dataPointIndex:te,w:o});u.plotDataLabelsText({x:S[te].x,y:S[te].y,text:Ee,textAnchor:"middle",i:N,j:N,parent:E,offsetCorrection:!1,dataLabelsConfig:s({},be)})}m.add(E)}),h.push(m)}),this.drawPolygons({parent:v}),o.config.xaxis.labels.show){var M=this.drawXAxisTexts();v.add(M)}return h.forEach(function(P){v.add(P)}),v.add(this.yaxisLabels),v}},{key:"drawPolygons",value:function(n){for(var r=this,o=this.w,c=n.parent,h=new Bc(this.ctx),u=o.globals.yAxisScale[0].result.reverse(),f=u.length,g=[],x=this.size/(f-1),y=0;y<f;y++)g[y]=x*y;g.reverse();var v=[],S=[];g.forEach(function(C,E){var M=_.getPolygonPos(C,r.dataPointsLen),P="";M.forEach(function(N,F){if(E===0){var m=r.graphics.drawLine(N.x,N.y,0,0,Array.isArray(r.polygons.connectorColors)?r.polygons.connectorColors[F]:r.polygons.connectorColors);S.push(m)}F===0&&r.yaxisLabelsTextsPos.push({x:N.x,y:N.y}),P+=N.x+","+N.y+" "}),v.push(P)}),v.forEach(function(C,E){var M=r.polygons.strokeColors,P=r.polygons.strokeWidth,N=r.graphics.drawPolygon(C,Array.isArray(M)?M[E]:M,Array.isArray(P)?P[E]:P,o.globals.radarPolygons.fill.colors[E]);c.add(N)}),S.forEach(function(C){c.add(C)}),o.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(C,E){var M=h.drawYAxisTexts(C.x,C.y,E,u[E]);r.yaxisLabels.add(M)})}},{key:"drawXAxisTexts",value:function(){var n=this,r=this.w,o=r.config.xaxis.labels,c=this.graphics.group({class:"apexcharts-xaxis"}),h=_.getPolygonPos(this.size,this.dataPointsLen);return r.globals.labels.forEach(function(u,f){var g=r.config.xaxis.labels.formatter,x=new on(n.ctx);if(h[f]){var y=n.getTextPos(h[f],n.size),v=g(u,{seriesIndex:-1,dataPointIndex:f,w:r});x.plotDataLabelsText({x:y.newX,y:y.newY,text:v,textAnchor:y.textAnchor,i:f,j:f,parent:c,color:Array.isArray(o.style.colors)&&o.style.colors[f]?o.style.colors[f]:"#a8a8a8",dataLabelsConfig:s({textAnchor:y.textAnchor,dropShadow:{enabled:!1}},o),offsetCorrection:!1})}}),c}},{key:"createPaths",value:function(n,r){var o=this,c=[],h=[],u=[],f=[];if(n.length){h=[this.graphics.move(r.x,r.y)],f=[this.graphics.move(r.x,r.y)];var g=this.graphics.move(n[0].x,n[0].y),x=this.graphics.move(n[0].x,n[0].y);n.forEach(function(y,v){g+=o.graphics.line(y.x,y.y),x+=o.graphics.line(y.x,y.y),v===n.length-1&&(g+="Z",x+="Z")}),c.push(g),u.push(x)}return{linePathsFrom:h,linePathsTo:c,areaPathsFrom:f,areaPathsTo:u}}},{key:"getTextPos",value:function(n,r){var o="middle",c=n.x,h=n.y;return Math.abs(n.x)>=10?n.x>0?(o="start",c+=10):n.x<0&&(o="end",c-=10):o="middle",Math.abs(n.y)>=r-10&&(n.y<0?h-=10:n.y>0&&(h+=10)),{textAnchor:o,newX:c,newY:h}}},{key:"getPreviousPath",value:function(n){for(var r=this.w,o=null,c=0;c<r.globals.previousPaths.length;c++){var h=r.globals.previousPaths[c];h.paths.length>0&&parseInt(h.realIndex,10)===parseInt(n,10)&&r.globals.previousPaths[c].paths[0]!==void 0&&(o=r.globals.previousPaths[c].paths[0].d)}return o}},{key:"getDataPointsPos",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;n=n||[],r=r||[];for(var c=[],h=0;h<o;h++){var u={};u.x=n[h]*Math.sin(r[h]),u.y=-n[h]*Math.cos(r[h]),c.push(u)}return c}}]),O}(),$g=function(O){k(r,Hc);var n=z(r);function r(o){var c;l(this,r),(c=n.call(this,o)).ctx=o,c.w=o.w,c.animBeginArr=[0],c.animDur=0;var h=c.w;return c.startAngle=h.config.plotOptions.radialBar.startAngle,c.endAngle=h.config.plotOptions.radialBar.endAngle,c.totalAngle=Math.abs(h.config.plotOptions.radialBar.endAngle-h.config.plotOptions.radialBar.startAngle),c.trackStartAngle=h.config.plotOptions.radialBar.track.startAngle,c.trackEndAngle=h.config.plotOptions.radialBar.track.endAngle,c.donutDataLabels=c.w.config.plotOptions.radialBar.dataLabels,c.radialDataLabels=c.donutDataLabels,c.trackStartAngle||(c.trackStartAngle=c.startAngle),c.trackEndAngle||(c.trackEndAngle=c.endAngle),c.endAngle===360&&(c.endAngle=359.99),c.margin=parseInt(h.config.plotOptions.radialBar.track.margin,10),c}return p(r,[{key:"draw",value:function(o){var c=this.w,h=new j(this.ctx),u=h.group({class:"apexcharts-radialbar"});if(c.globals.noData)return u;var f=h.group(),g=this.defaultSize/2,x=c.globals.gridWidth/2,y=this.defaultSize/2.05;c.config.chart.sparkline.enabled||(y=y-c.config.stroke.width-c.config.chart.dropShadow.blur);var v=c.globals.fill.colors;if(c.config.plotOptions.radialBar.track.show){var S=this.drawTracks({size:y,centerX:x,centerY:g,colorArr:v,series:o});f.add(S)}var C=this.drawArcs({size:y,centerX:x,centerY:g,colorArr:v,series:o}),E=360;c.config.plotOptions.radialBar.startAngle<0&&(E=this.totalAngle);var M=(360-E)/360;if(c.globals.radialSize=y-y*M,this.radialDataLabels.value.show){var P=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);c.globals.radialSize+=P*M}return f.add(C.g),c.config.plotOptions.radialBar.hollow.position==="front"&&(C.g.add(C.elHollow),C.dataLabels&&C.g.add(C.dataLabels)),u.add(f),u}},{key:"drawTracks",value:function(o){var c=this.w,h=new j(this.ctx),u=h.group({class:"apexcharts-tracks"}),f=new oe(this.ctx),g=new je(this.ctx),x=this.getStrokeWidth(o);o.size=o.size-x/2;for(var y=0;y<o.series.length;y++){var v=h.group({class:"apexcharts-radialbar-track apexcharts-track"});u.add(v),v.attr({rel:y+1}),o.size=o.size-x-this.margin;var S=c.config.plotOptions.radialBar.track,C=g.fillPath({seriesNumber:0,size:o.size,fillColors:Array.isArray(S.background)?S.background[y]:S.background,solid:!0}),E=this.trackStartAngle,M=this.trackEndAngle;Math.abs(M)+Math.abs(E)>=360&&(M=360-Math.abs(this.startAngle)-.1);var P=h.drawPath({d:"",stroke:C,strokeWidth:x*parseInt(S.strokeWidth,10)/100,fill:"none",strokeOpacity:S.opacity,classes:"apexcharts-radialbar-area"});if(S.dropShadow.enabled){var N=S.dropShadow;f.dropShadow(P,N)}v.add(P),P.attr("id","apexcharts-radialbarTrack-"+y),this.animatePaths(P,{centerX:o.centerX,centerY:o.centerY,endAngle:M,startAngle:E,size:o.size,i:y,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:c.globals.easing})}return u}},{key:"drawArcs",value:function(o){var c=this.w,h=new j(this.ctx),u=new je(this.ctx),f=new oe(this.ctx),g=h.group(),x=this.getStrokeWidth(o);o.size=o.size-x/2;var y=c.config.plotOptions.radialBar.hollow.background,v=o.size-x*o.series.length-this.margin*o.series.length-x*parseInt(c.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,S=v-c.config.plotOptions.radialBar.hollow.margin;c.config.plotOptions.radialBar.hollow.image!==void 0&&(y=this.drawHollowImage(o,g,v,y));var C=this.drawHollow({size:S,centerX:o.centerX,centerY:o.centerY,fill:y||"transparent"});if(c.config.plotOptions.radialBar.hollow.dropShadow.enabled){var E=c.config.plotOptions.radialBar.hollow.dropShadow;f.dropShadow(C,E)}var M=1;!this.radialDataLabels.total.show&&c.globals.series.length>1&&(M=0);var P=null;this.radialDataLabels.show&&(P=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:v,centerX:o.centerX,centerY:o.centerY,opacity:M})),c.config.plotOptions.radialBar.hollow.position==="back"&&(g.add(C),P&&g.add(P));var N=!1;c.config.plotOptions.radialBar.inverseOrder&&(N=!0);for(var F=N?o.series.length-1:0;N?F>=0:F<o.series.length;N?F--:F++){var m=h.group({class:"apexcharts-series apexcharts-radial-series",seriesName:_.escapeString(c.globals.seriesNames[F])});g.add(m),m.attr({rel:F+1,"data:realIndex":F}),this.ctx.series.addCollapsedClassToSeries(m,F),o.size=o.size-x-this.margin;var w=u.fillPath({seriesNumber:F,size:o.size,value:o.series[F]}),T=this.startAngle,I=void 0,B=_.negToZero(o.series[F]>100?100:o.series[F])/100,H=Math.round(this.totalAngle*B)+this.startAngle,Y=void 0;c.globals.dataChanged&&(I=this.startAngle,Y=Math.round(this.totalAngle*_.negToZero(c.globals.previousPaths[F])/100)+I),Math.abs(H)+Math.abs(T)>=360&&(H-=.01),Math.abs(Y)+Math.abs(I)>=360&&(Y-=.01);var V=H-T,U=Array.isArray(c.config.stroke.dashArray)?c.config.stroke.dashArray[F]:c.config.stroke.dashArray,K=h.drawPath({d:"",stroke:w,strokeWidth:x,fill:"none",fillOpacity:c.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+F,strokeDashArray:U});if(j.setAttrs(K.node,{"data:angle":V,"data:value":o.series[F]}),c.config.chart.dropShadow.enabled){var $=c.config.chart.dropShadow;f.dropShadow(K,$,F)}f.setSelectionFilter(K,0,F),this.addListeners(K,this.radialDataLabels),m.add(K),K.attr({index:0,j:F});var te=0;!this.initialAnim||c.globals.resized||c.globals.dataChanged||(te=c.config.chart.animations.speed),c.globals.dataChanged&&(te=c.config.chart.animations.dynamicAnimation.speed),this.animDur=te/(1.2*o.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(K,{centerX:o.centerX,centerY:o.centerY,endAngle:H,startAngle:T,prevEndAngle:Y,prevStartAngle:I,size:o.size,i:F,totalItems:2,animBeginArr:this.animBeginArr,dur:te,shouldSetPrevPaths:!0,easing:c.globals.easing})}return{g,elHollow:C,dataLabels:P}}},{key:"drawHollow",value:function(o){var c=new j(this.ctx).drawCircle(2*o.size);return c.attr({class:"apexcharts-radialbar-hollow",cx:o.centerX,cy:o.centerY,r:o.size,fill:o.fill}),c}},{key:"drawHollowImage",value:function(o,c,h,u){var f=this.w,g=new je(this.ctx),x=_.randomId(),y=f.config.plotOptions.radialBar.hollow.image;if(f.config.plotOptions.radialBar.hollow.imageClipped)g.clippedImgArea({width:h,height:h,image:y,patternID:"pattern".concat(f.globals.cuid).concat(x)}),u="url(#pattern".concat(f.globals.cuid).concat(x,")");else{var v=f.config.plotOptions.radialBar.hollow.imageWidth,S=f.config.plotOptions.radialBar.hollow.imageHeight;if(v===void 0&&S===void 0){var C=f.globals.dom.Paper.image(y).loaded(function(M){this.move(o.centerX-M.width/2+f.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-M.height/2+f.config.plotOptions.radialBar.hollow.imageOffsetY)});c.add(C)}else{var E=f.globals.dom.Paper.image(y).loaded(function(M){this.move(o.centerX-v/2+f.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-S/2+f.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(v,S)});c.add(E)}}return u}},{key:"getStrokeWidth",value:function(o){var c=this.w;return o.size*(100-parseInt(c.config.plotOptions.radialBar.hollow.size,10))/100/(o.series.length+1)-this.margin}}]),r}(),Kg=function(O){k(r,cn);var n=z(r);function r(){return l(this,r),n.apply(this,arguments)}return p(r,[{key:"draw",value:function(o,c){var h=this.w,u=new j(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=o,this.seriesRangeStart=h.globals.seriesRangeStart,this.seriesRangeEnd=h.globals.seriesRangeEnd,this.barHelpers.initVariables(o);for(var f=u.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),g=0;g<o.length;g++){var x,y,v,S,C=void 0,E=void 0,M=h.globals.comboCharts?c[g]:g,P=u.group({class:"apexcharts-series",seriesName:_.escapeString(h.globals.seriesNames[M]),rel:g+1,"data:realIndex":M});this.ctx.series.addCollapsedClassToSeries(P,M),o[g].length>0&&(this.visibleI=this.visibleI+1);var N=0,F=0;this.yRatio.length>1&&(this.yaxisIndex=M);var m=this.barHelpers.initialPositions();E=m.y,S=m.zeroW,C=m.x,F=m.barWidth,N=m.barHeight,x=m.xDivision,y=m.yDivision,v=m.zeroH;for(var w=u.group({class:"apexcharts-datalabels","data:realIndex":M}),T=u.group({class:"apexcharts-rangebar-goals-markers"}),I=0;I<h.globals.dataPoints;I++){var B,H=this.barHelpers.getStrokeWidth(g,I,M),Y=this.seriesRangeStart[g][I],V=this.seriesRangeEnd[g][I],U=null,K=null,$=null,te={x:C,y:E,strokeWidth:H,elSeries:P},ie=this.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(ie=1),h.config.series[g].data[I]===void 0)break;if(this.isHorizontal){$=E+N*this.visibleI;var de=(y-N*ie)/2;if(h.config.series[g].data[I].x){var ge=this.detectOverlappingBars({i:g,j:I,barYPosition:$,srty:de,barHeight:N,yDivision:y,initPositions:m});N=ge.barHeight,$=ge.barYPosition}F=(U=this.drawRangeBarPaths(s({indexes:{i:g,j:I,realIndex:M},barHeight:N,barYPosition:$,zeroW:S,yDivision:y,y1:Y,y2:V},te))).barWidth}else{h.globals.isXNumeric&&(C=(h.globals.seriesX[g][I]-h.globals.minX)/this.xRatio-F/2),K=C+F*this.visibleI;var be=(x-F*ie)/2;if(h.config.series[g].data[I].x){var Ee=this.detectOverlappingBars({i:g,j:I,barXPosition:K,srtx:be,barWidth:F,xDivision:x,initPositions:m});F=Ee.barWidth,K=Ee.barXPosition}N=(U=this.drawRangeColumnPaths(s({indexes:{i:g,j:I,realIndex:M},barWidth:F,barXPosition:K,zeroH:v,xDivision:x},te))).barHeight}var Se=this.barHelpers.drawGoalLine({barXPosition:U.barXPosition,barYPosition:$,goalX:U.goalX,goalY:U.goalY,barHeight:N,barWidth:F});Se&&T.add(Se),E=U.y,C=U.x;var Me=this.barHelpers.getPathFillColor(o,g,I,M),kt=h.globals.stroke.colors[M];this.renderSeries((b(B={realIndex:M,pathFill:Me,lineFill:kt,j:I,i:g,x:C,y:E,y1:Y,y2:V,pathFrom:U.pathFrom,pathTo:U.pathTo,strokeWidth:H,elSeries:P,series:o,barHeight:N,barWidth:F,barXPosition:K,barYPosition:$},"barWidth",F),b(B,"elDataLabelsWrap",w),b(B,"elGoalsMarkers",T),b(B,"visibleSeries",this.visibleI),b(B,"type","rangebar"),B))}f.add(P)}return f}},{key:"detectOverlappingBars",value:function(o){var c=o.i,h=o.j,u=o.barYPosition,f=o.barXPosition,g=o.srty,x=o.srtx,y=o.barHeight,v=o.barWidth,S=o.yDivision,C=o.xDivision,E=o.initPositions,M=this.w,P=[],N=M.config.series[c].data[h].rangeName,F=M.config.series[c].data[h].x,m=Array.isArray(F)?F.join(" "):F,w=M.globals.labels.map(function(I){return Array.isArray(I)?I.join(" "):I}).indexOf(m),T=M.globals.seriesRange[c].findIndex(function(I){return I.x===m&&I.overlaps.length>0});return this.isHorizontal?(u=M.config.plotOptions.bar.rangeBarGroupRows?g+S*w:g+y*this.visibleI+S*w,T>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(P=M.globals.seriesRange[c][T].overlaps).indexOf(N)>-1&&(u=(y=E.barHeight/P.length)*this.visibleI+S*(100-parseInt(this.barOptions.barHeight,10))/100/2+y*(this.visibleI+P.indexOf(N))+S*w)):(w>-1&&(f=M.config.plotOptions.bar.rangeBarGroupRows?x+C*w:x+v*this.visibleI+C*w),T>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(P=M.globals.seriesRange[c][T].overlaps).indexOf(N)>-1&&(f=(v=E.barWidth/P.length)*this.visibleI+C*(100-parseInt(this.barOptions.barWidth,10))/100/2+v*(this.visibleI+P.indexOf(N))+C*w)),{barYPosition:u,barXPosition:f,barHeight:y,barWidth:v}}},{key:"drawRangeColumnPaths",value:function(o){var c=o.indexes,h=o.x,u=o.xDivision,f=o.barWidth,g=o.barXPosition,x=o.zeroH,y=this.w,v=c.i,S=c.j,C=this.yRatio[this.yaxisIndex],E=c.realIndex,M=this.getRangeValue(E,S),P=Math.min(M.start,M.end),N=Math.max(M.start,M.end);this.series[v][S]===void 0||this.series[v][S]===null?P=x:(P=x-P/C,N=x-N/C);var F=Math.abs(N-P),m=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:f,y1:P,y2:N,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:c.realIndex,i:E,j:S,w:y});return y.globals.isXNumeric||(h+=u),{pathTo:m.pathTo,pathFrom:m.pathFrom,barHeight:F,x:h,y:N,goalY:this.barHelpers.getGoalValues("y",null,x,v,S),barXPosition:g}}},{key:"drawRangeBarPaths",value:function(o){var c=o.indexes,h=o.y,u=o.y1,f=o.y2,g=o.yDivision,x=o.barHeight,y=o.barYPosition,v=o.zeroW,S=this.w,C=v+u/this.invertedYRatio,E=v+f/this.invertedYRatio,M=Math.abs(E-C),P=this.barHelpers.getBarpaths({barYPosition:y,barHeight:x,x1:C,x2:E,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:c.realIndex,realIndex:c.realIndex,j:c.j,w:S});return S.globals.isXNumeric||(h+=g),{pathTo:P.pathTo,pathFrom:P.pathFrom,barWidth:M,x:E,goalX:this.barHelpers.getGoalValues("x",v,null,c.realIndex,c.j),y:h}}},{key:"getRangeValue",value:function(o,c){var h=this.w;return{start:h.globals.seriesRangeStart[o][c],end:h.globals.seriesRangeEnd[o][c]}}}]),r}(),Jg=function(){function O(n){l(this,O),this.w=n.w,this.lineCtx=n}return p(O,[{key:"sameValueSeriesFix",value:function(n,r){var o=this.w;if((o.config.fill.type==="gradient"||o.config.fill.type[n]==="gradient")&&new q(this.lineCtx.ctx,o).seriesHaveSameValues(n)){var c=r[n].slice();c[c.length-1]=c[c.length-1]+1e-6,r[n]=c}return r}},{key:"calculatePoints",value:function(n){var r=n.series,o=n.realIndex,c=n.x,h=n.y,u=n.i,f=n.j,g=n.prevY,x=this.w,y=[],v=[];if(f===0){var S=this.lineCtx.categoryAxisCorrection+x.config.markers.offsetX;x.globals.isXNumeric&&(S=(x.globals.seriesX[o][0]-x.globals.minX)/this.lineCtx.xRatio+x.config.markers.offsetX),y.push(S),v.push(_.isNumber(r[u][0])?g+x.config.markers.offsetY:null),y.push(c+x.config.markers.offsetX),v.push(_.isNumber(r[u][f+1])?h+x.config.markers.offsetY:null)}else y.push(c+x.config.markers.offsetX),v.push(_.isNumber(r[u][f+1])?h+x.config.markers.offsetY:null);return{x:y,y:v}}},{key:"checkPreviousPaths",value:function(n){for(var r=n.pathFromLine,o=n.pathFromArea,c=n.realIndex,h=this.w,u=0;u<h.globals.previousPaths.length;u++){var f=h.globals.previousPaths[u];(f.type==="line"||f.type==="area")&&f.paths.length>0&&parseInt(f.realIndex,10)===parseInt(c,10)&&(f.type==="line"?(this.lineCtx.appendPathFrom=!1,r=h.globals.previousPaths[u].paths[0].d):f.type==="area"&&(this.lineCtx.appendPathFrom=!1,o=h.globals.previousPaths[u].paths[0].d,h.config.stroke.show&&h.globals.previousPaths[u].paths[1]&&(r=h.globals.previousPaths[u].paths[1].d)))}return{pathFromLine:r,pathFromArea:o}}},{key:"determineFirstPrevY",value:function(n){var r,o=n.i,c=n.series,h=n.prevY,u=n.lineYPosition,f=this.w;if(((r=c[o])===null||r===void 0?void 0:r[0])!==void 0)h=(u=f.config.chart.stacked&&o>0?this.lineCtx.prevSeriesY[o-1][0]:this.lineCtx.zeroY)-c[o][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?c[o][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(f.config.chart.stacked&&o>0&&c[o][0]===void 0){for(var g=o-1;g>=0;g--)if(c[g][0]!==null&&c[g][0]!==void 0){h=u=this.lineCtx.prevSeriesY[g][0];break}}return{prevY:h,lineYPosition:u}}}]),O}(),Zg=function(O){for(var n,r,o,c,h=function(y){for(var v=[],S=y[0],C=y[1],E=v[0]=Ma(S,C),M=1,P=y.length-1;M<P;M++)S=C,C=y[M+1],v[M]=.5*(E+(E=Ma(S,C)));return v[M]=E,v}(O),u=O.length-1,f=[],g=0;g<u;g++)o=Ma(O[g],O[g+1]),Math.abs(o)<1e-6?h[g]=h[g+1]=0:(c=(n=h[g]/o)*n+(r=h[g+1]/o)*r)>9&&(c=3*o/Math.sqrt(c),h[g]=c*n,h[g+1]=c*r);for(var x=0;x<=u;x++)c=(O[Math.min(u,x+1)][0]-O[Math.max(0,x-1)][0])/(6*(1+h[x]*h[x])),f.push([c||0,h[x]*c||0]);return f},Ta=function(O){for(var n="",r=0;r<O.length;r++){var o=O[r],c=o.length;c>4?(n+="C".concat(o[0],", ").concat(o[1]),n+=", ".concat(o[2],", ").concat(o[3]),n+=", ".concat(o[4],", ").concat(o[5])):c>2&&(n+="S".concat(o[0],", ").concat(o[1]),n+=", ".concat(o[2],", ").concat(o[3]))}return n},_c=function(O){var n=Zg(O),r=O[1],o=O[0],c=[],h=n[1],u=n[0];c.push(o,[o[0]+u[0],o[1]+u[1],r[0]-h[0],r[1]-h[1],r[0],r[1]]);for(var f=2,g=n.length;f<g;f++){var x=O[f],y=n[f];c.push([x[0]-y[0],x[1]-y[1],x[0],x[1]])}return c};function Ma(O,n){return(n[1]-O[1])/(n[0]-O[0])}var La=function(){function O(n,r,o){l(this,O),this.ctx=n,this.w=n.w,this.xyRatios=r,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||o,this.scatter=new Mc(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Jg(this),this.markers=new Ot(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return p(O,[{key:"draw",value:function(n,r,o,c){var h=this.w,u=new j(this.ctx),f=h.globals.comboCharts?r:h.config.chart.type,g=u.group({class:"apexcharts-".concat(f,"-series apexcharts-plot-series")}),x=new q(this.ctx,h);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,n=x.getLogSeries(n),this.yRatio=x.getLogYRatios(this.yRatio);for(var y=[],v=0;v<n.length;v++){n=this.lineHelpers.sameValueSeriesFix(v,n);var S=h.globals.comboCharts?o[v]:v;this._initSerieVariables(n,v,S);var C=[],E=[],M=[],P=h.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,S),h.globals.isXNumeric&&h.globals.seriesX.length>0&&(P=(h.globals.seriesX[S][0]-h.globals.minX)/this.xRatio),M.push(P);var N=P,F=this.zeroY,m=this.zeroY;F=this.lineHelpers.determineFirstPrevY({i:v,series:n,prevY:F,lineYPosition:0}).prevY,h.config.stroke.curve==="smooth"&&n[v][0]===null?C.push(null):C.push(F),f==="rangeArea"&&(m=this.lineHelpers.determineFirstPrevY({i:v,series:c,prevY:m,lineYPosition:0}).prevY,E.push(m));var w={type:f,series:n,realIndex:S,i:v,x:P,y:1,pathsFrom:this._calculatePathsFrom({type:f,series:n,i:v,realIndex:S,prevX:N,prevY:F,prevY2:m}),linePaths:[],areaPaths:[],seriesIndex:o,lineYPosition:0,xArrj:M,yArrj:C,y2Arrj:E,seriesRangeEnd:c},T=this._iterateOverDataPoints(s(s({},w),{},{iterations:f==="rangeArea"?n[v].length-1:void 0,isRangeStart:!0}));if(f==="rangeArea"){var I=this._calculatePathsFrom({series:c,i:v,realIndex:S,prevX:N,prevY:m}),B=this._iterateOverDataPoints(s(s({},w),{},{series:c,pathsFrom:I,iterations:c[v].length-1,isRangeStart:!1}));T.linePaths[0]=B.linePath+T.linePath,T.pathFromLine=B.pathFromLine+T.pathFromLine}this._handlePaths({type:f,realIndex:S,i:v,paths:T}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),y.push(this.elSeries)}if(h.config.chart.stacked)for(var H=y.length;H>0;H--)g.add(y[H-1]);else for(var Y=0;Y<y.length;Y++)g.add(y[Y]);return g}},{key:"_initSerieVariables",value:function(n,r,o){var c=this.w,h=new j(this.ctx);this.xDivision=c.globals.gridWidth/(c.globals.dataPoints-(c.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(c.config.stroke.width)?c.config.stroke.width[o]:c.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=o),this.isReversed=c.config.yaxis[this.yaxisIndex]&&c.config.yaxis[this.yaxisIndex].reversed,this.zeroY=c.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?c.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>c.globals.gridHeight||c.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=c.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=h.group({class:"apexcharts-series",seriesName:_.escapeString(c.globals.seriesNames[o])}),this.elPointsMain=h.group({class:"apexcharts-series-markers-wrap","data:realIndex":o}),this.elDataLabelsWrap=h.group({class:"apexcharts-datalabels","data:realIndex":o});var u=n[r].length===c.globals.dataPoints;this.elSeries.attr({"data:longestSeries":u,rel:r+1,"data:realIndex":o}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(n){var r,o,c,h,u=n.type,f=n.series,g=n.i,x=n.realIndex,y=n.prevX,v=n.prevY,S=n.prevY2,C=this.w,E=new j(this.ctx);if(f[g][0]===null){for(var M=0;M<f[g].length;M++)if(f[g][M]!==null){y=this.xDivision*M,v=this.zeroY-f[g][M]/this.yRatio[this.yaxisIndex],r=E.move(y,v),o=E.move(y,this.areaBottomY);break}}else r=E.move(y,v),u==="rangeArea"&&(r=E.move(y,S)+E.line(y,v)),o=E.move(y,this.areaBottomY)+E.line(y,v);if(c=E.move(-1,this.zeroY)+E.line(-1,this.zeroY),h=E.move(-1,this.zeroY)+E.line(-1,this.zeroY),C.globals.previousPaths.length>0){var P=this.lineHelpers.checkPreviousPaths({pathFromLine:c,pathFromArea:h,realIndex:x});c=P.pathFromLine,h=P.pathFromArea}return{prevX:y,prevY:v,linePath:r,areaPath:o,pathFromLine:c,pathFromArea:h}}},{key:"_handlePaths",value:function(n){var r=n.type,o=n.realIndex,c=n.i,h=n.paths,u=this.w,f=new j(this.ctx),g=new je(this.ctx);this.prevSeriesY.push(h.yArrj),u.globals.seriesXvalues[o]=h.xArrj,u.globals.seriesYvalues[o]=h.yArrj;var x=u.config.forecastDataPoints;if(x.count>0&&r!=="rangeArea"){var y=u.globals.seriesXvalues[o][u.globals.seriesXvalues[o].length-x.count-1],v=f.drawRect(y,0,u.globals.gridWidth,u.globals.gridHeight,0);u.globals.dom.elForecastMask.appendChild(v.node);var S=f.drawRect(0,0,y,u.globals.gridHeight,0);u.globals.dom.elNonForecastMask.appendChild(S.node)}this.pointsChart||u.globals.delayedElements.push({el:this.elPointsMain.node,index:o});var C={i:c,realIndex:o,animationDelay:c,initialSpeed:u.config.chart.animations.speed,dataChangeSpeed:u.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(r)};if(r==="area")for(var E=g.fillPath({seriesNumber:o}),M=0;M<h.areaPaths.length;M++){var P=f.renderPaths(s(s({},C),{},{pathFrom:h.pathFromArea,pathTo:h.areaPaths[M],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:E}));this.elSeries.add(P)}if(u.config.stroke.show&&!this.pointsChart){var N=null;if(r==="line")N=g.fillPath({seriesNumber:o,i:c});else if(u.config.stroke.fill.type==="solid")N=u.globals.stroke.colors[o];else{var F=u.config.fill;u.config.fill=u.config.stroke.fill,N=g.fillPath({seriesNumber:o,i:c}),u.config.fill=F}for(var m=0;m<h.linePaths.length;m++){var w=N;r==="rangeArea"&&(w=g.fillPath({seriesNumber:o}));var T=s(s({},C),{},{pathFrom:h.pathFromLine,pathTo:h.linePaths[m],stroke:N,strokeWidth:this.strokeWidth,strokeLineCap:u.config.stroke.lineCap,fill:r==="rangeArea"?w:"none"}),I=f.renderPaths(T);if(this.elSeries.add(I),I.attr("fill-rule","evenodd"),x.count>0&&r!=="rangeArea"){var B=f.renderPaths(T);B.node.setAttribute("stroke-dasharray",x.dashArray),x.strokeWidth&&B.node.setAttribute("stroke-width",x.strokeWidth),this.elSeries.add(B),B.attr("clip-path","url(#forecastMask".concat(u.globals.cuid,")")),I.attr("clip-path","url(#nonForecastMask".concat(u.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(n){var r=this,o=n.type,c=n.series,h=n.iterations,u=n.realIndex,f=n.i,g=n.x,x=n.y,y=n.pathsFrom,v=n.linePaths,S=n.areaPaths,C=n.seriesIndex,E=n.lineYPosition,M=n.xArrj,P=n.yArrj,N=n.y2Arrj,F=n.isRangeStart,m=n.seriesRangeEnd,w=this.w,T=new j(this.ctx),I=this.yRatio,B=y.prevY,H=y.linePath,Y=y.areaPath,V=y.pathFromLine,U=y.pathFromArea,K=_.isNumber(w.globals.minYArr[u])?w.globals.minYArr[u]:w.globals.minY;h||(h=w.globals.dataPoints>1?w.globals.dataPoints-1:w.globals.dataPoints);for(var $=function(Se,Me){return Me-Se/I[r.yaxisIndex]+2*(r.isReversed?Se/I[r.yaxisIndex]:0)},te=x,ie=0;ie<h;ie++){var de=c[f][ie+1]===void 0||c[f][ie+1]===null;if(w.globals.isXNumeric){var ge=w.globals.seriesX[u][ie+1];w.globals.seriesX[u][ie+1]===void 0&&(ge=w.globals.seriesX[u][h-1]),g=(ge-w.globals.minX)/this.xRatio}else g+=this.xDivision;w.config.chart.stacked?f>0&&w.globals.collapsedSeries.length<w.config.series.length-1?E=this.prevSeriesY[function(Se){for(var Me=Se,kt=0;kt<w.globals.series.length;kt++)if(w.globals.collapsedSeriesIndices.indexOf(Se)>-1){Me--;break}return Me>=0?Me:0}(f-1)][ie+1]:E=this.zeroY:E=this.zeroY,de?x=$(K,E):(x=$(c[f][ie+1],E),o==="rangeArea"&&(te=$(m[f][ie+1],E))),M.push(g),de&&w.config.stroke.curve==="smooth"?P.push(null):P.push(x),N.push(te);var be=this.lineHelpers.calculatePoints({series:c,x:g,y:x,realIndex:u,i:f,j:ie,prevY:B}),Ee=this._createPaths({type:o,series:c,i:f,realIndex:u,j:ie,x:g,y:x,y2:te,xArrj:M,yArrj:P,y2Arrj:N,linePath:H,areaPath:Y,linePaths:v,areaPaths:S,seriesIndex:C,isRangeStart:F});S=Ee.areaPaths,v=Ee.linePaths,Y=Ee.areaPath,H=Ee.linePath,!this.appendPathFrom||w.config.stroke.curve==="smooth"&&o==="rangeArea"||(V+=T.line(g,this.zeroY),U+=T.line(g,this.zeroY)),this.handleNullDataPoints(c,be,f,ie,u),this._handleMarkersAndLabels({type:o,pointsPos:be,i:f,j:ie,realIndex:u,isRangeStart:F})}return{yArrj:P,xArrj:M,pathFromArea:U,areaPaths:S,pathFromLine:V,linePaths:v,linePath:H,areaPath:Y}}},{key:"_handleMarkersAndLabels",value:function(n){var r=n.type,o=n.pointsPos,c=n.isRangeStart,h=n.i,u=n.j,f=n.realIndex,g=this.w,x=new on(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,u,{realIndex:f,pointsPos:o,zRatio:this.zRatio,elParent:this.elPointsMain});else{g.globals.series[h].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var y=this.markers.plotChartMarkers(o,f,u+1);y!==null&&this.elPointsMain.add(y)}var v=x.drawDataLabel({type:r,isRangeStart:c,pos:o,i:f,j:u+1});v!==null&&this.elDataLabelsWrap.add(v)}},{key:"_createPaths",value:function(n){var r=n.type,o=n.series,c=n.i,h=n.realIndex,u=n.j,f=n.x,g=n.y,x=n.xArrj,y=n.yArrj,v=n.y2,S=n.y2Arrj,C=n.linePath,E=n.areaPath,M=n.linePaths,P=n.areaPaths,N=n.seriesIndex,F=n.isRangeStart,m=this.w,w=new j(this.ctx),T=m.config.stroke.curve,I=this.areaBottomY;if(Array.isArray(m.config.stroke.curve)&&(T=Array.isArray(N)?m.config.stroke.curve[N[c]]:m.config.stroke.curve[c]),r==="rangeArea"&&(m.globals.hasNullValues||m.config.forecastDataPoints.count>0)&&T==="smooth"&&(T="straight"),T==="smooth"){if(r==="rangeArea"?x.length===m.globals.dataPoints:u===o[c].length-2){var B=x.map(function(te,ie){return[x[ie],y[ie]]}).filter(function(te){return te[1]!==null}),H=_c(B);if(C+=Ta(H),o[c][0]===null?E=C:E+=Ta(H),r==="rangeArea"&&F){C+=w.line(x[x.length-1],S[S.length-1]);var Y=x.slice().reverse(),V=S.slice().reverse(),U=Y.map(function(te,ie){return[Y[ie],V[ie]]}),K=_c(U);E=C+=Ta(K)}else E+=w.line(B[B.length-1][0],I)+w.line(B[0][0],I)+w.move(B[0][0],B[0][1])+"z";M.push(C),P.push(E)}}else{if(o[c][u+1]===null){C+=w.move(f,g);var $=m.globals.isXNumeric?(m.globals.seriesX[h][u]-m.globals.minX)/this.xRatio:f-this.xDivision;E=E+w.line($,I)+w.move(f,g)+"z"}o[c][u]===null&&(C+=w.move(f,g),E+=w.move(f,I)),T==="stepline"?(C=C+w.line(f,null,"H")+w.line(null,g,"V"),E=E+w.line(f,null,"H")+w.line(null,g,"V")):T==="straight"&&(C+=w.line(f,g),E+=w.line(f,g)),u===o[c].length-2&&(E=E+w.line(f,I)+w.move(f,g)+"z",r==="rangeArea"&&F?C=C+w.line(f,v)+w.move(f,v)+"z":(M.push(C),P.push(E)))}return{linePaths:M,areaPaths:P,linePath:C,areaPath:E}}},{key:"handleNullDataPoints",value:function(n,r,o,c,h){var u=this.w;if(n[o][c]===null&&u.config.markers.showNullDataPoints||n[o].length===1){var f=this.markers.plotChartMarkers(r,h,c+1,this.strokeWidth-u.config.markers.strokeWidth/2,!0);f!==null&&this.elPointsMain.add(f)}}}]),O}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function O(f,g,x,y){this.xoffset=f,this.yoffset=g,this.height=y,this.width=x,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(v){var S,C=[],E=this.xoffset,M=this.yoffset,P=h(v)/this.height,N=h(v)/this.width;if(this.width>=this.height)for(S=0;S<v.length;S++)C.push([E,M,E+P,M+v[S]/P]),M+=v[S]/P;else for(S=0;S<v.length;S++)C.push([E,M,E+v[S]/N,M+N]),E+=v[S]/N;return C},this.cutArea=function(v){var S;if(this.width>=this.height){var C=v/this.height,E=this.width-C;S=new O(this.xoffset+C,this.yoffset,E,this.height)}else{var M=v/this.width,P=this.height-M;S=new O(this.xoffset,this.yoffset+M,this.width,P)}return S}}function n(f,g,x,y,v){y=y===void 0?0:y,v=v===void 0?0:v;var S=r(function(C,E){var M,P=[],N=E/h(C);for(M=0;M<C.length;M++)P[M]=C[M]*N;return P}(f,g*x),[],new O(y,v,g,x),[]);return function(C){var E,M,P=[];for(E=0;E<C.length;E++)for(M=0;M<C[E].length;M++)P.push(C[E][M]);return P}(S)}function r(f,g,x,y){var v,S,C;if(f.length!==0)return v=x.shortestEdge(),function(E,M,P){var N;if(E.length===0)return!0;(N=E.slice()).push(M);var F=o(E,P),m=o(N,P);return F>=m}(g,S=f[0],v)?(g.push(S),r(f.slice(1),g,x,y)):(C=x.cutArea(h(g),y),y.push(x.getCoordinates(g)),r(f,[],C,y)),y;y.push(x.getCoordinates(g))}function o(f,g){var x=Math.min.apply(Math,f),y=Math.max.apply(Math,f),v=h(f);return Math.max(Math.pow(g,2)*y/Math.pow(v,2),Math.pow(v,2)/(Math.pow(g,2)*x))}function c(f){return f&&f.constructor===Array}function h(f){var g,x=0;for(g=0;g<f.length;g++)x+=f[g];return x}function u(f){var g,x=0;if(c(f[0]))for(g=0;g<f.length;g++)x+=u(f[g]);else x=h(f);return x}return function f(g,x,y,v,S){v=v===void 0?0:v,S=S===void 0?0:S;var C,E,M=[],P=[];if(c(g[0])){for(E=0;E<g.length;E++)M[E]=u(g[E]);for(C=n(M,x,y,v,S),E=0;E<g.length;E++)P.push(f(g[E],C[E][2]-C[E][0],C[E][3]-C[E][1],C[E][0],C[E][1]))}else P=n(g,x,y,v,S);return P}}();var Pi,Is,Qg=function(){function O(n,r){l(this,O),this.ctx=n,this.w=n.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new zc(n),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return p(O,[{key:"draw",value:function(n){var r=this,o=this.w,c=new j(this.ctx),h=new je(this.ctx),u=c.group({class:"apexcharts-treemap"});if(o.globals.noData)return u;var f=[];return n.forEach(function(g){var x=g.map(function(y){return Math.abs(y)});f.push(x)}),this.negRange=this.helpers.checkColorRange(),o.config.series.forEach(function(g,x){g.data.forEach(function(y){Array.isArray(r.labels[x])||(r.labels[x]=[]),r.labels[x].push(y.x)})}),window.TreemapSquared.generate(f,o.globals.gridWidth,o.globals.gridHeight).forEach(function(g,x){var y=c.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:_.escapeString(o.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});if(o.config.chart.dropShadow.enabled){var v=o.config.chart.dropShadow;new oe(r.ctx).dropShadow(u,v,x)}var S=c.group({class:"apexcharts-data-labels"});g.forEach(function(C,E){var M=C[0],P=C[1],N=C[2],F=C[3],m=c.drawRect(M,P,N-M,F-P,0,"#fff",1,r.strokeWidth,o.config.plotOptions.treemap.useFillColorAsStroke?T:o.globals.stroke.colors[x]);m.attr({cx:M,cy:P,index:x,i:x,j:E,width:N-M,height:F-P});var w=r.helpers.getShadeColor(o.config.chart.type,x,E,r.negRange),T=w.color;o.config.series[x].data[E]!==void 0&&o.config.series[x].data[E].fillColor&&(T=o.config.series[x].data[E].fillColor);var I=h.fillPath({color:T,seriesNumber:x,dataPointIndex:E});m.node.classList.add("apexcharts-treemap-rect"),m.attr({fill:I}),r.helpers.addListeners(m);var B={x:M+(N-M)/2,y:P+(F-P)/2,width:0,height:0},H={x:M,y:P,width:N-M,height:F-P};if(o.config.chart.animations.enabled&&!o.globals.dataChanged){var Y=1;o.globals.resized||(Y=o.config.chart.animations.speed),r.animateTreemap(m,B,H,Y)}if(o.globals.dataChanged){var V=1;r.dynamicAnim.enabled&&o.globals.shouldAnimate&&(V=r.dynamicAnim.speed,o.globals.previousPaths[x]&&o.globals.previousPaths[x][E]&&o.globals.previousPaths[x][E].rect&&(B=o.globals.previousPaths[x][E].rect),r.animateTreemap(m,B,H,V))}var U=r.getFontSize(C),K=o.config.dataLabels.formatter(r.labels[x][E],{value:o.globals.series[x][E],seriesIndex:x,dataPointIndex:E,w:o});o.config.plotOptions.treemap.dataLabels.format==="truncate"&&(U=parseInt(o.config.dataLabels.style.fontSize,10),K=r.truncateLabels(K,U,M,P,N,F));var $=r.helpers.calculateDataLabels({text:K,x:(M+N)/2,y:(P+F)/2+r.strokeWidth/2+U/3,i:x,j:E,colorProps:w,fontSize:U,series:n});o.config.dataLabels.enabled&&$&&r.rotateToFitLabel($,U,K,M,P,N,F),y.add(m),$!==null&&y.add($)}),y.add(S),u.add(y)}),u}},{key:"getFontSize",value:function(n){var r=this.w,o,c,h,u,f=function g(x){var y,v=0;if(Array.isArray(x[0]))for(y=0;y<x.length;y++)v+=g(x[y]);else for(y=0;y<x.length;y++)v+=x[y].length;return v}(this.labels)/function g(x){var y,v=0;if(Array.isArray(x[0]))for(y=0;y<x.length;y++)v+=g(x[y]);else for(y=0;y<x.length;y++)v+=1;return v}(this.labels);return o=n[2]-n[0],c=n[3]-n[1],h=o*c,u=Math.pow(h,.5),Math.min(u/f,parseInt(r.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(n,r,o,c,h,u,f){var g=new j(this.ctx),x=g.getTextRects(o,r);if(x.width+this.w.config.stroke.width+5>u-c&&x.width<=f-h){var y=g.rotateAroundCenter(n.node);n.node.setAttribute("transform","rotate(-90 ".concat(y.x," ").concat(y.y,") translate(").concat(x.height/3,")"))}}},{key:"truncateLabels",value:function(n,r,o,c,h,u){var f=new j(this.ctx),g=f.getTextRects(n,r).width+this.w.config.stroke.width+5>h-o&&u-c>h-o?u-c:h-o,x=f.getTextBasedOnMaxWidth({text:n,maxWidth:g,fontSize:r});return n.length!==x.length&&g/r<5?"":x}},{key:"animateTreemap",value:function(n,r,o,c){var h=new ne(this.ctx);h.animateRect(n,{x:r.x,y:r.y,width:r.width,height:r.height},{x:o.x,y:o.y,width:o.width,height:o.height},c,function(){h.animationCompleted(n)})}}]),O}(),em=86400,tm=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return p(O,[{key:"calculateTimeScaleTicks",value:function(n,r){var o=this,c=this.w;if(c.globals.allSeriesCollapsed)return c.globals.labels=[],c.globals.timescaleLabels=[],[];var h=new ye(this.ctx),u=(r-n)/864e5;this.determineInterval(u),c.globals.disableZoomIn=!1,c.globals.disableZoomOut=!1,u<.00011574074074074075?c.globals.disableZoomIn=!0:u>5e4&&(c.globals.disableZoomOut=!0);var f=h.getTimeUnitsfromTimestamp(n,r,this.utc),g=c.globals.gridWidth/u,x=g/24,y=x/60,v=y/60,S=Math.floor(24*u),C=Math.floor(1440*u),E=Math.floor(u*em),M=Math.floor(u),P=Math.floor(u/30),N=Math.floor(u/365),F={minMillisecond:f.minMillisecond,minSecond:f.minSecond,minMinute:f.minMinute,minHour:f.minHour,minDate:f.minDate,minMonth:f.minMonth,minYear:f.minYear},m={firstVal:F,currentMillisecond:F.minMillisecond,currentSecond:F.minSecond,currentMinute:F.minMinute,currentHour:F.minHour,currentMonthDate:F.minDate,currentDate:F.minDate,currentMonth:F.minMonth,currentYear:F.minYear,daysWidthOnXAxis:g,hoursWidthOnXAxis:x,minutesWidthOnXAxis:y,secondsWidthOnXAxis:v,numberOfSeconds:E,numberOfMinutes:C,numberOfHours:S,numberOfDays:M,numberOfMonths:P,numberOfYears:N};switch(this.tickInterval){case"years":this.generateYearScale(m);break;case"months":case"half_year":this.generateMonthScale(m);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(m);break;case"hours":this.generateHourScale(m);break;case"minutes_fives":case"minutes":this.generateMinuteScale(m);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(m)}var w=this.timeScaleArray.map(function(T){var I={position:T.position,unit:T.unit,year:T.year,day:T.day?T.day:1,hour:T.hour?T.hour:0,month:T.month+1};return T.unit==="month"?s(s({},I),{},{day:1,value:T.value+1}):T.unit==="day"||T.unit==="hour"?s(s({},I),{},{value:T.value}):T.unit==="minute"?s(s({},I),{},{value:T.value,minute:T.value}):T.unit==="second"?s(s({},I),{},{value:T.value,minute:T.minute,second:T.second}):T});return w.filter(function(T){var I=1,B=Math.ceil(c.globals.gridWidth/120),H=T.value;c.config.xaxis.tickAmount!==void 0&&(B=c.config.xaxis.tickAmount),w.length>B&&(I=Math.floor(w.length/B));var Y=!1,V=!1;switch(o.tickInterval){case"years":T.unit==="year"&&(Y=!0);break;case"half_year":I=7,T.unit==="year"&&(Y=!0);break;case"months":I=1,T.unit==="year"&&(Y=!0);break;case"months_fortnight":I=15,T.unit!=="year"&&T.unit!=="month"||(Y=!0),H===30&&(V=!0);break;case"months_days":I=10,T.unit==="month"&&(Y=!0),H===30&&(V=!0);break;case"week_days":I=8,T.unit==="month"&&(Y=!0);break;case"days":I=1,T.unit==="month"&&(Y=!0);break;case"hours":T.unit==="day"&&(Y=!0);break;case"minutes_fives":case"seconds_fives":H%5!=0&&(V=!0);break;case"seconds_tens":H%10!=0&&(V=!0)}if(o.tickInterval==="hours"||o.tickInterval==="minutes_fives"||o.tickInterval==="seconds_tens"||o.tickInterval==="seconds_fives"){if(!V)return!0}else if((H%I==0||Y)&&!V)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(n,r){var o=this.w,c=this.formatDates(n),h=this.removeOverlappingTS(c);o.globals.timescaleLabels=h.slice(),new Rs(this.ctx).plotCoords()}},{key:"determineInterval",value:function(n){var r=24*n,o=60*r;switch(!0){case n/365>5:this.tickInterval="years";break;case n>800:this.tickInterval="half_year";break;case n>180:this.tickInterval="months";break;case n>90:this.tickInterval="months_fortnight";break;case n>60:this.tickInterval="months_days";break;case n>30:this.tickInterval="week_days";break;case n>2:this.tickInterval="days";break;case r>2.4:this.tickInterval="hours";break;case o>15:this.tickInterval="minutes_fives";break;case o>5:this.tickInterval="minutes";break;case o>1:this.tickInterval="seconds_tens";break;case 60*o>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(n){var r=n.firstVal,o=n.currentMonth,c=n.currentYear,h=n.daysWidthOnXAxis,u=n.numberOfYears,f=r.minYear,g=0,x=new ye(this.ctx),y="year";if(r.minDate>1||r.minMonth>0){var v=x.determineRemainingDaysOfYear(r.minYear,r.minMonth,r.minDate);g=(x.determineDaysOfYear(r.minYear)-v+1)*h,f=r.minYear+1,this.timeScaleArray.push({position:g,value:f,unit:y,year:f,month:_.monthMod(o+1)})}else r.minDate===1&&r.minMonth===0&&this.timeScaleArray.push({position:g,value:f,unit:y,year:c,month:_.monthMod(o+1)});for(var S=f,C=g,E=0;E<u;E++)S++,C=x.determineDaysOfYear(S-1)*h+C,this.timeScaleArray.push({position:C,value:S,unit:y,year:S,month:1})}},{key:"generateMonthScale",value:function(n){var r=n.firstVal,o=n.currentMonthDate,c=n.currentMonth,h=n.currentYear,u=n.daysWidthOnXAxis,f=n.numberOfMonths,g=c,x=0,y=new ye(this.ctx),v="month",S=0;if(r.minDate>1){x=(y.determineDaysOfMonths(c+1,r.minYear)-o+1)*u,g=_.monthMod(c+1);var C=h+S,E=_.monthMod(g),M=g;g===0&&(v="year",M=C,E=1,C+=S+=1),this.timeScaleArray.push({position:x,value:M,unit:v,year:C,month:E})}else this.timeScaleArray.push({position:x,value:g,unit:v,year:h,month:_.monthMod(c)});for(var P=g+1,N=x,F=0,m=1;F<f;F++,m++){(P=_.monthMod(P))===0?(v="year",S+=1):v="month";var w=this._getYear(h,P,S);N=y.determineDaysOfMonths(P,w)*u+N;var T=P===0?w:P;this.timeScaleArray.push({position:N,value:T,unit:v,year:w,month:P===0?1:P}),P++}}},{key:"generateDayScale",value:function(n){var r=n.firstVal,o=n.currentMonth,c=n.currentYear,h=n.hoursWidthOnXAxis,u=n.numberOfDays,f=new ye(this.ctx),g="day",x=r.minDate+1,y=x,v=function(m,w,T){return m>f.determineDaysOfMonths(w+1,T)&&(y=1,g="month",C=w+=1),w},S=(24-r.minHour)*h,C=x,E=v(y,o,c);r.minHour===0&&r.minDate===1?(S=0,C=_.monthMod(r.minMonth),g="month",y=r.minDate):r.minDate!==1&&r.minHour===0&&r.minMinute===0&&(S=0,x=r.minDate,C=x,E=v(y=x,o,c)),this.timeScaleArray.push({position:S,value:C,unit:g,year:this._getYear(c,E,0),month:_.monthMod(E),day:y});for(var M=S,P=0;P<u;P++){g="day",E=v(y+=1,E,this._getYear(c,E,0));var N=this._getYear(c,E,0);M=24*h+M;var F=y===1?_.monthMod(E):y;this.timeScaleArray.push({position:M,value:F,unit:g,year:N,month:_.monthMod(E),day:F})}}},{key:"generateHourScale",value:function(n){var r=n.firstVal,o=n.currentDate,c=n.currentMonth,h=n.currentYear,u=n.minutesWidthOnXAxis,f=n.numberOfHours,g=new ye(this.ctx),x="hour",y=function(I,B){return I>g.determineDaysOfMonths(B+1,h)&&(P=1,B+=1),{month:B,date:P}},v=function(I,B){return I>g.determineDaysOfMonths(B+1,h)?B+=1:B},S=60-(r.minMinute+r.minSecond/60),C=S*u,E=r.minHour+1,M=E;S===60&&(C=0,M=(E=r.minHour)+1);var P=o;M>=24&&(M=0,P+=1,x="day");var N=y(P,c).month;N=v(P,N),this.timeScaleArray.push({position:C,value:E,unit:x,day:P,hour:M,year:h,month:_.monthMod(N)}),M++;for(var F=C,m=0;m<f;m++){x="hour",M>=24&&(M=0,x="day",N=y(P+=1,N).month,N=v(P,N));var w=this._getYear(h,N,0);F=60*u+F;var T=M===0?P:M;this.timeScaleArray.push({position:F,value:T,unit:x,hour:M,day:P,year:w,month:_.monthMod(N)}),M++}}},{key:"generateMinuteScale",value:function(n){for(var r=n.currentMillisecond,o=n.currentSecond,c=n.currentMinute,h=n.currentHour,u=n.currentDate,f=n.currentMonth,g=n.currentYear,x=n.minutesWidthOnXAxis,y=n.secondsWidthOnXAxis,v=n.numberOfMinutes,S=c+1,C=u,E=f,M=g,P=h,N=(60-o-r/1e3)*y,F=0;F<v;F++)S>=60&&(S=0,(P+=1)===24&&(P=0)),this.timeScaleArray.push({position:N,value:S,unit:"minute",hour:P,minute:S,day:C,year:this._getYear(M,E,0),month:_.monthMod(E)}),N+=x,S++}},{key:"generateSecondScale",value:function(n){for(var r=n.currentMillisecond,o=n.currentSecond,c=n.currentMinute,h=n.currentHour,u=n.currentDate,f=n.currentMonth,g=n.currentYear,x=n.secondsWidthOnXAxis,y=n.numberOfSeconds,v=o+1,S=c,C=u,E=f,M=g,P=h,N=(1e3-r)/1e3*x,F=0;F<y;F++)v>=60&&(v=0,++S>=60&&(S=0,++P===24&&(P=0))),this.timeScaleArray.push({position:N,value:v,unit:"second",hour:P,minute:S,second:v,day:C,year:this._getYear(M,E,0),month:_.monthMod(E)}),N+=x,v++}},{key:"createRawDateString",value:function(n,r){var o=n.year;return n.month===0&&(n.month=1),o+="-"+("0"+n.month.toString()).slice(-2),n.unit==="day"?o+=n.unit==="day"?"-"+("0"+r).slice(-2):"-01":o+="-"+("0"+(n.day?n.day:"1")).slice(-2),n.unit==="hour"?o+=n.unit==="hour"?"T"+("0"+r).slice(-2):"T00":o+="T"+("0"+(n.hour?n.hour:"0")).slice(-2),n.unit==="minute"?o+=":"+("0"+r).slice(-2):o+=":"+(n.minute?("0"+n.minute).slice(-2):"00"),n.unit==="second"?o+=":"+("0"+r).slice(-2):o+=":00",this.utc&&(o+=".000Z"),o}},{key:"formatDates",value:function(n){var r=this,o=this.w;return n.map(function(c){var h=c.value.toString(),u=new ye(r.ctx),f=r.createRawDateString(c,h),g=u.getDate(u.parseDate(f));if(r.utc||(g=u.getDate(u.parseDateWithTimezone(f))),o.config.xaxis.labels.format===void 0){var x="dd MMM",y=o.config.xaxis.labels.datetimeFormatter;c.unit==="year"&&(x=y.year),c.unit==="month"&&(x=y.month),c.unit==="day"&&(x=y.day),c.unit==="hour"&&(x=y.hour),c.unit==="minute"&&(x=y.minute),c.unit==="second"&&(x=y.second),h=u.formatDate(g,x)}else h=u.formatDate(g,o.config.xaxis.labels.format);return{dateString:f,position:c.position,value:h,unit:c.unit,year:c.year,month:c.month}})}},{key:"removeOverlappingTS",value:function(n){var r,o=this,c=new j(this.ctx),h=!1;n.length>0&&n[0].value&&n.every(function(g){return g.value.length===n[0].value.length})&&(h=!0,r=c.getTextRects(n[0].value).width);var u=0,f=n.map(function(g,x){if(x>0&&o.w.config.xaxis.labels.hideOverlappingLabels){var y=h?r:c.getTextRects(n[u].value).width,v=n[u].position;return g.position>v+y+10?(u=x,g):null}return g});return f=f.filter(function(g){return g!==null})}},{key:"_getYear",value:function(n,r,o){return n+Math.floor(r/12)+o}}]),O}(),im=function(){function O(n,r){l(this,O),this.ctx=r,this.w=r.w,this.el=n}return p(O,[{key:"setupElements",value:function(){var n=this.w.globals,r=this.w.config,o=r.chart.type;n.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(o)>-1,n.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(o)>-1,n.isBarHorizontal=(r.chart.type==="bar"||r.chart.type==="rangeBar"||r.chart.type==="boxPlot")&&r.plotOptions.bar.horizontal,n.chartClass=".apexcharts"+n.chartID,n.dom.baseEl=this.el,n.dom.elWrap=document.createElement("div"),j.setAttrs(n.dom.elWrap,{id:n.chartClass.substring(1),class:"apexcharts-canvas "+n.chartClass.substring(1)}),this.el.appendChild(n.dom.elWrap),n.dom.Paper=new window.SVG.Doc(n.dom.elWrap),n.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(r.chart.offsetX,", ").concat(r.chart.offsetY,")")}),n.dom.Paper.node.style.background=r.theme.mode==="dark"&&r.chart.background==="transparent"?"rgba(0, 0, 0, 0.8)":r.chart.background,this.setSVGDimensions(),n.dom.elLegendForeign=document.createElementNS(n.SVGNS,"foreignObject"),j.setAttrs(n.dom.elLegendForeign,{x:0,y:0,width:n.svgWidth,height:n.svgHeight}),n.dom.elLegendWrap=document.createElement("div"),n.dom.elLegendWrap.classList.add("apexcharts-legend"),n.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),n.dom.elLegendForeign.appendChild(n.dom.elLegendWrap),n.dom.Paper.node.appendChild(n.dom.elLegendForeign),n.dom.elGraphical=n.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),n.dom.elDefs=n.dom.Paper.defs(),n.dom.Paper.add(n.dom.elGraphical),n.dom.elGraphical.add(n.dom.elDefs)}},{key:"plotChartType",value:function(n,r){var o=this.w,c=o.config,h=o.globals,u={series:[],i:[]},f={series:[],i:[]},g={series:[],i:[]},x={series:[],i:[]},y={series:[],i:[]},v={series:[],i:[]},S={series:[],i:[]},C={series:[],i:[]},E={series:[],seriesRangeEnd:[],i:[]};h.series.map(function(B,H){var Y=0;n[H].type!==void 0?(n[H].type==="column"||n[H].type==="bar"?(h.series.length>1&&c.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),y.series.push(B),y.i.push(H),Y++,o.globals.columnSeries=y.series):n[H].type==="area"?(f.series.push(B),f.i.push(H),Y++):n[H].type==="line"?(u.series.push(B),u.i.push(H),Y++):n[H].type==="scatter"?(g.series.push(B),g.i.push(H)):n[H].type==="bubble"?(x.series.push(B),x.i.push(H),Y++):n[H].type==="candlestick"?(v.series.push(B),v.i.push(H),Y++):n[H].type==="boxPlot"?(S.series.push(B),S.i.push(H),Y++):n[H].type==="rangeBar"?(C.series.push(B),C.i.push(H),Y++):n[H].type==="rangeArea"?(E.series.push(h.seriesRangeStart[H]),E.seriesRangeEnd.push(h.seriesRangeEnd[H]),E.i.push(H),Y++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),Y>1&&(h.comboCharts=!0)):(u.series.push(B),u.i.push(H))});var M=new La(this.ctx,r),P=new Ea(this.ctx,r);this.ctx.pie=new Hc(this.ctx);var N=new $g(this.ctx);this.ctx.rangeBar=new Kg(this.ctx,r);var F=new Ug(this.ctx),m=[];if(h.comboCharts){if(f.series.length>0&&m.push(M.draw(f.series,"area",f.i)),y.series.length>0)if(o.config.chart.stacked){var w=new Fc(this.ctx,r);m.push(w.draw(y.series,y.i))}else this.ctx.bar=new cn(this.ctx,r),m.push(this.ctx.bar.draw(y.series,y.i));if(E.series.length>0&&m.push(M.draw(E.series,"rangeArea",E.i,E.seriesRangeEnd)),u.series.length>0&&m.push(M.draw(u.series,"line",u.i)),v.series.length>0&&m.push(P.draw(v.series,"candlestick",v.i)),S.series.length>0&&m.push(P.draw(S.series,"boxPlot",S.i)),C.series.length>0&&m.push(this.ctx.rangeBar.draw(C.series,C.i)),g.series.length>0){var T=new La(this.ctx,r,!0);m.push(T.draw(g.series,"scatter",g.i))}if(x.series.length>0){var I=new La(this.ctx,r,!0);m.push(I.draw(x.series,"bubble",x.i))}}else switch(c.chart.type){case"line":m=M.draw(h.series,"line");break;case"area":m=M.draw(h.series,"area");break;case"bar":c.chart.stacked?m=new Fc(this.ctx,r).draw(h.series):(this.ctx.bar=new cn(this.ctx,r),m=this.ctx.bar.draw(h.series));break;case"candlestick":m=new Ea(this.ctx,r).draw(h.series,"candlestick");break;case"boxPlot":m=new Ea(this.ctx,r).draw(h.series,c.chart.type);break;case"rangeBar":m=this.ctx.rangeBar.draw(h.series);break;case"rangeArea":m=M.draw(h.seriesRangeStart,"rangeArea",void 0,h.seriesRangeEnd);break;case"heatmap":m=new qg(this.ctx,r).draw(h.series);break;case"treemap":m=new Qg(this.ctx,r).draw(h.series);break;case"pie":case"donut":case"polarArea":m=this.ctx.pie.draw(h.series);break;case"radialBar":m=N.draw(h.series);break;case"radar":m=F.draw(h.series);break;default:m=M.draw(h.series)}return m}},{key:"setSVGDimensions",value:function(){var n=this.w.globals,r=this.w.config;n.svgWidth=r.chart.width,n.svgHeight=r.chart.height;var o=_.getDimensions(this.el),c=r.chart.width.toString().split(/[0-9]+/g).pop();c==="%"?_.isNumber(o[0])&&(o[0].width===0&&(o=_.getDimensions(this.el.parentNode)),n.svgWidth=o[0]*parseInt(r.chart.width,10)/100):c!=="px"&&c!==""||(n.svgWidth=parseInt(r.chart.width,10));var h=r.chart.height.toString().split(/[0-9]+/g).pop();if(n.svgHeight!=="auto"&&n.svgHeight!=="")if(h==="%"){var u=_.getDimensions(this.el.parentNode);n.svgHeight=u[1]*parseInt(r.chart.height,10)/100}else n.svgHeight=parseInt(r.chart.height,10);else n.axisCharts?n.svgHeight=n.svgWidth/1.61:n.svgHeight=n.svgWidth/1.2;if(n.svgWidth<0&&(n.svgWidth=0),n.svgHeight<0&&(n.svgHeight=0),j.setAttrs(n.dom.Paper.node,{width:n.svgWidth,height:n.svgHeight}),h!=="%"){var f=r.chart.sparkline.enabled?0:n.axisCharts?r.chart.parentHeightOffset:0;n.dom.Paper.node.parentNode.parentNode.style.minHeight=n.svgHeight+f+"px"}n.dom.elWrap.style.width=n.svgWidth+"px",n.dom.elWrap.style.height=n.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var n=this.w.globals,r=n.translateY,o={transform:"translate("+n.translateX+", "+r+")"};j.setAttrs(n.dom.elGraphical.node,o)}},{key:"resizeNonAxisCharts",value:function(){var n=this.w,r=n.globals,o=0,c=n.config.chart.sparkline.enabled?1:15;c+=n.config.grid.padding.bottom,n.config.legend.position!=="top"&&n.config.legend.position!=="bottom"||!n.config.legend.show||n.config.legend.floating||(o=new Oc(this.ctx).legendHelpers.getLegendBBox().clwh+10);var h=n.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),u=2.05*n.globals.radialSize;if(h&&!n.config.chart.sparkline.enabled&&n.config.plotOptions.radialBar.startAngle!==0){var f=_.getBoundingClientRect(h);u=f.bottom;var g=f.bottom-f.top;u=Math.max(2.05*n.globals.radialSize,g)}var x=u+r.translateY+o+c;r.dom.elLegendForeign&&r.dom.elLegendForeign.setAttribute("height",x),n.config.chart.height&&String(n.config.chart.height).indexOf("%")>0||(r.dom.elWrap.style.height=x+"px",j.setAttrs(r.dom.Paper.node,{height:x}),r.dom.Paper.node.parentNode.parentNode.style.minHeight=x+"px")}},{key:"coreCalculations",value:function(){new ka(this.ctx).init()}},{key:"resetGlobals",value:function(){var n=this,r=function(){return n.w.config.series.map(function(h){return[]})},o=new ti,c=this.w.globals;o.initGlobalVars(c),c.seriesXvalues=r(),c.seriesYvalues=r()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var n=null,r=this.w;if(r.globals.axisCharts){if(r.config.xaxis.crosshairs.position==="back"&&new Ca(this.ctx).drawXCrosshairs(),r.config.yaxis[0].crosshairs.position==="back"&&new Ca(this.ctx).drawYCrosshairs(),r.config.xaxis.type==="datetime"&&r.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new tm(this.ctx);var o=[];isFinite(r.globals.minX)&&isFinite(r.globals.maxX)&&!r.globals.isBarHorizontal?o=this.ctx.timeScale.calculateTimeScaleTicks(r.globals.minX,r.globals.maxX):r.globals.isBarHorizontal&&(o=this.ctx.timeScale.calculateTimeScaleTicks(r.globals.minY,r.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(o)}n=new q(this.ctx).getCalculatedRatios()}return n}},{key:"updateSourceChart",value:function(n){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:n.w.globals.minX,max:n.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var n=this,r=this.w;if(r.config.chart.brush.enabled&&typeof r.config.chart.events.selection!="function"){var o=Array.isArray(r.config.chart.brush.targets)||[r.config.chart.brush.target];o.forEach(function(c){var h=ApexCharts.getChartByID(c);h.w.globals.brushSource=n.ctx,typeof h.w.config.chart.events.zoomed!="function"&&(h.w.config.chart.events.zoomed=function(){n.updateSourceChart(h)}),typeof h.w.config.chart.events.scrolled!="function"&&(h.w.config.chart.events.scrolled=function(){n.updateSourceChart(h)})}),r.config.chart.events.selection=function(c,h){o.forEach(function(u){var f=ApexCharts.getChartByID(u),g=_.clone(r.config.yaxis);if(r.config.chart.brush.autoScaleYaxis&&f.w.globals.series.length===1){var x=new ln(f);g=x.autoScaleY(f,g,h)}var y=f.w.config.yaxis.reduce(function(v,S,C){return[].concat(W(v),[s(s({},f.w.config.yaxis[C]),{},{min:g[0].min,max:g[0].max})])},[]);f.ctx.updateHelpers._updateOptions({xaxis:{min:h.xaxis.min,max:h.xaxis.max},yaxis:y},!1,!1,!1,!1)})}}}}]),O}(),nm=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"_updateOptions",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],u=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(f){var g=[r.ctx];h&&(g=r.ctx.getSyncedCharts()),r.ctx.w.globals.isExecCalled&&(g=[r.ctx],r.ctx.w.globals.isExecCalled=!1),g.forEach(function(x,y){var v=x.w;if(v.globals.shouldAnimate=c,o||(v.globals.resized=!0,v.globals.dataChanged=!0,c&&x.series.getPreviousPaths()),n&&a(n)==="object"&&(x.config=new dt(n),n=q.extendArrayProps(x.config,n,v),x.w.globals.chartID!==r.ctx.w.globals.chartID&&delete n.series,v.config=_.extend(v.config,n),u&&(v.globals.lastXAxis=n.xaxis?_.clone(n.xaxis):[],v.globals.lastYAxis=n.yaxis?_.clone(n.yaxis):[],v.globals.initialConfig=_.extend({},v.config),v.globals.initialSeries=_.clone(v.config.series),n.series))){for(var S=0;S<v.globals.collapsedSeriesIndices.length;S++){var C=v.config.series[v.globals.collapsedSeriesIndices[S]];v.globals.collapsedSeries[S].data=v.globals.axisCharts?C.data.slice():C}for(var E=0;E<v.globals.ancillaryCollapsedSeriesIndices.length;E++){var M=v.config.series[v.globals.ancillaryCollapsedSeriesIndices[E]];v.globals.ancillaryCollapsedSeries[E].data=v.globals.axisCharts?M.data.slice():M}x.series.emptyCollapsedSeries(v.config.series)}return x.update(n).then(function(){y===g.length-1&&f(x)})})})}},{key:"_updateSeries",value:function(n,r){var o=this,c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(h){var u,f=o.w;return f.globals.shouldAnimate=r,f.globals.dataChanged=!0,r&&o.ctx.series.getPreviousPaths(),f.globals.axisCharts?((u=n.map(function(g,x){return o._extendSeries(g,x)})).length===0&&(u=[{data:[]}]),f.config.series=u):f.config.series=n.slice(),c&&(f.globals.initialConfig.series=_.clone(f.config.series),f.globals.initialSeries=_.clone(f.config.series)),o.ctx.update().then(function(){h(o.ctx)})})}},{key:"_extendSeries",value:function(n,r){var o=this.w,c=o.config.series[r];return s(s({},o.config.series[r]),{},{name:n.name?n.name:c&&c.name,color:n.color?n.color:c&&c.color,type:n.type?n.type:c&&c.type,group:n.group?n.group:c&&c.group,data:n.data?n.data:c&&c.data})}},{key:"toggleDataPointSelection",value:function(n,r){var o=this.w,c=null,h=".apexcharts-series[data\\:realIndex='".concat(n,"']");return o.globals.axisCharts?c=o.globals.dom.Paper.select("".concat(h," path[j='").concat(r,"'], ").concat(h," circle[j='").concat(r,"'], ").concat(h," rect[j='").concat(r,"']")).members[0]:r===void 0&&(c=o.globals.dom.Paper.select("".concat(h," path[j='").concat(n,"']")).members[0],o.config.chart.type!=="pie"&&o.config.chart.type!=="polarArea"&&o.config.chart.type!=="donut"||this.ctx.pie.pieClicked(n)),c?(new j(this.ctx).pathMouseDown(c,null),c.node?c.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(n){var r=this.w;if(["min","max"].forEach(function(c){n.xaxis[c]!==void 0&&(r.config.xaxis[c]=n.xaxis[c],r.globals.lastXAxis[c]=n.xaxis[c])}),n.xaxis.categories&&n.xaxis.categories.length&&(r.config.xaxis.categories=n.xaxis.categories),r.config.xaxis.convertedCatToNumeric){var o=new _e(n);n=o.convertCatToNumericXaxis(n,this.ctx)}return n}},{key:"forceYAxisUpdate",value:function(n){return n.chart&&n.chart.stacked&&n.chart.stackType==="100%"&&(Array.isArray(n.yaxis)?n.yaxis.forEach(function(r,o){n.yaxis[o].min=0,n.yaxis[o].max=100}):(n.yaxis.min=0,n.yaxis.max=100)),n}},{key:"revertDefaultAxisMinMax",value:function(n){var r=this,o=this.w,c=o.globals.lastXAxis,h=o.globals.lastYAxis;n&&n.xaxis&&(c=n.xaxis),n&&n.yaxis&&(h=n.yaxis),o.config.xaxis.min=c.min,o.config.xaxis.max=c.max;var u=function(f){h[f]!==void 0&&(o.config.yaxis[f].min=h[f].min,o.config.yaxis[f].max=h[f].max)};o.config.yaxis.map(function(f,g){o.globals.zoomed||h[g]!==void 0?u(g):r.ctx.opts.yaxis[g]!==void 0&&(f.min=r.ctx.opts.yaxis[g].min,f.max=r.ctx.opts.yaxis[g].max)})}}]),O}();Pi=typeof window<"u"?window:void 0,Is=function(O,n){var r=(this!==void 0?this:O).SVG=function(m){if(r.supported)return m=new r.Doc(m),r.parser.draw||r.prepare(),m};if(r.ns="http://www.w3.org/2000/svg",r.xmlns="http://www.w3.org/2000/xmlns/",r.xlink="http://www.w3.org/1999/xlink",r.svgjs="http://svgjs.dev",r.supported=!0,!r.supported)return!1;r.did=1e3,r.eid=function(m){return"Svgjs"+y(m)+r.did++},r.create=function(m){var w=n.createElementNS(this.ns,m);return w.setAttribute("id",this.eid(m)),w},r.extend=function(){var m,w;w=(m=[].slice.call(arguments)).pop();for(var T=m.length-1;T>=0;T--)if(m[T])for(var I in w)m[T].prototype[I]=w[I];r.Set&&r.Set.inherit&&r.Set.inherit()},r.invent=function(m){var w=typeof m.create=="function"?m.create:function(){this.constructor.call(this,r.create(m.create))};return m.inherit&&(w.prototype=new m.inherit),m.extend&&r.extend(w,m.extend),m.construct&&r.extend(m.parent||r.Container,m.construct),w},r.adopt=function(m){return m?m.instance?m.instance:((w=m.nodeName=="svg"?m.parentNode instanceof O.SVGElement?new r.Nested:new r.Doc:m.nodeName=="linearGradient"?new r.Gradient("linear"):m.nodeName=="radialGradient"?new r.Gradient("radial"):r[y(m.nodeName)]?new r[y(m.nodeName)]:new r.Element(m)).type=m.nodeName,w.node=m,m.instance=w,w instanceof r.Doc&&w.namespace().defs(),w.setData(JSON.parse(m.getAttribute("svgjs:data"))||{}),w):null;var w},r.prepare=function(){var m=n.getElementsByTagName("body")[0],w=(m?new r.Doc(m):r.adopt(n.documentElement).nested()).size(2,0);r.parser={body:m||n.documentElement,draw:w.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:w.polyline().node,path:w.path().node,native:r.create("svg")}},r.parser={native:r.create("svg")},n.addEventListener("DOMContentLoaded",function(){r.parser.draw||r.prepare()},!1),r.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},r.utils={map:function(m,w){for(var T=m.length,I=[],B=0;B<T;B++)I.push(w(m[B]));return I},filter:function(m,w){for(var T=m.length,I=[],B=0;B<T;B++)w(m[B])&&I.push(m[B]);return I},filterSVGElements:function(m){return this.filter(m,function(w){return w instanceof O.SVGElement})}},r.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},r.Color=function(m){var w,T;this.r=0,this.g=0,this.b=0,m&&(typeof m=="string"?r.regex.isRgb.test(m)?(w=r.regex.rgb.exec(m.replace(r.regex.whitespace,"")),this.r=parseInt(w[1]),this.g=parseInt(w[2]),this.b=parseInt(w[3])):r.regex.isHex.test(m)&&(w=r.regex.hex.exec((T=m).length==4?["#",T.substring(1,2),T.substring(1,2),T.substring(2,3),T.substring(2,3),T.substring(3,4),T.substring(3,4)].join(""):T),this.r=parseInt(w[1],16),this.g=parseInt(w[2],16),this.b=parseInt(w[3],16)):a(m)==="object"&&(this.r=m.r,this.g=m.g,this.b=m.b))},r.extend(r.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+v(this.r)+v(this.g)+v(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(m){return this.destination=new r.Color(m),this},at:function(m){return this.destination?(m=m<0?0:m>1?1:m,new r.Color({r:~~(this.r+(this.destination.r-this.r)*m),g:~~(this.g+(this.destination.g-this.g)*m),b:~~(this.b+(this.destination.b-this.b)*m)})):this}}),r.Color.test=function(m){return m+="",r.regex.isHex.test(m)||r.regex.isRgb.test(m)},r.Color.isRgb=function(m){return m&&typeof m.r=="number"&&typeof m.g=="number"&&typeof m.b=="number"},r.Color.isColor=function(m){return r.Color.isRgb(m)||r.Color.test(m)},r.Array=function(m,w){(m=(m||[]).valueOf()).length==0&&w&&(m=w.valueOf()),this.value=this.parse(m)},r.extend(r.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(m){return m=m.valueOf(),Array.isArray(m)?m:this.split(m)}}),r.PointArray=function(m,w){r.Array.call(this,m,w||[[0,0]])},r.PointArray.prototype=new r.Array,r.PointArray.prototype.constructor=r.PointArray;for(var o={M:function(m,w,T){return w.x=T.x=m[0],w.y=T.y=m[1],["M",w.x,w.y]},L:function(m,w){return w.x=m[0],w.y=m[1],["L",m[0],m[1]]},H:function(m,w){return w.x=m[0],["H",m[0]]},V:function(m,w){return w.y=m[0],["V",m[0]]},C:function(m,w){return w.x=m[4],w.y=m[5],["C",m[0],m[1],m[2],m[3],m[4],m[5]]},Q:function(m,w){return w.x=m[2],w.y=m[3],["Q",m[0],m[1],m[2],m[3]]},S:function(m,w){return w.x=m[2],w.y=m[3],["S",m[0],m[1],m[2],m[3]]},Z:function(m,w,T){return w.x=T.x,w.y=T.y,["Z"]}},c="mlhvqtcsaz".split(""),h=0,u=c.length;h<u;++h)o[c[h]]=function(m){return function(w,T,I){if(m=="H")w[0]=w[0]+T.x;else if(m=="V")w[0]=w[0]+T.y;else if(m=="A")w[5]=w[5]+T.x,w[6]=w[6]+T.y;else for(var B=0,H=w.length;B<H;++B)w[B]=w[B]+(B%2?T.y:T.x);if(o&&typeof o[m]=="function")return o[m](w,T,I)}}(c[h].toUpperCase());r.PathArray=function(m,w){r.Array.call(this,m,w||[["M",0,0]])},r.PathArray.prototype=new r.Array,r.PathArray.prototype.constructor=r.PathArray,r.extend(r.PathArray,{toString:function(){return function(m){for(var w=0,T=m.length,I="";w<T;w++)I+=m[w][0],m[w][1]!=null&&(I+=m[w][1],m[w][2]!=null&&(I+=" ",I+=m[w][2],m[w][3]!=null&&(I+=" ",I+=m[w][3],I+=" ",I+=m[w][4],m[w][5]!=null&&(I+=" ",I+=m[w][5],I+=" ",I+=m[w][6],m[w][7]!=null&&(I+=" ",I+=m[w][7])))));return I+" "}(this.value)},move:function(m,w){var T=this.bbox();return T.x,T.y,this},at:function(m){if(!this.destination)return this;for(var w=this.value,T=this.destination.value,I=[],B=new r.PathArray,H=0,Y=w.length;H<Y;H++){I[H]=[w[H][0]];for(var V=1,U=w[H].length;V<U;V++)I[H][V]=w[H][V]+(T[H][V]-w[H][V])*m;I[H][0]==="A"&&(I[H][4]=+(I[H][4]!=0),I[H][5]=+(I[H][5]!=0))}return B.value=I,B},parse:function(m){if(m instanceof r.PathArray)return m.valueOf();var w,T={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};m=typeof m=="string"?m.replace(r.regex.numbersWithDots,g).replace(r.regex.pathLetters," $& ").replace(r.regex.hyphen,"$1 -").trim().split(r.regex.delimiter):m.reduce(function(U,K){return[].concat.call(U,K)},[]);var I=[],B=new r.Point,H=new r.Point,Y=0,V=m.length;do r.regex.isPathLetter.test(m[Y])?(w=m[Y],++Y):w=="M"?w="L":w=="m"&&(w="l"),I.push(o[w].call(null,m.slice(Y,Y+=T[w.toUpperCase()]).map(parseFloat),B,H));while(V>Y);return I},bbox:function(){return r.parser.draw||r.prepare(),r.parser.path.setAttribute("d",this.toString()),r.parser.path.getBBox()}}),r.Number=r.invent({create:function(m,w){this.value=0,this.unit=w||"",typeof m=="number"?this.value=isNaN(m)?0:isFinite(m)?m:m<0?-34e37:34e37:typeof m=="string"?(w=m.match(r.regex.numberAndUnit))&&(this.value=parseFloat(w[1]),w[5]=="%"?this.value/=100:w[5]=="s"&&(this.value*=1e3),this.unit=w[5]):m instanceof r.Number&&(this.value=m.valueOf(),this.unit=m.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(m){return m=new r.Number(m),new r.Number(this+m,this.unit||m.unit)},minus:function(m){return m=new r.Number(m),new r.Number(this-m,this.unit||m.unit)},times:function(m){return m=new r.Number(m),new r.Number(this*m,this.unit||m.unit)},divide:function(m){return m=new r.Number(m),new r.Number(this/m,this.unit||m.unit)},to:function(m){var w=new r.Number(this);return typeof m=="string"&&(w.unit=m),w},morph:function(m){return this.destination=new r.Number(m),m.relative&&(this.destination.value+=this.value),this},at:function(m){return this.destination?new r.Number(this.destination).minus(this).times(m).plus(this):this}}}),r.Element=r.invent({create:function(m){this._stroke=r.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=m)&&(this.type=m.nodeName,this.node.instance=this,this._stroke=m.getAttribute("stroke")||this._stroke)},extend:{x:function(m){return this.attr("x",m)},y:function(m){return this.attr("y",m)},cx:function(m){return m==null?this.x()+this.width()/2:this.x(m-this.width()/2)},cy:function(m){return m==null?this.y()+this.height()/2:this.y(m-this.height()/2)},move:function(m,w){return this.x(m).y(w)},center:function(m,w){return this.cx(m).cy(w)},width:function(m){return this.attr("width",m)},height:function(m){return this.attr("height",m)},size:function(m,w){var T=S(this,m,w);return this.width(new r.Number(T.width)).height(new r.Number(T.height))},clone:function(m){this.writeDataToDom();var w=M(this.node.cloneNode(!0));return m?m.add(w):this.after(w),w},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(m){return this.after(m).remove(),m},addTo:function(m){return m.put(this)},putIn:function(m){return m.add(this)},id:function(m){return this.attr("id",m)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var m=this.attr("class");return m==null?[]:m.trim().split(r.regex.delimiter)},hasClass:function(m){return this.classes().indexOf(m)!=-1},addClass:function(m){if(!this.hasClass(m)){var w=this.classes();w.push(m),this.attr("class",w.join(" "))}return this},removeClass:function(m){return this.hasClass(m)&&this.attr("class",this.classes().filter(function(w){return w!=m}).join(" ")),this},toggleClass:function(m){return this.hasClass(m)?this.removeClass(m):this.addClass(m)},reference:function(m){return r.get(this.attr(m))},parent:function(m){var w=this;if(!w.node.parentNode)return null;if(w=r.adopt(w.node.parentNode),!m)return w;for(;w&&w.node instanceof O.SVGElement;){if(typeof m=="string"?w.matches(m):w instanceof m)return w;if(!w.node.parentNode||w.node.parentNode.nodeName=="#document")return null;w=r.adopt(w.node.parentNode)}},doc:function(){return this instanceof r.Doc?this:this.parent(r.Doc)},parents:function(m){var w=[],T=this;do{if(!(T=T.parent(m))||!T.node)break;w.push(T)}while(T.parent);return w},matches:function(m){return function(w,T){return(w.matches||w.matchesSelector||w.msMatchesSelector||w.mozMatchesSelector||w.webkitMatchesSelector||w.oMatchesSelector).call(w,T)}(this.node,m)},native:function(){return this.node},svg:function(m){var w=n.createElement("svg");if(!(m&&this instanceof r.Parent))return w.appendChild(m=n.createElement("svg")),this.writeDataToDom(),m.appendChild(this.node.cloneNode(!0)),w.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");w.innerHTML="<svg>"+m.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var T=0,I=w.firstChild.childNodes.length;T<I;T++)this.node.appendChild(w.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(m){return this.dom=m,this},is:function(m){return function(w,T){return w instanceof T}(this,m)}}}),r.easing={"-":function(m){return m},"<>":function(m){return-Math.cos(m*Math.PI)/2+.5},">":function(m){return Math.sin(m*Math.PI/2)},"<":function(m){return 1-Math.cos(m*Math.PI/2)}},r.morph=function(m){return function(w,T){return new r.MorphObj(w,T).at(m)}},r.Situation=r.invent({create:function(m){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new r.Number(m.duration).valueOf(),this.delay=new r.Number(m.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=m.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),r.FX=r.invent({create:function(m){this._target=m,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(m,w,T){a(m)==="object"&&(w=m.ease,T=m.delay,m=m.duration);var I=new r.Situation({duration:m||1e3,delay:T||0,ease:r.easing[w||"-"]||w});return this.queue(I),this},target:function(m){return m&&m instanceof r.Element?(this._target=m,this):this._target},timeToAbsPos:function(m){return(m-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(m){return this.situation.duration/this._speed*m+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=O.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){O.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(m){return(typeof m=="function"||m instanceof r.Situation)&&this.situations.push(m),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof r.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var m,w=this.situation;if(w.init)return this;for(var T in w.animations){m=this.target()[T](),Array.isArray(m)||(m=[m]),Array.isArray(w.animations[T])||(w.animations[T]=[w.animations[T]]);for(var I=m.length;I--;)w.animations[T][I]instanceof r.Number&&(m[I]=new r.Number(m[I])),w.animations[T][I]=m[I].morph(w.animations[T][I])}for(var T in w.attrs)w.attrs[T]=new r.MorphObj(this.target().attr(T),w.attrs[T]);for(var T in w.styles)w.styles[T]=new r.MorphObj(this.target().style(T),w.styles[T]);return w.initialTransformation=this.target().matrixify(),w.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(m,w){var T=this.active;return this.active=!1,w&&this.clearQueue(),m&&this.situation&&(!T&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(m){var w=this.last();return this.target().on("finished.fx",function T(I){I.detail.situation==w&&(m.call(this,w),this.off("finished.fx",T))}),this._callStart()},during:function(m){var w=this.last(),T=function(I){I.detail.situation==w&&m.call(this,I.detail.pos,r.morph(I.detail.pos),I.detail.eased,w)};return this.target().off("during.fx",T).on("during.fx",T),this.after(function(){this.off("during.fx",T)}),this._callStart()},afterAll:function(m){var w=function T(I){m.call(this),this.off("allfinished.fx",T)};return this.target().off("allfinished.fx",w).on("allfinished.fx",w),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(m,w,T){return this.last()[T||"animations"][m]=w,this._callStart()},step:function(m){var w,T,I;m||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(w=Math.max(this.absPos,0),T=Math.floor(w),this.situation.loops===!0||T<this.situation.loops?(this.pos=w-T,I=this.situation.loop,this.situation.loop=T):(this.absPos=this.situation.loops,this.pos=1,I=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-I)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var B=this.situation.ease(this.pos);for(var H in this.situation.once)H>this.lastPos&&H<=B&&(this.situation.once[H].call(this.target(),this.pos,B),delete this.situation.once[H]);return this.active&&this.target().fire("during",{pos:this.pos,eased:B,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=B,this):this},eachAt:function(){var m,w=this,T=this.target(),I=this.situation;for(var B in I.animations)m=[].concat(I.animations[B]).map(function(V){return typeof V!="string"&&V.at?V.at(I.ease(w.pos),w.pos):V}),T[B].apply(T,m);for(var B in I.attrs)m=[B].concat(I.attrs[B]).map(function(U){return typeof U!="string"&&U.at?U.at(I.ease(w.pos),w.pos):U}),T.attr.apply(T,m);for(var B in I.styles)m=[B].concat(I.styles[B]).map(function(U){return typeof U!="string"&&U.at?U.at(I.ease(w.pos),w.pos):U}),T.style.apply(T,m);if(I.transforms.length){m=I.initialTransformation,B=0;for(var H=I.transforms.length;B<H;B++){var Y=I.transforms[B];Y instanceof r.Matrix?m=Y.relative?m.multiply(new r.Matrix().morph(Y).at(I.ease(this.pos))):m.morph(Y).at(I.ease(this.pos)):(Y.relative||Y.undo(m.extract()),m=m.multiply(Y.at(I.ease(this.pos))))}T.matrix(m)}return this},once:function(m,w,T){var I=this.last();return T||(m=I.ease(m)),I.once[m]=w,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:r.Element,construct:{animate:function(m,w,T){return(this.fx||(this.fx=new r.FX(this))).animate(m,w,T)},delay:function(m){return(this.fx||(this.fx=new r.FX(this))).delay(m)},stop:function(m,w){return this.fx&&this.fx.stop(m,w),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),r.MorphObj=r.invent({create:function(m,w){return r.Color.isColor(w)?new r.Color(m).morph(w):r.regex.delimiter.test(m)?r.regex.pathLetters.test(m)?new r.PathArray(m).morph(w):new r.Array(m).morph(w):r.regex.numberAndUnit.test(w)?new r.Number(m).morph(w):(this.value=m,void(this.destination=w))},extend:{at:function(m,w){return w<1?this.value:this.destination},valueOf:function(){return this.value}}}),r.extend(r.FX,{attr:function(m,w,T){if(a(m)==="object")for(var I in m)this.attr(I,m[I]);else this.add(m,w,"attrs");return this},plot:function(m,w,T,I){return arguments.length==4?this.plot([m,w,T,I]):this.add("plot",new(this.target()).morphArray(m))}}),r.Box=r.invent({create:function(m,w,T,I){if(!(a(m)!=="object"||m instanceof r.Element))return r.Box.call(this,m.left!=null?m.left:m.x,m.top!=null?m.top:m.y,m.width,m.height);var B;arguments.length==4&&(this.x=m,this.y=w,this.width=T,this.height=I),(B=this).x==null&&(B.x=0,B.y=0,B.width=0,B.height=0),B.w=B.width,B.h=B.height,B.x2=B.x+B.width,B.y2=B.y+B.height,B.cx=B.x+B.width/2,B.cy=B.y+B.height/2}}),r.BBox=r.invent({create:function(m){if(r.Box.apply(this,[].slice.call(arguments)),m instanceof r.Element){var w;try{if(!n.documentElement.contains){for(var T=m.node;T.parentNode;)T=T.parentNode;if(T!=n)throw new Error("Element not in the dom")}w=m.node.getBBox()}catch{if(m instanceof r.Shape){r.parser.draw||r.prepare();var I=m.clone(r.parser.draw.instance).show();I&&I.node&&typeof I.node.getBBox=="function"&&(w=I.node.getBBox()),I&&typeof I.remove=="function"&&I.remove()}else w={x:m.node.clientLeft,y:m.node.clientTop,width:m.node.clientWidth,height:m.node.clientHeight}}r.Box.call(this,w)}},inherit:r.Box,parent:r.Element,construct:{bbox:function(){return new r.BBox(this)}}}),r.BBox.prototype.constructor=r.BBox,r.Matrix=r.invent({create:function(m){var w=E([1,0,0,1,0,0]);m=m===null?w:m instanceof r.Element?m.matrixify():typeof m=="string"?E(m.split(r.regex.delimiter).map(parseFloat)):arguments.length==6?E([].slice.call(arguments)):Array.isArray(m)?E(m):m&&a(m)==="object"?m:w;for(var T=N.length-1;T>=0;--T)this[N[T]]=m[N[T]]!=null?m[N[T]]:w[N[T]]},extend:{extract:function(){var m=C(this,0,1);C(this,1,0);var w=180/Math.PI*Math.atan2(m.y,m.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(w*Math.PI/180)+this.f*Math.sin(w*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(w*Math.PI/180)+this.e*Math.sin(-w*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:w,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new r.Matrix(this)}},clone:function(){return new r.Matrix(this)},morph:function(m){return this.destination=new r.Matrix(m),this},multiply:function(m){return new r.Matrix(this.native().multiply(function(w){return w instanceof r.Matrix||(w=new r.Matrix(w)),w}(m).native()))},inverse:function(){return new r.Matrix(this.native().inverse())},translate:function(m,w){return new r.Matrix(this.native().translate(m||0,w||0))},native:function(){for(var m=r.parser.native.createSVGMatrix(),w=N.length-1;w>=0;w--)m[N[w]]=this[N[w]];return m},toString:function(){return"matrix("+P(this.a)+","+P(this.b)+","+P(this.c)+","+P(this.d)+","+P(this.e)+","+P(this.f)+")"}},parent:r.Element,construct:{ctm:function(){return new r.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof r.Nested){var m=this.rect(1,1),w=m.node.getScreenCTM();return m.remove(),new r.Matrix(w)}return new r.Matrix(this.node.getScreenCTM())}}}),r.Point=r.invent({create:function(m,w){var T;T=Array.isArray(m)?{x:m[0],y:m[1]}:a(m)==="object"?{x:m.x,y:m.y}:m!=null?{x:m,y:w??m}:{x:0,y:0},this.x=T.x,this.y=T.y},extend:{clone:function(){return new r.Point(this)},morph:function(m,w){return this.destination=new r.Point(m,w),this}}}),r.extend(r.Element,{point:function(m,w){return new r.Point(m,w).transform(this.screenCTM().inverse())}}),r.extend(r.Element,{attr:function(m,w,T){if(m==null){for(m={},T=(w=this.node.attributes).length-1;T>=0;T--)m[w[T].nodeName]=r.regex.isNumber.test(w[T].nodeValue)?parseFloat(w[T].nodeValue):w[T].nodeValue;return m}if(a(m)==="object")for(var I in m)this.attr(I,m[I]);else if(w===null)this.node.removeAttribute(m);else{if(w==null)return(w=this.node.getAttribute(m))==null?r.defaults.attrs[m]:r.regex.isNumber.test(w)?parseFloat(w):w;m=="stroke-width"?this.attr("stroke",parseFloat(w)>0?this._stroke:null):m=="stroke"&&(this._stroke=w),m!="fill"&&m!="stroke"||(r.regex.isImage.test(w)&&(w=this.doc().defs().image(w,0,0)),w instanceof r.Image&&(w=this.doc().defs().pattern(0,0,function(){this.add(w)}))),typeof w=="number"?w=new r.Number(w):r.Color.isColor(w)?w=new r.Color(w):Array.isArray(w)&&(w=new r.Array(w)),m=="leading"?this.leading&&this.leading(w):typeof T=="string"?this.node.setAttributeNS(T,m,w.toString()):this.node.setAttribute(m,w.toString()),!this.rebuild||m!="font-size"&&m!="x"||this.rebuild(m,w)}return this}}),r.extend(r.Element,{transform:function(m,w){var T;return a(m)!=="object"?(T=new r.Matrix(this).extract(),typeof m=="string"?T[m]:T):(T=new r.Matrix(this),w=!!w||!!m.relative,m.a!=null&&(T=w?T.multiply(new r.Matrix(m)):new r.Matrix(m)),this.attr("transform",T))}}),r.extend(r.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(r.regex.transforms).slice(0,-1).map(function(m){var w=m.trim().split("(");return[w[0],w[1].split(r.regex.delimiter).map(function(T){return parseFloat(T)})]}).reduce(function(m,w){return w[0]=="matrix"?m.multiply(E(w[1])):m[w[0]].apply(m,w[1])},new r.Matrix)},toParent:function(m){if(this==m)return this;var w=this.screenCTM(),T=m.screenCTM().inverse();return this.addTo(m).untransform().transform(T.multiply(w)),this},toDoc:function(){return this.toParent(this.doc())}}),r.Transformation=r.invent({create:function(m,w){if(arguments.length>1&&typeof w!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(m))for(var T=0,I=this.arguments.length;T<I;++T)this[this.arguments[T]]=m[T];else if(m&&a(m)==="object")for(T=0,I=this.arguments.length;T<I;++T)this[this.arguments[T]]=m[this.arguments[T]];this.inversed=!1,w===!0&&(this.inversed=!0)}}),r.Translate=r.invent({parent:r.Matrix,inherit:r.Transformation,create:function(m,w){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),r.extend(r.Element,{style:function(m,w){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(a(m)==="object")for(var T in m)this.style(T,m[T]);else{if(!r.regex.isCss.test(m))return this.node.style[x(m)];for(m=m.split(/\s*;\s*/).filter(function(I){return!!I}).map(function(I){return I.split(/\s*:\s*/)});w=m.pop();)this.style(w[0],w[1])}else this.node.style[x(m)]=w===null||r.regex.isBlank.test(w)?"":w;return this}}),r.Parent=r.invent({create:function(m){this.constructor.call(this,m)},inherit:r.Element,extend:{children:function(){return r.utils.map(r.utils.filterSVGElements(this.node.childNodes),function(m){return r.adopt(m)})},add:function(m,w){return w==null?this.node.appendChild(m.node):m.node!=this.node.childNodes[w]&&this.node.insertBefore(m.node,this.node.childNodes[w]),this},put:function(m,w){return this.add(m,w),m},has:function(m){return this.index(m)>=0},index:function(m){return[].slice.call(this.node.childNodes).indexOf(m.node)},get:function(m){return r.adopt(this.node.childNodes[m])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(m,w){for(var T=this.children(),I=0,B=T.length;I<B;I++)T[I]instanceof r.Element&&m.apply(T[I],[I,T]),w&&T[I]instanceof r.Container&&T[I].each(m,w);return this},removeElement:function(m){return this.node.removeChild(m.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),r.extend(r.Parent,{ungroup:function(m,w){return w===0||this instanceof r.Defs||this.node==r.parser.draw||(m=m||(this instanceof r.Doc?this:this.parent(r.Parent)),w=w||1/0,this.each(function(){return this instanceof r.Defs?this:this instanceof r.Parent?this.ungroup(m,w-1):this.toParent(m)}),this.node.firstChild||this.remove()),this},flatten:function(m,w){return this.ungroup(m,w)}}),r.Container=r.invent({create:function(m){this.constructor.call(this,m)},inherit:r.Parent}),r.ViewBox=r.invent({parent:r.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(m){r.Element.prototype[m]=function(w){return r.on(this.node,m,w),this}}),r.listeners=[],r.handlerMap=[],r.listenerId=0,r.on=function(m,w,T,I,B){var H=T.bind(I||m.instance||m),Y=(r.handlerMap.indexOf(m)+1||r.handlerMap.push(m))-1,V=w.split(".")[0],U=w.split(".")[1]||"*";r.listeners[Y]=r.listeners[Y]||{},r.listeners[Y][V]=r.listeners[Y][V]||{},r.listeners[Y][V][U]=r.listeners[Y][V][U]||{},T._svgjsListenerId||(T._svgjsListenerId=++r.listenerId),r.listeners[Y][V][U][T._svgjsListenerId]=H,m.addEventListener(V,H,B||{passive:!0})},r.off=function(m,w,T){var I=r.handlerMap.indexOf(m),B=w&&w.split(".")[0],H=w&&w.split(".")[1],Y="";if(I!=-1)if(T){if(typeof T=="function"&&(T=T._svgjsListenerId),!T)return;r.listeners[I][B]&&r.listeners[I][B][H||"*"]&&(m.removeEventListener(B,r.listeners[I][B][H||"*"][T],!1),delete r.listeners[I][B][H||"*"][T])}else if(H&&B){if(r.listeners[I][B]&&r.listeners[I][B][H]){for(var V in r.listeners[I][B][H])r.off(m,[B,H].join("."),V);delete r.listeners[I][B][H]}}else if(H)for(var U in r.listeners[I])for(var Y in r.listeners[I][U])H===Y&&r.off(m,[U,H].join("."));else if(B){if(r.listeners[I][B]){for(var Y in r.listeners[I][B])r.off(m,[B,Y].join("."));delete r.listeners[I][B]}}else{for(var U in r.listeners[I])r.off(m,U);delete r.listeners[I],delete r.handlerMap[I]}},r.extend(r.Element,{on:function(m,w,T,I){return r.on(this.node,m,w,T,I),this},off:function(m,w){return r.off(this.node,m,w),this},fire:function(m,w){return m instanceof O.Event?this.node.dispatchEvent(m):this.node.dispatchEvent(m=new r.CustomEvent(m,{detail:w,cancelable:!0})),this._event=m,this},event:function(){return this._event}}),r.Defs=r.invent({create:"defs",inherit:r.Container}),r.G=r.invent({create:"g",inherit:r.Container,extend:{x:function(m){return m==null?this.transform("x"):this.transform({x:m-this.x()},!0)}},construct:{group:function(){return this.put(new r.G)}}}),r.Doc=r.invent({create:function(m){m&&((m=typeof m=="string"?n.getElementById(m):m).nodeName=="svg"?this.constructor.call(this,m):(this.constructor.call(this,r.create("svg")),m.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:r.Container,extend:{namespace:function(){return this.attr({xmlns:r.ns,version:"1.1"}).attr("xmlns:xlink",r.xlink,r.xmlns).attr("xmlns:svgjs",r.svgjs,r.xmlns)},defs:function(){var m;return this._defs||((m=this.node.getElementsByTagName("defs")[0])?this._defs=r.adopt(m):this._defs=new r.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,r.parser.draw&&!r.parser.draw.parentNode&&this.node.appendChild(r.parser.draw),this},clone:function(m){this.writeDataToDom();var w=this.node,T=M(w.cloneNode(!0));return m?(m.node||m).appendChild(T.node):w.parentNode.insertBefore(T.node,w.nextSibling),T}}}),r.extend(r.Element,{}),r.Gradient=r.invent({create:function(m){this.constructor.call(this,r.create(m+"Gradient")),this.type=m},inherit:r.Container,extend:{at:function(m,w,T){return this.put(new r.Stop).update(m,w,T)},update:function(m){return this.clear(),typeof m=="function"&&m.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(m,w,T){return m=="transform"&&(m="gradientTransform"),r.Container.prototype.attr.call(this,m,w,T)}},construct:{gradient:function(m,w){return this.defs().gradient(m,w)}}}),r.extend(r.Gradient,r.FX,{from:function(m,w){return(this._target||this).type=="radial"?this.attr({fx:new r.Number(m),fy:new r.Number(w)}):this.attr({x1:new r.Number(m),y1:new r.Number(w)})},to:function(m,w){return(this._target||this).type=="radial"?this.attr({cx:new r.Number(m),cy:new r.Number(w)}):this.attr({x2:new r.Number(m),y2:new r.Number(w)})}}),r.extend(r.Defs,{gradient:function(m,w){return this.put(new r.Gradient(m)).update(w)}}),r.Stop=r.invent({create:"stop",inherit:r.Element,extend:{update:function(m){return(typeof m=="number"||m instanceof r.Number)&&(m={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),m.opacity!=null&&this.attr("stop-opacity",m.opacity),m.color!=null&&this.attr("stop-color",m.color),m.offset!=null&&this.attr("offset",new r.Number(m.offset)),this}}}),r.Pattern=r.invent({create:"pattern",inherit:r.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(m){return this.clear(),typeof m=="function"&&m.call(this,this),this},toString:function(){return this.fill()},attr:function(m,w,T){return m=="transform"&&(m="patternTransform"),r.Container.prototype.attr.call(this,m,w,T)}},construct:{pattern:function(m,w,T){return this.defs().pattern(m,w,T)}}}),r.extend(r.Defs,{pattern:function(m,w,T){return this.put(new r.Pattern).update(T).attr({x:0,y:0,width:m,height:w,patternUnits:"userSpaceOnUse"})}}),r.Shape=r.invent({create:function(m){this.constructor.call(this,m)},inherit:r.Element}),r.Symbol=r.invent({create:"symbol",inherit:r.Container,construct:{symbol:function(){return this.put(new r.Symbol)}}}),r.Use=r.invent({create:"use",inherit:r.Shape,extend:{element:function(m,w){return this.attr("href",(w||"")+"#"+m,r.xlink)}},construct:{use:function(m,w){return this.put(new r.Use).element(m,w)}}}),r.Rect=r.invent({create:"rect",inherit:r.Shape,construct:{rect:function(m,w){return this.put(new r.Rect).size(m,w)}}}),r.Circle=r.invent({create:"circle",inherit:r.Shape,construct:{circle:function(m){return this.put(new r.Circle).rx(new r.Number(m).divide(2)).move(0,0)}}}),r.extend(r.Circle,r.FX,{rx:function(m){return this.attr("r",m)},ry:function(m){return this.rx(m)}}),r.Ellipse=r.invent({create:"ellipse",inherit:r.Shape,construct:{ellipse:function(m,w){return this.put(new r.Ellipse).size(m,w).move(0,0)}}}),r.extend(r.Ellipse,r.Rect,r.FX,{rx:function(m){return this.attr("rx",m)},ry:function(m){return this.attr("ry",m)}}),r.extend(r.Circle,r.Ellipse,{x:function(m){return m==null?this.cx()-this.rx():this.cx(m+this.rx())},y:function(m){return m==null?this.cy()-this.ry():this.cy(m+this.ry())},cx:function(m){return m==null?this.attr("cx"):this.attr("cx",m)},cy:function(m){return m==null?this.attr("cy"):this.attr("cy",m)},width:function(m){return m==null?2*this.rx():this.rx(new r.Number(m).divide(2))},height:function(m){return m==null?2*this.ry():this.ry(new r.Number(m).divide(2))},size:function(m,w){var T=S(this,m,w);return this.rx(new r.Number(T.width).divide(2)).ry(new r.Number(T.height).divide(2))}}),r.Line=r.invent({create:"line",inherit:r.Shape,extend:{array:function(){return new r.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(m,w,T,I){return m==null?this.array():(m=w!==void 0?{x1:m,y1:w,x2:T,y2:I}:new r.PointArray(m).toLine(),this.attr(m))},move:function(m,w){return this.attr(this.array().move(m,w).toLine())},size:function(m,w){var T=S(this,m,w);return this.attr(this.array().size(T.width,T.height).toLine())}},construct:{line:function(m,w,T,I){return r.Line.prototype.plot.apply(this.put(new r.Line),m!=null?[m,w,T,I]:[0,0,0,0])}}}),r.Polyline=r.invent({create:"polyline",inherit:r.Shape,construct:{polyline:function(m){return this.put(new r.Polyline).plot(m||new r.PointArray)}}}),r.Polygon=r.invent({create:"polygon",inherit:r.Shape,construct:{polygon:function(m){return this.put(new r.Polygon).plot(m||new r.PointArray)}}}),r.extend(r.Polyline,r.Polygon,{array:function(){return this._array||(this._array=new r.PointArray(this.attr("points")))},plot:function(m){return m==null?this.array():this.clear().attr("points",typeof m=="string"?m:this._array=new r.PointArray(m))},clear:function(){return delete this._array,this},move:function(m,w){return this.attr("points",this.array().move(m,w))},size:function(m,w){var T=S(this,m,w);return this.attr("points",this.array().size(T.width,T.height))}}),r.extend(r.Line,r.Polyline,r.Polygon,{morphArray:r.PointArray,x:function(m){return m==null?this.bbox().x:this.move(m,this.bbox().y)},y:function(m){return m==null?this.bbox().y:this.move(this.bbox().x,m)},width:function(m){var w=this.bbox();return m==null?w.width:this.size(m,w.height)},height:function(m){var w=this.bbox();return m==null?w.height:this.size(w.width,m)}}),r.Path=r.invent({create:"path",inherit:r.Shape,extend:{morphArray:r.PathArray,array:function(){return this._array||(this._array=new r.PathArray(this.attr("d")))},plot:function(m){return m==null?this.array():this.clear().attr("d",typeof m=="string"?m:this._array=new r.PathArray(m))},clear:function(){return delete this._array,this}},construct:{path:function(m){return this.put(new r.Path).plot(m||new r.PathArray)}}}),r.Image=r.invent({create:"image",inherit:r.Shape,extend:{load:function(m){if(!m)return this;var w=this,T=new O.Image;return r.on(T,"load",function(){r.off(T);var I=w.parent(r.Pattern);I!==null&&(w.width()==0&&w.height()==0&&w.size(T.width,T.height),I&&I.width()==0&&I.height()==0&&I.size(w.width(),w.height()),typeof w._loaded=="function"&&w._loaded.call(w,{width:T.width,height:T.height,ratio:T.width/T.height,url:m}))}),r.on(T,"error",function(I){r.off(T),typeof w._error=="function"&&w._error.call(w,I)}),this.attr("href",T.src=this.src=m,r.xlink)},loaded:function(m){return this._loaded=m,this},error:function(m){return this._error=m,this}},construct:{image:function(m,w,T){return this.put(new r.Image).load(m).size(w||0,T||w||0)}}}),r.Text=r.invent({create:function(){this.constructor.call(this,r.create("text")),this.dom.leading=new r.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",r.defaults.attrs["font-family"])},inherit:r.Shape,extend:{x:function(m){return m==null?this.attr("x"):this.attr("x",m)},text:function(m){if(m===void 0){m="";for(var w=this.node.childNodes,T=0,I=w.length;T<I;++T)T!=0&&w[T].nodeType!=3&&r.adopt(w[T]).dom.newLined==1&&(m+=`
`),m+=w[T].textContent;return m}if(this.clear().build(!0),typeof m=="function")m.call(this,this);else{T=0;for(var B=(m=m.split(`
`)).length;T<B;T++)this.tspan(m[T]).newLine()}return this.build(!1).rebuild()},size:function(m){return this.attr("font-size",m).rebuild()},leading:function(m){return m==null?this.dom.leading:(this.dom.leading=new r.Number(m),this.rebuild())},lines:function(){var m=(this.textPath&&this.textPath()||this).node,w=r.utils.map(r.utils.filterSVGElements(m.childNodes),function(T){return r.adopt(T)});return new r.Set(w)},rebuild:function(m){if(typeof m=="boolean"&&(this._rebuild=m),this._rebuild){var w=this,T=0,I=this.dom.leading*new r.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(w.textPath()||this.attr("x",w.attr("x")),this.text()==`
`?T+=I:(this.attr("dy",I+T),T=0))}),this.fire("rebuild")}return this},build:function(m){return this._build=!!m,this},setData:function(m){return this.dom=m,this.dom.leading=new r.Number(m.leading||1.3),this}},construct:{text:function(m){return this.put(new r.Text).text(m)},plain:function(m){return this.put(new r.Text).plain(m)}}}),r.Tspan=r.invent({create:"tspan",inherit:r.Shape,extend:{text:function(m){return m==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof m=="function"?m.call(this,this):this.plain(m),this)},dx:function(m){return this.attr("dx",m)},dy:function(m){return this.attr("dy",m)},newLine:function(){var m=this.parent(r.Text);return this.dom.newLined=!0,this.dy(m.dom.leading*m.attr("font-size")).attr("x",m.x())}}}),r.extend(r.Text,r.Tspan,{plain:function(m){return this._build===!1&&this.clear(),this.node.appendChild(n.createTextNode(m)),this},tspan:function(m){var w=(this.textPath&&this.textPath()||this).node,T=new r.Tspan;return this._build===!1&&this.clear(),w.appendChild(T.node),T.text(m)},clear:function(){for(var m=(this.textPath&&this.textPath()||this).node;m.hasChildNodes();)m.removeChild(m.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),r.TextPath=r.invent({create:"textPath",inherit:r.Parent,parent:r.Text,construct:{morphArray:r.PathArray,array:function(){var m=this.track();return m?m.array():null},plot:function(m){var w=this.track(),T=null;return w&&(T=w.plot(m)),m==null?T:this},track:function(){var m=this.textPath();if(m)return m.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return r.adopt(this.node.firstChild)}}}),r.Nested=r.invent({create:function(){this.constructor.call(this,r.create("svg")),this.style("overflow","visible")},inherit:r.Container,construct:{nested:function(){return this.put(new r.Nested)}}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(m,w){return w=="color"?m:m+"-"+w}};function g(m,w,T,I){return T+I.replace(r.regex.dots," .")}function x(m){return m.toLowerCase().replace(/-(.)/g,function(w,T){return T.toUpperCase()})}function y(m){return m.charAt(0).toUpperCase()+m.slice(1)}function v(m){var w=m.toString(16);return w.length==1?"0"+w:w}function S(m,w,T){if(w==null||T==null){var I=m.bbox();w==null?w=I.width/I.height*T:T==null&&(T=I.height/I.width*w)}return{width:w,height:T}}function C(m,w,T){return{x:w*m.a+T*m.c+0,y:w*m.b+T*m.d+0}}function E(m){return{a:m[0],b:m[1],c:m[2],d:m[3],e:m[4],f:m[5]}}function M(m){for(var w=m.childNodes.length-1;w>=0;w--)m.childNodes[w]instanceof O.SVGElement&&M(m.childNodes[w]);return r.adopt(m).id(r.eid(m.nodeName))}function P(m){return Math.abs(m)>1e-37?m:0}["fill","stroke"].forEach(function(m){var w={};w[m]=function(T){if(T===void 0)return this;if(typeof T=="string"||r.Color.isRgb(T)||T&&typeof T.fill=="function")this.attr(m,T);else for(var I=f[m].length-1;I>=0;I--)T[f[m][I]]!=null&&this.attr(f.prefix(m,f[m][I]),T[f[m][I]]);return this},r.extend(r.Element,r.FX,w)}),r.extend(r.Element,r.FX,{translate:function(m,w){return this.transform({x:m,y:w})},matrix:function(m){return this.attr("transform",new r.Matrix(arguments.length==6?[].slice.call(arguments):m))},opacity:function(m){return this.attr("opacity",m)},dx:function(m){return this.x(new r.Number(m).plus(this instanceof r.FX?0:this.x()),!0)},dy:function(m){return this.y(new r.Number(m).plus(this instanceof r.FX?0:this.y()),!0)}}),r.extend(r.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(m){return this.node.getPointAtLength(m)}}),r.Set=r.invent({create:function(m){Array.isArray(m)?this.members=m:this.clear()},extend:{add:function(){for(var m=[].slice.call(arguments),w=0,T=m.length;w<T;w++)this.members.push(m[w]);return this},remove:function(m){var w=this.index(m);return w>-1&&this.members.splice(w,1),this},each:function(m){for(var w=0,T=this.members.length;w<T;w++)m.apply(this.members[w],[w,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(m){return this.index(m)>=0},index:function(m){return this.members.indexOf(m)},get:function(m){return this.members[m]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(m){return new r.Set(m)}}}),r.FX.Set=r.invent({create:function(m){this.set=m}}),r.Set.inherit=function(){var m=[];for(var w in r.Shape.prototype)typeof r.Shape.prototype[w]=="function"&&typeof r.Set.prototype[w]!="function"&&m.push(w);for(var w in m.forEach(function(I){r.Set.prototype[I]=function(){for(var B=0,H=this.members.length;B<H;B++)this.members[B]&&typeof this.members[B][I]=="function"&&this.members[B][I].apply(this.members[B],arguments);return I=="animate"?this.fx||(this.fx=new r.FX.Set(this)):this}}),m=[],r.FX.prototype)typeof r.FX.prototype[w]=="function"&&typeof r.FX.Set.prototype[w]!="function"&&m.push(w);m.forEach(function(T){r.FX.Set.prototype[T]=function(){for(var I=0,B=this.set.members.length;I<B;I++)this.set.members[I].fx[T].apply(this.set.members[I].fx,arguments);return this}})},r.extend(r.Element,{}),r.extend(r.Element,{remember:function(m,w){if(a(arguments[0])==="object")for(var T in m)this.remember(T,m[T]);else{if(arguments.length==1)return this.memory()[m];this.memory()[m]=w}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var m=arguments.length-1;m>=0;m--)delete this.memory()[arguments[m]];return this},memory:function(){return this._memory||(this._memory={})}}),r.get=function(m){var w=n.getElementById(function(T){var I=(T||"").toString().match(r.regex.reference);if(I)return I[1]}(m)||m);return r.adopt(w)},r.select=function(m,w){return new r.Set(r.utils.map((w||n).querySelectorAll(m),function(T){return r.adopt(T)}))},r.extend(r.Parent,{select:function(m){return r.select(m,this.node)}});var N="abcdef".split("");if(typeof O.CustomEvent!="function"){var F=function(m,w){w=w||{bubbles:!1,cancelable:!1,detail:void 0};var T=n.createEvent("CustomEvent");return T.initCustomEvent(m,w.bubbles,w.cancelable,w.detail),T};F.prototype=O.Event.prototype,r.CustomEvent=F}else r.CustomEvent=O.CustomEvent;return r},a(e)==="object"?i.exports=Pi.document?Is(Pi,Pi.document):function(O){return Is(O,O.document)}:Pi.SVG=Is(Pi,Pi.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(u,f){return this.add(u,f),!u.attr("in")&&this.autoSetIn&&u.attr("in",this.source),u.attr("result")||u.attr("result",u),u},blend:function(u,f,g){return this.put(new SVG.BlendEffect(u,f,g))},colorMatrix:function(u,f){return this.put(new SVG.ColorMatrixEffect(u,f))},convolveMatrix:function(u){return this.put(new SVG.ConvolveMatrixEffect(u))},componentTransfer:function(u){return this.put(new SVG.ComponentTransferEffect(u))},composite:function(u,f,g){return this.put(new SVG.CompositeEffect(u,f,g))},flood:function(u,f){return this.put(new SVG.FloodEffect(u,f))},offset:function(u,f){return this.put(new SVG.OffsetEffect(u,f))},image:function(u){return this.put(new SVG.ImageEffect(u))},merge:function(){var u=[void 0];for(var f in arguments)u.push(arguments[f]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,u)))},gaussianBlur:function(u,f){return this.put(new SVG.GaussianBlurEffect(u,f))},morphology:function(u,f){return this.put(new SVG.MorphologyEffect(u,f))},diffuseLighting:function(u,f,g){return this.put(new SVG.DiffuseLightingEffect(u,f,g))},displacementMap:function(u,f,g,x,y){return this.put(new SVG.DisplacementMapEffect(u,f,g,x,y))},specularLighting:function(u,f,g,x){return this.put(new SVG.SpecularLightingEffect(u,f,g,x))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(u,f,g,x,y){return this.put(new SVG.TurbulenceEffect(u,f,g,x,y))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(u){var f=this.put(new SVG.Filter);return typeof u=="function"&&u.call(f,f),f}}),SVG.extend(SVG.Container,{filter:function(u){return this.defs().filter(u)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(u){return this.filterer=u instanceof SVG.Element?u:this.doc().filter(u),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(u){return this.filterer&&u===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",u)},result:function(u){return u==null?this.attr("result"):this.attr("result",u)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",u)},result:function(u){return u==null?this.attr("result"):this.attr("result",u)},toString:function(){return this.result()}}});var O={blend:function(u,f){return this.parent()&&this.parent().blend(this,u,f)},colorMatrix:function(u,f){return this.parent()&&this.parent().colorMatrix(u,f).in(this)},convolveMatrix:function(u){return this.parent()&&this.parent().convolveMatrix(u).in(this)},componentTransfer:function(u){return this.parent()&&this.parent().componentTransfer(u).in(this)},composite:function(u,f){return this.parent()&&this.parent().composite(this,u,f)},flood:function(u,f){return this.parent()&&this.parent().flood(u,f)},offset:function(u,f){return this.parent()&&this.parent().offset(u,f).in(this)},image:function(u){return this.parent()&&this.parent().image(u)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(u,f){return this.parent()&&this.parent().gaussianBlur(u,f).in(this)},morphology:function(u,f){return this.parent()&&this.parent().morphology(u,f).in(this)},diffuseLighting:function(u,f,g){return this.parent()&&this.parent().diffuseLighting(u,f,g).in(this)},displacementMap:function(u,f,g,x){return this.parent()&&this.parent().displacementMap(this,u,f,g,x)},specularLighting:function(u,f,g,x){return this.parent()&&this.parent().specularLighting(u,f,g,x).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(u,f,g,x,y){return this.parent()&&this.parent().turbulence(u,f,g,x,y).in(this)}};SVG.extend(SVG.Effect,O),SVG.extend(SVG.ParentEffect,O),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(u){this.attr("in",u)}}});var n={blend:function(u,f,g){this.attr({in:u,in2:f,mode:g||"normal"})},colorMatrix:function(u,f){u=="matrix"&&(f=c(f)),this.attr({type:u,values:f===void 0?null:f})},convolveMatrix:function(u){u=c(u),this.attr({order:Math.sqrt(u.split(" ").length),kernelMatrix:u})},composite:function(u,f,g){this.attr({in:u,in2:f,operator:g})},flood:function(u,f){this.attr("flood-color",u),f!=null&&this.attr("flood-opacity",f)},offset:function(u,f){this.attr({dx:u,dy:f})},image:function(u){this.attr("href",u,SVG.xlink)},displacementMap:function(u,f,g,x,y){this.attr({in:u,in2:f,scale:g,xChannelSelector:x,yChannelSelector:y})},gaussianBlur:function(u,f){u!=null||f!=null?this.attr("stdDeviation",function(g){if(!Array.isArray(g))return g;for(var x=0,y=g.length,v=[];x<y;x++)v.push(g[x]);return v.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(u,f){this.attr({operator:u,radius:f})},tile:function(){},turbulence:function(u,f,g,x,y){this.attr({numOctaves:f,seed:g,stitchTiles:x,baseFrequency:u,type:y})}},r={merge:function(){var u;if(arguments[0]instanceof SVG.Set){var f=this;arguments[0].each(function(x){this instanceof SVG.MergeNode?f.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&f.put(new SVG.MergeNode(this))})}else{u=Array.isArray(arguments[0])?arguments[0]:arguments;for(var g=0;g<u.length;g++)u[g]instanceof SVG.MergeNode?this.put(u[g]):this.put(new SVG.MergeNode(u[g]))}},componentTransfer:function(u){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(g){this[g]=new SVG["Func"+g.toUpperCase()]("identity"),this.rgb.add(this[g]),this.node.appendChild(this[g].node)}).bind(this)),u)for(var f in u.rgb&&(["r","g","b"].forEach((function(g){this[g].attr(u.rgb)}).bind(this)),delete u.rgb),u)this[f].attr(u[f])},diffuseLighting:function(u,f,g){this.attr({surfaceScale:u,diffuseConstant:f,kernelUnitLength:g})},specularLighting:function(u,f,g,x){this.attr({surfaceScale:u,diffuseConstant:f,specularExponent:g,kernelUnitLength:x})}},o={distantLight:function(u,f){this.attr({azimuth:u,elevation:f})},pointLight:function(u,f,g){this.attr({x:u,y:f,z:g})},spotLight:function(u,f,g,x,y,v){this.attr({x:u,y:f,z:g,pointsAtX:x,pointsAtY:y,pointsAtZ:v})},mergeNode:function(u){this.attr("in",u)}};function c(u){return Array.isArray(u)&&(u=new SVG.Array(u)),u.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function h(){var u=function(){};for(var f in typeof arguments[arguments.length-1]=="function"&&(u=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var g in arguments[f])u(arguments[f][g],g,arguments[f])}["r","g","b","a"].forEach(function(u){o["Func"+u.toUpperCase()]=function(f){switch(this.attr("type",f),f){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),h(n,function(u,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),u.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),h(r,function(u,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),u.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),h(o,function(u,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),u.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(u){return u instanceof SVG.MergeNode?this.add(u,0):this.add(new SVG.MergeNode(u),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(u){return u==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",u)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function O(h,u,f,g,x,y,v){for(var S=h.slice(u,f||v),C=g.slice(x,y||v),E=0,M={pos:[0,0],start:[0,0]},P={pos:[0,0],start:[0,0]};S[E]=n.call(M,S[E]),C[E]=n.call(P,C[E]),S[E][0]!=C[E][0]||S[E][0]=="M"||S[E][0]=="A"&&(S[E][4]!=C[E][4]||S[E][5]!=C[E][5])?(Array.prototype.splice.apply(S,[E,1].concat(o.call(M,S[E]))),Array.prototype.splice.apply(C,[E,1].concat(o.call(P,C[E])))):(S[E]=r.call(M,S[E]),C[E]=r.call(P,C[E])),!(++E==S.length&&E==C.length);)E==S.length&&S.push(["C",M.pos[0],M.pos[1],M.pos[0],M.pos[1],M.pos[0],M.pos[1]]),E==C.length&&C.push(["C",P.pos[0],P.pos[1],P.pos[0],P.pos[1],P.pos[0],P.pos[1]]);return{start:S,dest:C}}function n(h){switch(h[0]){case"z":case"Z":h[0]="L",h[1]=this.start[0],h[2]=this.start[1];break;case"H":h[0]="L",h[2]=this.pos[1];break;case"V":h[0]="L",h[2]=h[1],h[1]=this.pos[0];break;case"T":h[0]="Q",h[3]=h[1],h[4]=h[2],h[1]=this.reflection[1],h[2]=this.reflection[0];break;case"S":h[0]="C",h[6]=h[4],h[5]=h[3],h[4]=h[2],h[3]=h[1],h[2]=this.reflection[1],h[1]=this.reflection[0]}return h}function r(h){var u=h.length;return this.pos=[h[u-2],h[u-1]],"SCQT".indexOf(h[0])!=-1&&(this.reflection=[2*this.pos[0]-h[u-4],2*this.pos[1]-h[u-3]]),h}function o(h){var u=[h];switch(h[0]){case"M":return this.pos=this.start=[h[1],h[2]],u;case"L":h[5]=h[3]=h[1],h[6]=h[4]=h[2],h[1]=this.pos[0],h[2]=this.pos[1];break;case"Q":h[6]=h[4],h[5]=h[3],h[4]=1*h[4]/3+2*h[2]/3,h[3]=1*h[3]/3+2*h[1]/3,h[2]=1*this.pos[1]/3+2*h[2]/3,h[1]=1*this.pos[0]/3+2*h[1]/3;break;case"A":u=function(f,g){var x,y,v,S,C,E,M,P,N,F,m,w,T,I,B,H,Y,V,U,K,$,te,ie,de,ge,be,Ee=Math.abs(g[1]),Se=Math.abs(g[2]),Me=g[3]%360,kt=g[4],Oi=g[5],Oa=g[6],Ra=g[7],st=new SVG.Point(f),Ge=new SVG.Point(Oa,Ra),Yc=[];if(Ee===0||Se===0||st.x===Ge.x&&st.y===Ge.y)return[["C",st.x,st.y,Ge.x,Ge.y,Ge.x,Ge.y]];for(x=new SVG.Point((st.x-Ge.x)/2,(st.y-Ge.y)/2).transform(new SVG.Matrix().rotate(Me)),(y=x.x*x.x/(Ee*Ee)+x.y*x.y/(Se*Se))>1&&(Ee*=y=Math.sqrt(y),Se*=y),v=new SVG.Matrix().rotate(Me).scale(1/Ee,1/Se).rotate(-Me),st=st.transform(v),Ge=Ge.transform(v),S=[Ge.x-st.x,Ge.y-st.y],E=S[0]*S[0]+S[1]*S[1],C=Math.sqrt(E),S[0]/=C,S[1]/=C,M=E<4?Math.sqrt(1-E/4):0,kt===Oi&&(M*=-1),P=new SVG.Point((Ge.x+st.x)/2+M*-S[1],(Ge.y+st.y)/2+M*S[0]),N=new SVG.Point(st.x-P.x,st.y-P.y),F=new SVG.Point(Ge.x-P.x,Ge.y-P.y),m=Math.acos(N.x/Math.sqrt(N.x*N.x+N.y*N.y)),N.y<0&&(m*=-1),w=Math.acos(F.x/Math.sqrt(F.x*F.x+F.y*F.y)),F.y<0&&(w*=-1),Oi&&m>w&&(w+=2*Math.PI),!Oi&&m<w&&(w-=2*Math.PI),I=Math.ceil(2*Math.abs(m-w)/Math.PI),H=[],Y=m,T=(w-m)/I,B=4*Math.tan(T/4)/3,$=0;$<=I;$++)U=Math.cos(Y),V=Math.sin(Y),K=new SVG.Point(P.x+U,P.y+V),H[$]=[new SVG.Point(K.x+B*V,K.y-B*U),K,new SVG.Point(K.x-B*V,K.y+B*U)],Y+=T;for(H[0][0]=H[0][1].clone(),H[H.length-1][2]=H[H.length-1][1].clone(),v=new SVG.Matrix().rotate(Me).scale(Ee,Se).rotate(-Me),$=0,te=H.length;$<te;$++)H[$][0]=H[$][0].transform(v),H[$][1]=H[$][1].transform(v),H[$][2]=H[$][2].transform(v);for($=1,te=H.length;$<te;$++)ie=(K=H[$-1][2]).x,de=K.y,ge=(K=H[$][0]).x,be=K.y,Oa=(K=H[$][1]).x,Ra=K.y,Yc.push(["C",ie,de,ge,be,Oa,Ra]);return Yc}(this.pos,h),h=u[0]}return h[0]="C",this.pos=[h[5],h[6]],this.reflection=[2*h[5]-h[3],2*h[6]-h[4]],u}function c(h,u){if(u===!1)return!1;for(var f=u,g=h.length;f<g;++f)if(h[f][0]=="M")return f;return!1}SVG.extend(SVG.PathArray,{morph:function(h){for(var u=this.value,f=this.parse(h),g=0,x=0,y=!1,v=!1;g!==!1||x!==!1;){var S;y=c(u,g!==!1&&g+1),v=c(f,x!==!1&&x+1),g===!1&&(g=(S=new SVG.PathArray(C.start).bbox()).height==0||S.width==0?u.push(u[0])-1:u.push(["M",S.x+S.width/2,S.y+S.height/2])-1),x===!1&&(x=(S=new SVG.PathArray(C.dest).bbox()).height==0||S.width==0?f.push(f[0])-1:f.push(["M",S.x+S.width/2,S.y+S.height/2])-1);var C=O(u,g,y,f,x,v);u=u.slice(0,g).concat(C.start,y===!1?[]:u.slice(y)),f=f.slice(0,x).concat(C.dest,v===!1?[]:f.slice(v)),g=y!==!1&&g+C.start.length,x=v!==!1&&x+C.dest.length}return this.value=u,this.destination=new SVG.PathArray,this.destination.value=f,this}})}(),(function(){function O(n){n.remember("_draggable",this),this.el=n}O.prototype.init=function(n,r){var o=this;this.constraint=n,this.value=r,this.el.on("mousedown.drag",function(c){o.start(c)}),this.el.on("touchstart.drag",function(c){o.start(c)})},O.prototype.transformPoint=function(n,r){var o=(n=n||window.event).changedTouches&&n.changedTouches[0]||n;return this.p.x=o.clientX-(r||0),this.p.y=o.clientY,this.p.matrixTransform(this.m)},O.prototype.getBBox=function(){var n=this.el.bbox();return this.el instanceof SVG.Nested&&(n=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(n.x=this.el.x(),n.y=this.el.y()),n},O.prototype.start=function(n){if(n.type!="click"&&n.type!="mousedown"&&n.type!="mousemove"||(n.which||n.buttons)==1){var r=this;if(this.el.fire("beforedrag",{event:n,handler:this}),!this.el.event().defaultPrevented){n.preventDefault(),n.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var o,c=this.getBBox();if(this.el instanceof SVG.Text)switch(o=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":o/=2;break;case"start":o=0}this.startPoints={point:this.transformPoint(n,o),box:c,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(h){r.drag(h)}),SVG.on(window,"touchmove.drag",function(h){r.drag(h)}),SVG.on(window,"mouseup.drag",function(h){r.end(h)}),SVG.on(window,"touchend.drag",function(h){r.end(h)}),this.el.fire("dragstart",{event:n,p:this.startPoints.point,m:this.m,handler:this})}}},O.prototype.drag=function(n){var r=this.getBBox(),o=this.transformPoint(n),c=this.startPoints.box.x+o.x-this.startPoints.point.x,h=this.startPoints.box.y+o.y-this.startPoints.point.y,u=this.constraint,f=o.x-this.startPoints.point.x,g=o.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:n,p:o,m:this.m,handler:this}),this.el.event().defaultPrevented)return o;if(typeof u=="function"){var x=u.call(this.el,c,h,this.m);typeof x=="boolean"&&(x={x,y:x}),x.x===!0?this.el.x(c):x.x!==!1&&this.el.x(x.x),x.y===!0?this.el.y(h):x.y!==!1&&this.el.y(x.y)}else typeof u=="object"&&(u.minX!=null&&c<u.minX?f=(c=u.minX)-this.startPoints.box.x:u.maxX!=null&&c>u.maxX-r.width&&(f=(c=u.maxX-r.width)-this.startPoints.box.x),u.minY!=null&&h<u.minY?g=(h=u.minY)-this.startPoints.box.y:u.maxY!=null&&h>u.maxY-r.height&&(g=(h=u.maxY-r.height)-this.startPoints.box.y),u.snapToGrid!=null&&(c-=c%u.snapToGrid,h-=h%u.snapToGrid,f-=f%u.snapToGrid,g-=g%u.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:f,y:g},!0):this.el.move(c,h));return o},O.prototype.end=function(n){var r=this.drag(n);this.el.fire("dragend",{event:n,p:r,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(n,r){typeof n!="function"&&typeof n!="object"||(r=n,n=!0);var o=this.remember("_draggable")||new O(this);return(n=n===void 0||n)?o.init(r||{},n):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function O(n){this.el=n,n.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(r,o,c){var h=typeof r!="string"?r:o[r];return c?h/2:h},this.pointCoords=function(r,o){var c=this.pointsList[r];return{x:this.pointCoord(c[0],o,r==="t"||r==="b"),y:this.pointCoord(c[1],o,r==="r"||r==="l")}}}O.prototype.init=function(n,r){var o=this.el.bbox();this.options={};var c=this.el.selectize.defaults.points;for(var h in this.el.selectize.defaults)this.options[h]=this.el.selectize.defaults[h],r[h]!==void 0&&(this.options[h]=r[h]);var u=["points","pointsExclude"];for(var h in u){var f=this.options[u[h]];typeof f=="string"?f=f.length>0?f.split(/\s*,\s*/i):[]:typeof f=="boolean"&&u[h]==="points"&&(f=f?c:[]),this.options[u[h]]=f}this.options.points=[c,this.options.points].reduce(function(g,x){return g.filter(function(y){return x.indexOf(y)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(g,x){return g.filter(function(y){return x.indexOf(y)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(o.x,o.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(n):this.selectRect(n),this.observe(),this.cleanup()},O.prototype.selectPoints=function(n){return this.pointSelection.isSelected=n,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},O.prototype.getPointArray=function(){var n=this.el.bbox();return this.el.array().valueOf().map(function(r){return[r[0]-n.x,r[1]-n.y]})},O.prototype.drawPoints=function(){for(var n=this,r=this.getPointArray(),o=0,c=r.length;o<c;++o){var h=function(f){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var x=g.pageX||g.touches[0].pageX,y=g.pageY||g.touches[0].pageY;n.el.fire("point",{x,y,i:f,event:g})}}(o),u=this.drawPoint(r[o][0],r[o][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",h).on("mousedown",h);this.pointSelection.set.add(u)}},O.prototype.drawPoint=function(n,r){var o=this.options.pointType;switch(o){case"circle":return this.drawCircle(n,r);case"rect":return this.drawRect(n,r);default:if(typeof o=="function")return o.call(this,n,r);throw new Error("Unknown "+o+" point type!")}},O.prototype.drawCircle=function(n,r){return this.nested.circle(this.options.pointSize).center(n,r)},O.prototype.drawRect=function(n,r){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(n,r)},O.prototype.updatePointSelection=function(){var n=this.getPointArray();this.pointSelection.set.each(function(r){this.cx()===n[r][0]&&this.cy()===n[r][1]||this.center(n[r][0],n[r][1])})},O.prototype.updateRectSelection=function(){var n=this,r=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:r.width,height:r.height}),this.options.points.length&&this.options.points.map(function(c,h){var u=n.pointCoords(c,r);n.rectSelection.set.get(h+1).center(u.x,u.y)}),this.options.rotationPoint){var o=this.rectSelection.set.length();this.rectSelection.set.get(o-1).center(r.width/2,20)}},O.prototype.selectRect=function(n){var r=this,o=this.el.bbox();function c(f){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var x=g.pageX||g.touches[0].pageX,y=g.pageY||g.touches[0].pageY;r.el.fire(f,{x,y,event:g})}}if(this.rectSelection.isSelected=n,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(o.width,o.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(f,g){var x=r.pointCoords(f,o),y=r.drawPoint(x.x,x.y).attr("class",r.options.classPoints+"_"+f).on("mousedown",c(f)).on("touchstart",c(f));r.rectSelection.set.add(y)}),this.rectSelection.set.each(function(){this.addClass(r.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var h=function(f){(f=f||window.event).preventDefault?f.preventDefault():f.returnValue=!1,f.stopPropagation();var g=f.pageX||f.touches[0].pageX,x=f.pageY||f.touches[0].pageY;r.el.fire("rot",{x:g,y:x,event:f})},u=this.drawPoint(o.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",h).on("mousedown",h);this.rectSelection.set.add(u)}},O.prototype.handler=function(){var n=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},O.prototype.observe=function(){var n=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){n.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){n.handler()})},O.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(n,r){return typeof n=="object"&&(r=n,n=!0),(this.remember("_selectHandler")||new O(this)).init(n===void 0||n,r||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function O(n){n.remember("_resizeHandler",this),this.el=n,this.parameters={},this.lastUpdateCall=null,this.p=n.doc().node.createSVGPoint()}O.prototype.transformPoint=function(n,r,o){return this.p.x=n-(this.offset.x-window.pageXOffset),this.p.y=r-(this.offset.y-window.pageYOffset),this.p.matrixTransform(o||this.m)},O.prototype._extractPosition=function(n){return{x:n.clientX!=null?n.clientX:n.touches[0].clientX,y:n.clientY!=null?n.clientY:n.touches[0].clientY}},O.prototype.init=function(n){var r=this;if(this.stop(),n!=="stop"){for(var o in this.options={},this.el.resize.defaults)this.options[o]=this.el.resize.defaults[o],n[o]!==void 0&&(this.options[o]=n[o]);this.el.on("lt.resize",function(c){r.resize(c||window.event)}),this.el.on("rt.resize",function(c){r.resize(c||window.event)}),this.el.on("rb.resize",function(c){r.resize(c||window.event)}),this.el.on("lb.resize",function(c){r.resize(c||window.event)}),this.el.on("t.resize",function(c){r.resize(c||window.event)}),this.el.on("r.resize",function(c){r.resize(c||window.event)}),this.el.on("b.resize",function(c){r.resize(c||window.event)}),this.el.on("l.resize",function(c){r.resize(c||window.event)}),this.el.on("rot.resize",function(c){r.resize(c||window.event)}),this.el.on("point.resize",function(c){r.resize(c||window.event)}),this.update()}},O.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},O.prototype.resize=function(n){var r=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var o=this._extractPosition(n.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(o.x,o.y),x:n.detail.x,y:n.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),n.detail.i!==void 0){var c=this.el.array().valueOf();this.parameters.i=n.detail.i,this.parameters.pointCoords=[c[n.detail.i][0],c[n.detail.i][1]]}switch(n.type){case"lt":this.calc=function(h,u){var f=this.snapToGrid(h,u);if(this.parameters.box.width-f[0]>0&&this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-f[0]);f=this.checkAspectRatio(f),this.el.move(this.parameters.box.x+f[0],this.parameters.box.y+f[1]).size(this.parameters.box.width-f[0],this.parameters.box.height-f[1])}};break;case"rt":this.calc=function(h,u){var f=this.snapToGrid(h,u,2);if(this.parameters.box.width+f[0]>0&&this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+f[0]);f=this.checkAspectRatio(f,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+f[1]).size(this.parameters.box.width+f[0],this.parameters.box.height-f[1])}};break;case"rb":this.calc=function(h,u){var f=this.snapToGrid(h,u,0);if(this.parameters.box.width+f[0]>0&&this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+f[0]);f=this.checkAspectRatio(f),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+f[0],this.parameters.box.height+f[1])}};break;case"lb":this.calc=function(h,u){var f=this.snapToGrid(h,u,1);if(this.parameters.box.width-f[0]>0&&this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-f[0]);f=this.checkAspectRatio(f,!0),this.el.move(this.parameters.box.x+f[0],this.parameters.box.y).size(this.parameters.box.width-f[0],this.parameters.box.height+f[1])}};break;case"t":this.calc=function(h,u){var f=this.snapToGrid(h,u,2);if(this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+f[1]).height(this.parameters.box.height-f[1])}};break;case"r":this.calc=function(h,u){var f=this.snapToGrid(h,u,0);if(this.parameters.box.width+f[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+f[0])}};break;case"b":this.calc=function(h,u){var f=this.snapToGrid(h,u,0);if(this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+f[1])}};break;case"l":this.calc=function(h,u){var f=this.snapToGrid(h,u,1);if(this.parameters.box.width-f[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+f[0],this.parameters.box.y).width(this.parameters.box.width-f[0])}};break;case"rot":this.calc=function(h,u){var f=h+this.parameters.p.x,g=u+this.parameters.p.y,x=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),y=Math.atan2(g-this.parameters.box.y-this.parameters.box.height/2,f-this.parameters.box.x-this.parameters.box.width/2),v=this.parameters.rotation+180*(y-x)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(v-v%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(h,u){var f=this.snapToGrid(h,u,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),g=this.el.array().valueOf();g[this.parameters.i][0]=this.parameters.pointCoords[0]+f[0],g[this.parameters.i][1]=this.parameters.pointCoords[1]+f[1],this.el.plot(g)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:n}),SVG.on(window,"touchmove.resize",function(h){r.update(h||window.event)}),SVG.on(window,"touchend.resize",function(){r.done()}),SVG.on(window,"mousemove.resize",function(h){r.update(h||window.event)}),SVG.on(window,"mouseup.resize",function(){r.done()})},O.prototype.update=function(n){if(n){var r=this._extractPosition(n),o=this.transformPoint(r.x,r.y),c=o.x-this.parameters.p.x,h=o.y-this.parameters.p.y;this.lastUpdateCall=[c,h],this.calc(c,h),this.el.fire("resizing",{dx:c,dy:h,event:n})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},O.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},O.prototype.snapToGrid=function(n,r,o,c){var h;return c!==void 0?h=[(o+n)%this.options.snapToGrid,(c+r)%this.options.snapToGrid]:(o=o??3,h=[(this.parameters.box.x+n+(1&o?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+r+(2&o?0:this.parameters.box.height))%this.options.snapToGrid]),n<0&&(h[0]-=this.options.snapToGrid),r<0&&(h[1]-=this.options.snapToGrid),n-=Math.abs(h[0])<this.options.snapToGrid/2?h[0]:h[0]-(n<0?-this.options.snapToGrid:this.options.snapToGrid),r-=Math.abs(h[1])<this.options.snapToGrid/2?h[1]:h[1]-(r<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(n,r,o,c)},O.prototype.constraintToBox=function(n,r,o,c){var h,u,f=this.options.constraint||{};return c!==void 0?(h=o,u=c):(h=this.parameters.box.x+(1&o?0:this.parameters.box.width),u=this.parameters.box.y+(2&o?0:this.parameters.box.height)),f.minX!==void 0&&h+n<f.minX&&(n=f.minX-h),f.maxX!==void 0&&h+n>f.maxX&&(n=f.maxX-h),f.minY!==void 0&&u+r<f.minY&&(r=f.minY-u),f.maxY!==void 0&&u+r>f.maxY&&(r=f.maxY-u),[n,r]},O.prototype.checkAspectRatio=function(n,r){if(!this.options.saveAspectRatio)return n;var o=n.slice(),c=this.parameters.box.width/this.parameters.box.height,h=this.parameters.box.width+n[0],u=this.parameters.box.height-n[1],f=h/u;return f<c?(o[1]=h/c-this.parameters.box.height,r&&(o[1]=-o[1])):f>c&&(o[0]=this.parameters.box.width-u*c,r&&(o[0]=-o[0])),o},SVG.extend(SVG.Element,{resize:function(n){return(this.remember("_resizeHandler")||new O(this)).init(n||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var Xc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ne(this.ctx),this.ctx.axes=new Og(this.ctx),this.ctx.core=new im(this.ctx.el,this.ctx),this.ctx.config=new dt({}),this.ctx.data=new Lc(this.ctx),this.ctx.grid=new Pc(this.ctx),this.ctx.graphics=new j(this.ctx),this.ctx.coreUtils=new q(this.ctx),this.ctx.crosshairs=new Ca(this.ctx),this.ctx.events=new Lg(this.ctx),this.ctx.exports=new Os(this.ctx),this.ctx.localization=new Pg(this.ctx),this.ctx.options=new ke,this.ctx.responsive=new Rg(this.ctx),this.ctx.series=new gt(this.ctx),this.ctx.theme=new Ig(this.ctx),this.ctx.formatters=new ft(this.ctx),this.ctx.titleSubtitle=new Ng(this.ctx),this.ctx.legend=new Oc(this.ctx),this.ctx.toolbar=new Rc(this.ctx),this.ctx.tooltip=new Dc(this.ctx),this.ctx.dimensions=new Rs(this.ctx),this.ctx.updateHelpers=new nm(this.ctx),this.ctx.zoomPanSelection=new _g(this.ctx),this.ctx.w.globals.tooltip=new Dc(this.ctx)}}]),O}(),Wc=function(){function O(n){l(this,O),this.ctx=n,this.w=n.w}return p(O,[{key:"clear",value:function(n){var r=n.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:r})}},{key:"killSVG",value:function(n){n.each(function(r,o){this.removeClass("*"),this.off(),this.stop()},!0),n.ungroup(),n.clear()}},{key:"clearDomElements",value:function(n){var r=this,o=n.isUpdating,c=this.w.globals.dom.Paper.node;c.parentNode&&c.parentNode.parentNode&&!o&&(c.parentNode.parentNode.style.minHeight="unset");var h=this.w.globals.dom.baseEl;h&&this.ctx.eventList.forEach(function(f){h.removeEventListener(f,r.ctx.events.documentEvent)});var u=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(u.Paper),u.Paper.remove(),u.elWrap=null,u.elGraphical=null,u.elLegendWrap=null,u.elLegendForeign=null,u.baseEl=null,u.elGridRect=null,u.elGridRectMask=null,u.elGridRectMarkerMask=null,u.elForecastMask=null,u.elNonForecastMask=null,u.elDefs=null}}]),O}(),Pa=new WeakMap,sm=function(){function O(n,r){l(this,O),this.opts=r,this.ctx=this,this.w=new an(r).init(),this.el=n,this.w.globals.cuid=_.randomId(),this.w.globals.chartID=this.w.config.chart.id?_.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Xc(this).initModules(),this.create=_.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return p(O,[{key:"render",value:function(){var n=this;return new Promise(function(r,o){if(n.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),n.w.config.chart.id&&Apex._chartInstances.push({id:n.w.globals.chartID,group:n.w.config.chart.group,chart:n}),n.setLocale(n.w.config.chart.defaultLocale);var c=n.w.config.chart.events.beforeMount;if(typeof c=="function"&&c(n,n.w),n.events.fireEvent("beforeMount",[n,n.w]),window.addEventListener("resize",n.windowResizeHandler),function(y,v){var S=!1;if(y.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var C=y.getBoundingClientRect();y.style.display!=="none"&&C.width!==0||(S=!0)}var E=new ResizeObserver(function(M){S&&v.call(y,M),S=!0});y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(y.children).forEach(function(M){return E.observe(M)}):E.observe(y),Pa.set(v,E)}(n.el.parentNode,n.parentResizeHandler),!n.css){var h=n.el.getRootNode&&n.el.getRootNode(),u=_.is("ShadowRoot",h),f=n.el.ownerDocument,g=f.getElementById("apexcharts-css");!u&&g||(n.css=document.createElement("style"),n.css.id="apexcharts-css",n.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}
.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers{
  pointer-events: none
}

.apexcharts-bar-shadows{
  pointer-events: none
}

.apexcharts-rangebar-goals-markers{
  pointer-events: none
}`,u?h.prepend(n.css):f.head.appendChild(n.css))}var x=n.create(n.w.config.series,{});if(!x)return r(n);n.mount(x).then(function(){typeof n.w.config.chart.events.mounted=="function"&&n.w.config.chart.events.mounted(n,n.w),n.events.fireEvent("mounted",[n,n.w]),r(x)}).catch(function(y){o(y)})}else o(new Error("Element not found"))})}},{key:"create",value:function(n,r){var o=this.w;new Xc(this).initModules();var c=this.w.globals;if(c.noData=!1,c.animationEnded=!1,this.responsive.checkResponsiveConfig(r),o.config.xaxis.convertedCatToNumeric&&new _e(o.config).convertCatToNumericXaxis(o.config,this.ctx),this.el===null||(this.core.setupElements(),o.config.chart.type==="treemap"&&(o.config.grid.show=!1,o.config.yaxis[0].show=!1),c.svgWidth===0))return c.animationEnded=!0,null;var h=q.checkComboSeries(n);c.comboCharts=h.comboCharts,c.comboBarCount=h.comboBarCount;var u=n.every(function(y){return y.data&&y.data.length===0});(n.length===0||u)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(n),this.theme.init(),new Ot(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),c.noData&&c.collapsedSeries.length!==c.series.length&&!o.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),c.axisCharts&&(this.core.coreCalculations(),o.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=o.globals.minX,this.ctx.toolbar.maxX=o.globals.maxX),this.formatters.heatmapLabelFormatters(),new q(this).getLargestMarkerSize(),this.dimensions.plotCoords();var f=this.core.xySettings();this.grid.createGridMask();var g=this.core.plotChartType(n,f),x=new on(this);return x.bringForward(),o.config.dataLabels.background.enabled&&x.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:g,xyRatios:f,dimensions:{plot:{left:o.globals.translateX,top:o.globals.translateY,width:o.globals.gridWidth,height:o.globals.gridHeight}}}}},{key:"mount",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this,c=o.w;return new Promise(function(h,u){if(o.el===null)return u(new Error("Not enough data to display or target element not found"));(r===null||c.globals.allSeriesCollapsed)&&o.series.handleNoData(),o.grid=new Pc(o);var f,g,x=o.grid.drawGrid();if(o.annotations=new Je(o),o.annotations.drawImageAnnos(),o.annotations.drawTextAnnos(),c.config.grid.position==="back"&&(x&&c.globals.dom.elGraphical.add(x.el),x!=null&&(f=x.elGridBorders)!==null&&f!==void 0&&f.node&&c.globals.dom.elGraphical.add(x.elGridBorders)),Array.isArray(r.elGraph))for(var y=0;y<r.elGraph.length;y++)c.globals.dom.elGraphical.add(r.elGraph[y]);else c.globals.dom.elGraphical.add(r.elGraph);c.config.grid.position==="front"&&(x&&c.globals.dom.elGraphical.add(x.el),x!=null&&(g=x.elGridBorders)!==null&&g!==void 0&&g.node&&c.globals.dom.elGraphical.add(x.elGridBorders)),c.config.xaxis.crosshairs.position==="front"&&o.crosshairs.drawXCrosshairs(),c.config.yaxis[0].crosshairs.position==="front"&&o.crosshairs.drawYCrosshairs(),c.config.chart.type!=="treemap"&&o.axes.drawAxis(c.config.chart.type,x);var v=new Wn(n.ctx,x),S=new Aa(n.ctx,x);if(x!==null&&(v.xAxisLabelCorrections(x.xAxisTickWidth),S.setYAxisTextAlignments(),c.config.yaxis.map(function(E,M){c.globals.ignoreYAxisIndexes.indexOf(M)===-1&&S.yAxisTitleRotate(M,E.opposite)})),o.annotations.drawAxesAnnotations(),!c.globals.noData){if(c.config.tooltip.enabled&&!c.globals.noData&&o.w.globals.tooltip.drawTooltip(r.xyRatios),c.globals.axisCharts&&(c.globals.isXNumeric||c.config.xaxis.convertedCatToNumeric||c.globals.isRangeBar))(c.config.chart.zoom.enabled||c.config.chart.selection&&c.config.chart.selection.enabled||c.config.chart.pan&&c.config.chart.pan.enabled)&&o.zoomPanSelection.init({xyRatios:r.xyRatios});else{var C=c.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(E){C[E]=!1})}c.config.chart.toolbar.show&&!c.globals.allSeriesCollapsed&&o.toolbar.createToolbar()}c.globals.memory.methodsToExec.length>0&&c.globals.memory.methodsToExec.forEach(function(E){E.method(E.params,!1,E.context)}),c.globals.axisCharts||c.globals.noData||o.core.resizeNonAxisCharts(),h(o)})}},{key:"destroy",value:function(){var n,r;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,n=this.parentResizeHandler,(r=Pa.get(n))&&(r.disconnect(),Pa.delete(n));var o=this.w.config.chart.id;o&&Apex._chartInstances.forEach(function(c,h){c.id===_.escapeString(o)&&Apex._chartInstances.splice(h,1)}),new Wc(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],u=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],f=this.w;return f.globals.selection=void 0,n.series&&(this.series.resetSeries(!1,!0,!1),n.series.length&&n.series[0].data&&(n.series=n.series.map(function(g,x){return r.updateHelpers._extendSeries(g,x)})),this.updateHelpers.revertDefaultAxisMinMax()),n.xaxis&&(n=this.updateHelpers.forceXAxisUpdate(n)),n.yaxis&&(n=this.updateHelpers.forceYAxisUpdate(n)),f.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),n.theme&&(n=this.theme.updateThemeOptions(n)),this.updateHelpers._updateOptions(n,o,c,h,u)}},{key:"updateSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,r,o)}},{key:"appendSeries",value:function(n){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w.config.series.slice();return c.push(n),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(c,r,o)}},{key:"appendData",value:function(n){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=this;o.w.globals.dataChanged=!0,o.series.getPreviousPaths();for(var c=o.w.config.series.slice(),h=0;h<c.length;h++)if(n[h]!==null&&n[h]!==void 0)for(var u=0;u<n[h].data.length;u++)c[h].data.push(n[h].data[u]);return o.w.config.series=c,r&&(o.w.globals.initialSeries=_.clone(o.w.config.series)),this.update()}},{key:"update",value:function(n){var r=this;return new Promise(function(o,c){new Wc(r.ctx).clear({isUpdating:!0});var h=r.create(r.w.config.series,n);if(!h)return o(r);r.mount(h).then(function(){typeof r.w.config.chart.events.updated=="function"&&r.w.config.chart.events.updated(r,r.w),r.events.fireEvent("updated",[r,r.w]),r.w.globals.isDirty=!0,o(r)}).catch(function(u){c(u)})})}},{key:"getSyncedCharts",value:function(){var n=this.getGroupedCharts(),r=[this];return n.length&&(r=[],n.forEach(function(o){r.push(o)})),r}},{key:"getGroupedCharts",value:function(){var n=this;return Apex._chartInstances.filter(function(r){if(r.group)return!0}).map(function(r){return n.w.config.chart.group===r.group?r.chart:n})}},{key:"toggleSeries",value:function(n){return this.series.toggleSeries(n)}},{key:"highlightSeriesOnLegendHover",value:function(n,r){return this.series.toggleSeriesOnHover(n,r)}},{key:"showSeries",value:function(n){this.series.showSeries(n)}},{key:"hideSeries",value:function(n){this.series.hideSeries(n)}},{key:"isSeriesHidden",value:function(n){this.series.isSeriesHidden(n)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(n,r)}},{key:"addEventListener",value:function(n,r){this.events.addEventListener(n,r)}},{key:"removeEventListener",value:function(n,r){this.events.removeEventListener(n,r)}},{key:"addXaxisAnnotation",value:function(n){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addXaxisAnnotationExternal(n,r,c)}},{key:"addYaxisAnnotation",value:function(n){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addYaxisAnnotationExternal(n,r,c)}},{key:"addPointAnnotation",value:function(n){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addPointAnnotationExternal(n,r,c)}},{key:"clearAnnotations",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=this;n&&(r=n),r.annotations.clearAnnotations(r)}},{key:"removeAnnotation",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=this;r&&(o=r),o.annotations.removeAnnotation(o,n)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(n,r){return this.coreUtils.getSeriesTotalsXRange(n,r)}},{key:"getHighestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ka(this.ctx).getMinYMaxY(n).highestY}},{key:"getLowestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ka(this.ctx).getMinYMaxY(n).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(n,r){return this.updateHelpers.toggleDataPointSelection(n,r)}},{key:"zoomX",value:function(n,r){this.ctx.toolbar.zoomUpdateOptions(n,r)}},{key:"setLocale",value:function(n){this.localization.setCurrentLocaleValues(n)}},{key:"dataURI",value:function(n){return new Os(this.ctx).dataURI(n)}},{key:"exportToCSV",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Os(this.ctx).exportToCSV(n)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var n=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){n.w.globals.resized=!0,n.w.globals.dataChanged=!1,n.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var n=this.w.config.chart.redrawOnWindowResize;typeof n=="function"&&(n=n()),n&&this._windowResize()}}],[{key:"getChartByID",value:function(n){var r=_.escapeString(n);if(Apex._chartInstances){var o=Apex._chartInstances.filter(function(c){return c.id===r})[0];return o&&o.chart}}},{key:"initOnLoad",value:function(){for(var n=document.querySelectorAll("[data-apexcharts]"),r=0;r<n.length;r++)new O(n[r],JSON.parse(n[r].getAttribute("data-options"))).render()}},{key:"exec",value:function(n,r){var o=this.getChartByID(n);if(o){o.w.globals.isExecCalled=!0;var c=null;if(o.publicMethods.indexOf(r)!==-1){for(var h=arguments.length,u=new Array(h>2?h-2:0),f=2;f<h;f++)u[f-2]=arguments[f];c=o[r].apply(o,u)}return c}}},{key:"merge",value:function(n,r){return _.extend(n,r)}}]),O}();i.exports=sm})(xl,xl.exports);var OC=xl.exports;const RC=PC(OC);Alpine.data("chart",i=>({init(){new RC(this.$el,i).render()}}));const DC="";export{DC as a};
