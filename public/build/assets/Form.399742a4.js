import{_ as u,o as n,c as d,d as o,w as a,l as f,t as m,e as c}from"./app.c4db69fd.js";const h={props:{model:{type:Object,required:!0},model_name:{type:String,required:!0}},mounted(){window.addEventListener("beforeunload",this.onBeforeunload),this.notifier=this.$inertia.on("before",e=>{if(this.form.isDirty&&e.detail.visit.method==="get")return window.confirm(this.__("You may have unsaved form data. Are you sure you want to navigate away?"))})},beforeUnmount(){this.notifier.call(),this.notifier=null,window.removeEventListener("beforeunload",this.onBeforeunload)},data(){return{form:this.$inertia.form(Object.assign({},this.model.data)),notifier:null}},computed:{method(){return this.model.exists?"patch":"post"}},methods:{onBeforeunload(e){this.form.isDirty&&e.preventDefault()},submit(){this.form.submit(this.method,this.model.url,{onStart:()=>{this.form.clearErrors()},onFinish:()=>{window.scrollTo({top:0,behavior:"smooth"})}})},destroy(){this.$inertia.delete(this.model.url,{onBefore:()=>window.confirm(this.__("Are you sure?"))})}}},b={class:"form-layout"},_={class:"app-card card card--edit"},p={class:"card__inner"},y={class:"form-group-stack"},v={class:"form-group--submit"},w=["disabled"],g=["disabled"];function B(e,t,l,S,r,i){return n(),d("div",b,[o("div",_,[o("div",p,[o("form",{onSubmit:t[1]||(t[1]=a((...s)=>i.submit&&i.submit(...s),["prevent"])),onReset:t[2]||(t[2]=a((...s)=>r.form.reset&&r.form.reset(...s),["prevent"]))},[o("div",y,[f(e.$slots,"default"),o("div",v,[o("button",{type:"submit",class:"btn btn--primary",disabled:r.form.processing},m(e.__("Save")),9,w),l.model.exists?(n(),d("button",{key:0,type:"button",class:"btn btn--delete",disabled:r.form.processing,onClick:t[0]||(t[0]=(...s)=>i.destroy&&i.destroy(...s))},m(e.__("Delete")),9,g)):c("",!0)])])],32)])])])}const D=u(h,[["render",B]]);export{D as F};
