var cl=!1,hl=!1,tn=[],dl=-1;function nx(i){rx(i)}function rx(i){tn.includes(i)||tn.push(i),ax()}function sx(i){let e=tn.indexOf(i);e!==-1&&e>dl&&tn.splice(e,1)}function ax(){!hl&&!cl&&(cl=!0,queueMicrotask(ox))}function ox(){cl=!1,hl=!0;for(let i=0;i<tn.length;i++)tn[i](),dl=i;tn.length=0,dl=-1,hl=!1}var qn,Sn,Un,Ku,ul=!0;function lx(i){ul=!1,i(),ul=!0}function cx(i){qn=i.reactive,Un=i.release,Sn=e=>i.effect(e,{scheduler:t=>{ul?nx(t):t()}}),Ku=i.raw}function _h(i){Sn=i}function hx(i){let e=()=>{};return[r=>{let a=Sn(r);return i._x_effects||(i._x_effects=new Set,i._x_runEffects=()=>{i._x_effects.forEach(l=>l())}),i._x_effects.add(a),e=()=>{a!==void 0&&(i._x_effects.delete(a),Un(a))},a},()=>{e()}]}function Ju(i,e){let t=!0,r,a=Sn(()=>{let l=i();JSON.stringify(l),t?r=l:queueMicrotask(()=>{e(l,r),r=l}),t=!1});return()=>Un(a)}var Zu=[],Qu=[],ef=[];function dx(i){ef.push(i)}function hc(i,e){typeof e=="function"?(i._x_cleanups||(i._x_cleanups=[]),i._x_cleanups.push(e)):(e=i,Qu.push(e))}function tf(i){Zu.push(i)}function nf(i,e,t){i._x_attributeCleanups||(i._x_attributeCleanups={}),i._x_attributeCleanups[e]||(i._x_attributeCleanups[e]=[]),i._x_attributeCleanups[e].push(t)}function rf(i,e){i._x_attributeCleanups&&Object.entries(i._x_attributeCleanups).forEach(([t,r])=>{(e===void 0||e.includes(t))&&(r.forEach(a=>a()),delete i._x_attributeCleanups[t])})}function ux(i){for(i._x_effects?.forEach(sx);i._x_cleanups?.length;)i._x_cleanups.pop()()}var dc=new MutationObserver(gc),uc=!1;function fc(){dc.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),uc=!0}function sf(){fx(),dc.disconnect(),uc=!1}var ar=[];function fx(){let i=dc.takeRecords();ar.push(()=>i.length>0&&gc(i));let e=ar.length;queueMicrotask(()=>{if(ar.length===e)for(;ar.length>0;)ar.shift()()})}function ze(i){if(!uc)return i();sf();let e=i();return fc(),e}var pc=!1,Xs=[];function px(){pc=!0}function gx(){pc=!1,gc(Xs),Xs=[]}function gc(i){if(pc){Xs=Xs.concat(i);return}let e=[],t=new Set,r=new Map,a=new Map;for(let l=0;l<i.length;l++)if(!i[l].target._x_ignoreMutationObserver&&(i[l].type==="childList"&&(i[l].removedNodes.forEach(h=>{h.nodeType===1&&h._x_marker&&t.add(h)}),i[l].addedNodes.forEach(h=>{if(h.nodeType===1){if(t.has(h)){t.delete(h);return}h._x_marker||e.push(h)}})),i[l].type==="attributes")){let h=i[l].target,p=i[l].attributeName,x=i[l].oldValue,w=()=>{r.has(h)||r.set(h,[]),r.get(h).push({name:p,value:h.getAttribute(p)})},A=()=>{a.has(h)||a.set(h,[]),a.get(h).push(p)};h.hasAttribute(p)&&x===null?w():h.hasAttribute(p)?(A(),w()):A()}a.forEach((l,h)=>{rf(h,l)}),r.forEach((l,h)=>{Zu.forEach(p=>p(h,l))});for(let l of t)e.some(h=>h.contains(l))||Qu.forEach(h=>h(l));for(let l of e)l.isConnected&&ef.forEach(h=>h(l));e=null,t=null,r=null,a=null}function af(i){return qr(_n(i))}function Gr(i,e,t){return i._x_dataStack=[e,..._n(t||i)],()=>{i._x_dataStack=i._x_dataStack.filter(r=>r!==e)}}function _n(i){return i._x_dataStack?i._x_dataStack:typeof ShadowRoot=="function"&&i instanceof ShadowRoot?_n(i.host):i.parentNode?_n(i.parentNode):[]}function qr(i){return new Proxy({objects:i},mx)}var mx={ownKeys({objects:i}){return Array.from(new Set(i.flatMap(e=>Object.keys(e))))},has({objects:i},e){return e==Symbol.unscopables?!1:i.some(t=>Object.prototype.hasOwnProperty.call(t,e)||Reflect.has(t,e))},get({objects:i},e,t){return e=="toJSON"?bx:Reflect.get(i.find(r=>Reflect.has(r,e))||{},e,t)},set({objects:i},e,t,r){const a=i.find(h=>Object.prototype.hasOwnProperty.call(h,e))||i[i.length-1],l=Object.getOwnPropertyDescriptor(a,e);return l?.set&&l?.get?l.set.call(r,t)||!0:Reflect.set(a,e,t)}};function bx(){return Reflect.ownKeys(this).reduce((e,t)=>(e[t]=Reflect.get(this,t),e),{})}function of(i){let e=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,t=(r,a="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([l,{value:h,enumerable:p}])=>{if(p===!1||h===void 0||typeof h=="object"&&h!==null&&h.__v_skip)return;let x=a===""?l:`${a}.${l}`;typeof h=="object"&&h!==null&&h._x_interceptor?r[l]=h.initialize(i,x,l):e(h)&&h!==r&&!(h instanceof Element)&&t(h,x)})};return t(i)}function lf(i,e=()=>{}){let t={initialValue:void 0,_x_interceptor:!0,initialize(r,a,l){return i(this.initialValue,()=>xx(r,a),h=>fl(r,a,h),a,l)}};return e(t),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let a=t.initialize.bind(t);t.initialize=(l,h,p)=>{let x=r.initialize(l,h,p);return t.initialValue=x,a(l,h,p)}}else t.initialValue=r;return t}}function xx(i,e){return e.split(".").reduce((t,r)=>t[r],i)}function fl(i,e,t){if(typeof e=="string"&&(e=e.split(".")),e.length===1)i[e[0]]=t;else{if(e.length===0)throw error;return i[e[0]]||(i[e[0]]={}),fl(i[e[0]],e.slice(1),t)}}var cf={};function Vt(i,e){cf[i]=e}function pl(i,e){let t=yx(e);return Object.entries(cf).forEach(([r,a])=>{Object.defineProperty(i,`$${r}`,{get(){return a(e,t)},enumerable:!1})}),i}function yx(i){let[e,t]=gf(i),r={interceptor:lf,...e};return hc(i,t),r}function vx(i,e,t,...r){try{return t(...r)}catch(a){Or(a,i,e)}}function Or(i,e,t=void 0){i=Object.assign(i??{message:"No error message given."},{el:e,expression:t}),console.warn(`Alpine Expression Error: ${i.message}

${t?'Expression: "'+t+`"

`:""}`,e),setTimeout(()=>{throw i},0)}var Rs=!0;function hf(i){let e=Rs;Rs=!1;let t=i();return Rs=e,t}function nn(i,e,t={}){let r;return ft(i,e)(a=>r=a,t),r}function ft(...i){return df(...i)}var df=uf;function wx(i){df=i}function uf(i,e){let t={};pl(t,i);let r=[t,..._n(i)],a=typeof e=="function"?Sx(r,e):Ax(r,e,i);return vx.bind(null,i,e,a)}function Sx(i,e){return(t=()=>{},{scope:r={},params:a=[],context:l}={})=>{let h=e.apply(qr([r,...i]),a);Ys(t,h)}}var Lo={};function kx(i,e){if(Lo[i])return Lo[i];let t=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(i.trim())||/^(let|const)\s/.test(i.trim())?`(async()=>{ ${i} })()`:i,l=(()=>{try{let h=new t(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(h,"name",{value:`[Alpine] ${i}`}),h}catch(h){return Or(h,e,i),Promise.resolve()}})();return Lo[i]=l,l}function Ax(i,e,t){let r=kx(e,t);return(a=()=>{},{scope:l={},params:h=[],context:p}={})=>{r.result=void 0,r.finished=!1;let x=qr([l,...i]);if(typeof r=="function"){let w=r.call(p,r,x).catch(A=>Or(A,t,e));r.finished?(Ys(a,r.result,x,h,t),r.result=void 0):w.then(A=>{Ys(a,A,x,h,t)}).catch(A=>Or(A,t,e)).finally(()=>r.result=void 0)}}}function Ys(i,e,t,r,a){if(Rs&&typeof e=="function"){let l=e.apply(t,r);l instanceof Promise?l.then(h=>Ys(i,h,t,r)).catch(h=>Or(h,a,e)):i(l)}else typeof e=="object"&&e instanceof Promise?e.then(l=>i(l)):i(e)}var mc="x-";function $n(i=""){return mc+i}function Cx(i){mc=i}var Vs={};function je(i,e){return Vs[i]=e,{before(t){if(!Vs[t]){console.warn(String.raw`Cannot find directive \`${t}\`. \`${i}\` will use the default order of execution`);return}const r=Ui.indexOf(t);Ui.splice(r>=0?r:Ui.indexOf("DEFAULT"),0,i)}}}function Ex(i){return Object.keys(Vs).includes(i)}function bc(i,e,t){if(e=Array.from(e),i._x_virtualDirectives){let l=Object.entries(i._x_virtualDirectives).map(([p,x])=>({name:p,value:x})),h=ff(l);l=l.map(p=>h.find(x=>x.name===p.name)?{name:`x-bind:${p.name}`,value:`"${p.value}"`}:p),e=e.concat(l)}let r={};return e.map(xf((l,h)=>r[l]=h)).filter(vf).map(Lx(r,t)).sort(Px).map(l=>Mx(i,l))}function ff(i){return Array.from(i).map(xf()).filter(e=>!vf(e))}var gl=!1,fr=new Map,pf=Symbol();function Tx(i){gl=!0;let e=Symbol();pf=e,fr.set(e,[]);let t=()=>{for(;fr.get(e).length;)fr.get(e).shift()();fr.delete(e)},r=()=>{gl=!1,t()};i(t),r()}function gf(i){let e=[],t=p=>e.push(p),[r,a]=hx(i);return e.push(a),[{Alpine:Ur,effect:r,cleanup:t,evaluateLater:ft.bind(ft,i),evaluate:nn.bind(nn,i)},()=>e.forEach(p=>p())]}function Mx(i,e){let t=()=>{},r=Vs[e.type]||t,[a,l]=gf(i);nf(i,e.original,l);let h=()=>{i._x_ignore||i._x_ignoreSelf||(r.inline&&r.inline(i,e,a),r=r.bind(r,i,e,a),gl?fr.get(pf).push(r):r())};return h.runCleanups=l,h}var mf=(i,e)=>({name:t,value:r})=>(t.startsWith(i)&&(t=t.replace(i,e)),{name:t,value:r}),bf=i=>i;function xf(i=()=>{}){return({name:e,value:t})=>{let{name:r,value:a}=yf.reduce((l,h)=>h(l),{name:e,value:t});return r!==e&&i(r,e),{name:r,value:a}}}var yf=[];function xc(i){yf.push(i)}function vf({name:i}){return wf().test(i)}var wf=()=>new RegExp(`^${mc}([^:^.]+)\\b`);function Lx(i,e){return({name:t,value:r})=>{let a=t.match(wf()),l=t.match(/:([a-zA-Z0-9\-_:]+)/),h=t.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],p=e||i[t]||t;return{type:a?a[1]:null,value:l?l[1]:null,modifiers:h.map(x=>x.replace(".","")),expression:r,original:p}}}var ml="DEFAULT",Ui=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",ml,"teleport"];function Px(i,e){let t=Ui.indexOf(i.type)===-1?ml:i.type,r=Ui.indexOf(e.type)===-1?ml:e.type;return Ui.indexOf(t)-Ui.indexOf(r)}function xr(i,e,t={}){i.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0}))}function pn(i,e){if(typeof ShadowRoot=="function"&&i instanceof ShadowRoot){Array.from(i.children).forEach(a=>pn(a,e));return}let t=!1;if(e(i,()=>t=!0),t)return;let r=i.firstElementChild;for(;r;)pn(r,e),r=r.nextElementSibling}function It(i,...e){console.warn(`Alpine Warning: ${i}`,...e)}var Wh=!1;function Rx(){Wh&&It("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Wh=!0,document.body||It("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),xr(document,"alpine:init"),xr(document,"alpine:initializing"),fc(),dx(e=>ui(e,pn)),hc(e=>Jn(e)),tf((e,t)=>{bc(e,t).forEach(r=>r())});let i=e=>!Ha(e.parentElement,!0);Array.from(document.querySelectorAll(Af().join(","))).filter(i).forEach(e=>{ui(e)}),xr(document,"alpine:initialized"),setTimeout(()=>{Dx()})}var yc=[],Sf=[];function kf(){return yc.map(i=>i())}function Af(){return yc.concat(Sf).map(i=>i())}function Cf(i){yc.push(i)}function Ef(i){Sf.push(i)}function Ha(i,e=!1){return Kn(i,t=>{if((e?Af():kf()).some(a=>t.matches(a)))return!0})}function Kn(i,e){if(i){if(e(i))return i;if(i._x_teleportBack&&(i=i._x_teleportBack),!!i.parentElement)return Kn(i.parentElement,e)}}function Ox(i){return kf().some(e=>i.matches(e))}var Tf=[];function Ix(i){Tf.push(i)}var Nx=1;function ui(i,e=pn,t=()=>{}){Kn(i,r=>r._x_ignore)||Tx(()=>{e(i,(r,a)=>{r._x_marker||(t(r,a),Tf.forEach(l=>l(r,a)),bc(r,r.attributes).forEach(l=>l()),r._x_ignore||(r._x_marker=Nx++),r._x_ignore&&a())})})}function Jn(i,e=pn){e(i,t=>{ux(t),rf(t),delete t._x_marker})}function Dx(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,t,r])=>{Ex(t)||r.some(a=>{if(document.querySelector(a))return It(`found "${a}", but missing ${e} plugin`),!0})})}var bl=[],vc=!1;function wc(i=()=>{}){return queueMicrotask(()=>{vc||setTimeout(()=>{xl()})}),new Promise(e=>{bl.push(()=>{i(),e()})})}function xl(){for(vc=!1;bl.length;)bl.shift()()}function Fx(){vc=!0}function Sc(i,e){return Array.isArray(e)?Xh(i,e.join(" ")):typeof e=="object"&&e!==null?zx(i,e):typeof e=="function"?Sc(i,e()):Xh(i,e)}function Xh(i,e){let t=a=>a.split(" ").filter(l=>!i.classList.contains(l)).filter(Boolean),r=a=>(i.classList.add(...a),()=>{i.classList.remove(...a)});return e=e===!0?e="":e||"",r(t(e))}function zx(i,e){let t=p=>p.split(" ").filter(Boolean),r=Object.entries(e).flatMap(([p,x])=>x?t(p):!1).filter(Boolean),a=Object.entries(e).flatMap(([p,x])=>x?!1:t(p)).filter(Boolean),l=[],h=[];return a.forEach(p=>{i.classList.contains(p)&&(i.classList.remove(p),h.push(p))}),r.forEach(p=>{i.classList.contains(p)||(i.classList.add(p),l.push(p))}),()=>{h.forEach(p=>i.classList.add(p)),l.forEach(p=>i.classList.remove(p))}}function _a(i,e){return typeof e=="object"&&e!==null?Bx(i,e):Hx(i,e)}function Bx(i,e){let t={};return Object.entries(e).forEach(([r,a])=>{t[r]=i.style[r],r.startsWith("--")||(r=_x(r)),i.style.setProperty(r,a)}),setTimeout(()=>{i.style.length===0&&i.removeAttribute("style")}),()=>{_a(i,t)}}function Hx(i,e){let t=i.getAttribute("style",e);return i.setAttribute("style",e),()=>{i.setAttribute("style",t||"")}}function _x(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function yl(i,e=()=>{}){let t=!1;return function(){t?e.apply(this,arguments):(t=!0,i.apply(this,arguments))}}je("transition",(i,{value:e,modifiers:t,expression:r},{evaluate:a})=>{typeof r=="function"&&(r=a(r)),r!==!1&&(!r||typeof r=="boolean"?Xx(i,t,e):Wx(i,r,e))});function Wx(i,e,t){Mf(i,Sc,""),{enter:a=>{i._x_transition.enter.during=a},"enter-start":a=>{i._x_transition.enter.start=a},"enter-end":a=>{i._x_transition.enter.end=a},leave:a=>{i._x_transition.leave.during=a},"leave-start":a=>{i._x_transition.leave.start=a},"leave-end":a=>{i._x_transition.leave.end=a}}[t](e)}function Xx(i,e,t){Mf(i,_a);let r=!e.includes("in")&&!e.includes("out")&&!t,a=r||e.includes("in")||["enter"].includes(t),l=r||e.includes("out")||["leave"].includes(t);e.includes("in")&&!r&&(e=e.filter((Y,$)=>$<e.indexOf("out"))),e.includes("out")&&!r&&(e=e.filter((Y,$)=>$>e.indexOf("out")));let h=!e.includes("opacity")&&!e.includes("scale"),p=h||e.includes("opacity"),x=h||e.includes("scale"),w=p?0:1,A=x?or(e,"scale",95)/100:1,M=or(e,"delay",0)/1e3,R=or(e,"origin","center"),z="opacity, transform",P=or(e,"duration",150)/1e3,X=or(e,"duration",75)/1e3,W="cubic-bezier(0.4, 0.0, 0.2, 1)";a&&(i._x_transition.enter.during={transformOrigin:R,transitionDelay:`${M}s`,transitionProperty:z,transitionDuration:`${P}s`,transitionTimingFunction:W},i._x_transition.enter.start={opacity:w,transform:`scale(${A})`},i._x_transition.enter.end={opacity:1,transform:"scale(1)"}),l&&(i._x_transition.leave.during={transformOrigin:R,transitionDelay:`${M}s`,transitionProperty:z,transitionDuration:`${X}s`,transitionTimingFunction:W},i._x_transition.leave.start={opacity:1,transform:"scale(1)"},i._x_transition.leave.end={opacity:w,transform:`scale(${A})`})}function Mf(i,e,t={}){i._x_transition||(i._x_transition={enter:{during:t,start:t,end:t},leave:{during:t,start:t,end:t},in(r=()=>{},a=()=>{}){vl(i,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,a)},out(r=()=>{},a=()=>{}){vl(i,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,a)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(i,e,t,r){const a=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let l=()=>a(t);if(e){i._x_transition&&(i._x_transition.enter||i._x_transition.leave)?i._x_transition.enter&&(Object.entries(i._x_transition.enter.during).length||Object.entries(i._x_transition.enter.start).length||Object.entries(i._x_transition.enter.end).length)?i._x_transition.in(t):l():i._x_transition?i._x_transition.in(t):l();return}i._x_hidePromise=i._x_transition?new Promise((h,p)=>{i._x_transition.out(()=>{},()=>h(r)),i._x_transitioning&&i._x_transitioning.beforeCancel(()=>p({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let h=Lf(i);h?(h._x_hideChildren||(h._x_hideChildren=[]),h._x_hideChildren.push(i)):a(()=>{let p=x=>{let w=Promise.all([x._x_hidePromise,...(x._x_hideChildren||[]).map(p)]).then(([A])=>A?.());return delete x._x_hidePromise,delete x._x_hideChildren,w};p(i).catch(x=>{if(!x.isFromCancelledTransition)throw x})})})};function Lf(i){let e=i.parentNode;if(e)return e._x_hidePromise?e:Lf(e)}function vl(i,e,{during:t,start:r,end:a}={},l=()=>{},h=()=>{}){if(i._x_transitioning&&i._x_transitioning.cancel(),Object.keys(t).length===0&&Object.keys(r).length===0&&Object.keys(a).length===0){l(),h();return}let p,x,w;Yx(i,{start(){p=e(i,r)},during(){x=e(i,t)},before:l,end(){p(),w=e(i,a)},after:h,cleanup(){x(),w()}})}function Yx(i,e){let t,r,a,l=yl(()=>{ze(()=>{t=!0,r||e.before(),a||(e.end(),xl()),e.after(),i.isConnected&&e.cleanup(),delete i._x_transitioning})});i._x_transitioning={beforeCancels:[],beforeCancel(h){this.beforeCancels.push(h)},cancel:yl(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();l()}),finish:l},ze(()=>{e.start(),e.during()}),Fx(),requestAnimationFrame(()=>{if(t)return;let h=Number(getComputedStyle(i).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,p=Number(getComputedStyle(i).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;h===0&&(h=Number(getComputedStyle(i).animationDuration.replace("s",""))*1e3),ze(()=>{e.before()}),r=!0,requestAnimationFrame(()=>{t||(ze(()=>{e.end()}),xl(),setTimeout(i._x_transitioning.finish,h+p),a=!0)})})}function or(i,e,t){if(i.indexOf(e)===-1)return t;const r=i[i.indexOf(e)+1];if(!r||e==="scale"&&isNaN(r))return t;if(e==="duration"||e==="delay"){let a=r.match(/([0-9]+)ms/);if(a)return a[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(i[i.indexOf(e)+2])?[r,i[i.indexOf(e)+2]].join(" "):r}var Oi=!1;function zi(i,e=()=>{}){return(...t)=>Oi?e(...t):i(...t)}function Vx(i){return(...e)=>Oi&&i(...e)}var Pf=[];function Wa(i){Pf.push(i)}function jx(i,e){Pf.forEach(t=>t(i,e)),Oi=!0,Rf(()=>{ui(e,(t,r)=>{r(t,()=>{})})}),Oi=!1}var wl=!1;function Gx(i,e){e._x_dataStack||(e._x_dataStack=i._x_dataStack),Oi=!0,wl=!0,Rf(()=>{qx(e)}),Oi=!1,wl=!1}function qx(i){let e=!1;ui(i,(r,a)=>{pn(r,(l,h)=>{if(e&&Ox(l))return h();e=!0,a(l,h)})})}function Rf(i){let e=Sn;_h((t,r)=>{let a=e(t);return Un(a),()=>{}}),i(),_h(e)}function Of(i,e,t,r=[]){switch(i._x_bindings||(i._x_bindings=qn({})),i._x_bindings[e]=t,e=r.includes("camel")?ty(e):e,e){case"value":Ux(i,t);break;case"style":Kx(i,t);break;case"class":$x(i,t);break;case"selected":case"checked":Jx(i,e,t);break;default:If(i,e,t);break}}function Ux(i,e){if(Ff(i))i.attributes.value===void 0&&(i.value=e),window.fromModel&&(typeof e=="boolean"?i.checked=Os(i.value)===e:i.checked=Yh(i.value,e));else if(kc(i))Number.isInteger(e)?i.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?i.value=String(e):Array.isArray(e)?i.checked=e.some(t=>Yh(t,i.value)):i.checked=!!e;else if(i.tagName==="SELECT")ey(i,e);else{if(i.value===e)return;i.value=e===void 0?"":e}}function $x(i,e){i._x_undoAddedClasses&&i._x_undoAddedClasses(),i._x_undoAddedClasses=Sc(i,e)}function Kx(i,e){i._x_undoAddedStyles&&i._x_undoAddedStyles(),i._x_undoAddedStyles=_a(i,e)}function Jx(i,e,t){If(i,e,t),Qx(i,e,t)}function If(i,e,t){[null,void 0,!1].includes(t)&&ny(e)?i.removeAttribute(e):(Nf(e)&&(t=e),Zx(i,e,t))}function Zx(i,e,t){i.getAttribute(e)!=t&&i.setAttribute(e,t)}function Qx(i,e,t){i[e]!==t&&(i[e]=t)}function ey(i,e){const t=[].concat(e).map(r=>r+"");Array.from(i.options).forEach(r=>{r.selected=t.includes(r.value)})}function ty(i){return i.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function Yh(i,e){return i==e}function Os(i){return[1,"1","true","on","yes",!0].includes(i)?!0:[0,"0","false","off","no",!1].includes(i)?!1:i?!!i:null}var iy=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Nf(i){return iy.has(i)}function ny(i){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(i)}function ry(i,e,t){return i._x_bindings&&i._x_bindings[e]!==void 0?i._x_bindings[e]:Df(i,e,t)}function sy(i,e,t,r=!0){if(i._x_bindings&&i._x_bindings[e]!==void 0)return i._x_bindings[e];if(i._x_inlineBindings&&i._x_inlineBindings[e]!==void 0){let a=i._x_inlineBindings[e];return a.extract=r,hf(()=>nn(i,a.expression))}return Df(i,e,t)}function Df(i,e,t){let r=i.getAttribute(e);return r===null?typeof t=="function"?t():t:r===""?!0:Nf(e)?!![e,"true"].includes(r):r}function kc(i){return i.type==="checkbox"||i.localName==="ui-checkbox"||i.localName==="ui-switch"}function Ff(i){return i.type==="radio"||i.localName==="ui-radio"}function zf(i,e){let t;return function(){const r=this,a=arguments,l=function(){t=null,i.apply(r,a)};clearTimeout(t),t=setTimeout(l,e)}}function Bf(i,e){let t;return function(){let r=this,a=arguments;t||(i.apply(r,a),t=!0,setTimeout(()=>t=!1,e))}}function Hf({get:i,set:e},{get:t,set:r}){let a=!0,l,h=Sn(()=>{let p=i(),x=t();if(a)r(Po(p)),a=!1;else{let w=JSON.stringify(p),A=JSON.stringify(x);w!==l?r(Po(p)):w!==A&&e(Po(x))}l=JSON.stringify(i()),JSON.stringify(t())});return()=>{Un(h)}}function Po(i){return typeof i=="object"?JSON.parse(JSON.stringify(i)):i}function ay(i){(Array.isArray(i)?i:[i]).forEach(t=>t(Ur))}var ji={},Vh=!1;function oy(i,e){if(Vh||(ji=qn(ji),Vh=!0),e===void 0)return ji[i];ji[i]=e,of(ji[i]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&ji[i].init()}function ly(){return ji}var _f={};function cy(i,e){let t=typeof e!="function"?()=>e:e;return i instanceof Element?Wf(i,t()):(_f[i]=t,()=>{})}function hy(i){return Object.entries(_f).forEach(([e,t])=>{Object.defineProperty(i,e,{get(){return(...r)=>t(...r)}})}),i}function Wf(i,e,t){let r=[];for(;r.length;)r.pop()();let a=Object.entries(e).map(([h,p])=>({name:h,value:p})),l=ff(a);return a=a.map(h=>l.find(p=>p.name===h.name)?{name:`x-bind:${h.name}`,value:`"${h.value}"`}:h),bc(i,a,t).map(h=>{r.push(h.runCleanups),h()}),()=>{for(;r.length;)r.pop()()}}var Xf={};function dy(i,e){Xf[i]=e}function uy(i,e){return Object.entries(Xf).forEach(([t,r])=>{Object.defineProperty(i,t,{get(){return(...a)=>r.bind(e)(...a)},enumerable:!1})}),i}var fy={get reactive(){return qn},get release(){return Un},get effect(){return Sn},get raw(){return Ku},version:"3.15.0",flushAndStopDeferringMutations:gx,dontAutoEvaluateFunctions:hf,disableEffectScheduling:lx,startObservingMutations:fc,stopObservingMutations:sf,setReactivityEngine:cx,onAttributeRemoved:nf,onAttributesAdded:tf,closestDataStack:_n,skipDuringClone:zi,onlyDuringClone:Vx,addRootSelector:Cf,addInitSelector:Ef,interceptClone:Wa,addScopeToNode:Gr,deferMutations:px,mapAttributes:xc,evaluateLater:ft,interceptInit:Ix,setEvaluator:wx,mergeProxies:qr,extractProp:sy,findClosest:Kn,onElRemoved:hc,closestRoot:Ha,destroyTree:Jn,interceptor:lf,transition:vl,setStyles:_a,mutateDom:ze,directive:je,entangle:Hf,throttle:Bf,debounce:zf,evaluate:nn,initTree:ui,nextTick:wc,prefixed:$n,prefix:Cx,plugin:ay,magic:Vt,store:oy,start:Rx,clone:Gx,cloneNode:jx,bound:ry,$data:af,watch:Ju,walk:pn,data:dy,bind:cy},Ur=fy;function py(i,e){const t=Object.create(null),r=i.split(",");for(let a=0;a<r.length;a++)t[r[a]]=!0;return a=>!!t[a]}var gy=Object.freeze({}),my=Object.prototype.hasOwnProperty,Xa=(i,e)=>my.call(i,e),rn=Array.isArray,yr=i=>Yf(i)==="[object Map]",by=i=>typeof i=="string",Ac=i=>typeof i=="symbol",Ya=i=>i!==null&&typeof i=="object",xy=Object.prototype.toString,Yf=i=>xy.call(i),Vf=i=>Yf(i).slice(8,-1),Cc=i=>by(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,yy=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},vy=yy(i=>i.charAt(0).toUpperCase()+i.slice(1)),jf=(i,e)=>i!==e&&(i===i||e===e),Sl=new WeakMap,lr=[],Kt,sn=Symbol("iterate"),kl=Symbol("Map key iterate");function wy(i){return i&&i._isEffect===!0}function Sy(i,e=gy){wy(i)&&(i=i.raw);const t=Cy(i,e);return e.lazy||t(),t}function ky(i){i.active&&(Gf(i),i.options.onStop&&i.options.onStop(),i.active=!1)}var Ay=0;function Cy(i,e){const t=function(){if(!t.active)return i();if(!lr.includes(t)){Gf(t);try{return Ty(),lr.push(t),Kt=t,i()}finally{lr.pop(),qf(),Kt=lr[lr.length-1]}}};return t.id=Ay++,t.allowRecurse=!!e.allowRecurse,t._isEffect=!0,t.active=!0,t.raw=i,t.deps=[],t.options=e,t}function Gf(i){const{deps:e}=i;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(i);e.length=0}}var Wn=!0,Ec=[];function Ey(){Ec.push(Wn),Wn=!1}function Ty(){Ec.push(Wn),Wn=!0}function qf(){const i=Ec.pop();Wn=i===void 0?!0:i}function Yt(i,e,t){if(!Wn||Kt===void 0)return;let r=Sl.get(i);r||Sl.set(i,r=new Map);let a=r.get(t);a||r.set(t,a=new Set),a.has(Kt)||(a.add(Kt),Kt.deps.push(a),Kt.options.onTrack&&Kt.options.onTrack({effect:Kt,target:i,type:e,key:t}))}function Ii(i,e,t,r,a,l){const h=Sl.get(i);if(!h)return;const p=new Set,x=A=>{A&&A.forEach(M=>{(M!==Kt||M.allowRecurse)&&p.add(M)})};if(e==="clear")h.forEach(x);else if(t==="length"&&rn(i))h.forEach((A,M)=>{(M==="length"||M>=r)&&x(A)});else switch(t!==void 0&&x(h.get(t)),e){case"add":rn(i)?Cc(t)&&x(h.get("length")):(x(h.get(sn)),yr(i)&&x(h.get(kl)));break;case"delete":rn(i)||(x(h.get(sn)),yr(i)&&x(h.get(kl)));break;case"set":yr(i)&&x(h.get(sn));break}const w=A=>{A.options.onTrigger&&A.options.onTrigger({effect:A,target:i,key:t,type:e,newValue:r,oldValue:a,oldTarget:l}),A.options.scheduler?A.options.scheduler(A):A()};p.forEach(w)}var My=py("__proto__,__v_isRef,__isVue"),Uf=new Set(Object.getOwnPropertyNames(Symbol).map(i=>Symbol[i]).filter(Ac)),Ly=$f(),Py=$f(!0),jh=Ry();function Ry(){const i={};return["includes","indexOf","lastIndexOf"].forEach(e=>{i[e]=function(...t){const r=Ie(this);for(let l=0,h=this.length;l<h;l++)Yt(r,"get",l+"");const a=r[e](...t);return a===-1||a===!1?r[e](...t.map(Ie)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{i[e]=function(...t){Ey();const r=Ie(this)[e].apply(this,t);return qf(),r}}),i}function $f(i=!1,e=!1){return function(r,a,l){if(a==="__v_isReactive")return!i;if(a==="__v_isReadonly")return i;if(a==="__v_raw"&&l===(i?e?jy:Qf:e?Vy:Zf).get(r))return r;const h=rn(r);if(!i&&h&&Xa(jh,a))return Reflect.get(jh,a,l);const p=Reflect.get(r,a,l);return(Ac(a)?Uf.has(a):My(a))||(i||Yt(r,"get",a),e)?p:Al(p)?!h||!Cc(a)?p.value:p:Ya(p)?i?ep(p):Pc(p):p}}var Oy=Iy();function Iy(i=!1){return function(t,r,a,l){let h=t[r];if(!i&&(a=Ie(a),h=Ie(h),!rn(t)&&Al(h)&&!Al(a)))return h.value=a,!0;const p=rn(t)&&Cc(r)?Number(r)<t.length:Xa(t,r),x=Reflect.set(t,r,a,l);return t===Ie(l)&&(p?jf(a,h)&&Ii(t,"set",r,a,h):Ii(t,"add",r,a)),x}}function Ny(i,e){const t=Xa(i,e),r=i[e],a=Reflect.deleteProperty(i,e);return a&&t&&Ii(i,"delete",e,void 0,r),a}function Dy(i,e){const t=Reflect.has(i,e);return(!Ac(e)||!Uf.has(e))&&Yt(i,"has",e),t}function Fy(i){return Yt(i,"iterate",rn(i)?"length":sn),Reflect.ownKeys(i)}var zy={get:Ly,set:Oy,deleteProperty:Ny,has:Dy,ownKeys:Fy},By={get:Py,set(i,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,i),!0},deleteProperty(i,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,i),!0}},Tc=i=>Ya(i)?Pc(i):i,Mc=i=>Ya(i)?ep(i):i,Lc=i=>i,Va=i=>Reflect.getPrototypeOf(i);function cs(i,e,t=!1,r=!1){i=i.__v_raw;const a=Ie(i),l=Ie(e);e!==l&&!t&&Yt(a,"get",e),!t&&Yt(a,"get",l);const{has:h}=Va(a),p=r?Lc:t?Mc:Tc;if(h.call(a,e))return p(i.get(e));if(h.call(a,l))return p(i.get(l));i!==a&&i.get(e)}function hs(i,e=!1){const t=this.__v_raw,r=Ie(t),a=Ie(i);return i!==a&&!e&&Yt(r,"has",i),!e&&Yt(r,"has",a),i===a?t.has(i):t.has(i)||t.has(a)}function ds(i,e=!1){return i=i.__v_raw,!e&&Yt(Ie(i),"iterate",sn),Reflect.get(i,"size",i)}function Gh(i){i=Ie(i);const e=Ie(this);return Va(e).has.call(e,i)||(e.add(i),Ii(e,"add",i,i)),this}function qh(i,e){e=Ie(e);const t=Ie(this),{has:r,get:a}=Va(t);let l=r.call(t,i);l?Jf(t,r,i):(i=Ie(i),l=r.call(t,i));const h=a.call(t,i);return t.set(i,e),l?jf(e,h)&&Ii(t,"set",i,e,h):Ii(t,"add",i,e),this}function Uh(i){const e=Ie(this),{has:t,get:r}=Va(e);let a=t.call(e,i);a?Jf(e,t,i):(i=Ie(i),a=t.call(e,i));const l=r?r.call(e,i):void 0,h=e.delete(i);return a&&Ii(e,"delete",i,void 0,l),h}function $h(){const i=Ie(this),e=i.size!==0,t=yr(i)?new Map(i):new Set(i),r=i.clear();return e&&Ii(i,"clear",void 0,void 0,t),r}function us(i,e){return function(r,a){const l=this,h=l.__v_raw,p=Ie(h),x=e?Lc:i?Mc:Tc;return!i&&Yt(p,"iterate",sn),h.forEach((w,A)=>r.call(a,x(w),x(A),l))}}function fs(i,e,t){return function(...r){const a=this.__v_raw,l=Ie(a),h=yr(l),p=i==="entries"||i===Symbol.iterator&&h,x=i==="keys"&&h,w=a[i](...r),A=t?Lc:e?Mc:Tc;return!e&&Yt(l,"iterate",x?kl:sn),{next(){const{value:M,done:R}=w.next();return R?{value:M,done:R}:{value:p?[A(M[0]),A(M[1])]:A(M),done:R}},[Symbol.iterator](){return this}}}}function fi(i){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";console.warn(`${vy(i)} operation ${t}failed: target is readonly.`,Ie(this))}return i==="delete"?!1:this}}function Hy(){const i={get(l){return cs(this,l)},get size(){return ds(this)},has:hs,add:Gh,set:qh,delete:Uh,clear:$h,forEach:us(!1,!1)},e={get(l){return cs(this,l,!1,!0)},get size(){return ds(this)},has:hs,add:Gh,set:qh,delete:Uh,clear:$h,forEach:us(!1,!0)},t={get(l){return cs(this,l,!0)},get size(){return ds(this,!0)},has(l){return hs.call(this,l,!0)},add:fi("add"),set:fi("set"),delete:fi("delete"),clear:fi("clear"),forEach:us(!0,!1)},r={get(l){return cs(this,l,!0,!0)},get size(){return ds(this,!0)},has(l){return hs.call(this,l,!0)},add:fi("add"),set:fi("set"),delete:fi("delete"),clear:fi("clear"),forEach:us(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{i[l]=fs(l,!1,!1),t[l]=fs(l,!0,!1),e[l]=fs(l,!1,!0),r[l]=fs(l,!0,!0)}),[i,t,e,r]}var[_y,Wy]=Hy();function Kf(i,e){const t=i?Wy:_y;return(r,a,l)=>a==="__v_isReactive"?!i:a==="__v_isReadonly"?i:a==="__v_raw"?r:Reflect.get(Xa(t,a)&&a in r?t:r,a,l)}var Xy={get:Kf(!1)},Yy={get:Kf(!0)};function Jf(i,e,t){const r=Ie(t);if(r!==t&&e.call(i,r)){const a=Vf(i);console.warn(`Reactive ${a} contains both the raw and reactive versions of the same object${a==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Zf=new WeakMap,Vy=new WeakMap,Qf=new WeakMap,jy=new WeakMap;function Gy(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qy(i){return i.__v_skip||!Object.isExtensible(i)?0:Gy(Vf(i))}function Pc(i){return i&&i.__v_isReadonly?i:tp(i,!1,zy,Xy,Zf)}function ep(i){return tp(i,!0,By,Yy,Qf)}function tp(i,e,t,r,a){if(!Ya(i))return console.warn(`value cannot be made reactive: ${String(i)}`),i;if(i.__v_raw&&!(e&&i.__v_isReactive))return i;const l=a.get(i);if(l)return l;const h=qy(i);if(h===0)return i;const p=new Proxy(i,h===2?r:t);return a.set(i,p),p}function Ie(i){return i&&Ie(i.__v_raw)||i}function Al(i){return!!(i&&i.__v_isRef===!0)}Vt("nextTick",()=>wc);Vt("dispatch",i=>xr.bind(xr,i));Vt("watch",(i,{evaluateLater:e,cleanup:t})=>(r,a)=>{let l=e(r),p=Ju(()=>{let x;return l(w=>x=w),x},a);t(p)});Vt("store",ly);Vt("data",i=>af(i));Vt("root",i=>Ha(i));Vt("refs",i=>(i._x_refs_proxy||(i._x_refs_proxy=qr(Uy(i))),i._x_refs_proxy));function Uy(i){let e=[];return Kn(i,t=>{t._x_refs&&e.push(t._x_refs)}),e}var Ro={};function ip(i){return Ro[i]||(Ro[i]=0),++Ro[i]}function $y(i,e){return Kn(i,t=>{if(t._x_ids&&t._x_ids[e])return!0})}function Ky(i,e){i._x_ids||(i._x_ids={}),i._x_ids[e]||(i._x_ids[e]=ip(e))}Vt("id",(i,{cleanup:e})=>(t,r=null)=>{let a=`${t}${r?`-${r}`:""}`;return Jy(i,a,e,()=>{let l=$y(i,t),h=l?l._x_ids[t]:ip(t);return r?`${t}-${h}-${r}`:`${t}-${h}`})});Wa((i,e)=>{i._x_id&&(e._x_id=i._x_id)});function Jy(i,e,t,r){if(i._x_id||(i._x_id={}),i._x_id[e])return i._x_id[e];let a=r();return i._x_id[e]=a,t(()=>{delete i._x_id[e]}),a}Vt("el",i=>i);np("Focus","focus","focus");np("Persist","persist","persist");function np(i,e,t){Vt(e,r=>It(`You can't use [$${e}] without first installing the "${i}" plugin here: https://alpinejs.dev/plugins/${t}`,r))}je("modelable",(i,{expression:e},{effect:t,evaluateLater:r,cleanup:a})=>{let l=r(e),h=()=>{let A;return l(M=>A=M),A},p=r(`${e} = __placeholder`),x=A=>p(()=>{},{scope:{__placeholder:A}}),w=h();x(w),queueMicrotask(()=>{if(!i._x_model)return;i._x_removeModelListeners.default();let A=i._x_model.get,M=i._x_model.set,R=Hf({get(){return A()},set(z){M(z)}},{get(){return h()},set(z){x(z)}});a(R)})});je("teleport",(i,{modifiers:e,expression:t},{cleanup:r})=>{i.tagName.toLowerCase()!=="template"&&It("x-teleport can only be used on a <template> tag",i);let a=Kh(t),l=i.content.cloneNode(!0).firstElementChild;i._x_teleport=l,l._x_teleportBack=i,i.setAttribute("data-teleport-template",!0),l.setAttribute("data-teleport-target",!0),i._x_forwardEvents&&i._x_forwardEvents.forEach(p=>{l.addEventListener(p,x=>{x.stopPropagation(),i.dispatchEvent(new x.constructor(x.type,x))})}),Gr(l,{},i);let h=(p,x,w)=>{w.includes("prepend")?x.parentNode.insertBefore(p,x):w.includes("append")?x.parentNode.insertBefore(p,x.nextSibling):x.appendChild(p)};ze(()=>{h(l,a,e),zi(()=>{ui(l)})()}),i._x_teleportPutBack=()=>{let p=Kh(t);ze(()=>{h(i._x_teleport,p,e)})},r(()=>ze(()=>{l.remove(),Jn(l)}))});var Zy=document.createElement("div");function Kh(i){let e=zi(()=>document.querySelector(i),()=>Zy)();return e||It(`Cannot find x-teleport element for selector: "${i}"`),e}var rp=()=>{};rp.inline=(i,{modifiers:e},{cleanup:t})=>{e.includes("self")?i._x_ignoreSelf=!0:i._x_ignore=!0,t(()=>{e.includes("self")?delete i._x_ignoreSelf:delete i._x_ignore})};je("ignore",rp);je("effect",zi((i,{expression:e},{effect:t})=>{t(ft(i,e))}));function Cl(i,e,t,r){let a=i,l=x=>r(x),h={},p=(x,w)=>A=>w(x,A);if(t.includes("dot")&&(e=Qy(e)),t.includes("camel")&&(e=ev(e)),t.includes("passive")&&(h.passive=!0),t.includes("capture")&&(h.capture=!0),t.includes("window")&&(a=window),t.includes("document")&&(a=document),t.includes("debounce")){let x=t[t.indexOf("debounce")+1]||"invalid-wait",w=js(x.split("ms")[0])?Number(x.split("ms")[0]):250;l=zf(l,w)}if(t.includes("throttle")){let x=t[t.indexOf("throttle")+1]||"invalid-wait",w=js(x.split("ms")[0])?Number(x.split("ms")[0]):250;l=Bf(l,w)}return t.includes("prevent")&&(l=p(l,(x,w)=>{w.preventDefault(),x(w)})),t.includes("stop")&&(l=p(l,(x,w)=>{w.stopPropagation(),x(w)})),t.includes("once")&&(l=p(l,(x,w)=>{x(w),a.removeEventListener(e,l,h)})),(t.includes("away")||t.includes("outside"))&&(a=document,l=p(l,(x,w)=>{i.contains(w.target)||w.target.isConnected!==!1&&(i.offsetWidth<1&&i.offsetHeight<1||i._x_isShown!==!1&&x(w))})),t.includes("self")&&(l=p(l,(x,w)=>{w.target===i&&x(w)})),(iv(e)||sp(e))&&(l=p(l,(x,w)=>{nv(w,t)||x(w)})),a.addEventListener(e,l,h),()=>{a.removeEventListener(e,l,h)}}function Qy(i){return i.replace(/-/g,".")}function ev(i){return i.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function js(i){return!Array.isArray(i)&&!isNaN(i)}function tv(i){return[" ","_"].includes(i)?i:i.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function iv(i){return["keydown","keyup"].includes(i)}function sp(i){return["contextmenu","click","mouse"].some(e=>i.includes(e))}function nv(i,e){let t=e.filter(l=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(l));if(t.includes("debounce")){let l=t.indexOf("debounce");t.splice(l,js((t[l+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.includes("throttle")){let l=t.indexOf("throttle");t.splice(l,js((t[l+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.length===0||t.length===1&&Jh(i.key).includes(t[0]))return!1;const a=["ctrl","shift","alt","meta","cmd","super"].filter(l=>t.includes(l));return t=t.filter(l=>!a.includes(l)),!(a.length>0&&a.filter(h=>((h==="cmd"||h==="super")&&(h="meta"),i[`${h}Key`])).length===a.length&&(sp(i.type)||Jh(i.key).includes(t[0])))}function Jh(i){if(!i)return[];i=tv(i);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[i]=i,Object.keys(e).map(t=>{if(e[t]===i)return t}).filter(t=>t)}je("model",(i,{modifiers:e,expression:t},{effect:r,cleanup:a})=>{let l=i;e.includes("parent")&&(l=i.parentNode);let h=ft(l,t),p;typeof t=="string"?p=ft(l,`${t} = __placeholder`):typeof t=="function"&&typeof t()=="string"?p=ft(l,`${t()} = __placeholder`):p=()=>{};let x=()=>{let R;return h(z=>R=z),Zh(R)?R.get():R},w=R=>{let z;h(P=>z=P),Zh(z)?z.set(R):p(()=>{},{scope:{__placeholder:R}})};typeof t=="string"&&i.type==="radio"&&ze(()=>{i.hasAttribute("name")||i.setAttribute("name",t)});let A=i.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(i.type)||e.includes("lazy")?"change":"input",M=Oi?()=>{}:Cl(i,A,e,R=>{w(Oo(i,e,R,x()))});if(e.includes("fill")&&([void 0,null,""].includes(x())||kc(i)&&Array.isArray(x())||i.tagName.toLowerCase()==="select"&&i.multiple)&&w(Oo(i,e,{target:i},x())),i._x_removeModelListeners||(i._x_removeModelListeners={}),i._x_removeModelListeners.default=M,a(()=>i._x_removeModelListeners.default()),i.form){let R=Cl(i.form,"reset",[],z=>{wc(()=>i._x_model&&i._x_model.set(Oo(i,e,{target:i},x())))});a(()=>R())}i._x_model={get(){return x()},set(R){w(R)}},i._x_forceModelUpdate=R=>{R===void 0&&typeof t=="string"&&t.match(/\./)&&(R=""),window.fromModel=!0,ze(()=>Of(i,"value",R)),delete window.fromModel},r(()=>{let R=x();e.includes("unintrusive")&&document.activeElement.isSameNode(i)||i._x_forceModelUpdate(R)})});function Oo(i,e,t,r){return ze(()=>{if(t instanceof CustomEvent&&t.detail!==void 0)return t.detail!==null&&t.detail!==void 0?t.detail:t.target.value;if(kc(i))if(Array.isArray(r)){let a=null;return e.includes("number")?a=Io(t.target.value):e.includes("boolean")?a=Os(t.target.value):a=t.target.value,t.target.checked?r.includes(a)?r:r.concat([a]):r.filter(l=>!rv(l,a))}else return t.target.checked;else{if(i.tagName.toLowerCase()==="select"&&i.multiple)return e.includes("number")?Array.from(t.target.selectedOptions).map(a=>{let l=a.value||a.text;return Io(l)}):e.includes("boolean")?Array.from(t.target.selectedOptions).map(a=>{let l=a.value||a.text;return Os(l)}):Array.from(t.target.selectedOptions).map(a=>a.value||a.text);{let a;return Ff(i)?t.target.checked?a=t.target.value:a=r:a=t.target.value,e.includes("number")?Io(a):e.includes("boolean")?Os(a):e.includes("trim")?a.trim():a}}})}function Io(i){let e=i?parseFloat(i):null;return sv(e)?e:i}function rv(i,e){return i==e}function sv(i){return!Array.isArray(i)&&!isNaN(i)}function Zh(i){return i!==null&&typeof i=="object"&&typeof i.get=="function"&&typeof i.set=="function"}je("cloak",i=>queueMicrotask(()=>ze(()=>i.removeAttribute($n("cloak")))));Ef(()=>`[${$n("init")}]`);je("init",zi((i,{expression:e},{evaluate:t})=>typeof e=="string"?!!e.trim()&&t(e,{},!1):t(e,{},!1)));je("text",(i,{expression:e},{effect:t,evaluateLater:r})=>{let a=r(e);t(()=>{a(l=>{ze(()=>{i.textContent=l})})})});je("html",(i,{expression:e},{effect:t,evaluateLater:r})=>{let a=r(e);t(()=>{a(l=>{ze(()=>{i.innerHTML=l,i._x_ignoreSelf=!0,ui(i),delete i._x_ignoreSelf})})})});xc(mf(":",bf($n("bind:"))));var ap=(i,{value:e,modifiers:t,expression:r,original:a},{effect:l,cleanup:h})=>{if(!e){let x={};hy(x),ft(i,r)(A=>{Wf(i,A,a)},{scope:x});return}if(e==="key")return av(i,r);if(i._x_inlineBindings&&i._x_inlineBindings[e]&&i._x_inlineBindings[e].extract)return;let p=ft(i,r);l(()=>p(x=>{x===void 0&&typeof r=="string"&&r.match(/\./)&&(x=""),ze(()=>Of(i,e,x,t))})),h(()=>{i._x_undoAddedClasses&&i._x_undoAddedClasses(),i._x_undoAddedStyles&&i._x_undoAddedStyles()})};ap.inline=(i,{value:e,modifiers:t,expression:r})=>{e&&(i._x_inlineBindings||(i._x_inlineBindings={}),i._x_inlineBindings[e]={expression:r,extract:!1})};je("bind",ap);function av(i,e){i._x_keyExpression=e}Cf(()=>`[${$n("data")}]`);je("data",(i,{expression:e},{cleanup:t})=>{if(ov(i))return;e=e===""?"{}":e;let r={};pl(r,i);let a={};uy(a,r);let l=nn(i,e,{scope:a});(l===void 0||l===!0)&&(l={}),pl(l,i);let h=qn(l);of(h);let p=Gr(i,h);h.init&&nn(i,h.init),t(()=>{h.destroy&&nn(i,h.destroy),p()})});Wa((i,e)=>{i._x_dataStack&&(e._x_dataStack=i._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function ov(i){return Oi?wl?!0:i.hasAttribute("data-has-alpine-state"):!1}je("show",(i,{modifiers:e,expression:t},{effect:r})=>{let a=ft(i,t);i._x_doHide||(i._x_doHide=()=>{ze(()=>{i.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),i._x_doShow||(i._x_doShow=()=>{ze(()=>{i.style.length===1&&i.style.display==="none"?i.removeAttribute("style"):i.style.removeProperty("display")})});let l=()=>{i._x_doHide(),i._x_isShown=!1},h=()=>{i._x_doShow(),i._x_isShown=!0},p=()=>setTimeout(h),x=yl(M=>M?h():l(),M=>{typeof i._x_toggleAndCascadeWithTransitions=="function"?i._x_toggleAndCascadeWithTransitions(i,M,h,l):M?p():l()}),w,A=!0;r(()=>a(M=>{!A&&M===w||(e.includes("immediate")&&(M?p():l()),x(M),w=M,A=!1)}))});je("for",(i,{expression:e},{effect:t,cleanup:r})=>{let a=cv(e),l=ft(i,a.items),h=ft(i,i._x_keyExpression||"index");i._x_prevKeys=[],i._x_lookup={},t(()=>lv(i,a,l,h)),r(()=>{Object.values(i._x_lookup).forEach(p=>ze(()=>{Jn(p),p.remove()})),delete i._x_prevKeys,delete i._x_lookup})});function lv(i,e,t,r){let a=h=>typeof h=="object"&&!Array.isArray(h),l=i;t(h=>{hv(h)&&h>=0&&(h=Array.from(Array(h).keys(),W=>W+1)),h===void 0&&(h=[]);let p=i._x_lookup,x=i._x_prevKeys,w=[],A=[];if(a(h))h=Object.entries(h).map(([W,Y])=>{let $=Qh(e,Y,W,h);r(K=>{A.includes(K)&&It("Duplicate key on x-for",i),A.push(K)},{scope:{index:W,...$}}),w.push($)});else for(let W=0;W<h.length;W++){let Y=Qh(e,h[W],W,h);r($=>{A.includes($)&&It("Duplicate key on x-for",i),A.push($)},{scope:{index:W,...Y}}),w.push(Y)}let M=[],R=[],z=[],P=[];for(let W=0;W<x.length;W++){let Y=x[W];A.indexOf(Y)===-1&&z.push(Y)}x=x.filter(W=>!z.includes(W));let X="template";for(let W=0;W<A.length;W++){let Y=A[W],$=x.indexOf(Y);if($===-1)x.splice(W,0,Y),M.push([X,W]);else if($!==W){let K=x.splice(W,1)[0],Q=x.splice($-1,1)[0];x.splice(W,0,Q),x.splice($,0,K),R.push([K,Q])}else P.push(Y);X=Y}for(let W=0;W<z.length;W++){let Y=z[W];Y in p&&(ze(()=>{Jn(p[Y]),p[Y].remove()}),delete p[Y])}for(let W=0;W<R.length;W++){let[Y,$]=R[W],K=p[Y],Q=p[$],H=document.createElement("div");ze(()=>{Q||It('x-for ":key" is undefined or invalid',l,$,p),Q.after(H),K.after(Q),Q._x_currentIfEl&&Q.after(Q._x_currentIfEl),H.before(K),K._x_currentIfEl&&K.after(K._x_currentIfEl),H.remove()}),Q._x_refreshXForScope(w[A.indexOf($)])}for(let W=0;W<M.length;W++){let[Y,$]=M[W],K=Y==="template"?l:p[Y];K._x_currentIfEl&&(K=K._x_currentIfEl);let Q=w[$],H=A[$],J=document.importNode(l.content,!0).firstElementChild,U=qn(Q);Gr(J,U,l),J._x_refreshXForScope=V=>{Object.entries(V).forEach(([re,ue])=>{U[re]=ue})},ze(()=>{K.after(J),zi(()=>ui(J))()}),typeof H=="object"&&It("x-for key cannot be an object, it must be a string or an integer",l),p[H]=J}for(let W=0;W<P.length;W++)p[P[W]]._x_refreshXForScope(w[A.indexOf(P[W])]);l._x_prevKeys=A})}function cv(i){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,t=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,a=i.match(r);if(!a)return;let l={};l.items=a[2].trim();let h=a[1].replace(t,"").trim(),p=h.match(e);return p?(l.item=h.replace(e,"").trim(),l.index=p[1].trim(),p[2]&&(l.collection=p[2].trim())):l.item=h,l}function Qh(i,e,t,r){let a={};return/^\[.*\]$/.test(i.item)&&Array.isArray(e)?i.item.replace("[","").replace("]","").split(",").map(h=>h.trim()).forEach((h,p)=>{a[h]=e[p]}):/^\{.*\}$/.test(i.item)&&!Array.isArray(e)&&typeof e=="object"?i.item.replace("{","").replace("}","").split(",").map(h=>h.trim()).forEach(h=>{a[h]=e[h]}):a[i.item]=e,i.index&&(a[i.index]=t),i.collection&&(a[i.collection]=r),a}function hv(i){return!Array.isArray(i)&&!isNaN(i)}function op(){}op.inline=(i,{expression:e},{cleanup:t})=>{let r=Ha(i);r._x_refs||(r._x_refs={}),r._x_refs[e]=i,t(()=>delete r._x_refs[e])};je("ref",op);je("if",(i,{expression:e},{effect:t,cleanup:r})=>{i.tagName.toLowerCase()!=="template"&&It("x-if can only be used on a <template> tag",i);let a=ft(i,e),l=()=>{if(i._x_currentIfEl)return i._x_currentIfEl;let p=i.content.cloneNode(!0).firstElementChild;return Gr(p,{},i),ze(()=>{i.after(p),zi(()=>ui(p))()}),i._x_currentIfEl=p,i._x_undoIf=()=>{ze(()=>{Jn(p),p.remove()}),delete i._x_currentIfEl},p},h=()=>{i._x_undoIf&&(i._x_undoIf(),delete i._x_undoIf)};t(()=>a(p=>{p?l():h()})),r(()=>i._x_undoIf&&i._x_undoIf())});je("id",(i,{expression:e},{evaluate:t})=>{t(e).forEach(a=>Ky(i,a))});Wa((i,e)=>{i._x_ids&&(e._x_ids=i._x_ids)});xc(mf("@",bf($n("on:"))));je("on",zi((i,{value:e,modifiers:t,expression:r},{cleanup:a})=>{let l=r?ft(i,r):()=>{};i.tagName.toLowerCase()==="template"&&(i._x_forwardEvents||(i._x_forwardEvents=[]),i._x_forwardEvents.includes(e)||i._x_forwardEvents.push(e));let h=Cl(i,e,t,p=>{l(()=>{},{scope:{$event:p},params:[p]})});a(()=>h())}));ja("Collapse","collapse","collapse");ja("Intersect","intersect","intersect");ja("Focus","trap","focus");ja("Mask","mask","mask");function ja(i,e,t){je(e,r=>It(`You can't use [x-${e}] without first installing the "${i}" plugin here: https://alpinejs.dev/plugins/${t}`,r))}Ur.setEvaluator(uf);Ur.setReactivityEngine({reactive:Pc,effect:Sy,release:ky,raw:Ie});var dv=Ur,lp=dv;function cp(i,e){return function(){return i.apply(e,arguments)}}const{toString:uv}=Object.prototype,{getPrototypeOf:Rc}=Object,{iterator:Ga,toStringTag:hp}=Symbol,qa=(i=>e=>{const t=uv.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),jt=i=>(i=i.toLowerCase(),e=>qa(e)===i),Ua=i=>e=>typeof e===i,{isArray:Zn}=Array,Xn=Ua("undefined");function $r(i){return i!==null&&!Xn(i)&&i.constructor!==null&&!Xn(i.constructor)&&xt(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const dp=jt("ArrayBuffer");function fv(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&dp(i.buffer),e}const pv=Ua("string"),xt=Ua("function"),up=Ua("number"),Kr=i=>i!==null&&typeof i=="object",gv=i=>i===!0||i===!1,Is=i=>{if(qa(i)!=="object")return!1;const e=Rc(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hp in i)&&!(Ga in i)},mv=i=>{if(!Kr(i)||$r(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},bv=jt("Date"),xv=jt("File"),yv=jt("Blob"),vv=jt("FileList"),wv=i=>Kr(i)&&xt(i.pipe),Sv=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||xt(i.append)&&((e=qa(i))==="formdata"||e==="object"&&xt(i.toString)&&i.toString()==="[object FormData]"))},kv=jt("URLSearchParams"),[Av,Cv,Ev,Tv]=["ReadableStream","Request","Response","Headers"].map(jt),Mv=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jr(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let r,a;if(typeof i!="object"&&(i=[i]),Zn(i))for(r=0,a=i.length;r<a;r++)e.call(null,i[r],r,i);else{if($r(i))return;const l=t?Object.getOwnPropertyNames(i):Object.keys(i),h=l.length;let p;for(r=0;r<h;r++)p=l[r],e.call(null,i[p],p,i)}}function fp(i,e){if($r(i))return null;e=e.toLowerCase();const t=Object.keys(i);let r=t.length,a;for(;r-- >0;)if(a=t[r],e===a.toLowerCase())return a;return null}const $i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pp=i=>!Xn(i)&&i!==$i;function El(){const{caseless:i,skipUndefined:e}=pp(this)&&this||{},t={},r=(a,l)=>{const h=i&&fp(t,l)||l;Is(t[h])&&Is(a)?t[h]=El(t[h],a):Is(a)?t[h]=El({},a):Zn(a)?t[h]=a.slice():(!e||!Xn(a))&&(t[h]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Jr(arguments[a],r);return t}const Lv=(i,e,t,{allOwnKeys:r}={})=>(Jr(e,(a,l)=>{t&&xt(a)?i[l]=cp(a,t):i[l]=a},{allOwnKeys:r}),i),Pv=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Rv=(i,e,t,r)=>{i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},Ov=(i,e,t,r)=>{let a,l,h;const p={};if(e=e||{},i==null)return e;do{for(a=Object.getOwnPropertyNames(i),l=a.length;l-- >0;)h=a[l],(!r||r(h,i,e))&&!p[h]&&(e[h]=i[h],p[h]=!0);i=t!==!1&&Rc(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},Iv=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const r=i.indexOf(e,t);return r!==-1&&r===t},Nv=i=>{if(!i)return null;if(Zn(i))return i;let e=i.length;if(!up(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},Dv=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Rc(Uint8Array)),Fv=(i,e)=>{const r=(i&&i[Ga]).call(i);let a;for(;(a=r.next())&&!a.done;){const l=a.value;e.call(i,l[0],l[1])}},zv=(i,e)=>{let t;const r=[];for(;(t=i.exec(e))!==null;)r.push(t);return r},Bv=jt("HTMLFormElement"),Hv=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,a){return r.toUpperCase()+a}),ed=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),_v=jt("RegExp"),gp=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),r={};Jr(t,(a,l)=>{let h;(h=e(a,l,i))!==!1&&(r[l]=h||a)}),Object.defineProperties(i,r)},Wv=i=>{gp(i,(e,t)=>{if(xt(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=i[t];if(xt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Xv=(i,e)=>{const t={},r=a=>{a.forEach(l=>{t[l]=!0})};return Zn(i)?r(i):r(String(i).split(e)),t},Yv=()=>{},Vv=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function jv(i){return!!(i&&xt(i.append)&&i[hp]==="FormData"&&i[Ga])}const Gv=i=>{const e=new Array(10),t=(r,a)=>{if(Kr(r)){if(e.indexOf(r)>=0)return;if($r(r))return r;if(!("toJSON"in r)){e[a]=r;const l=Zn(r)?[]:{};return Jr(r,(h,p)=>{const x=t(h,a+1);!Xn(x)&&(l[p]=x)}),e[a]=void 0,l}}return r};return t(i,0)},qv=jt("AsyncFunction"),Uv=i=>i&&(Kr(i)||xt(i))&&xt(i.then)&&xt(i.catch),mp=((i,e)=>i?setImmediate:e?((t,r)=>($i.addEventListener("message",({source:a,data:l})=>{a===$i&&l===t&&r.length&&r.shift()()},!1),a=>{r.push(a),$i.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",xt($i.postMessage)),$v=typeof queueMicrotask<"u"?queueMicrotask.bind($i):typeof process<"u"&&process.nextTick||mp,Kv=i=>i!=null&&xt(i[Ga]),ee={isArray:Zn,isArrayBuffer:dp,isBuffer:$r,isFormData:Sv,isArrayBufferView:fv,isString:pv,isNumber:up,isBoolean:gv,isObject:Kr,isPlainObject:Is,isEmptyObject:mv,isReadableStream:Av,isRequest:Cv,isResponse:Ev,isHeaders:Tv,isUndefined:Xn,isDate:bv,isFile:xv,isBlob:yv,isRegExp:_v,isFunction:xt,isStream:wv,isURLSearchParams:kv,isTypedArray:Dv,isFileList:vv,forEach:Jr,merge:El,extend:Lv,trim:Mv,stripBOM:Pv,inherits:Rv,toFlatObject:Ov,kindOf:qa,kindOfTest:jt,endsWith:Iv,toArray:Nv,forEachEntry:Fv,matchAll:zv,isHTMLForm:Bv,hasOwnProperty:ed,hasOwnProp:ed,reduceDescriptors:gp,freezeMethods:Wv,toObjectSet:Xv,toCamelCase:Hv,noop:Yv,toFiniteNumber:Vv,findKey:fp,global:$i,isContextDefined:pp,isSpecCompliantForm:jv,toJSONObject:Gv,isAsyncFn:qv,isThenable:Uv,setImmediate:mp,asap:$v,isIterable:Kv};function ve(i,e,t,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ee.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const bp=ve.prototype,xp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{xp[i]={value:i}});Object.defineProperties(ve,xp);Object.defineProperty(bp,"isAxiosError",{value:!0});ve.from=(i,e,t,r,a,l)=>{const h=Object.create(bp);ee.toFlatObject(i,h,function(A){return A!==Error.prototype},w=>w!=="isAxiosError");const p=i&&i.message?i.message:"Error",x=e==null&&i?i.code:e;return ve.call(h,p,x,t,r,a),i&&h.cause==null&&Object.defineProperty(h,"cause",{value:i,configurable:!0}),h.name=i&&i.name||"Error",l&&Object.assign(h,l),h};const Jv=null;function Tl(i){return ee.isPlainObject(i)||ee.isArray(i)}function yp(i){return ee.endsWith(i,"[]")?i.slice(0,-2):i}function td(i,e,t){return i?i.concat(e).map(function(a,l){return a=yp(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function Zv(i){return ee.isArray(i)&&!i.some(Tl)}const Qv=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function $a(i,e,t){if(!ee.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=ee.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(X,W){return!ee.isUndefined(W[X])});const r=t.metaTokens,a=t.visitor||A,l=t.dots,h=t.indexes,x=(t.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(a))throw new TypeError("visitor must be a function");function w(P){if(P===null)return"";if(ee.isDate(P))return P.toISOString();if(ee.isBoolean(P))return P.toString();if(!x&&ee.isBlob(P))throw new ve("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(P)||ee.isTypedArray(P)?x&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function A(P,X,W){let Y=P;if(P&&!W&&typeof P=="object"){if(ee.endsWith(X,"{}"))X=r?X:X.slice(0,-2),P=JSON.stringify(P);else if(ee.isArray(P)&&Zv(P)||(ee.isFileList(P)||ee.endsWith(X,"[]"))&&(Y=ee.toArray(P)))return X=yp(X),Y.forEach(function(K,Q){!(ee.isUndefined(K)||K===null)&&e.append(h===!0?td([X],Q,l):h===null?X:X+"[]",w(K))}),!1}return Tl(P)?!0:(e.append(td(W,X,l),w(P)),!1)}const M=[],R=Object.assign(Qv,{defaultVisitor:A,convertValue:w,isVisitable:Tl});function z(P,X){if(!ee.isUndefined(P)){if(M.indexOf(P)!==-1)throw Error("Circular reference detected in "+X.join("."));M.push(P),ee.forEach(P,function(Y,$){(!(ee.isUndefined(Y)||Y===null)&&a.call(e,Y,ee.isString($)?$.trim():$,X,R))===!0&&z(Y,X?X.concat($):[$])}),M.pop()}}if(!ee.isObject(i))throw new TypeError("data must be an object");return z(i),e}function id(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Oc(i,e){this._pairs=[],i&&$a(i,this,e)}const vp=Oc.prototype;vp.append=function(e,t){this._pairs.push([e,t])};vp.toString=function(e){const t=e?function(r){return e.call(this,r,id)}:id;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function e0(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wp(i,e,t){if(!e)return i;const r=t&&t.encode||e0;ee.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=ee.isURLSearchParams(e)?e.toString():new Oc(e,t).toString(r),l){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+l}return i}class nd{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Sp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t0=typeof URLSearchParams<"u"?URLSearchParams:Oc,i0=typeof FormData<"u"?FormData:null,n0=typeof Blob<"u"?Blob:null,r0={isBrowser:!0,classes:{URLSearchParams:t0,FormData:i0,Blob:n0},protocols:["http","https","file","blob","url","data"]},Ic=typeof window<"u"&&typeof document<"u",Ml=typeof navigator=="object"&&navigator||void 0,s0=Ic&&(!Ml||["ReactNative","NativeScript","NS"].indexOf(Ml.product)<0),a0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o0=Ic&&window.location.href||"http://localhost",l0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ic,hasStandardBrowserEnv:s0,hasStandardBrowserWebWorkerEnv:a0,navigator:Ml,origin:o0},Symbol.toStringTag,{value:"Module"})),ot={...l0,...r0};function c0(i,e){return $a(i,new ot.classes.URLSearchParams,{visitor:function(t,r,a,l){return ot.isNode&&ee.isBuffer(t)?(this.append(r,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function h0(i){return ee.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function d0(i){const e={},t=Object.keys(i);let r;const a=t.length;let l;for(r=0;r<a;r++)l=t[r],e[l]=i[l];return e}function kp(i){function e(t,r,a,l){let h=t[l++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),x=l>=t.length;return h=!h&&ee.isArray(a)?a.length:h,x?(ee.hasOwnProp(a,h)?a[h]=[a[h],r]:a[h]=r,!p):((!a[h]||!ee.isObject(a[h]))&&(a[h]=[]),e(t,r,a[h],l)&&ee.isArray(a[h])&&(a[h]=d0(a[h])),!p)}if(ee.isFormData(i)&&ee.isFunction(i.entries)){const t={};return ee.forEachEntry(i,(r,a)=>{e(h0(r),a,t,0)}),t}return null}function u0(i,e,t){if(ee.isString(i))try{return(e||JSON.parse)(i),ee.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(i)}const Zr={transitional:Sp,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,l=ee.isObject(e);if(l&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return a?JSON.stringify(kp(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return c0(e,this.formSerializer).toString();if((p=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return $a(p?{"files[]":e}:e,x&&new x,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),u0(e)):e}],transformResponse:[function(e){const t=this.transitional||Zr.transitional,r=t&&t.forcedJSONParsing,a=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||a)){const h=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(p){if(h)throw p.name==="SyntaxError"?ve.from(p,ve.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],i=>{Zr.headers[i]={}});const f0=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p0=i=>{const e={};let t,r,a;return i&&i.split(`
`).forEach(function(h){a=h.indexOf(":"),t=h.substring(0,a).trim().toLowerCase(),r=h.substring(a+1).trim(),!(!t||e[t]&&f0[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},rd=Symbol("internals");function cr(i){return i&&String(i).trim().toLowerCase()}function Ns(i){return i===!1||i==null?i:ee.isArray(i)?i.map(Ns):String(i)}function g0(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(i);)e[r[1]]=r[2];return e}const m0=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function No(i,e,t,r,a){if(ee.isFunction(r))return r.call(this,e,t);if(a&&(e=t),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function b0(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function x0(i,e){const t=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+t,{value:function(a,l,h){return this[r].call(this,e,a,l,h)},configurable:!0})})}let yt=class{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function l(p,x,w){const A=cr(x);if(!A)throw new Error("header name must be a non-empty string");const M=ee.findKey(a,A);(!M||a[M]===void 0||w===!0||w===void 0&&a[M]!==!1)&&(a[M||x]=Ns(p))}const h=(p,x)=>ee.forEach(p,(w,A)=>l(w,A,x));if(ee.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(ee.isString(e)&&(e=e.trim())&&!m0(e))h(p0(e),t);else if(ee.isObject(e)&&ee.isIterable(e)){let p={},x,w;for(const A of e){if(!ee.isArray(A))throw TypeError("Object iterator must return a key-value pair");p[w=A[0]]=(x=p[w])?ee.isArray(x)?[...x,A[1]]:[x,A[1]]:A[1]}h(p,t)}else e!=null&&l(t,e,r);return this}get(e,t){if(e=cr(e),e){const r=ee.findKey(this,e);if(r){const a=this[r];if(!t)return a;if(t===!0)return g0(a);if(ee.isFunction(t))return t.call(this,a,r);if(ee.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=cr(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||No(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let a=!1;function l(h){if(h=cr(h),h){const p=ee.findKey(r,h);p&&(!t||No(r,r[p],p,t))&&(delete r[p],a=!0)}}return ee.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const l=t[r];(!e||No(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,r={};return ee.forEach(this,(a,l)=>{const h=ee.findKey(r,l);if(h){t[h]=Ns(a),delete t[l];return}const p=e?b0(l):String(l).trim();p!==l&&delete t[l],t[p]=Ns(a),r[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ee.forEach(this,(r,a)=>{r!=null&&r!==!1&&(t[a]=e&&ee.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[rd]=this[rd]={accessors:{}}).accessors,a=this.prototype;function l(h){const p=cr(h);r[p]||(x0(a,h),r[p]=!0)}return ee.isArray(e)?e.forEach(l):l(e),this}};yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(yt.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(r){this[t]=r}}});ee.freezeMethods(yt);function Do(i,e){const t=this||Zr,r=e||t,a=yt.from(r.headers);let l=r.data;return ee.forEach(i,function(p){l=p.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function Ap(i){return!!(i&&i.__CANCEL__)}function Qn(i,e,t){ve.call(this,i??"canceled",ve.ERR_CANCELED,e,t),this.name="CanceledError"}ee.inherits(Qn,ve,{__CANCEL__:!0});function Cp(i,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?i(t):e(new ve("Request failed with status code "+t.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function y0(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function v0(i,e){i=i||10;const t=new Array(i),r=new Array(i);let a=0,l=0,h;return e=e!==void 0?e:1e3,function(x){const w=Date.now(),A=r[l];h||(h=w),t[a]=x,r[a]=w;let M=l,R=0;for(;M!==a;)R+=t[M++],M=M%i;if(a=(a+1)%i,a===l&&(l=(l+1)%i),w-h<e)return;const z=A&&w-A;return z?Math.round(R*1e3/z):void 0}}function w0(i,e){let t=0,r=1e3/e,a,l;const h=(w,A=Date.now())=>{t=A,a=null,l&&(clearTimeout(l),l=null),i(...w)};return[(...w)=>{const A=Date.now(),M=A-t;M>=r?h(w,A):(a=w,l||(l=setTimeout(()=>{l=null,h(a)},r-M)))},()=>a&&h(a)]}const Gs=(i,e,t=3)=>{let r=0;const a=v0(50,250);return w0(l=>{const h=l.loaded,p=l.lengthComputable?l.total:void 0,x=h-r,w=a(x),A=h<=p;r=h;const M={loaded:h,total:p,progress:p?h/p:void 0,bytes:x,rate:w||void 0,estimated:w&&p&&A?(p-h)/w:void 0,event:l,lengthComputable:p!=null,[e?"download":"upload"]:!0};i(M)},t)},sd=(i,e)=>{const t=i!=null;return[r=>e[0]({lengthComputable:t,total:i,loaded:r}),e[1]]},ad=i=>(...e)=>ee.asap(()=>i(...e)),S0=ot.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,ot.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,k0=ot.hasStandardBrowserEnv?{write(i,e,t,r,a,l){const h=[i+"="+encodeURIComponent(e)];ee.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),ee.isString(r)&&h.push("path="+r),ee.isString(a)&&h.push("domain="+a),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function A0(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function C0(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function Ep(i,e,t){let r=!A0(e);return i&&(r||t==!1)?C0(i,e):e}const od=i=>i instanceof yt?{...i}:i;function gn(i,e){e=e||{};const t={};function r(w,A,M,R){return ee.isPlainObject(w)&&ee.isPlainObject(A)?ee.merge.call({caseless:R},w,A):ee.isPlainObject(A)?ee.merge({},A):ee.isArray(A)?A.slice():A}function a(w,A,M,R){if(ee.isUndefined(A)){if(!ee.isUndefined(w))return r(void 0,w,M,R)}else return r(w,A,M,R)}function l(w,A){if(!ee.isUndefined(A))return r(void 0,A)}function h(w,A){if(ee.isUndefined(A)){if(!ee.isUndefined(w))return r(void 0,w)}else return r(void 0,A)}function p(w,A,M){if(M in e)return r(w,A);if(M in i)return r(void 0,w)}const x={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(w,A,M)=>a(od(w),od(A),M,!0)};return ee.forEach(Object.keys({...i,...e}),function(A){const M=x[A]||a,R=M(i[A],e[A],A);ee.isUndefined(R)&&M!==p||(t[A]=R)}),t}const Tp=i=>{const e=gn({},i);let{data:t,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:h,auth:p}=e;if(e.headers=h=yt.from(h),e.url=wp(Ep(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),ee.isFormData(t)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(ee.isFunction(t.getHeaders)){const x=t.getHeaders(),w=["content-type","content-length"];Object.entries(x).forEach(([A,M])=>{w.includes(A.toLowerCase())&&h.set(A,M)})}}if(ot.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&S0(e.url))){const x=a&&l&&k0.read(l);x&&h.set(a,x)}return e},E0=typeof XMLHttpRequest<"u",T0=E0&&function(i){return new Promise(function(t,r){const a=Tp(i);let l=a.data;const h=yt.from(a.headers).normalize();let{responseType:p,onUploadProgress:x,onDownloadProgress:w}=a,A,M,R,z,P;function X(){z&&z(),P&&P(),a.cancelToken&&a.cancelToken.unsubscribe(A),a.signal&&a.signal.removeEventListener("abort",A)}let W=new XMLHttpRequest;W.open(a.method.toUpperCase(),a.url,!0),W.timeout=a.timeout;function Y(){if(!W)return;const K=yt.from("getAllResponseHeaders"in W&&W.getAllResponseHeaders()),H={data:!p||p==="text"||p==="json"?W.responseText:W.response,status:W.status,statusText:W.statusText,headers:K,config:i,request:W};Cp(function(U){t(U),X()},function(U){r(U),X()},H),W=null}"onloadend"in W?W.onloadend=Y:W.onreadystatechange=function(){!W||W.readyState!==4||W.status===0&&!(W.responseURL&&W.responseURL.indexOf("file:")===0)||setTimeout(Y)},W.onabort=function(){W&&(r(new ve("Request aborted",ve.ECONNABORTED,i,W)),W=null)},W.onerror=function(Q){const H=Q&&Q.message?Q.message:"Network Error",J=new ve(H,ve.ERR_NETWORK,i,W);J.event=Q||null,r(J),W=null},W.ontimeout=function(){let Q=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const H=a.transitional||Sp;a.timeoutErrorMessage&&(Q=a.timeoutErrorMessage),r(new ve(Q,H.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,i,W)),W=null},l===void 0&&h.setContentType(null),"setRequestHeader"in W&&ee.forEach(h.toJSON(),function(Q,H){W.setRequestHeader(H,Q)}),ee.isUndefined(a.withCredentials)||(W.withCredentials=!!a.withCredentials),p&&p!=="json"&&(W.responseType=a.responseType),w&&([R,P]=Gs(w,!0),W.addEventListener("progress",R)),x&&W.upload&&([M,z]=Gs(x),W.upload.addEventListener("progress",M),W.upload.addEventListener("loadend",z)),(a.cancelToken||a.signal)&&(A=K=>{W&&(r(!K||K.type?new Qn(null,i,W):K),W.abort(),W=null)},a.cancelToken&&a.cancelToken.subscribe(A),a.signal&&(a.signal.aborted?A():a.signal.addEventListener("abort",A)));const $=y0(a.url);if($&&ot.protocols.indexOf($)===-1){r(new ve("Unsupported protocol "+$+":",ve.ERR_BAD_REQUEST,i));return}W.send(l||null)})},M0=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let r=new AbortController,a;const l=function(w){if(!a){a=!0,p();const A=w instanceof Error?w:this.reason;r.abort(A instanceof ve?A:new Qn(A instanceof Error?A.message:A))}};let h=e&&setTimeout(()=>{h=null,l(new ve(`timeout ${e} of ms exceeded`,ve.ETIMEDOUT))},e);const p=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(w=>{w.unsubscribe?w.unsubscribe(l):w.removeEventListener("abort",l)}),i=null)};i.forEach(w=>w.addEventListener("abort",l));const{signal:x}=r;return x.unsubscribe=()=>ee.asap(p),x}},L0=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let r=0,a;for(;r<t;)a=r+e,yield i.slice(r,a),r=a},P0=async function*(i,e){for await(const t of R0(i))yield*L0(t,e)},R0=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},ld=(i,e,t,r)=>{const a=P0(i,e);let l=0,h,p=x=>{h||(h=!0,r&&r(x))};return new ReadableStream({async pull(x){try{const{done:w,value:A}=await a.next();if(w){p(),x.close();return}let M=A.byteLength;if(t){let R=l+=M;t(R)}x.enqueue(new Uint8Array(A))}catch(w){throw p(w),w}},cancel(x){return p(x),a.return()}},{highWaterMark:2})},cd=64*1024,{isFunction:ps}=ee,O0=(({Request:i,Response:e})=>({Request:i,Response:e}))(ee.global),{ReadableStream:hd,TextEncoder:dd}=ee.global,ud=(i,...e)=>{try{return!!i(...e)}catch{return!1}},I0=i=>{i=ee.merge.call({skipUndefined:!0},O0,i);const{fetch:e,Request:t,Response:r}=i,a=e?ps(e):typeof fetch=="function",l=ps(t),h=ps(r);if(!a)return!1;const p=a&&ps(hd),x=a&&(typeof dd=="function"?(P=>X=>P.encode(X))(new dd):async P=>new Uint8Array(await new t(P).arrayBuffer())),w=l&&p&&ud(()=>{let P=!1;const X=new t(ot.origin,{body:new hd,method:"POST",get duplex(){return P=!0,"half"}}).headers.has("Content-Type");return P&&!X}),A=h&&p&&ud(()=>ee.isReadableStream(new r("").body)),M={stream:A&&(P=>P.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(P=>{!M[P]&&(M[P]=(X,W)=>{let Y=X&&X[P];if(Y)return Y.call(X);throw new ve(`Response type '${P}' is not supported`,ve.ERR_NOT_SUPPORT,W)})});const R=async P=>{if(P==null)return 0;if(ee.isBlob(P))return P.size;if(ee.isSpecCompliantForm(P))return(await new t(ot.origin,{method:"POST",body:P}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(P)||ee.isArrayBuffer(P))return P.byteLength;if(ee.isURLSearchParams(P)&&(P=P+""),ee.isString(P))return(await x(P)).byteLength},z=async(P,X)=>{const W=ee.toFiniteNumber(P.getContentLength());return W??R(X)};return async P=>{let{url:X,method:W,data:Y,signal:$,cancelToken:K,timeout:Q,onDownloadProgress:H,onUploadProgress:J,responseType:U,headers:V,withCredentials:re="same-origin",fetchOptions:ue}=Tp(P),me=e||fetch;U=U?(U+"").toLowerCase():"text";let ye=M0([$,K&&K.toAbortSignal()],Q),Re=null;const Ae=ye&&ye.unsubscribe&&(()=>{ye.unsubscribe()});let _t;try{if(J&&w&&W!=="get"&&W!=="head"&&(_t=await z(V,Y))!==0){let Et=new t(X,{method:"POST",body:Y,duplex:"half"}),Tt;if(ee.isFormData(Y)&&(Tt=Et.headers.get("content-type"))&&V.setContentType(Tt),Et.body){const[ti,Wi]=sd(_t,Gs(ad(J)));Y=ld(Et.body,cd,ti,Wi)}}ee.isString(re)||(re=re?"include":"omit");const We=l&&"credentials"in t.prototype,dt={...ue,signal:ye,method:W.toUpperCase(),headers:V.normalize().toJSON(),body:Y,duplex:"half",credentials:We?re:void 0};Re=l&&new t(X,dt);let Ye=await(l?me(Re,ue):me(X,dt));const ns=A&&(U==="stream"||U==="response");if(A&&(H||ns&&Ae)){const Et={};["status","statusText","headers"].forEach(rs=>{Et[rs]=Ye[rs]});const Tt=ee.toFiniteNumber(Ye.headers.get("content-length")),[ti,Wi]=H&&sd(Tt,Gs(ad(H),!0))||[];Ye=new r(ld(Ye.body,cd,ti,()=>{Wi&&Wi(),Ae&&Ae()}),Et)}U=U||"text";let nr=await M[ee.findKey(M,U)||"text"](Ye,P);return!ns&&Ae&&Ae(),await new Promise((Et,Tt)=>{Cp(Et,Tt,{data:nr,headers:yt.from(Ye.headers),status:Ye.status,statusText:Ye.statusText,config:P,request:Re})})}catch(We){throw Ae&&Ae(),We&&We.name==="TypeError"&&/Load failed|fetch/i.test(We.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,P,Re),{cause:We.cause||We}):ve.from(We,We&&We.code,P,Re)}}},N0=new Map,Mp=i=>{let e=i?i.env:{};const{fetch:t,Request:r,Response:a}=e,l=[r,a,t];let h=l.length,p=h,x,w,A=N0;for(;p--;)x=l[p],w=A.get(x),w===void 0&&A.set(x,w=p?new Map:I0(e)),A=w;return w};Mp();const Ll={http:Jv,xhr:T0,fetch:{get:Mp}};ee.forEach(Ll,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const fd=i=>`- ${i}`,D0=i=>ee.isFunction(i)||i===null||i===!1,Lp={getAdapter:(i,e)=>{i=ee.isArray(i)?i:[i];const{length:t}=i;let r,a;const l={};for(let h=0;h<t;h++){r=i[h];let p;if(a=r,!D0(r)&&(a=Ll[(p=String(r)).toLowerCase()],a===void 0))throw new ve(`Unknown adapter '${p}'`);if(a&&(ee.isFunction(a)||(a=a.get(e))))break;l[p||"#"+h]=a}if(!a){const h=Object.entries(l).map(([x,w])=>`adapter ${x} `+(w===!1?"is not supported by the environment":"is not available in the build"));let p=t?h.length>1?`since :
`+h.map(fd).join(`
`):" "+fd(h[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return a},adapters:Ll};function Fo(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Qn(null,i)}function pd(i){return Fo(i),i.headers=yt.from(i.headers),i.data=Do.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Lp.getAdapter(i.adapter||Zr.adapter,i)(i).then(function(r){return Fo(i),r.data=Do.call(i,i.transformResponse,r),r.headers=yt.from(r.headers),r},function(r){return Ap(r)||(Fo(i),r&&r.response&&(r.response.data=Do.call(i,i.transformResponse,r.response),r.response.headers=yt.from(r.response.headers))),Promise.reject(r)})}const Pp="1.12.2",Ka={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Ka[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});const gd={};Ka.transitional=function(e,t,r){function a(l,h){return"[Axios v"+Pp+"] Transitional option '"+l+"'"+h+(r?". "+r:"")}return(l,h,p)=>{if(e===!1)throw new ve(a(h," has been removed"+(t?" in "+t:"")),ve.ERR_DEPRECATED);return t&&!gd[h]&&(gd[h]=!0,console.warn(a(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,h,p):!0}};Ka.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function F0(i,e,t){if(typeof i!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let a=r.length;for(;a-- >0;){const l=r[a],h=e[l];if(h){const p=i[l],x=p===void 0||h(p,l,i);if(x!==!0)throw new ve("option "+l+" must be "+x,ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ve("Unknown option "+l,ve.ERR_BAD_OPTION)}}const Ds={assertOptions:F0,validators:Ka},qt=Ds.validators;let an=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nd,response:new nd}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=gn(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:l}=t;r!==void 0&&Ds.assertOptions(r,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),a!=null&&(ee.isFunction(a)?t.paramsSerializer={serialize:a}:Ds.assertOptions(a,{encode:qt.function,serialize:qt.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ds.assertOptions(t,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=l&&ee.merge(l.common,l[t.method]);l&&ee.forEach(["delete","get","head","post","put","patch","common"],P=>{delete l[P]}),t.headers=yt.concat(h,l);const p=[];let x=!0;this.interceptors.request.forEach(function(X){typeof X.runWhen=="function"&&X.runWhen(t)===!1||(x=x&&X.synchronous,p.unshift(X.fulfilled,X.rejected))});const w=[];this.interceptors.response.forEach(function(X){w.push(X.fulfilled,X.rejected)});let A,M=0,R;if(!x){const P=[pd.bind(this),void 0];for(P.unshift(...p),P.push(...w),R=P.length,A=Promise.resolve(t);M<R;)A=A.then(P[M++],P[M++]);return A}R=p.length;let z=t;for(;M<R;){const P=p[M++],X=p[M++];try{z=P(z)}catch(W){X.call(this,W);break}}try{A=pd.call(this,z)}catch(P){return Promise.reject(P)}for(M=0,R=w.length;M<R;)A=A.then(w[M++],w[M++]);return A}getUri(e){e=gn(this.defaults,e);const t=Ep(e.baseURL,e.url,e.allowAbsoluteUrls);return wp(t,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){an.prototype[e]=function(t,r){return this.request(gn(r||{},{method:e,url:t,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function t(r){return function(l,h,p){return this.request(gn(p||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:h}))}}an.prototype[e]=t(),an.prototype[e+"Form"]=t(!0)});let z0=class Rp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const h=new Promise(p=>{r.subscribe(p),l=p}).then(a);return h.cancel=function(){r.unsubscribe(l)},h},e(function(l,h,p){r.reason||(r.reason=new Qn(l,h,p),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Rp(function(a){e=a}),cancel:e}}};function B0(i){return function(t){return i.apply(null,t)}}function H0(i){return ee.isObject(i)&&i.isAxiosError===!0}const Pl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pl).forEach(([i,e])=>{Pl[e]=i});function Op(i){const e=new an(i),t=cp(an.prototype.request,e);return ee.extend(t,an.prototype,e,{allOwnKeys:!0}),ee.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return Op(gn(i,a))},t}const Xe=Op(Zr);Xe.Axios=an;Xe.CanceledError=Qn;Xe.CancelToken=z0;Xe.isCancel=Ap;Xe.VERSION=Pp;Xe.toFormData=$a;Xe.AxiosError=ve;Xe.Cancel=Xe.CanceledError;Xe.all=function(e){return Promise.all(e)};Xe.spread=B0;Xe.isAxiosError=H0;Xe.mergeConfig=gn;Xe.AxiosHeaders=yt;Xe.formToJSON=i=>kp(ee.isHTMLForm(i)?new FormData(i):i);Xe.getAdapter=Lp.getAdapter;Xe.HttpStatusCode=Pl;Xe.default=Xe;const{Axios:CM,AxiosError:EM,CanceledError:TM,isCancel:MM,CancelToken:LM,VERSION:PM,all:RM,Cancel:OM,isAxiosError:IM,spread:NM,toFormData:DM,AxiosHeaders:FM,HttpStatusCode:zM,formToJSON:BM,getAdapter:HM,mergeConfig:_M}=Xe;var Ip=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],qs=Ip.join(","),Np=typeof Element>"u",mn=Np?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Rl=!Np&&Element.prototype.getRootNode?function(i){return i.getRootNode()}:function(i){return i.ownerDocument},Dp=function(e,t,r){var a=Array.prototype.slice.apply(e.querySelectorAll(qs));return t&&mn.call(e,qs)&&a.unshift(e),a=a.filter(r),a},Fp=function i(e,t,r){for(var a=[],l=Array.from(e);l.length;){var h=l.shift();if(h.tagName==="SLOT"){var p=h.assignedElements(),x=p.length?p:h.children,w=i(x,!0,r);r.flatten?a.push.apply(a,w):a.push({scope:h,candidates:w})}else{var A=mn.call(h,qs);A&&r.filter(h)&&(t||!e.includes(h))&&a.push(h);var M=h.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(h),R=!r.shadowRootFilter||r.shadowRootFilter(h);if(M&&R){var z=i(M===!0?h.children:M.children,!0,r);r.flatten?a.push.apply(a,z):a.push({scope:h,candidates:z})}else l.unshift.apply(l,h.children)}}return a},zp=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},_0=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Bp=function(e){return e.tagName==="INPUT"},W0=function(e){return Bp(e)&&e.type==="hidden"},X0=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Y0=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},V0=function(e){if(!e.name)return!0;var t=e.form||Rl(e),r=function(p){return t.querySelectorAll('input[type="radio"][name="'+p+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=r(window.CSS.escape(e.name));else try{a=r(e.name)}catch(h){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",h.message),!1}var l=Y0(a,e.form);return!l||l===e},j0=function(e){return Bp(e)&&e.type==="radio"},G0=function(e){return j0(e)&&!V0(e)},md=function(e){var t=e.getBoundingClientRect(),r=t.width,a=t.height;return r===0&&a===0},q0=function(e,t){var r=t.displayCheck,a=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=mn.call(e,"details>summary:first-of-type"),h=l?e.parentElement:e;if(mn.call(h,"details:not([open]) *"))return!0;var p=Rl(e).host,x=p?.ownerDocument.contains(p)||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof a=="function"){for(var w=e;e;){var A=e.parentElement,M=Rl(e);if(A&&!A.shadowRoot&&a(A)===!0)return md(e);e.assignedSlot?e=e.assignedSlot:!A&&M!==e.ownerDocument?e=M.host:e=A}e=w}if(x)return!e.getClientRects().length}else if(r==="non-zero-area")return md(e);return!1},U0=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var a=t.children.item(r);if(a.tagName==="LEGEND")return mn.call(t,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}t=t.parentElement}return!1},Us=function(e,t){return!(t.disabled||W0(t)||q0(t,e)||X0(t)||U0(t))},Ol=function(e,t){return!(G0(t)||zp(t)<0||!Us(e,t))},$0=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},K0=function i(e){var t=[],r=[];return e.forEach(function(a,l){var h=!!a.scope,p=h?a.scope:a,x=zp(p,h),w=h?i(a.candidates):p;x===0?h?t.push.apply(t,w):t.push(p):r.push({documentOrder:l,tabIndex:x,item:a,isScope:h,content:w})}),r.sort(_0).reduce(function(a,l){return l.isScope?a.push.apply(a,l.content):a.push(l.content),a},[]).concat(t)},J0=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Fp([e],t.includeContainer,{filter:Ol.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:$0}):r=Dp(e,t.includeContainer,Ol.bind(null,t)),K0(r)},Hp=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Fp([e],t.includeContainer,{filter:Us.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Dp(e,t.includeContainer,Us.bind(null,t)),r},gs=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return mn.call(e,qs)===!1?!1:Ol(t,e)},Z0=Ip.concat("iframe").join(","),Fs=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return mn.call(e,Z0)===!1?!1:Us(t,e)};function bd(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function xd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bd(Object(t),!0).forEach(function(r){Q0(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):bd(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Q0(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var yd=(function(){var i=[];return{activateTrap:function(t){if(i.length>0){var r=i[i.length-1];r!==t&&r.pause()}var a=i.indexOf(t);a===-1||i.splice(a,1),i.push(t)},deactivateTrap:function(t){var r=i.indexOf(t);r!==-1&&i.splice(r,1),i.length>0&&i[i.length-1].unpause()}}})(),ew=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},tw=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},iw=function(e){return e.key==="Tab"||e.keyCode===9},vd=function(e){return setTimeout(e,0)},wd=function(e,t){var r=-1;return e.every(function(a,l){return t(a)?(r=l,!1):!0}),r},hr=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,r):e},ms=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},nw=function(e,t){var r=t?.document||document,a=xd({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),l={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},h,p=function(J,U,V){return J&&J[U]!==void 0?J[U]:a[V||U]},x=function(J){return l.containerGroups.findIndex(function(U){var V=U.container,re=U.tabbableNodes;return V.contains(J)||re.find(function(ue){return ue===J})})},w=function(J){var U=a[J];if(typeof U=="function"){for(var V=arguments.length,re=new Array(V>1?V-1:0),ue=1;ue<V;ue++)re[ue-1]=arguments[ue];U=U.apply(void 0,re)}if(U===!0&&(U=void 0),!U){if(U===void 0||U===!1)return U;throw new Error("`".concat(J,"` was specified but was not a node, or did not return a node"))}var me=U;if(typeof U=="string"&&(me=r.querySelector(U),!me))throw new Error("`".concat(J,"` as selector refers to no known node"));return me},A=function(){var J=w("initialFocus");if(J===!1)return!1;if(J===void 0)if(x(r.activeElement)>=0)J=r.activeElement;else{var U=l.tabbableGroups[0],V=U&&U.firstTabbableNode;J=V||w("fallbackFocus")}if(!J)throw new Error("Your focus-trap needs to have at least one focusable element");return J},M=function(){if(l.containerGroups=l.containers.map(function(J){var U=J0(J,a.tabbableOptions),V=Hp(J,a.tabbableOptions);return{container:J,tabbableNodes:U,focusableNodes:V,firstTabbableNode:U.length>0?U[0]:null,lastTabbableNode:U.length>0?U[U.length-1]:null,nextTabbableNode:function(ue){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ye=V.findIndex(function(Re){return Re===ue});if(!(ye<0))return me?V.slice(ye+1).find(function(Re){return gs(Re,a.tabbableOptions)}):V.slice(0,ye).reverse().find(function(Re){return gs(Re,a.tabbableOptions)})}}}),l.tabbableGroups=l.containerGroups.filter(function(J){return J.tabbableNodes.length>0}),l.tabbableGroups.length<=0&&!w("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},R=function H(J){if(J!==!1&&J!==r.activeElement){if(!J||!J.focus){H(A());return}J.focus({preventScroll:!!a.preventScroll}),l.mostRecentlyFocusedNode=J,ew(J)&&J.select()}},z=function(J){var U=w("setReturnFocus",J);return U||(U===!1?!1:J)},P=function(J){var U=ms(J);if(!(x(U)>=0)){if(hr(a.clickOutsideDeactivates,J)){h.deactivate({returnFocus:a.returnFocusOnDeactivate&&!Fs(U,a.tabbableOptions)});return}hr(a.allowOutsideClick,J)||J.preventDefault()}},X=function(J){var U=ms(J),V=x(U)>=0;V||U instanceof Document?V&&(l.mostRecentlyFocusedNode=U):(J.stopImmediatePropagation(),R(l.mostRecentlyFocusedNode||A()))},W=function(J){var U=ms(J);M();var V=null;if(l.tabbableGroups.length>0){var re=x(U),ue=re>=0?l.containerGroups[re]:void 0;if(re<0)J.shiftKey?V=l.tabbableGroups[l.tabbableGroups.length-1].lastTabbableNode:V=l.tabbableGroups[0].firstTabbableNode;else if(J.shiftKey){var me=wd(l.tabbableGroups,function(dt){var Ye=dt.firstTabbableNode;return U===Ye});if(me<0&&(ue.container===U||Fs(U,a.tabbableOptions)&&!gs(U,a.tabbableOptions)&&!ue.nextTabbableNode(U,!1))&&(me=re),me>=0){var ye=me===0?l.tabbableGroups.length-1:me-1,Re=l.tabbableGroups[ye];V=Re.lastTabbableNode}}else{var Ae=wd(l.tabbableGroups,function(dt){var Ye=dt.lastTabbableNode;return U===Ye});if(Ae<0&&(ue.container===U||Fs(U,a.tabbableOptions)&&!gs(U,a.tabbableOptions)&&!ue.nextTabbableNode(U))&&(Ae=re),Ae>=0){var _t=Ae===l.tabbableGroups.length-1?0:Ae+1,We=l.tabbableGroups[_t];V=We.firstTabbableNode}}}else V=w("fallbackFocus");V&&(J.preventDefault(),R(V))},Y=function(J){if(tw(J)&&hr(a.escapeDeactivates,J)!==!1){J.preventDefault(),h.deactivate();return}if(iw(J)){W(J);return}},$=function(J){var U=ms(J);x(U)>=0||hr(a.clickOutsideDeactivates,J)||hr(a.allowOutsideClick,J)||(J.preventDefault(),J.stopImmediatePropagation())},K=function(){if(l.active)return yd.activateTrap(h),l.delayInitialFocusTimer=a.delayInitialFocus?vd(function(){R(A())}):R(A()),r.addEventListener("focusin",X,!0),r.addEventListener("mousedown",P,{capture:!0,passive:!1}),r.addEventListener("touchstart",P,{capture:!0,passive:!1}),r.addEventListener("click",$,{capture:!0,passive:!1}),r.addEventListener("keydown",Y,{capture:!0,passive:!1}),h},Q=function(){if(l.active)return r.removeEventListener("focusin",X,!0),r.removeEventListener("mousedown",P,!0),r.removeEventListener("touchstart",P,!0),r.removeEventListener("click",$,!0),r.removeEventListener("keydown",Y,!0),h};return h={get active(){return l.active},get paused(){return l.paused},activate:function(J){if(l.active)return this;var U=p(J,"onActivate"),V=p(J,"onPostActivate"),re=p(J,"checkCanFocusTrap");re||M(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=r.activeElement,U&&U();var ue=function(){re&&M(),K(),V&&V()};return re?(re(l.containers.concat()).then(ue,ue),this):(ue(),this)},deactivate:function(J){if(!l.active)return this;var U=xd({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},J);clearTimeout(l.delayInitialFocusTimer),l.delayInitialFocusTimer=void 0,Q(),l.active=!1,l.paused=!1,yd.deactivateTrap(h);var V=p(U,"onDeactivate"),re=p(U,"onPostDeactivate"),ue=p(U,"checkCanReturnFocus"),me=p(U,"returnFocus","returnFocusOnDeactivate");V&&V();var ye=function(){vd(function(){me&&R(z(l.nodeFocusedBeforeActivation)),re&&re()})};return me&&ue?(ue(z(l.nodeFocusedBeforeActivation)).then(ye,ye),this):(ye(),this)},pause:function(){return l.paused||!l.active?this:(l.paused=!0,Q(),this)},unpause:function(){return!l.paused||!l.active?this:(l.paused=!1,M(),K(),this)},updateContainerElements:function(J){var U=[].concat(J).filter(Boolean);return l.containers=U.map(function(V){return typeof V=="string"?r.querySelector(V):V}),l.active&&M(),this}},h.updateContainerElements(e),h};function rw(i){let e,t;window.addEventListener("focusin",()=>{e=t,t=document.activeElement}),i.magic("focus",r=>{let a=r;return{__noscroll:!1,__wrapAround:!1,within(l){return a=l,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(l){return Fs(l)},previouslyFocused(){return e},lastFocused(){return e},focused(){return t},focusables(){return Array.isArray(a)?a:Hp(a,{displayCheck:"none"})},all(){return this.focusables()},isFirst(l){let h=this.all();return h[0]&&h[0].isSameNode(l)},isLast(l){let h=this.all();return h.length&&h.slice(-1)[0].isSameNode(l)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let l=this.all(),h=document.activeElement;if(l.indexOf(h)!==-1)return this.__wrapAround&&l.indexOf(h)===l.length-1?l[0]:l[l.indexOf(h)+1]},getPrevious(){let l=this.all(),h=document.activeElement;if(l.indexOf(h)!==-1)return this.__wrapAround&&l.indexOf(h)===0?l.slice(-1)[0]:l[l.indexOf(h)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(l){l&&setTimeout(()=>{l.hasAttribute("tabindex")||l.setAttribute("tabindex","0"),l.focus({preventScroll:this.__noscroll})})}}}),i.directive("trap",i.skipDuringClone((r,{expression:a,modifiers:l},{effect:h,evaluateLater:p,cleanup:x})=>{let w=p(a),A=!1,M={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>r},R=()=>{};if(l.includes("noautofocus"))M.initialFocus=!1;else{let W=r.querySelector("[autofocus]");W&&(M.initialFocus=W)}l.includes("inert")&&(M.onPostActivate=()=>{i.nextTick(()=>{R=Sd(r)})});let z=nw(r,M),P=()=>{};const X=()=>{R(),R=()=>{},P(),P=()=>{},z.deactivate({returnFocus:!l.includes("noreturn")})};h(()=>w(W=>{A!==W&&(W&&!A&&(l.includes("noscroll")&&(P=sw()),setTimeout(()=>{z.activate()},15)),!W&&A&&X(),A=!!W)})),x(X)},(r,{expression:a,modifiers:l},{evaluate:h})=>{l.includes("inert")&&h(a)&&Sd(r)}))}function Sd(i){let e=[];return _p(i,t=>{let r=t.hasAttribute("aria-hidden");t.setAttribute("aria-hidden","true"),e.push(()=>r||t.removeAttribute("aria-hidden"))}),()=>{for(;e.length;)e.pop()()}}function _p(i,e){i.isSameNode(document.body)||!i.parentNode||Array.from(i.parentNode.children).forEach(t=>{t.isSameNode(i)?_p(i.parentNode,e):e(t)})}function sw(){let i=document.documentElement.style.overflow,e=document.documentElement.style.paddingRight,t=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${t}px`,()=>{document.documentElement.style.overflow=i,document.documentElement.style.paddingRight=e}}var aw=rw;class ow{constructor(e=""){this.namespace=e}set(e,t,r=null,a="/",l={}){if(e=this._qualify(e),t=encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent),typeof r=="number"){const x=new Date;x.setDate(x.getDate()+r),r=x}r instanceof Date&&(r=r.toUTCString());const h={[e]:t,expires:r,path:a,SameSite:"Lax",Secure:!0,...l},p=[];document.cookie=Object.entries(h).reduce((x,w)=>x.concat(w.join("=")),p).join("; ")}get(e,t=""){e=this._qualify(e);const r=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t=r&&r[2]?r[2]:t,t.toString().replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)}isset(e){return e=this._qualify(e),document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"))!==null}remove(e){this.set(e,"","Thu, 01 Jan 1970 00:00:01 GMT")}_qualify(e){return encodeURIComponent(this.namespace+e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent)}}document.addEventListener("alpine:init",()=>{window.Alpine.data("notifications",i=>({open:!1,processing:!1,notifications:[],nextPageUrl:i,unread:0,init(){this.fetch()},fetch(){this.processing=!0,window.$http.get(this.nextPageUrl).then(e=>{this.unread=e.data.total_unread,this.notifications.push(...e.data.data),this.nextPageUrl=e.data.next_page_url}).catch(e=>{}).finally(()=>{this.processing=!1})},markAsRead(e){e.is_read||(this.processing=!0,window.$http.patch(e.url).then(t=>{this.unread--,e.is_read=!0}).catch(t=>{}).finally(()=>{this.processing=!1}))}}))});(function(i){if(typeof i.requestSubmit=="function")return;i.requestSubmit=function(r){r?(e(r,this),r.click()):(r=document.createElement("input"),r.type="submit",r.hidden=!0,this.appendChild(r),r.click(),this.removeChild(r))};function e(r,a){r instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),r.type=="submit"||t(TypeError,"The specified element is not a submit button"),r.form==a||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(r,a,l){throw new r("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+a+".",l)}})(HTMLFormElement.prototype);const Wp=new WeakMap;function lw(i){const e=i instanceof Element?i:i instanceof Node?i.parentElement:null,t=e?e.closest("input, button"):null;return t?.type=="submit"?t:null}function cw(i){const e=lw(i.target);e&&e.form&&Wp.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let i=window.Event.prototype;if("SubmitEvent"in window){const e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))i=e;else return}addEventListener("click",cw,!0),Object.defineProperty(i,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return Wp.get(this.target)}})})();const Ki={eager:"eager",lazy:"lazy"};class Bt extends HTMLElement{static delegateConstructor=void 0;loaded=Promise.resolve();static get observedAttributes(){return["disabled","loading","src"]}constructor(){super(),this.delegate=new Bt.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="src"?this.delegate.sourceURLChanged():e=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(e){e?this.setAttribute("refresh",e):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return hw(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}}function hw(i){return i.toLowerCase()==="lazy"?Ki.lazy:Ki.eager}const dw={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function Ir(i){if(i.getAttribute("data-turbo-eval")=="false")return i;{const e=document.createElement("script"),t=qp();return t&&(e.nonce=t),e.textContent=i.textContent,e.async=!1,uw(e,i),e}}function uw(i,e){for(const{name:t,value:r}of e.attributes)i.setAttribute(t,r)}function fw(i){const e=document.createElement("template");return e.innerHTML=i,e.content}function Fe(i,{target:e,cancelable:t,detail:r}={}){const a=new CustomEvent(i,{cancelable:t,bubbles:!0,composed:!0,detail:r});return e&&e.isConnected?e.dispatchEvent(a):document.documentElement.dispatchEvent(a),a}function kd(i){i.preventDefault(),i.stopImmediatePropagation()}function vr(){return document.visibilityState==="hidden"?Yp():Xp()}function Xp(){return new Promise(i=>requestAnimationFrame(()=>i()))}function Yp(){return new Promise(i=>setTimeout(()=>i(),0))}function pw(){return Promise.resolve()}function Vp(i=""){return new DOMParser().parseFromString(i,"text/html")}function jp(i,...e){const t=gw(i,e).replace(/^\n/,"").split(`
`),r=t[0].match(/^\s+/),a=r?r[0].length:0;return t.map(l=>l.slice(a)).join(`
`)}function gw(i,e){return i.reduce((t,r,a)=>{const l=e[a]==null?"":e[a];return t+r+l},"")}function Ni(){return Array.from({length:36}).map((i,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function $s(i,...e){for(const t of e.map(r=>r?.getAttribute(i)))if(typeof t=="string")return t;return null}function mw(i,...e){return e.some(t=>t&&t.hasAttribute(i))}function Ks(...i){for(const e of i)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function Js(...i){for(const e of i)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function bw(i,e=2e3){return new Promise(t=>{const r=()=>{i.removeEventListener("error",r),i.removeEventListener("load",r),t()};i.addEventListener("load",r,{once:!0}),i.addEventListener("error",r,{once:!0}),setTimeout(t,e)})}function Gp(i){switch(i){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function xw(i){return i=="advance"||i=="replace"||i=="restore"}function on(...i){const e=$s("data-turbo-action",...i);return xw(e)?e:null}function Nc(i){return document.querySelector(`meta[name="${i}"]`)}function Zs(i){const e=Nc(i);return e&&e.content}function qp(){const i=Nc("csp-nonce");if(i){const{nonce:e,content:t}=i;return e==""?t:e}}function yw(i,e){let t=Nc(i);return t||(t=document.createElement("meta"),t.setAttribute("name",i),document.head.appendChild(t)),t.setAttribute("content",e),t}function Fn(i,e){if(i instanceof Element)return i.closest(e)||Fn(i.assignedSlot||i.getRootNode()?.host,e)}function Dc(i){return!!i&&i.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof i.focus=="function"}function Up(i){return Array.from(i.querySelectorAll("[autofocus]")).find(Dc)}async function vw(i,e){const t=e();i(),await Xp();const r=e();return[t,r]}function $p(i){if(i==="_blank")return!1;if(i){for(const e of document.getElementsByName(i))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function Kp(i){const e=Fn(i,"a[href], a[xlink\\:href]");return!e||e.hasAttribute("download")||e.hasAttribute("target")&&e.target!=="_self"?null:e}function Jp(i){return it(i.getAttribute("href")||"")}function ww(i,e){let t=null;return(...r)=>{const a=()=>i.apply(this,r);clearTimeout(t),t=setTimeout(a,e)}}const Sw={"aria-disabled":{beforeSubmit:i=>{i.setAttribute("aria-disabled","true"),i.addEventListener("click",kd)},afterSubmit:i=>{i.removeAttribute("aria-disabled"),i.removeEventListener("click",kd)}},disabled:{beforeSubmit:i=>i.disabled=!0,afterSubmit:i=>i.disabled=!1}};class kw{#e=null;constructor(e){Object.assign(this,e)}get submitter(){return this.#e}set submitter(e){this.#e=Sw[e]||e}}const Aw=new kw({mode:"on",submitter:"disabled"}),Ge={drive:dw,forms:Aw};function it(i){return new URL(i.toString(),document.baseURI)}function ln(i){let e;if(i.hash)return i.hash.slice(1);if(e=i.href.match(/#(.*)$/))return e[1]}function Fc(i,e){const t=e?.getAttribute("formaction")||i.getAttribute("action")||i.action;return it(t)}function Cw(i){return(Mw(i).match(/\.[^.]*$/)||[])[0]||""}function Ew(i,e){const t=Ad(e.origin+e.pathname);return Ad(i.href)===t||i.href.startsWith(t)}function wi(i,e){return Ew(i,e)&&!Ge.drive.unvisitableExtensions.has(Cw(i))}function Il(i){const e=ln(i);return e!=null?i.href.slice(0,-(e.length+1)):i.href}function bs(i){return Il(i)}function Zp(i,e){return it(i).href==it(e).href}function Tw(i){return i.pathname.split("/").slice(1)}function Mw(i){return Tw(i).slice(-1)[0]}function Ad(i){return i.endsWith("/")?i:i+"/"}class Ja{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return it(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}class Lw extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){const r=this.values().next().value;this.delete(r)}super.add(e)}}const Qp=new Lw(20);function zc(i,e={}){const t=new Headers(e.headers||{}),r=Ni();return Qp.add(r),t.append("X-Turbo-Request-Id",r),window.fetch(i,{...e,headers:t})}function Za(i){switch(i.toLowerCase()){case"get":return St.get;case"post":return St.post;case"put":return St.put;case"patch":return St.patch;case"delete":return St.delete}}const St={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function eg(i){switch(i.toLowerCase()){case Si.multipart:return Si.multipart;case Si.plain:return Si.plain;default:return Si.urlEncoded}}const Si={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"};class er{abortController=new AbortController;#e=e=>{};constructor(e,t,r,a=new URLSearchParams,l=null,h=Si.urlEncoded){const[p,x]=Cd(it(r),t,a,h);this.delegate=e,this.url=p,this.target=l,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:x,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=h}get method(){return this.fetchOptions.method}set method(e){const t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,r=Za(e)||St.get;this.url.search="";const[a,l]=Cd(this.url,r,t,this.enctype);this.url=a,this.fetchOptions.body=l,this.fetchOptions.method=r.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this);const t=await this.#t(e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=zc(this.url.href,e);const r=await this.response;return await this.receive(r)}catch(r){if(r.name!=="AbortError")throw this.#i(r)&&this.delegate.requestErrored(this,r),r}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new Ja(e);return Fe("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return Qa(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async#t(e){const t=new Promise(a=>this.#e=a),r=Fe("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.#e},target:this.target});return this.url=r.detail.url,r.defaultPrevented&&await t,r}#i(e){return!Fe("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}}function Qa(i){return Za(i)==St.get}function Cd(i,e,t,r){const a=Array.from(t).length>0?new URLSearchParams(tg(t)):i.searchParams;return Qa(e)?[Pw(i,a),null]:r==Si.urlEncoded?[i,a]:[i,t]}function tg(i){const e=[];for(const[t,r]of i)r instanceof File||e.push([t,r]);return e}function Pw(i,e){const t=new URLSearchParams(tg(e));return i.search=t.toString(),i}class Rw{started=!1;constructor(e,t){this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}intersect=e=>{e.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)}}class tr{static contentType="text/vnd.turbo-stream.html";static wrap(e){return typeof e=="string"?new this(fw(e)):e}constructor(e){this.fragment=Ow(e)}}function Ow(i){for(const e of i.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const r of t.templateElement.content.querySelectorAll("script"))r.replaceWith(Ir(r));e.replaceWith(t)}return i}const Iw=100;class Nw{#e=null;#t=null;get(e){if(this.#t&&this.#t.url===e&&this.#t.expire>Date.now())return this.#t.request}setLater(e,t,r){this.clear(),this.#e=setTimeout(()=>{t.perform(),this.set(e,t,r),this.#e=null},Iw)}set(e,t,r){this.#t={url:e,request:t,expire:new Date(new Date().getTime()+r)}}clear(){this.#e&&clearTimeout(this.#e),this.#t=null}}const Dw=10*1e3,In=new Nw,Tn={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"};class eo{state=Tn.initialized;static confirmMethod(e){return Promise.resolve(confirm(e))}constructor(e,t,r,a=!1){const l=Ww(t,r),h=_w(Hw(t,r),l),p=Fw(t,r),x=Xw(t,r);this.delegate=e,this.formElement=t,this.submitter=r,this.fetchRequest=new er(this,l,h,p,t,x),this.mustRedirect=a}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=it(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){const{initialized:e,requesting:t}=Tn,r=$s("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof r=="string"&&!await(typeof Ge.forms.confirm=="function"?Ge.forms.confirm:eo.confirmMethod)(r,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=Tn;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=zw(Zs("csrf-param"))||Zs("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(tr.contentType)}requestStarted(e){this.state=Tn.waiting,this.submitter&&Ge.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),Ks(this.formElement),Fe("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){In.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(In.clear(),this.requestMustRedirect(e)&&Bw(t)){const r=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,r)}else this.state=Tn.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=Tn.stopped,this.submitter&&Ge.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),Js(this.formElement),Fe("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||mw("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}}function Fw(i,e){const t=new FormData(i),r=e?.getAttribute("name"),a=e?.getAttribute("value");return r&&t.append(r,a||""),t}function zw(i){if(i!=null){const t=(document.cookie?document.cookie.split("; "):[]).find(r=>r.startsWith(i));if(t){const r=t.split("=").slice(1).join("=");return r?decodeURIComponent(r):void 0}}}function Bw(i){return i.statusCode==200&&!i.redirected}function Hw(i,e){const t=typeof i.action=="string"?i.action:null;return e?.hasAttribute("formaction")?e.getAttribute("formaction")||"":i.getAttribute("action")||t||""}function _w(i,e){const t=it(i);return Qa(e)&&(t.search=""),t}function Ww(i,e){const t=e?.getAttribute("formmethod")||i.getAttribute("method")||"";return Za(t.toLowerCase())||St.get}function Xw(i,e){return eg(e?.getAttribute("formenctype")||i.enctype)}class to{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return Up(this.element)}get permanentElements(){return ng(this.element)}getPermanentElementById(e){return ig(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const r of this.permanentElements){const{id:a}=r,l=e.getPermanentElementById(a);l&&(t[a]=[r,l])}return t}}function ig(i,e){return i.querySelector(`#${e}[data-turbo-permanent]`)}function ng(i){return i.querySelectorAll("[id][data-turbo-permanent]")}class Bc{started=!1;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)};submitBubbled=e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,r=e.submitter||void 0;t&&Yw(t,r)&&Vw(t,r)&&this.delegate.willSubmitForm(t,r)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,r))}}}function Yw(i,e){return(e?.getAttribute("formmethod")||i.getAttribute("method"))!="dialog"}function Vw(i,e){const t=e?.getAttribute("formtarget")||i.getAttribute("target");return $p(t)}class rg{#e=e=>{};#t=e=>{};constructor(e,t){this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.focusElement(t),this.scrollToElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(ln(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:r,willRender:a,newSnapshot:l}=e,h=a;if(r)try{this.renderPromise=new Promise(A=>this.#e=A),this.renderer=e,await this.prepareToRenderSnapshot(e);const p=new Promise(A=>this.#t=A),x={resume:this.#t,render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(l,x)||await p,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(l,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.#e(void 0),delete this.renderPromise}else h&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class jw extends rg{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new to(this.element)}}class sg{constructor(e,t){this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickBubbled=e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent};linkClicked=e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent};willVisit=e=>{delete this.clickEvent};clickEventIsSignificant(e){const t=e.composed?e.target?.parentElement:e.target,r=Kp(t)||t;return r instanceof Element&&r.closest("turbo-frame, html")==this.element}}class ag{started=!1;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)};clickBubbled=e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,r=Kp(t);if(r&&$p(r.target)){const a=Jp(r);this.delegate.willFollowLinkToLocation(r,a,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(r,a))}}};clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}}class og{constructor(e,t){this.delegate=e,this.linkInterceptor=new ag(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,r){return this.delegate.willSubmitFormLinkToLocation(e,t,r)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){const r=document.createElement("form"),a="hidden";for(const[M,R]of t.searchParams)r.append(Object.assign(document.createElement("input"),{type:a,name:M,value:R}));const l=Object.assign(t,{search:""});r.setAttribute("data-turbo","true"),r.setAttribute("action",l.href),r.setAttribute("hidden","");const h=e.getAttribute("data-turbo-method");h&&r.setAttribute("method",h);const p=e.getAttribute("data-turbo-frame");p&&r.setAttribute("data-turbo-frame",p);const x=on(e);x&&r.setAttribute("data-turbo-action",x);const w=e.getAttribute("data-turbo-confirm");w&&r.setAttribute("data-turbo-confirm",w),e.hasAttribute("data-turbo-stream")&&r.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,r),document.body.appendChild(r),r.addEventListener("turbo:submit-end",()=>r.remove(),{once:!0}),requestAnimationFrame(()=>r.requestSubmit())}}class lg{static async preservingPermanentElements(e,t,r){const a=new this(e,t);a.enter(),await r(),a.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,r]=this.permanentElementMap[e];this.delegate.enteringBardo(t,r),this.replaceNewPermanentElementWithPlaceholder(r)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=Gw(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){this.getPlaceholderById(e.id)?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function Gw(i){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",i.id),e}class Hc{#e=null;static renderElement(e,t){}constructor(e,t,r,a=!0){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=r,this.willRender=a,this.renderElement=this.constructor.renderElement,this.promise=new Promise((l,h)=>this.resolvingFunctions={resolve:l,reject:h})}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await lg.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){const e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){this.#e||e.contains(this.currentSnapshot.activeElement)&&(this.#e=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.#e)&&this.#e instanceof HTMLElement&&(this.#e.focus(),this.#e=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}}class io extends Hc{static renderElement(e,t){const r=document.createRange();r.selectNodeContents(e),r.deleteContents();const a=t,l=a.ownerDocument?.createRange();l&&(l.selectNodeContents(a),e.appendChild(l.extractContents()))}constructor(e,t,r,a,l,h=!0){super(t,r,a,l,h),this.delegate=e}get shouldRender(){return!0}async render(){await vr(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await vr(),this.focusFirstAutofocusableElement(),await vr(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=qw(this.currentElement.getAttribute("data-autoscroll-block"),"end"),r=Uw(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:r}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=Ir(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function qw(i,e){return i=="end"||i=="start"||i=="center"||i=="nearest"?i:e}function Uw(i,e){return i=="auto"||i=="smooth"?i:e}var $w=(function(){const i=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:i,afterNodeAdded:i,beforeNodeMorphed:i,afterNodeMorphed:i,beforeNodeRemoved:i,afterNodeRemoved:i,beforeAttributeUpdated:i},head:{style:"merge",shouldPreserve:R=>R.getAttribute("im-preserve")==="true",shouldReAppend:R=>R.getAttribute("im-re-append")==="true",shouldRemove:i,afterHeadMorphed:i},restoreFocus:!0};function t(R,z,P={}){R=A(R);const X=M(z),W=w(R,X,P),Y=a(W,()=>p(W,R,X,$=>$.morphStyle==="innerHTML"?(l($,R,X),Array.from(R.childNodes)):r($,R,X)));return W.pantry.remove(),Y}function r(R,z,P){const X=M(z);let W=Array.from(X.childNodes);const Y=W.indexOf(z),$=W.length-(Y+1);return l(R,X,P,z,z.nextSibling),W=Array.from(X.childNodes),W.slice(Y,W.length-$)}function a(R,z){if(!R.config.restoreFocus)return z();let P=document.activeElement;if(!(P instanceof HTMLInputElement||P instanceof HTMLTextAreaElement))return z();const{id:X,selectionStart:W,selectionEnd:Y}=P,$=z();return X&&X!==document.activeElement?.id&&(P=R.target.querySelector(`#${X}`),P?.focus()),P&&!P.selectionEnd&&Y&&P.setSelectionRange(W,Y),$}const l=(function(){function R(Q,H,J,U=null,V=null){H instanceof HTMLTemplateElement&&J instanceof HTMLTemplateElement&&(H=H.content,J=J.content),U||=H.firstChild;for(const re of J.childNodes){if(U&&U!=V){const me=P(Q,re,U,V);if(me){me!==U&&W(Q,U,me),h(me,re,Q),U=me.nextSibling;continue}}if(re instanceof Element&&Q.persistentIds.has(re.id)){const me=Y(H,re.id,U,Q);h(me,re,Q),U=me.nextSibling;continue}const ue=z(H,re,U,Q);ue&&(U=ue.nextSibling)}for(;U&&U!=V;){const re=U;U=U.nextSibling,X(Q,re)}}function z(Q,H,J,U){if(U.callbacks.beforeNodeAdded(H)===!1)return null;if(U.idMap.has(H)){const V=document.createElement(H.tagName);return Q.insertBefore(V,J),h(V,H,U),U.callbacks.afterNodeAdded(V),V}else{const V=document.importNode(H,!0);return Q.insertBefore(V,J),U.callbacks.afterNodeAdded(V),V}}const P=(function(){function Q(U,V,re,ue){let me=null,ye=V.nextSibling,Re=0,Ae=re;for(;Ae&&Ae!=ue;){if(J(Ae,V)){if(H(U,Ae,V))return Ae;me===null&&(U.idMap.has(Ae)||(me=Ae))}if(me===null&&ye&&J(Ae,ye)&&(Re++,ye=ye.nextSibling,Re>=2&&(me=void 0)),Ae.contains(document.activeElement))break;Ae=Ae.nextSibling}return me||null}function H(U,V,re){let ue=U.idMap.get(V),me=U.idMap.get(re);if(!me||!ue)return!1;for(const ye of ue)if(me.has(ye))return!0;return!1}function J(U,V){const re=U,ue=V;return re.nodeType===ue.nodeType&&re.tagName===ue.tagName&&(!re.id||re.id===ue.id)}return Q})();function X(Q,H){if(Q.idMap.has(H))K(Q.pantry,H,null);else{if(Q.callbacks.beforeNodeRemoved(H)===!1)return;H.parentNode?.removeChild(H),Q.callbacks.afterNodeRemoved(H)}}function W(Q,H,J){let U=H;for(;U&&U!==J;){let V=U;U=U.nextSibling,X(Q,V)}return U}function Y(Q,H,J,U){const V=U.target.querySelector(`#${H}`)||U.pantry.querySelector(`#${H}`);return $(V,U),K(Q,V,J),V}function $(Q,H){const J=Q.id;for(;Q=Q.parentNode;){let U=H.idMap.get(Q);U&&(U.delete(J),U.size||H.idMap.delete(Q))}}function K(Q,H,J){if(Q.moveBefore)try{Q.moveBefore(H,J)}catch{Q.insertBefore(H,J)}else Q.insertBefore(H,J)}return R})(),h=(function(){function R($,K,Q){return Q.ignoreActive&&$===document.activeElement?null:(Q.callbacks.beforeNodeMorphed($,K)===!1||($ instanceof HTMLHeadElement&&Q.head.ignore||($ instanceof HTMLHeadElement&&Q.head.style!=="morph"?x($,K,Q):(z($,K,Q),Y($,Q)||l(Q,$,K))),Q.callbacks.afterNodeMorphed($,K)),$)}function z($,K,Q){let H=K.nodeType;if(H===1){const J=$,U=K,V=J.attributes,re=U.attributes;for(const ue of re)W(ue.name,J,"update",Q)||J.getAttribute(ue.name)!==ue.value&&J.setAttribute(ue.name,ue.value);for(let ue=V.length-1;0<=ue;ue--){const me=V[ue];if(me&&!U.hasAttribute(me.name)){if(W(me.name,J,"remove",Q))continue;J.removeAttribute(me.name)}}Y(J,Q)||P(J,U,Q)}(H===8||H===3)&&$.nodeValue!==K.nodeValue&&($.nodeValue=K.nodeValue)}function P($,K,Q){if($ instanceof HTMLInputElement&&K instanceof HTMLInputElement&&K.type!=="file"){let H=K.value,J=$.value;X($,K,"checked",Q),X($,K,"disabled",Q),K.hasAttribute("value")?J!==H&&(W("value",$,"update",Q)||($.setAttribute("value",H),$.value=H)):W("value",$,"remove",Q)||($.value="",$.removeAttribute("value"))}else if($ instanceof HTMLOptionElement&&K instanceof HTMLOptionElement)X($,K,"selected",Q);else if($ instanceof HTMLTextAreaElement&&K instanceof HTMLTextAreaElement){let H=K.value,J=$.value;if(W("value",$,"update",Q))return;H!==J&&($.value=H),$.firstChild&&$.firstChild.nodeValue!==H&&($.firstChild.nodeValue=H)}}function X($,K,Q,H){const J=K[Q],U=$[Q];if(J!==U){const V=W(Q,$,"update",H);V||($[Q]=K[Q]),J?V||$.setAttribute(Q,""):W(Q,$,"remove",H)||$.removeAttribute(Q)}}function W($,K,Q,H){return $==="value"&&H.ignoreActiveValue&&K===document.activeElement?!0:H.callbacks.beforeAttributeUpdated($,K,Q)===!1}function Y($,K){return!!K.ignoreActiveValue&&$===document.activeElement&&$!==document.body}return R})();function p(R,z,P,X){if(R.head.block){const W=z.querySelector("head"),Y=P.querySelector("head");if(W&&Y){const $=x(W,Y,R);return Promise.all($).then(()=>{const K=Object.assign(R,{head:{block:!1,ignore:!0}});return X(K)})}}return X(R)}function x(R,z,P){let X=[],W=[],Y=[],$=[],K=new Map;for(const H of z.children)K.set(H.outerHTML,H);for(const H of R.children){let J=K.has(H.outerHTML),U=P.head.shouldReAppend(H),V=P.head.shouldPreserve(H);J||V?U?W.push(H):(K.delete(H.outerHTML),Y.push(H)):P.head.style==="append"?U&&(W.push(H),$.push(H)):P.head.shouldRemove(H)!==!1&&W.push(H)}$.push(...K.values());let Q=[];for(const H of $){let J=document.createRange().createContextualFragment(H.outerHTML).firstChild;if(P.callbacks.beforeNodeAdded(J)!==!1){if("href"in J&&J.href||"src"in J&&J.src){let U,V=new Promise(function(re){U=re});J.addEventListener("load",function(){U()}),Q.push(V)}R.appendChild(J),P.callbacks.afterNodeAdded(J),X.push(J)}}for(const H of W)P.callbacks.beforeNodeRemoved(H)!==!1&&(R.removeChild(H),P.callbacks.afterNodeRemoved(H));return P.head.afterHeadMorphed(R,{added:X,kept:Y,removed:W}),Q}const w=(function(){function R(K,Q,H){const{persistentIds:J,idMap:U}=Y(K,Q),V=z(H),re=V.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(re))throw`Do not understand how to morph style ${re}`;return{target:K,newContent:Q,config:V,morphStyle:re,ignoreActive:V.ignoreActive,ignoreActiveValue:V.ignoreActiveValue,restoreFocus:V.restoreFocus,idMap:U,persistentIds:J,pantry:P(),callbacks:V.callbacks,head:V.head}}function z(K){let Q=Object.assign({},e);return Object.assign(Q,K),Q.callbacks=Object.assign({},e.callbacks,K.callbacks),Q.head=Object.assign({},e.head,K.head),Q}function P(){const K=document.createElement("div");return K.hidden=!0,document.body.insertAdjacentElement("afterend",K),K}function X(K){let Q=Array.from(K.querySelectorAll("[id]"));return K.id&&Q.push(K),Q}function W(K,Q,H,J){for(const U of J)if(Q.has(U.id)){let V=U;for(;V;){let re=K.get(V);if(re==null&&(re=new Set,K.set(V,re)),re.add(U.id),V===H)break;V=V.parentElement}}}function Y(K,Q){const H=X(K),J=X(Q),U=$(H,J);let V=new Map;W(V,U,K,H);const re=Q.__idiomorphRoot||Q;return W(V,U,re,J),{persistentIds:U,idMap:V}}function $(K,Q){let H=new Set,J=new Map;for(const{id:V,tagName:re}of K)J.has(V)?H.add(V):J.set(V,re);let U=new Set;for(const{id:V,tagName:re}of Q)U.has(V)?H.add(V):J.get(V)===re&&U.add(V);for(const V of H)U.delete(V);return U}return R})(),{normalizeElement:A,normalizeParent:M}=(function(){const R=new WeakSet;function z(Y){return Y instanceof Document?Y.documentElement:Y}function P(Y){if(Y==null)return document.createElement("div");if(typeof Y=="string")return P(W(Y));if(R.has(Y))return Y;if(Y instanceof Node){if(Y.parentNode)return X(Y);{const $=document.createElement("div");return $.append(Y),$}}else{const $=document.createElement("div");for(const K of[...Y])$.append(K);return $}}function X(Y){return{childNodes:[Y],querySelectorAll:$=>{const K=Y.querySelectorAll($);return Y.matches($)?[Y,...K]:K},insertBefore:($,K)=>Y.parentNode.insertBefore($,K),moveBefore:($,K)=>Y.parentNode.moveBefore($,K),get __idiomorphRoot(){return Y}}}function W(Y){let $=new DOMParser,K=Y.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(K.match(/<\/html>/)||K.match(/<\/head>/)||K.match(/<\/body>/)){let Q=$.parseFromString(Y,"text/html");if(K.match(/<\/html>/))return R.add(Q),Q;{let H=Q.firstChild;return H&&R.add(H),H}}else{let H=$.parseFromString("<body><template>"+Y+"</template></body>","text/html").body.querySelector("template").content;return R.add(H),H}}return{normalizeElement:z,normalizeParent:P}})();return{morph:t,defaults:e}})();function Qr(i,e,{callbacks:t,...r}={}){$w.morph(i,e,{...r,callbacks:new Kw(t)})}function no(i,e,t={}){Qr(i,e.childNodes,{...t,morphStyle:"innerHTML"})}function cg(i,e){return i instanceof Bt&&e instanceof Element&&e.nodeName==="TURBO-FRAME"&&i.shouldReloadWithMorph&&i.id===e.id&&(!e.getAttribute("src")||Zp(i.src,e.getAttribute("src")))&&!i.closest("[data-turbo-permanent]")}function hg(i){return i.parentElement.closest("turbo-frame[src][refresh=morph]")}class Kw{#e;constructor({beforeNodeMorphed:e}={}){this.#e=e||(()=>!0)}beforeNodeAdded=e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id));beforeNodeMorphed=(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&this.#e(e,t)?!Fe("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1};beforeAttributeUpdated=(e,t,r)=>!Fe("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:r}}).defaultPrevented;beforeNodeRemoved=e=>this.beforeNodeMorphed(e);afterNodeMorphed=(e,t)=>{e instanceof Element&&Fe("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})}}class dg extends io{static renderElement(e,t){Fe("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),no(e,t,{callbacks:{beforeNodeMorphed:(r,a)=>cg(r,a)&&hg(r)===e?(r.reload(),!1):!0}})}async preservingPermanentElements(e){return await e()}}class bi{static animationDuration=300;static get defaultCSS(){return jp`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${bi.animationDuration}ms ease-out,
          opacity ${bi.animationDuration/2}ms ${bi.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}hiding=!1;value=0;visible=!1;constructor(){this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,bi.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,bi.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}trickle=()=>{this.setValue(this.value+Math.random()/100)};refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const e=document.createElement("style");e.type="text/css",e.textContent=bi.defaultCSS;const t=qp();return t&&(e.nonce=t),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}}class Jw extends to{detailsByOuterHTML=this.children.filter(e=>!tS(e)).map(e=>rS(e)).reduce((e,t)=>{const{outerHTML:r}=t,a=r in e?e[r]:{type:Zw(t),tracked:Qw(t),elements:[]};return{...e,[r]:{...a,elements:[...a.elements,t]}}},{});get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(r=>!(r in t.detailsByOuterHTML)).map(r=>this.detailsByOuterHTML[r]).filter(({type:r})=>r==e).map(({elements:[r]})=>r)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{const{type:r,tracked:a,elements:l}=this.detailsByOuterHTML[t];return r==null&&!a?[...e,...l]:l.length>1?[...e,...l.slice(1)]:e},[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,r)=>{const{elements:[a]}=this.detailsByOuterHTML[r];return nS(a,e)?a:t},void 0|void 0)}}function Zw(i){if(eS(i))return"script";if(iS(i))return"stylesheet"}function Qw(i){return i.getAttribute("data-turbo-track")=="reload"}function eS(i){return i.localName=="script"}function tS(i){return i.localName=="noscript"}function iS(i){const e=i.localName;return e=="style"||e=="link"&&i.getAttribute("rel")=="stylesheet"}function nS(i,e){return i.localName=="meta"&&i.getAttribute("name")==e}function rS(i){return i.hasAttribute("nonce")&&i.setAttribute("nonce",""),i}class Dt extends to{static fromHTMLString(e=""){return this.fromDocument(Vp(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:r}){return new this(e,t,new Jw(r))}constructor(e,t,r){super(t),this.documentElement=e,this.headSnapshot=r}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),r=e.querySelectorAll("select");for(const[a,l]of t.entries()){const h=r[a];for(const p of h.selectedOptions)p.selected=!1;for(const p of l.selectedOptions)h.options[p.index].selected=!0}for(const a of e.querySelectorAll('input[type="password"]'))a.value="";return new Dt(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){const e=this.getSetting("root")??"/";return it(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return(this.getSetting("view-transition")==="true"||this.headSnapshot.getMetaValue("view-transition")==="same-origin")&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}class sS{#e=!1;#t=Promise.resolve();renderChange(e,t){return e&&this.viewTransitionsAvailable&&!this.#e?(this.#e=!0,this.#t=this.#t.then(async()=>{await document.startViewTransition(t).finished})):this.#t=this.#t.then(t),this.#t}get viewTransitionsAvailable(){return document.startViewTransition}}const aS={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},xs={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},ni={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},zn={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},oS={advance:"forward",restore:"back",replace:"none"};class lS{identifier=Ni();timingMetrics={};followedRedirect=!1;historyChanged=!1;scrolled=!1;shouldCacheSnapshot=!0;acceptsStreamResponse=!1;snapshotCached=!1;state=ni.initialized;viewTransitioner=new sS;constructor(e,t,r,a={}){this.delegate=e,this.location=t,this.restorationIdentifier=r||Ni();const{action:l,historyChanged:h,referrer:p,snapshot:x,snapshotHTML:w,response:A,visitCachedSnapshot:M,willRender:R,updateHistory:z,shouldCacheSnapshot:P,acceptsStreamResponse:X,direction:W}={...aS,...a};this.action=l,this.historyChanged=h,this.referrer=p,this.snapshot=x,this.snapshotHTML=w,this.response=A,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=M,this.willRender=R,this.updateHistory=z,this.scrolled=!R,this.shouldCacheSnapshot=P,this.acceptsStreamResponse=X,this.direction=W||oS[l]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==ni.initialized&&(this.recordTimingMetric(xs.visitStart),this.state=ni.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==ni.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=ni.canceled)}complete(){this.state==ni.started&&(this.recordTimingMetric(xs.visitEnd),this.adapter.visitCompleted(this),this.state=ni.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==ni.started&&(this.state=ni.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){const e=this.location.href===this.referrer?.href?"replace":this.action,t=Gp(e);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new er(this,St.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(xs.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;Ed(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(xs.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Ed(e)&&t!=null){const r=Dt.fromHTMLString(t);await this.renderPageSnapshot(r,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(Dt.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!ln(this.location)||e.hasAnchor(ln(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return Dt.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(tr.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const r=await t.responseHTML,{redirected:a,statusCode:l}=t;r==null?this.recordResponse({statusCode:zn.contentTypeMismatch,redirected:a}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:l,responseHTML:r,redirected:a}))}async requestFailedWithResponse(e,t){const r=await t.responseHTML,{redirected:a,statusCode:l}=t;r==null?this.recordResponse({statusCode:zn.contentTypeMismatch,redirected:a}):this.recordResponse({statusCode:l,responseHTML:r,redirected:a})}requestErrored(e,t){this.recordResponse({statusCode:zn.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=ln(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>t(),0):requestAnimationFrame(()=>t())}),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function Ed(i){return i>=200&&i<300}class cS{progressBar=new bi;constructor(e){this.session=e}visitProposedToLocation(e,t){wi(e,this.navigator.rootLocation)?this.navigator.startVisit(e,t?.restorationIdentifier||Ni(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,this.redirectedToLocation=null,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse(),e.response.redirected&&(this.redirectedToLocation=e.redirectedToLocation)}visitRequestFailedWithStatusCode(e,t){switch(t){case zn.networkFailure:case zn.timeoutFailure:case zn.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}showProgressBar=()=>{this.progressBar.show()};reload(e){Fe("turbo:reload",{detail:e}),window.location.href=(this.redirectedToLocation||this.location)?.toString()||window.location.href}get navigator(){return this.session.navigator}}class hS{selector="[data-turbo-temporary]";deprecatedSelector="[data-turbo-cache=false]";started=!1;start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}removeTemporaryElements=e=>{for(const t of this.temporaryElements)t.remove()};get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}}class dS{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new sg(this,t),this.formSubmitObserver=new Bc(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,r){return this.#t(e)}linkClickIntercepted(e,t,r){const a=this.#i(e);a&&a.delegate.linkClickIntercepted(e,t,r)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&this.#e(e,t)&&this.#t(e,t)}formSubmitted(e,t){const r=this.#i(e,t);r&&r.delegate.formSubmitted(e,t)}#e(e,t){const r=Fc(e,t),a=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),l=it(a?.content??"/");return this.#t(e,t)&&wi(r,l)}#t(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const a=this.#i(e,t);return a?a!=e.closest("turbo-frame"):!1}else return!1}#i(e,t){const r=t?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(r&&r!="_top"){const a=this.element.querySelector(`#${r}:not([disabled])`);if(a instanceof Bt)return a}}}let uS=class{location;restorationIdentifier=Ni();restorationData={};started=!1;pageLoaded=!1;currentIndex=0;constructor(e){this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,r=Ni()){e===history.pushState&&++this.currentIndex;const a={turbo:{restorationIdentifier:r,restorationIndex:this.currentIndex}};e.call(history,a,"",t.href),this.location=t,this.restorationIdentifier=r}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,r=this.restorationData[t];this.restorationData[t]={...r,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}onPopState=e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:r,restorationIndex:a}=t;this.restorationIdentifier=r;const l=a>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,r,l),this.currentIndex=a}}};onPageLoad=async e=>{await pw(),this.pageLoaded=!0};shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}};class fS{started=!1;#e=null;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",this.#t,{once:!0}):this.#t())}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",this.#i,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",this.#s,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",this.#r,!0),this.started=!1)}#t=()=>{this.eventTarget.addEventListener("mouseenter",this.#i,{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",this.#s,{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",this.#r,!0),this.started=!0};#i=e=>{if(Zs("turbo-prefetch")==="false")return;const t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&this.#l(t)){const a=t,l=Jp(a);if(this.delegate.canPrefetchRequestToLocation(a,l)){this.#e=a;const h=new er(this,St.get,l,new URLSearchParams,t);h.fetchOptions.priority="low",In.setLater(l.toString(),h,this.#n)}}};#s=e=>{e.target===this.#e&&this.#a()};#a=()=>{In.clear(),this.#e=null};#r=e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){const t=In.get(e.detail.url.toString());t&&(e.detail.fetchRequest=t),In.clear()}};prepareRequest(e){const t=e.target;e.headers["X-Sec-Purpose"]="prefetch";const r=t.closest("turbo-frame"),a=t.getAttribute("data-turbo-frame")||r?.getAttribute("target")||r?.id;a&&a!=="_top"&&(e.headers["Turbo-Frame"]=a)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}get#n(){return Number(Zs("turbo-prefetch-cache-time"))||Dw}#l(e){return!(!e.getAttribute("href")||pS(e)||gS(e)||mS(e)||bS(e)||yS(e))}}const pS=i=>i.origin!==document.location.origin||!["http:","https:"].includes(i.protocol)||i.hasAttribute("target"),gS=i=>i.pathname+i.search===document.location.pathname+document.location.search||i.href.startsWith("#"),mS=i=>{if(i.getAttribute("data-turbo-prefetch")==="false"||i.getAttribute("data-turbo")==="false")return!0;const e=Fn(i,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},bS=i=>{const e=i.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||xS(i)||i.hasAttribute("data-turbo-confirm")||i.hasAttribute("data-turbo-stream"))},xS=i=>i.hasAttribute("data-remote")||i.hasAttribute("data-behavior")||i.hasAttribute("data-confirm")||i.hasAttribute("data-method"),yS=i=>Fe("turbo:before-prefetch",{target:i,cancelable:!0}).defaultPrevented;class vS{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,r={}){this.stop(),this.currentVisit=new lS(this,it(e),t,{referrer:this.location,...r}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new eo(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const r=await t.responseHTML;if(r){const a=e.isSafe;a||this.view.clearSnapshotCache();const{statusCode:l,redirected:h}=t,x={action:this.#e(e,t),shouldCacheSnapshot:a,response:{statusCode:l,responseHTML:r,redirected:h}};this.proposeVisit(t.location,x)}}}async formSubmissionFailedWithResponse(e,t){const r=await t.responseHTML;if(r){const a=Dt.fromHTMLString(r);t.serverError?await this.view.renderError(a,this.currentVisit):await this.view.renderPage(a,!1,!0,this.currentVisit),a.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){const r=ln(e),a=ln(this.view.lastRenderedLocation),l=t==="restore"&&typeof r>"u";return t!=="replace"&&Il(e)===Il(this.view.lastRenderedLocation)&&(l||r!=null&&r!==a)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}#e(e,t){const{submitter:r,formElement:a}=e;return on(r,a)||this.#t(t)}#t(e){return e.redirected&&e.location.href===this.location?.href?"replace":"advance"}}const Yi={initial:0,loading:1,interactive:2,complete:3};class wS{stage=Yi.initial;started=!1;constructor(e){this.delegate=e}start(){this.started||(this.stage==Yi.initial&&(this.stage=Yi.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}interpretReadyState=()=>{const{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()};pageIsInteractive(){this.stage==Yi.loading&&(this.stage=Yi.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Yi.interactive&&(this.stage=Yi.complete,this.delegate.pageLoaded())}pageWillUnload=()=>{this.delegate.pageWillUnload()};get readyState(){return document.readyState}}class SS{started=!1;constructor(e){this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})};updatePosition(e){this.delegate.scrollPositionChanged(e)}}class kS{render({fragment:e}){lg.preservingPermanentElements(this,AS(e),()=>{CS(e,()=>{ES(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}function AS(i){const e=ng(document.documentElement),t={};for(const r of e){const{id:a}=r;for(const l of i.querySelectorAll("turbo-stream")){const h=ig(l.templateElement.content,a);h&&(t[a]=[r,h])}}return t}async function CS(i,e){const t=`turbo-stream-autofocus-${Ni()}`,r=i.querySelectorAll("turbo-stream"),a=TS(r);let l=null;if(a&&(a.id?l=a.id:l=t,a.id=l),e(),await vr(),(document.activeElement==null||document.activeElement==document.body)&&l){const p=document.getElementById(l);Dc(p)&&p.focus(),p&&p.id==t&&p.removeAttribute("id")}}async function ES(i){const[e,t]=await vw(i,()=>document.activeElement),r=e&&e.id;if(r){const a=document.getElementById(r);Dc(a)&&a!=t&&a.focus()}}function TS(i){for(const e of i){const t=Up(e.templateElement.content);if(t)return t}return null}class MS{sources=new Set;#e=!1;constructor(e){this.delegate=e}start(){this.#e||(this.#e=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.#e&&(this.#e=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}inspectFetchResponse=e=>{const t=LS(e);t&&PS(t)&&(e.preventDefault(),this.receiveMessageResponse(t))};receiveMessageEvent=e=>{this.#e&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)};async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(tr.wrap(e))}}function LS(i){const e=i.detail?.fetchResponse;if(e instanceof Ja)return e}function PS(i){return(i.contentType??"").startsWith(tr.contentType)}class RS extends Hc{static renderElement(e,t){const{documentElement:r,body:a}=document;r.replaceChild(t,a)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const r=Ir(e);t.replaceChild(r,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class ro extends Hc{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){this.#e(),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}#e(){const{documentElement:e}=this.currentSnapshot,{lang:t}=this.newSnapshot;t?e.setAttribute("lang",t):e.removeAttribute("lang")}async mergeHead(){const e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const e=[];for(const t of this.newHeadStylesheetElements)e.push(bw(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(Ir(e))}removeUnusedDynamicStylesheetElements(){for(const e of this.unusedDynamicStylesheetElements)document.head.removeChild(e)}async mergeProvisionalElements(){const e=[...this.newHeadProvisionalElements];for(const t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(const t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(const[r,a]of t.entries()){if(e.tagName=="TITLE"){if(a.tagName!="TITLE")continue;if(e.innerHTML==a.innerHTML)return t.splice(r,1),!0}if(a.isEqualNode(e))return t.splice(r,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=Ir(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(e=>e.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class ug extends ro{static renderElement(e,t){Qr(e,t,{callbacks:{beforeNodeMorphed:(r,a)=>cg(r,a)&&!hg(r)?(r.reload(),!1):!0}}),Fe("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}}class OS{keys=[];snapshots={};constructor(e){this.size=e}has(e){return bs(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[bs(e)]}write(e,t){this.snapshots[bs(e)]=t}touch(e){const t=bs(e),r=this.keys.indexOf(t);r>-1&&this.keys.splice(r,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class IS extends rg{snapshotCache=new OS(10);lastRenderedLocation=new URL(location.href);forceReloaded=!1;shouldTransitionTo(e){return this.snapshot.prefersViewTransitions&&e.prefersViewTransitions}renderPage(e,t=!1,r=!0,a){const h=this.isPageRefresh(a)&&this.snapshot.shouldMorphPage?ug:ro,p=new h(this.snapshot,e,t,r);return p.shouldRender?a?.changeHistory():this.forceReloaded=!0,this.render(p)}renderError(e,t){t?.changeHistory();const r=new RS(this.snapshot,e,!1);return this.render(r)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:t}=this;await Yp();const r=e.clone();return this.snapshotCache.put(t,r),r}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}isPageRefresh(e){return!e||this.lastRenderedLocation.pathname===e.location.pathname&&e.action==="replace"}shouldPreserveScrollPosition(e){return this.isPageRefresh(e)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return Dt.fromElement(this.element)}}class NS{selector="a[data-turbo-preload]";constructor(e,t){this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",this.#e):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",this.#e)}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(this.snapshotCache.has(t))return;await new er(this,St.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{const r=await t.responseHTML,a=Dt.fromHTMLString(r);this.snapshotCache.put(e.url,a)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}#e=()=>{this.preloadOnLoadLinksForView(document.body)}}class DS{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.#e("")}exemptPageFromCache(){this.#e("no-cache")}exemptPageFromPreview(){this.#e("no-preview")}#e(e){yw("turbo-cache-control",e)}}class FS{navigator=new vS(this);history=new uS(this);view=new IS(this,document.documentElement);adapter=new cS(this);pageObserver=new wS(this);cacheObserver=new hS;linkPrefetchObserver=new fS(this,document);linkClickObserver=new ag(this,window);formSubmitObserver=new Bc(this,document);scrollObserver=new SS(this);streamObserver=new MS(this);formLinkClickObserver=new og(this,document.documentElement);frameRedirector=new dS(this,document.documentElement);streamMessageRenderer=new kS;cache=new DS(this);enabled=!0;started=!1;#e=150;constructor(e){this.recentRequests=e,this.preloader=new NS(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const r=t.frame?document.getElementById(t.frame):null;if(r instanceof Bt){const a=t.action||on(r);r.delegate.proposeVisitIfNavigatedWithAction(r,a),r.src=e.toString()}else this.navigator.proposeVisit(it(e),t)}refresh(e,t){const r=t&&this.recentRequests.has(t),a=e===document.baseURI;!r&&!this.navigator.currentVisit&&a&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(tr.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){Ge.drive.progressBarDelay=e}get progressBarDelay(){return Ge.drive.progressBarDelay}set drive(e){Ge.drive.enabled=e}get drive(){return Ge.drive.enabled}set formMode(e){Ge.forms.mode=e}get formMode(){return Ge.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return this.#e}set pageRefreshDebouncePeriod(e){this.refresh=ww(this.debouncedRefresh.bind(this),e),this.#e=e}shouldPreloadLink(e){const t=e.hasAttribute("data-turbo-method"),r=e.hasAttribute("data-turbo-stream"),a=e.getAttribute("data-turbo-frame"),l=a=="_top"?null:document.getElementById(a)||Fn(e,"turbo-frame:not([disabled])");if(t||r||l instanceof Bt)return!1;{const h=new URL(e.href);return this.elementIsNavigatable(e)&&wi(h,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,r){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:r}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&wi(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&wi(t,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(t)}willFollowLinkToLocation(e,t,r){return this.elementIsNavigatable(e)&&wi(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,r)}followedLinkToLocation(e,t){const r=this.getActionForLink(e),a=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:r,acceptsStreamResponse:a})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){Td(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||(Ks(document.documentElement),this.view.markVisitDirection(e.direction)),Td(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),Js(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const r=Fc(e,t);return this.submissionIsNavigatable(e,t)&&wi(it(r),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){this.navigator.currentVisit?.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const r=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:a,detail:{render:l}}=r;return this.view.renderer&&l&&(this.view.renderer.renderElement=l),!a}viewRenderedSnapshot(e,t,r){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(r)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,r){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,r).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,r){return Fe("turbo:click",{target:e,detail:{url:t.href,originalEvent:r},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return Fe("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return Fe("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return Fe("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return Fe("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return Fe("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return Fe("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return Fe("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return Fe("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(Ge.forms.mode=="off")return!1;{const r=t?this.elementIsNavigatable(t):!0;return Ge.forms.mode=="optin"?r&&e.closest('[data-turbo="true"]')!=null:r&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=Fn(e,"[data-turbo]"),r=Fn(e,"turbo-frame");return Ge.drive.enabled||r?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return on(e)||"advance"}get snapshot(){return this.view.snapshot}}function Td(i){Object.defineProperties(i,zS)}const zS={absoluteURL:{get(){return this.toString()}}},He=new FS(Qp),{cache:fg,navigator:pg}=He;function _c(){He.start()}function gg(i){He.registerAdapter(i)}function mg(i,e){He.visit(i,e)}function Wc(i){He.connectStreamSource(i)}function Xc(i){He.disconnectStreamSource(i)}function bg(i){He.renderStreamMessage(i)}function xg(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),He.clearCache()}function yg(i){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ge.drive.progressBarDelay=i}function vg(i){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ge.forms.confirm=i}function wg(i){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Ge.forms.mode=i}function Sg(i,e){ug.renderElement(i,e)}function kg(i,e){dg.renderElement(i,e)}var BS=Object.freeze({__proto__:null,navigator:pg,session:He,cache:fg,PageRenderer:ro,PageSnapshot:Dt,FrameRenderer:io,fetch:zc,config:Ge,start:_c,registerAdapter:gg,visit:mg,connectStreamSource:Wc,disconnectStreamSource:Xc,renderStreamMessage:bg,clearCache:xg,setProgressBarDelay:yg,setConfirmMethod:vg,setFormMode:wg,morphBodyElements:Sg,morphTurboFrameElements:kg,morphChildren:no,morphElements:Qr});class HS extends Error{}class _S{fetchResponseLoaded=e=>Promise.resolve();#e=null;#t=()=>{};#i=!1;#s=!1;#a=new Set;#r=!1;action=null;constructor(e){this.element=e,this.view=new jw(this,this.element),this.appearanceObserver=new Rw(this,this.element),this.formLinkClickObserver=new og(this,this.element),this.linkInterceptor=new sg(this,this.element),this.restorationIdentifier=Ni(),this.formSubmitObserver=new Bc(this,this.element)}connect(){this.#i||(this.#i=!0,this.loadingStyle==Ki.lazy?this.appearanceObserver.start():this.#n(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.#i&&(this.#i=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Ki.eager&&this.#n()}sourceURLChanged(){this.#x("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Ki.eager||this.#s)&&this.#n())}sourceURLReloaded(){const{refresh:e,src:t}=this.element;return this.#r=t&&e==="morph",this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==Ki.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.#n())}async#n(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.#d(it(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.#s=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const r=Vp(t);Dt.fromDocument(r).isVisitable?await this.#l(e,r):await this.#f(e)}}finally{this.#r=!1,this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,on(e)),this.#n()}willSubmitFormLinkToLocation(e){return this.#c(e)}submittedFormLinkToLocation(e,t,r){const a=this.#o(e);a&&r.setAttribute("data-turbo-frame",a.id)}shouldInterceptLinkClick(e,t,r){return this.#c(e)}linkClickIntercepted(e,t){this.#u(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.#c(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new eo(this,e,t);const{fetchRequest:r}=this.formSubmission;this.prepareRequest(r),this.formSubmission.start()}prepareRequest(e){e.headers["Turbo-Frame"]=this.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&e.acceptResponseType(tr.contentType)}requestStarted(e){Ks(this.element)}requestPreventedHandlingResponse(e,t){this.#t()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.#t()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.#t()}requestErrored(e,t){console.error(t),this.#t()}requestFinished(e){Js(this.element)}formSubmissionStarted({formElement:e}){Ks(e,this.#o(e))}formSubmissionSucceededWithResponse(e,t){const r=this.#o(e.formElement,e.submitter);r.delegate.proposeVisitIfNavigatedWithAction(r,on(e.submitter,e.formElement,r)),r.delegate.loadResponse(t),e.isSafe||He.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),He.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){Js(e,this.#o(e))}allowsImmediateRender({element:e},t){const r=Fe("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:a,detail:{render:l}}=r;return this.view.renderer&&l&&(this.view.renderer.renderElement=l),!a}viewRenderedSnapshot(e,t,r){}preloadOnLoadLinksForView(e){He.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}visitCachedSnapshot=({element:e})=>{const t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement};async#l(e,t){const r=await this.extractForeignFrameElement(t.body),a=this.#r?dg:io;if(r){const l=new to(r),h=new a(this,this.view.snapshot,l,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(h),this.complete=!0,He.frameRendered(e,this.element),He.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else this.#p(e)&&this.#g(e)}async#d(e){const t=new er(this,St.get,e,new URLSearchParams,this.element);return this.#e?.cancel(),this.#e=t,new Promise(r=>{this.#t=()=>{this.#t=()=>{},this.#e=null,r()},t.perform()})}#u(e,t,r){const a=this.#o(e,r);a.delegate.proposeVisitIfNavigatedWithAction(a,on(r,e,a)),this.#v(e,()=>{a.src=t})}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){const r=Dt.fromElement(e).clone(),{visitCachedSnapshot:a}=e.delegate;e.delegate.fetchResponseLoaded=async l=>{if(e.src){const{statusCode:h,redirected:p}=l,x=await l.responseHTML,A={response:{statusCode:h,redirected:p,responseHTML:x},visitCachedSnapshot:a,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:r};this.action&&(A.action=this.action),He.visit(e.src,A)}}}}changeHistory(){if(this.action){const e=Gp(this.action);He.history.update(e,it(this.element.src||""),this.restorationIdentifier)}}async#f(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.#h(e.response)}#p(e){this.element.setAttribute("complete","");const t=e.response,r=async(l,h)=>{l instanceof Response?this.#h(l):He.visit(l,h)};return!Fe("turbo:frame-missing",{target:this.element,detail:{response:t,visit:r},cancelable:!0}).defaultPrevented}#g(e){this.view.missing(),this.#m(e)}#m(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new HS(t)}async#h(e){const t=new Ja(e),r=await t.responseHTML,{location:a,redirected:l,statusCode:h}=t;return He.visit(a,{response:{redirected:l,statusCode:h,responseHTML:r}})}#o(e,t){const r=$s("data-turbo-frame",t,e)||this.element.getAttribute("target");return Md(r)??this.element}async extractForeignFrameElement(e){let t;const r=CSS.escape(this.id);try{if(t=Ld(e.querySelector(`turbo-frame#${r}`),this.sourceURL),t)return t;if(t=Ld(e.querySelector(`turbo-frame[src][recurse~=${r}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(a){return console.error(a),new Bt}return null}#b(e,t){const r=Fc(e,t);return wi(it(r),this.rootLocation)}#c(e,t){const r=$s("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.#b(e,t)||!this.enabled||r=="_top")return!1;if(r){const a=Md(r);if(a)return!a.disabled}return!(!He.elementIsNavigatable(e)||t&&!He.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.#y("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.#t()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&this.#i}get rootLocation(){const t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return it(t)}#x(e){return this.#a.has(e)}#y(e,t){this.#a.add(e),t(),this.#a.delete(e)}#v(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}}function Md(i){if(i!=null){const e=document.getElementById(i);if(e instanceof Bt)return e}}function Ld(i,e){if(i){const t=i.getAttribute("src");if(t!=null&&e!=null&&Zp(t,e))throw new Error(`Matching <turbo-frame id="${i.id}"> element has a source URL which references itself`);if(i.ownerDocument!==document&&(i=document.importNode(i,!0)),i instanceof Bt)return i.connectedCallback(),i.disconnectedCallback(),i}}const Yc={after(){this.targetElements.forEach(i=>i.parentElement?.insertBefore(this.templateContent,i.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.append(this.templateContent))},before(){this.targetElements.forEach(i=>i.parentElement?.insertBefore(this.templateContent,i))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(i=>i.prepend(this.templateContent))},remove(){this.targetElements.forEach(i=>i.remove())},replace(){const i=this.getAttribute("method");this.targetElements.forEach(e=>{i==="morph"?Qr(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){const i=this.getAttribute("method");this.targetElements.forEach(e=>{i==="morph"?no(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){He.refresh(this.baseURI,this.requestId)}};class so extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){return this.renderPromise??=(async()=>{const e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await vr(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){const e=this.targetElements.flatMap(r=>[...r.children]).filter(r=>!!r.getAttribute("id")),t=[...this.templateContent?.children||[]].filter(r=>!!r.getAttribute("id")).map(r=>r.getAttribute("id"));return e.filter(r=>t.includes(r.getAttribute("id")))}get performAction(){if(this.action){const e=Yc[this.action];if(e)return e;this.#e("unknown action")}this.#e("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.#e("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.#e("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}#e(e){throw new Error(`${this.description}: ${e}`)}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:so.renderElement}})}get targetElementsById(){const e=this.ownerDocument?.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){const e=this.ownerDocument?.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}}class Ag extends HTMLElement{streamSource=null;connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Wc(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Xc(this.streamSource))}get src(){return this.getAttribute("src")||""}}Bt.delegateConstructor=_S;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Bt);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",so);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",Ag);(()=>{let i=document.currentScript;if(i&&!i.hasAttribute("data-turbo-suppress-warning"))for(i=i.parentElement;i;){if(i==document.body)return console.warn(jp`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,i.outerHTML);i=i.parentElement}})();window.Turbo={...BS,StreamActions:Yc};_c();const WS=Object.freeze(Object.defineProperty({__proto__:null,FetchEnctype:Si,FetchMethod:St,FetchRequest:er,FetchResponse:Ja,FrameElement:Bt,FrameLoadingStyle:Ki,FrameRenderer:io,PageRenderer:ro,PageSnapshot:Dt,StreamActions:Yc,StreamElement:so,StreamSourceElement:Ag,cache:fg,clearCache:xg,config:Ge,connectStreamSource:Wc,disconnectStreamSource:Xc,fetch:zc,fetchEnctypeFromString:eg,fetchMethodFromString:Za,isSafe:Qa,morphBodyElements:Sg,morphChildren:no,morphElements:Qr,morphTurboFrameElements:kg,navigator:pg,registerAdapter:gg,renderStreamMessage:bg,session:He,setConfirmMethod:vg,setFormMode:wg,setProgressBarDelay:yg,start:_c,visit:mg},Symbol.toStringTag,{value:"Module"}));window.Turbo=WS;lp.plugin(aw);window.Alpine=lp;window.$http=Xe.create({headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-Root-Request":"true"}});window.$cookie=new ow("__root_");(()=>{const i=e=>{e==="system"&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-mode",e)};document.addEventListener("theme:change",e=>{document.documentElement.classList.add("no-transition"),window.$cookie.set("theme",e.detail.theme),i(e.detail.theme),document.documentElement.classList.remove("no-transition")}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{window.$cookie.get("theme","system")==="system"&&i(e.matches?"dark":"light")}),i(window.$cookie.get("theme","system"))})();document.addEventListener("relation-frame-loaded",i=>{window.location.href!==i.detail.url&&window.history.replaceState(window.history.state,document.title,i.detail.url)});document.addEventListener("turbo:frame-missing",i=>{i.preventDefault()});function XS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ys={exports:{}};var Pd;function YS(){return Pd||(Pd=1,(function(i,e){function t(N,n){(n==null||n>N.length)&&(n=N.length);for(var s=0,o=Array(n);s<n;s++)o[s]=N[s];return o}function r(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function a(N,n){if(!(N instanceof n))throw new TypeError("Cannot call a class as a function")}function l(N,n){for(var s=0;s<n.length;s++){var o=n[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(N,$(o.key),o)}}function h(N,n,s){return n&&l(N.prototype,n),s&&l(N,s),Object.defineProperty(N,"prototype",{writable:!1}),N}function p(N,n){var s=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!s){if(Array.isArray(N)||(s=Q(N))||n){s&&(N=s);var o=0,c=function(){};return{s:c,n:function(){return o>=N.length?{done:!0}:{done:!1,value:N[o++]}},e:function(g){throw g},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,f=!1;return{s:function(){s=s.call(N)},n:function(){var g=s.next();return d=g.done,g},e:function(g){f=!0,u=g},f:function(){try{d||s.return==null||s.return()}finally{if(f)throw u}}}}function x(N){var n=R();return function(){var s,o=A(N);if(n){var c=A(this).constructor;s=Reflect.construct(o,arguments,c)}else s=o.apply(this,arguments);return(function(u,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(u)})(this,s)}}function w(N,n,s){return(n=$(n))in N?Object.defineProperty(N,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):N[n]=s,N}function A(N){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A(N)}function M(N,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(n&&n.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),n&&X(N,n)}function R(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(R=function(){return!!N})()}function z(N,n){var s=Object.keys(N);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(N);n&&(o=o.filter((function(c){return Object.getOwnPropertyDescriptor(N,c).enumerable}))),s.push.apply(s,o)}return s}function P(N){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?z(Object(s),!0).forEach((function(o){w(N,o,s[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(s)):z(Object(s)).forEach((function(o){Object.defineProperty(N,o,Object.getOwnPropertyDescriptor(s,o))}))}return N}function X(N,n){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},X(N,n)}function W(N,n){return(function(s){if(Array.isArray(s))return s})(N)||(function(s,o){var c=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(c!=null){var u,d,f,g,b=[],v=!0,y=!1;try{if(f=(c=c.call(s)).next,o===0){if(Object(c)!==c)return;v=!1}else for(;!(v=(u=f.call(c)).done)&&(b.push(u.value),b.length!==o);v=!0);}catch(S){y=!0,d=S}finally{try{if(!v&&c.return!=null&&(g=c.return(),Object(g)!==g))return}finally{if(y)throw d}}return b}})(N,n)||Q(N,n)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Y(N){return(function(n){if(Array.isArray(n))return t(n)})(N)||(function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)})(N)||Q(N)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function $(N){var n=(function(s,o){if(typeof s!="object"||!s)return s;var c=s[Symbol.toPrimitive];if(c!==void 0){var u=c.call(s,o);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)})(N,"string");return typeof n=="symbol"?n:n+""}function K(N){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},K(N)}function Q(N,n){if(N){if(typeof N=="string")return t(N,n);var s={}.toString.call(N).slice(8,-1);return s==="Object"&&N.constructor&&(s=N.constructor.name),s==="Map"||s==="Set"?Array.from(N):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?t(N,n):void 0}}var H=(function(){function N(){a(this,N)}return h(N,[{key:"shadeRGBColor",value:function(n,s){var o=s.split(","),c=n<0?0:255,u=n<0?-1*n:n,d=parseInt(o[0].slice(4),10),f=parseInt(o[1],10),g=parseInt(o[2],10);return"rgb("+(Math.round((c-d)*u)+d)+","+(Math.round((c-f)*u)+f)+","+(Math.round((c-g)*u)+g)+")"}},{key:"shadeHexColor",value:function(n,s){var o=parseInt(s.slice(1),16),c=n<0?0:255,u=n<0?-1*n:n,d=o>>16,f=o>>8&255,g=255&o;return"#"+(16777216+65536*(Math.round((c-d)*u)+d)+256*(Math.round((c-f)*u)+f)+(Math.round((c-g)*u)+g)).toString(16).slice(1)}},{key:"shadeColor",value:function(n,s){return N.isColorHex(s)?this.shadeHexColor(n,s):this.shadeRGBColor(n,s)}}],[{key:"bind",value:function(n,s){return function(){return n.apply(s,arguments)}}},{key:"isObject",value:function(n){return n&&K(n)==="object"&&!Array.isArray(n)&&n!=null}},{key:"is",value:function(n,s){return Object.prototype.toString.call(s)==="[object "+n+"]"}},{key:"listToArray",value:function(n){var s,o=[];for(s=0;s<n.length;s++)o[s]=n[s];return o}},{key:"extend",value:function(n,s){var o=this;typeof Object.assign!="function"&&(Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(u),f=1;f<arguments.length;f++){var g=arguments[f];if(g!=null)for(var b in g)g.hasOwnProperty(b)&&(d[b]=g[b])}return d});var c=Object.assign({},n);return this.isObject(n)&&this.isObject(s)&&Object.keys(s).forEach((function(u){o.isObject(s[u])&&u in n?c[u]=o.extend(n[u],s[u]):Object.assign(c,w({},u,s[u]))})),c}},{key:"extendArray",value:function(n,s){var o=[];return n.map((function(c){o.push(N.extend(s,c))})),n=o}},{key:"monthMod",value:function(n){return n%12}},{key:"clone",value:function(n){if(N.is("Array",n)){for(var s=[],o=0;o<n.length;o++)s[o]=this.clone(n[o]);return s}if(N.is("Null",n))return null;if(N.is("Date",n))return n;if(K(n)==="object"){var c={};for(var u in n)n.hasOwnProperty(u)&&(c[u]=this.clone(n[u]));return c}return n}},{key:"log10",value:function(n){return Math.log(n)/Math.LN10}},{key:"roundToBase10",value:function(n){return Math.pow(10,Math.floor(Math.log10(n)))}},{key:"roundToBase",value:function(n,s){return Math.pow(s,Math.floor(Math.log(n)/Math.log(s)))}},{key:"parseNumber",value:function(n){return n===null?n:parseFloat(n)}},{key:"stripNumber",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(n)?n:parseFloat(n.toPrecision(s))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(n){var s=String(n).split(/[eE]/);if(s.length===1)return s[0];var o="",c=n<0?"-":"",u=s[0].replace(".",""),d=Number(s[1])+1;if(d<0){for(o=c+"0.";d++;)o+="0";return o+u.replace(/^-/,"")}for(d-=u.length;d--;)o+="0";return u+o}},{key:"getDimensions",value:function(n){var s=getComputedStyle(n,null),o=n.clientHeight,c=n.clientWidth;return o-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),[c-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),o]}},{key:"getBoundingClientRect",value:function(n){var s=n.getBoundingClientRect();return{top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:n.clientWidth,height:n.clientHeight,x:s.left,y:s.top}}},{key:"getLargestStringFromArr",value:function(n){return n.reduce((function(s,o){return Array.isArray(o)&&(o=o.reduce((function(c,u){return c.length>u.length?c:u}))),s.length>o.length?s:o}),0)}},{key:"hexToRgba",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;n.substring(0,1)!=="#"&&(n="#999999");var o=n.replace("#","");o=o.match(new RegExp("(.{"+o.length/3+"})","g"));for(var c=0;c<o.length;c++)o[c]=parseInt(o[c].length===1?o[c]+o[c]:o[c],16);return s!==void 0&&o.push(s),"rgba("+o.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(n){return parseFloat(n.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(n){return(n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&n.length===4?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(n)}},{key:"getPolygonPos",value:function(n,s){for(var o=[],c=2*Math.PI/s,u=0;u<s;u++){var d={};d.x=n*Math.sin(u*c),d.y=-n*Math.cos(u*c),o.push(d)}return o}},{key:"polarToCartesian",value:function(n,s,o,c){var u=(c-90)*Math.PI/180;return{x:n+o*Math.cos(u),y:s+o*Math.sin(u)}}},{key:"escapeString",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",o=n.toString().slice();return o=o.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,s)}},{key:"negToZero",value:function(n){return n<0?0:n}},{key:"moveIndexInArray",value:function(n,s,o){if(o>=n.length)for(var c=o-n.length+1;c--;)n.push(void 0);return n.splice(o,0,n.splice(s,1)[0]),n}},{key:"extractNumber",value:function(n){return parseFloat(n.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(n,s){for(;(n=n.parentElement)&&!n.classList.contains(s););return n}},{key:"setELstyles",value:function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n.style.key=s[o])}},{key:"preciseAddition",value:function(n,s){var o=(String(n).split(".")[1]||"").length,c=(String(s).split(".")[1]||"").length,u=Math.pow(10,Math.max(o,c));return(Math.round(n*u)+Math.round(s*u))/u}},{key:"isNumber",value:function(n){return!isNaN(n)&&parseFloat(Number(n))===n&&!isNaN(parseInt(n,10))}},{key:"isFloat",value:function(n){return Number(n)===n&&n%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isMsEdge",value:function(){var n=window.navigator.userAgent,s=n.indexOf("Edge/");return s>0&&parseInt(n.substring(s+5,n.indexOf(".",s)),10)}},{key:"getGCD",value:function(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,c=Math.pow(10,o-Math.floor(Math.log10(Math.max(n,s))));for(n=Math.round(Math.abs(n)*c),s=Math.round(Math.abs(s)*c);s;){var u=s;s=n%s,n=u}return n/c}},{key:"getPrimeFactors",value:function(n){for(var s=[],o=2;n>=2;)n%o==0?(s.push(o),n/=o):o++;return s}},{key:"mod",value:function(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,c=Math.pow(10,o-Math.floor(Math.log10(Math.max(n,s))));return(n=Math.round(Math.abs(n)*c))%(s=Math.round(Math.abs(s)*c))/c}}]),N})(),J=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.setEasingFunctions()}return h(N,[{key:"setEasingFunctions",value:function(){var n;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":n="-";break;case"easein":n="<";break;case"easeout":n=">";break;case"easeinout":default:n="<>";break;case"swing":n=function(s){var o=1.70158;return(s-=1)*s*((o+1)*s+o)+1};break;case"bounce":n=function(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375};break;case"elastic":n=function(s){return s===!!s?s:Math.pow(2,-10*s)*Math.sin((s-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=n}}},{key:"animateLine",value:function(n,s,o,c){n.attr(s).animate(c).attr(o)}},{key:"animateMarker",value:function(n,s,o,c){n.attr({opacity:0}).animate(s,o).attr({opacity:1}).afterAll((function(){c()}))}},{key:"animateRect",value:function(n,s,o,c,u){n.attr(s).animate(c).attr(o).afterAll((function(){return u()}))}},{key:"animatePathsGradually",value:function(n){var s=n.el,o=n.realIndex,c=n.j,u=n.fill,d=n.pathFrom,f=n.pathTo,g=n.speed,b=n.delay,v=this.w,y=0;v.config.chart.animations.animateGradually.enabled&&(y=v.config.chart.animations.animateGradually.delay),v.config.chart.animations.dynamicAnimation.enabled&&v.globals.dataChanged&&v.config.chart.type!=="bar"&&(y=0),this.morphSVG(s,o,c,v.config.chart.type!=="line"||v.globals.comboCharts?u:"stroke",d,f,g,b*y)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(n){var s=n.el;s.classList.remove("apexcharts-element-hidden"),s.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(n){var s=this.w;s.globals.animationEnded||(s.globals.animationEnded=!0,this.showDelayedElements(),typeof s.config.chart.events.animationEnd=="function"&&s.config.chart.events.animationEnd(this.ctx,{el:n,w:s}))}},{key:"morphSVG",value:function(n,s,o,c,u,d,f,g){var b=this,v=this.w;u||(u=n.attr("pathFrom")),d||(d=n.attr("pathTo"));var y=function(S){return v.config.chart.type==="radar"&&(f=1),"M 0 ".concat(v.globals.gridHeight)};(!u||u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u=y()),(!d||d.indexOf("undefined")>-1||d.indexOf("NaN")>-1)&&(d=y()),v.globals.shouldAnimate||(f=1),n.plot(u).animate(1,v.globals.easing,g).plot(u).animate(f,v.globals.easing,g).plot(d).afterAll((function(){H.isNumber(o)?o===v.globals.series[v.globals.maxValsInArrayIndex].length-2&&v.globals.shouldAnimate&&b.animationCompleted(n):c!=="none"&&v.globals.shouldAnimate&&(!v.globals.comboCharts&&s===v.globals.series.length-1||v.globals.comboCharts)&&b.animationCompleted(n),b.showDelayedElements()}))}}]),N})(),U=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"getDefaultFilter",value:function(n,s){var o=this.w;n.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),o.config.states.normal.filter!=="none"?this.applyFilter(n,s,o.config.states.normal.filter.type,o.config.states.normal.filter.value):o.config.chart.dropShadow.enabled&&this.dropShadow(n,o.config.chart.dropShadow,s)}},{key:"addNormalFilter",value:function(n,s){var o=this.w;o.config.chart.dropShadow.enabled&&!n.node.classList.contains("apexcharts-marker")&&this.dropShadow(n,o.config.chart.dropShadow,s)}},{key:"addLightenFilter",value:function(n,s,o){var c=this,u=this.w,d=o.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter((function(f){var g=u.config.chart.dropShadow;(g.enabled?c.addShadow(f,s,g):f).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:d}})})),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"addDarkenFilter",value:function(n,s,o){var c=this,u=this.w,d=o.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter((function(f){var g=u.config.chart.dropShadow;(g.enabled?c.addShadow(f,s,g):f).componentTransfer({rgb:{type:"linear",slope:d}})})),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"applyFilter",value:function(n,s,o){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(o){case"none":this.addNormalFilter(n,s);break;case"lighten":this.addLightenFilter(n,s,{intensity:c});break;case"darken":this.addDarkenFilter(n,s,{intensity:c})}}},{key:"addShadow",value:function(n,s,o){var c,u=this.w,d=o.blur,f=o.top,g=o.left,b=o.color,v=o.opacity;if(((c=u.config.chart.dropShadow.enabledOnSeries)===null||c===void 0?void 0:c.length)>0&&u.config.chart.dropShadow.enabledOnSeries.indexOf(s)===-1)return n;var y=n.flood(Array.isArray(b)?b[s]:b,v).composite(n.sourceAlpha,"in").offset(g,f).gaussianBlur(d).merge(n.source);return n.blend(n.source,y)}},{key:"dropShadow",value:function(n,s){var o,c,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=s.top,f=s.left,g=s.blur,b=s.color,v=s.opacity,y=s.noUserSpaceOnUse,S=this.w;return n.unfilter(!0),H.isMsEdge()&&S.config.chart.type==="radialBar"||((o=S.config.chart.dropShadow.enabledOnSeries)===null||o===void 0?void 0:o.length)>0&&((c=S.config.chart.dropShadow.enabledOnSeries)===null||c===void 0?void 0:c.indexOf(u))===-1||(b=Array.isArray(b)?b[u]:b,n.filter((function(C){var T=null;T=H.isSafari()||H.isFirefox()||H.isMsEdge()?C.flood(b,v).composite(C.sourceAlpha,"in").offset(f,d).gaussianBlur(g):C.flood(b,v).composite(C.sourceAlpha,"in").offset(f,d).gaussianBlur(g).merge(C.source),C.blend(C.source,T)})),y||n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)),n}},{key:"setSelectionFilter",value:function(n,s,o){var c=this.w;if(c.globals.selectedDataPoints[s]!==void 0&&c.globals.selectedDataPoints[s].indexOf(o)>-1){n.node.setAttribute("selected",!0);var u=c.config.states.active.filter;u!=="none"&&this.applyFilter(n,s,u.type,u.value)}}},{key:"_scaleFilterSize",value:function(n){(function(s){for(var o in s)s.hasOwnProperty(o)&&n.setAttribute(o,s[o])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),N})(),V=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"roundPathCorners",value:function(n,s){function o(_,G,q){var Z=G.x-_.x,ie=G.y-_.y,te=Math.sqrt(Z*Z+ie*ie);return c(_,G,Math.min(1,q/te))}function c(_,G,q){return{x:_.x+(G.x-_.x)*q,y:_.y+(G.y-_.y)*q}}function u(_,G){_.length>2&&(_[_.length-2]=G.x,_[_.length-1]=G.y)}function d(_){return{x:parseFloat(_[_.length-2]),y:parseFloat(_[_.length-1])}}n.indexOf("NaN")>-1&&(n="");var f=n.split(/[,\s]/).reduce((function(_,G){var q=G.match("([a-zA-Z])(.+)");return q?(_.push(q[1]),_.push(q[2])):_.push(G),_}),[]).reduce((function(_,G){return parseFloat(G)==G&&_.length?_[_.length-1].push(G):_.push([G]),_}),[]),g=[];if(f.length>1){var b=d(f[0]),v=null;f[f.length-1][0]=="Z"&&f[0].length>2&&(v=["L",b.x,b.y],f[f.length-1]=v),g.push(f[0]);for(var y=1;y<f.length;y++){var S=g[g.length-1],C=f[y],T=C==v?f[1]:f[y+1];if(T&&S&&S.length>2&&C[0]=="L"&&T.length>2&&T[0]=="L"){var E,O,I=d(S),D=d(C),m=d(T);E=o(D,I,s),O=o(D,m,s),u(C,E),C.origPoint=D,g.push(C);var k=c(E,D,.5),L=c(D,O,.5),B=["C",k.x,k.y,L.x,L.y,O.x,O.y];B.origPoint=D,g.push(B)}else g.push(C)}if(v){var F=d(g[g.length-1]);g.push(["Z"]),u(g[0],F)}}else g=f;return g.reduce((function(_,G){return _+G.join(" ")+" "}),"")}},{key:"drawLine",value:function(n,s,o,c){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:n,y1:s,x2:o,y2:c,stroke:u,"stroke-dasharray":d,"stroke-width":f,"stroke-linecap":g})}},{key:"drawRect",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,b=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,v=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,y=this.w.globals.dom.Paper.rect();return y.attr({x:n,y:s,width:o>0?o:0,height:c>0?c:0,rx:u,ry:u,opacity:f,"stroke-width":g!==null?g:0,stroke:b!==null?b:"none","stroke-dasharray":v}),y.node.setAttribute("fill",d),y}},{key:"drawPolygon",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(n).attr({fill:c,stroke:s,"stroke-width":o})}},{key:"drawCircle",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n<0&&(n=0);var o=this.w.globals.dom.Paper.circle(2*n);return s!==null&&o.attr(s),o}},{key:"drawPath",value:function(n){var s=n.d,o=s===void 0?"":s,c=n.stroke,u=c===void 0?"#a8a8a8":c,d=n.strokeWidth,f=d===void 0?1:d,g=n.fill,b=n.fillOpacity,v=b===void 0?1:b,y=n.strokeOpacity,S=y===void 0?1:y,C=n.classes,T=n.strokeLinecap,E=T===void 0?null:T,O=n.strokeDashArray,I=O===void 0?0:O,D=this.w;return E===null&&(E=D.config.stroke.lineCap),(o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o="M 0 ".concat(D.globals.gridHeight)),D.globals.dom.Paper.path(o).attr({fill:g,"fill-opacity":v,stroke:u,"stroke-opacity":S,"stroke-linecap":E,"stroke-width":f,"stroke-dasharray":I,class:C})}},{key:"group",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.w.globals.dom.Paper.group();return n!==null&&s.attr(n),s}},{key:"move",value:function(n,s){var o=["M",n,s].join(" ");return o}},{key:"line",value:function(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=null;return o===null?c=[" L",n,s].join(" "):o==="H"?c=[" H",n].join(" "):o==="V"&&(c=[" V",s].join(" ")),c}},{key:"curve",value:function(n,s,o,c,u,d){var f=["C",n,s,o,c,u,d].join(" ");return f}},{key:"quadraticCurve",value:function(n,s,o,c){return["Q",n,s,o,c].join(" ")}},{key:"arc",value:function(n,s,o,c,u,d,f){var g="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(g="a");var b=[g,n,s,o,c,u,d,f].join(" ");return b}},{key:"renderPaths",value:function(n){var s,o=n.j,c=n.realIndex,u=n.pathFrom,d=n.pathTo,f=n.stroke,g=n.strokeWidth,b=n.strokeLinecap,v=n.fill,y=n.animationDelay,S=n.initialSpeed,C=n.dataChangeSpeed,T=n.className,E=n.chartType,O=n.shouldClipToGrid,I=O===void 0||O,D=n.bindEventsOnPaths,m=D===void 0||D,k=n.drawShadow,L=k===void 0||k,B=this.w,F=new U(this.ctx),_=new J(this.ctx),G=this.w.config.chart.animations.enabled,q=G&&this.w.config.chart.animations.dynamicAnimation.enabled,Z=!!(G&&!B.globals.resized||q&&B.globals.dataChanged&&B.globals.shouldAnimate);Z?s=u:(s=d,B.globals.animationEnded=!0);var ie=B.config.stroke.dashArray,te=0;te=Array.isArray(ie)?ie[c]:B.config.stroke.dashArray;var ne=this.drawPath({d:s,stroke:f,strokeWidth:g,fill:v,fillOpacity:1,classes:T,strokeLinecap:b,strokeDashArray:te});if(ne.attr("index",c),I&&(E==="bar"&&!B.globals.isHorizontal||B.globals.comboCharts?ne.attr({"clip-path":"url(#gridRectBarMask".concat(B.globals.cuid,")")}):ne.attr({"clip-path":"url(#gridRectMask".concat(B.globals.cuid,")")})),B.config.states.normal.filter.type!=="none")F.getDefaultFilter(ne,c);else if(B.config.chart.dropShadow.enabled&&L){var oe=B.config.chart.dropShadow;F.dropShadow(ne,oe,c)}m&&(ne.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ne)),ne.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ne)),ne.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ne))),ne.attr({pathTo:d,pathFrom:u});var le={el:ne,j:o,realIndex:c,pathFrom:u,pathTo:d,fill:v,strokeWidth:g,delay:y};return!G||B.globals.resized||B.globals.dataChanged?!B.globals.resized&&B.globals.dataChanged||_.showDelayedElements():_.animatePathsGradually(P(P({},le),{},{speed:S})),B.globals.dataChanged&&q&&Z&&_.animatePathsGradually(P(P({},le),{},{speed:C})),ne}},{key:"drawPattern",value:function(n,s,o){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(s,o,(function(d){n==="horizontalLines"?d.line(0,0,o,0).stroke({color:c,width:u+1}):n==="verticalLines"?d.line(0,0,0,s).stroke({color:c,width:u+1}):n==="slantedLines"?d.line(0,0,s,o).stroke({color:c,width:u}):n==="squares"?d.rect(s,o).fill("none").stroke({color:c,width:u}):n==="circles"&&d.circle(s).fill("none").stroke({color:c,width:u})}))}},{key:"drawGradient",value:function(n,s,o,c,u){var d,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,b=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,v=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,y=this.w;s.length<9&&s.indexOf("#")===0&&(s=H.hexToRgba(s,c)),o.length<9&&o.indexOf("#")===0&&(o=H.hexToRgba(o,u));var S=0,C=1,T=1,E=null;g!==null&&(S=g[0]!==void 0?g[0]/100:0,C=g[1]!==void 0?g[1]/100:1,T=g[2]!==void 0?g[2]/100:1,E=g[3]!==void 0?g[3]/100:null);var O=!(y.config.chart.type!=="donut"&&y.config.chart.type!=="pie"&&y.config.chart.type!=="polarArea"&&y.config.chart.type!=="bubble");if(d=b===null||b.length===0?y.globals.dom.Paper.gradient(O?"radial":"linear",(function(m){m.at(S,s,c),m.at(C,o,u),m.at(T,o,u),E!==null&&m.at(E,s,c)})):y.globals.dom.Paper.gradient(O?"radial":"linear",(function(m){(Array.isArray(b[v])?b[v]:b).forEach((function(k){m.at(k.offset/100,k.color,k.opacity)}))})),O){var I=y.globals.gridWidth/2,D=y.globals.gridHeight/2;y.config.chart.type!=="bubble"?d.attr({gradientUnits:"userSpaceOnUse",cx:I,cy:D,r:f}):d.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else n==="vertical"?d.from(0,0).to(0,1):n==="diagonal"?d.from(0,0).to(1,1):n==="horizontal"?d.from(0,1).to(1,1):n==="diagonal2"&&d.from(1,0).to(0,1);return d}},{key:"getTextBasedOnMaxWidth",value:function(n){var s=n.text,o=n.maxWidth,c=n.fontSize,u=n.fontFamily,d=this.getTextRects(s,c,u),f=d.width/s.length,g=Math.floor(o/f);return o<d.width?s.slice(0,g-3)+"...":s}},{key:"drawText",value:function(n){var s=this,o=n.x,c=n.y,u=n.text,d=n.textAnchor,f=n.fontSize,g=n.fontFamily,b=n.fontWeight,v=n.foreColor,y=n.opacity,S=n.maxWidth,C=n.cssClass,T=C===void 0?"":C,E=n.isPlainText,O=E===void 0||E,I=n.dominantBaseline,D=I===void 0?"auto":I,m=this.w;u===void 0&&(u="");var k=u;d||(d="start"),v&&v.length||(v=m.config.chart.foreColor),g=g||m.config.chart.fontFamily,b=b||"regular";var L,B={maxWidth:S,fontSize:f=f||"11px",fontFamily:g};return Array.isArray(u)?L=m.globals.dom.Paper.text((function(F){for(var _=0;_<u.length;_++)k=u[_],S&&(k=s.getTextBasedOnMaxWidth(P({text:u[_]},B))),_===0?F.tspan(k):F.tspan(k).newLine()})):(S&&(k=this.getTextBasedOnMaxWidth(P({text:u},B))),L=O?m.globals.dom.Paper.plain(u):m.globals.dom.Paper.text((function(F){return F.tspan(k)}))),L.attr({x:o,y:c,"text-anchor":d,"dominant-baseline":D,"font-size":f,"font-family":g,"font-weight":b,fill:v,class:"apexcharts-text "+T}),L.node.style.fontFamily=g,L.node.style.opacity=y,L}},{key:"getMarkerPath",value:function(n,s,o,c){var u="";switch(o){case"cross":u="M ".concat(n-(c/=1.4)," ").concat(s-c," L ").concat(n+c," ").concat(s+c,"  M ").concat(n-c," ").concat(s+c," L ").concat(n+c," ").concat(s-c);break;case"plus":u="M ".concat(n-(c/=1.12)," ").concat(s," L ").concat(n+c," ").concat(s,"  M ").concat(n," ").concat(s-c," L ").concat(n," ").concat(s+c);break;case"star":case"sparkle":var d=5;c*=1.15,o==="sparkle"&&(c/=1.1,d=4);for(var f=Math.PI/d,g=0;g<=2*d;g++){var b=g*f,v=g%2==0?c:c/2;u+=(g===0?"M":"L")+(n+v*Math.sin(b))+","+(s-v*Math.cos(b))}u+="Z";break;case"triangle":u="M ".concat(n," ").concat(s-c,` 
             L `).concat(n+c," ").concat(s+c,` 
             L `).concat(n-c," ").concat(s+c,` 
             Z`);break;case"square":case"rect":u="M ".concat(n-(c/=1.125)," ").concat(s-c,` 
           L `).concat(n+c," ").concat(s-c,` 
           L `).concat(n+c," ").concat(s+c,` 
           L `).concat(n-c," ").concat(s+c,` 
           Z`);break;case"diamond":c*=1.05,u="M ".concat(n," ").concat(s-c,` 
             L `).concat(n+c," ").concat(s,` 
             L `).concat(n," ").concat(s+c,` 
             L `).concat(n-c," ").concat(s,` 
            Z`);break;case"line":u="M ".concat(n-(c/=1.1)," ").concat(s,` 
           L `).concat(n+c," ").concat(s);break;default:c*=2,u="M ".concat(n,", ").concat(s,` 
           m -`).concat(c/2,`, 0 
           a `).concat(c/2,",").concat(c/2," 0 1,0 ").concat(c,`,0 
           a `).concat(c/2,",").concat(c/2," 0 1,0 -").concat(c,",0")}return u}},{key:"drawMarkerShape",value:function(n,s,o,c,u){var d=this.drawPath({d:this.getMarkerPath(n,s,o,c,u),stroke:u.pointStrokeColor,strokeDashArray:u.pointStrokeDashArray,strokeWidth:u.pointStrokeWidth,fill:u.pointFillColor,fillOpacity:u.pointFillOpacity,strokeOpacity:u.pointStrokeOpacity});return d.attr({cx:n,cy:s,shape:u.shape,class:u.class?u.class:""}),d}},{key:"drawMarker",value:function(n,s,o){n=n||0;var c=o.pSize||0;return H.isNumber(s)||(c=0,s=0),this.drawMarkerShape(n,s,o?.shape,c,P(P({},o),o.shape==="line"||o.shape==="plus"||o.shape==="cross"?{pointStrokeColor:o.pointFillColor,pointStrokeOpacity:o.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(n,s){var o=this.w,c=new U(this.ctx),u=parseInt(n.node.getAttribute("index"),10),d=parseInt(n.node.getAttribute("j"),10);if(typeof o.config.chart.events.dataPointMouseEnter=="function"&&o.config.chart.events.dataPointMouseEnter(s,this.ctx,{seriesIndex:u,dataPointIndex:d,w:o}),this.ctx.events.fireEvent("dataPointMouseEnter",[s,this.ctx,{seriesIndex:u,dataPointIndex:d,w:o}]),(o.config.states.active.filter.type==="none"||n.node.getAttribute("selected")!=="true")&&o.config.states.hover.filter.type!=="none"&&!o.globals.isTouchDevice){var f=o.config.states.hover.filter;c.applyFilter(n,u,f.type,f.value)}}},{key:"pathMouseLeave",value:function(n,s){var o=this.w,c=new U(this.ctx),u=parseInt(n.node.getAttribute("index"),10),d=parseInt(n.node.getAttribute("j"),10);typeof o.config.chart.events.dataPointMouseLeave=="function"&&o.config.chart.events.dataPointMouseLeave(s,this.ctx,{seriesIndex:u,dataPointIndex:d,w:o}),this.ctx.events.fireEvent("dataPointMouseLeave",[s,this.ctx,{seriesIndex:u,dataPointIndex:d,w:o}]),o.config.states.active.filter.type!=="none"&&n.node.getAttribute("selected")==="true"||o.config.states.hover.filter.type!=="none"&&c.getDefaultFilter(n,u)}},{key:"pathMouseDown",value:function(n,s){var o=this.w,c=new U(this.ctx),u=parseInt(n.node.getAttribute("index"),10),d=parseInt(n.node.getAttribute("j"),10),f="false";if(n.node.getAttribute("selected")==="true"){if(n.node.setAttribute("selected","false"),o.globals.selectedDataPoints[u].indexOf(d)>-1){var g=o.globals.selectedDataPoints[u].indexOf(d);o.globals.selectedDataPoints[u].splice(g,1)}}else{if(!o.config.states.active.allowMultipleDataPointsSelection&&o.globals.selectedDataPoints.length>0){o.globals.selectedDataPoints=[];var b=o.globals.dom.Paper.select(".apexcharts-series path").members,v=o.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,y=function(T){Array.prototype.forEach.call(T,(function(E){E.node.setAttribute("selected","false"),c.getDefaultFilter(E,u)}))};y(b),y(v)}n.node.setAttribute("selected","true"),f="true",o.globals.selectedDataPoints[u]===void 0&&(o.globals.selectedDataPoints[u]=[]),o.globals.selectedDataPoints[u].push(d)}if(f==="true"){var S=o.config.states.active.filter;if(S!=="none")c.applyFilter(n,u,S.type,S.value);else if(o.config.states.hover.filter!=="none"&&!o.globals.isTouchDevice){var C=o.config.states.hover.filter;c.applyFilter(n,u,C.type,C.value)}}else o.config.states.active.filter.type!=="none"&&(o.config.states.hover.filter.type==="none"||o.globals.isTouchDevice?c.getDefaultFilter(n,u):(C=o.config.states.hover.filter,c.applyFilter(n,u,C.type,C.value)));typeof o.config.chart.events.dataPointSelection=="function"&&o.config.chart.events.dataPointSelection(s,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:u,dataPointIndex:d,w:o}),s&&this.ctx.events.fireEvent("dataPointSelection",[s,this.ctx,{selectedDataPoints:o.globals.selectedDataPoints,seriesIndex:u,dataPointIndex:d,w:o}])}},{key:"rotateAroundCenter",value:function(n){var s={};return n&&typeof n.getBBox=="function"&&(s=n.getBBox()),{x:s.x+s.width/2,y:s.y+s.height/2}}},{key:"getTextRects",value:function(n,s,o,c){var u=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],d=this.w,f=this.drawText({x:-200,y:-200,text:n,textAnchor:"start",fontSize:s,fontFamily:o,foreColor:"#fff",opacity:0});c&&f.attr("transform",c),d.globals.dom.Paper.add(f);var g=f.bbox();return u||(g=f.node.getBoundingClientRect()),f.remove(),{width:g.width,height:g.height}}},{key:"placeTextWithEllipsis",value:function(n,s,o){if(typeof n.getComputedTextLength=="function"&&(n.textContent=s,s.length>0&&n.getComputedTextLength()>=o/1.1)){for(var c=s.length-3;c>0;c-=3)if(n.getSubStringLength(0,c)<=o/1.1)return void(n.textContent=s.substring(0,c)+"...");n.textContent="."}}}],[{key:"setAttrs",value:function(n,s){for(var o in s)s.hasOwnProperty(o)&&n.setAttribute(o,s[o])}}]),N})(),re=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"getStackedSeriesTotals",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=this.w,o=[];if(s.globals.series.length===0)return o;for(var c=0;c<s.globals.series[s.globals.maxValsInArrayIndex].length;c++){for(var u=0,d=0;d<s.globals.series.length;d++)s.globals.series[d][c]!==void 0&&n.indexOf(d)===-1&&(u+=s.globals.series[d][c]);o.push(u)}return o}},{key:"getSeriesTotalByIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return n===null?this.w.config.series.reduce((function(s,o){return s+o}),0):this.w.globals.series[n].reduce((function(s,o){return s+o}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var n=this,s=this.w,o=[];return s.globals.seriesGroups.forEach((function(c){var u=[];s.config.series.forEach((function(f,g){c.indexOf(s.globals.seriesNames[g])>-1&&u.push(g)}));var d=s.globals.series.map((function(f,g){return u.indexOf(g)===-1?g:-1})).filter((function(f){return f!==-1}));o.push(n.getStackedSeriesTotals(d))})),o}},{key:"setSeriesYAxisMappings",value:function(){var n=this.w.globals,s=this.w.config,o=[],c=[],u=[],d=n.series.length>s.yaxis.length||s.yaxis.some((function(y){return Array.isArray(y.seriesName)}));s.series.forEach((function(y,S){u.push(S),c.push(null)})),s.yaxis.forEach((function(y,S){o[S]=[]}));var f=[];s.yaxis.forEach((function(y,S){var C=!1;if(y.seriesName){var T=[];Array.isArray(y.seriesName)?T=y.seriesName:T.push(y.seriesName),T.forEach((function(E){s.series.forEach((function(O,I){if(O.name===E){var D=I;S===I||d?!d||u.indexOf(I)>-1?o[S].push([S,I]):console.warn("Series '"+O.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(o[I].push([I,S]),D=S),C=!0,(D=u.indexOf(D))!==-1&&u.splice(D,1)}}))}))}C||f.push(S)})),o=o.map((function(y,S){var C=[];return y.forEach((function(T){c[T[1]]=T[0],C.push(T[1])})),C}));for(var g=s.yaxis.length-1,b=0;b<f.length&&(g=f[b],o[g]=[],u);b++){var v=u[0];u.shift(),o[g].push(v),c[v]=g}u.forEach((function(y){o[g].push(y),c[y]=g})),n.seriesYAxisMap=o.map((function(y){return y})),n.seriesYAxisReverseMap=c.map((function(y){return y})),n.seriesYAxisMap.forEach((function(y,S){y.forEach((function(C){s.series[C]&&s.series[C].group===void 0&&(s.series[C].group="apexcharts-axis-".concat(S.toString()))}))}))}},{key:"isSeriesNull",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(n===null?this.w.config.series.filter((function(s){return s!==null})):this.w.config.series[n].data.filter((function(s){return s!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(n){return this.w.globals.series[n].every((function(s,o,c){return s===c[0]}))}},{key:"getCategoryLabels",value:function(n){var s=this.w,o=n.slice();return s.config.xaxis.convertedCatToNumeric&&(o=n.map((function(c,u){return s.config.xaxis.labels.formatter(c-s.globals.minX+1)}))),o}},{key:"getLargestSeries",value:function(){var n=this.w;n.globals.maxValsInArrayIndex=n.globals.series.map((function(s){return s.length})).indexOf(Math.max.apply(Math,n.globals.series.map((function(s){return s.length}))))}},{key:"getLargestMarkerSize",value:function(){var n=this.w,s=0;return n.globals.markers.size.forEach((function(o){s=Math.max(s,o)})),n.config.markers.discrete&&n.config.markers.discrete.length&&n.config.markers.discrete.forEach((function(o){s=Math.max(s,o.size)})),s>0&&(n.config.markers.hover.size>0?s=n.config.markers.hover.size:s+=n.config.markers.hover.sizeOffset),n.globals.markers.largestSize=s,s}},{key:"getSeriesTotals",value:function(){var n=this.w;n.globals.seriesTotals=n.globals.series.map((function(s,o){var c=0;if(Array.isArray(s))for(var u=0;u<s.length;u++)c+=s[u];else c+=s;return c}))}},{key:"getSeriesTotalsXRange",value:function(n,s){var o=this.w;return o.globals.series.map((function(c,u){for(var d=0,f=0;f<c.length;f++)o.globals.seriesX[u][f]>n&&o.globals.seriesX[u][f]<s&&(d+=c[f]);return d}))}},{key:"getPercentSeries",value:function(){var n=this.w;n.globals.seriesPercent=n.globals.series.map((function(s,o){var c=[];if(Array.isArray(s))for(var u=0;u<s.length;u++){var d=n.globals.stackedSeriesTotals[u],f=0;d&&(f=100*s[u]/d),c.push(f)}else{var g=100*s/n.globals.seriesTotals.reduce((function(b,v){return b+v}),0);c.push(g)}return c}))}},{key:"getCalculatedRatios",value:function(){var n,s,o,c=this,u=this.w,d=u.globals,f=[],g=0,b=[],v=.1,y=0;if(d.yRange=[],d.isMultipleYAxis)for(var S=0;S<d.minYArr.length;S++)d.yRange.push(Math.abs(d.minYArr[S]-d.maxYArr[S])),b.push(0);else d.yRange.push(Math.abs(d.minY-d.maxY));d.xRange=Math.abs(d.maxX-d.minX),d.zRange=Math.abs(d.maxZ-d.minZ);for(var C=0;C<d.yRange.length;C++)f.push(d.yRange[C]/d.gridHeight);if(s=d.xRange/d.gridWidth,n=d.yRange/d.gridWidth,o=d.xRange/d.gridHeight,(g=d.zRange/d.gridHeight*16)||(g=1),d.minY!==Number.MIN_VALUE&&Math.abs(d.minY)!==0&&(d.hasNegs=!0),u.globals.seriesYAxisReverseMap.length>0){var T=function(O,I){var D=u.config.yaxis[u.globals.seriesYAxisReverseMap[I]],m=O<0?-1:1;return O=Math.abs(O),D.logarithmic&&(O=c.getBaseLog(D.logBase,O)),-m*O/f[I]};if(d.isMultipleYAxis){b=[];for(var E=0;E<f.length;E++)b.push(T(d.minYArr[E],E))}else(b=[]).push(T(d.minY,0)),d.minY!==Number.MIN_VALUE&&Math.abs(d.minY)!==0&&(v=-d.minY/n,y=d.minX/s)}else(b=[]).push(0),v=0,y=0;return{yRatio:f,invertedYRatio:n,zRatio:g,xRatio:s,invertedXRatio:o,baseLineInvertedY:v,baseLineY:b,baseLineX:y}}},{key:"getLogSeries",value:function(n){var s=this,o=this.w;return o.globals.seriesLog=n.map((function(c,u){var d=o.globals.seriesYAxisReverseMap[u];return o.config.yaxis[d]&&o.config.yaxis[d].logarithmic?c.map((function(f){return f===null?null:s.getLogVal(o.config.yaxis[d].logBase,f,u)})):c})),o.globals.invalidLogScale?n:o.globals.seriesLog}},{key:"getBaseLog",value:function(n,s){return Math.log(s)/Math.log(n)}},{key:"getLogVal",value:function(n,s,o){if(s<=0)return 0;var c=this.w,u=c.globals.minYArr[o]===0?-1:this.getBaseLog(n,c.globals.minYArr[o]),d=(c.globals.maxYArr[o]===0?0:this.getBaseLog(n,c.globals.maxYArr[o]))-u;return s<1?s/d:(this.getBaseLog(n,s)-u)/d}},{key:"getLogYRatios",value:function(n){var s=this,o=this.w,c=this.w.globals;return c.yLogRatio=n.slice(),c.logYRange=c.yRange.map((function(u,d){var f=o.globals.seriesYAxisReverseMap[d];if(o.config.yaxis[f]&&s.w.config.yaxis[f].logarithmic){var g,b=-Number.MAX_VALUE,v=Number.MIN_VALUE;return c.seriesLog.forEach((function(y,S){y.forEach((function(C){o.config.yaxis[S]&&o.config.yaxis[S].logarithmic&&(b=Math.max(C,b),v=Math.min(C,v))}))})),g=Math.pow(c.yRange[d],Math.abs(v-b)/c.yRange[d]),c.yLogRatio[d]=g/c.gridHeight,g}})),c.invalidLogScale?n.slice():c.yLogRatio}},{key:"drawSeriesByGroup",value:function(n,s,o,c){var u=this.w,d=[];return n.series.length>0&&s.forEach((function(f){var g=[],b=[];n.i.forEach((function(v,y){u.config.series[v].group===f&&(g.push(n.series[y]),b.push(v))})),g.length>0&&d.push(c.draw(g,o,b))})),d}}],[{key:"checkComboSeries",value:function(n,s){var o=!1,c=0,u=0;return s===void 0&&(s="line"),n.length&&n[0].type!==void 0&&n.forEach((function(d){d.type!=="bar"&&d.type!=="column"&&d.type!=="candlestick"&&d.type!=="boxPlot"||c++,d.type!==void 0&&d.type!==s&&u++})),u>0&&(o=!0),{comboBarCount:c,comboCharts:o}}},{key:"extendArrayProps",value:function(n,s,o){var c,u,d,f,g,b;return(c=s)!==null&&c!==void 0&&c.yaxis&&(s=n.extendYAxis(s,o)),(u=s)!==null&&u!==void 0&&u.annotations&&(s.annotations.yaxis&&(s=n.extendYAxisAnnotations(s)),(d=s)!==null&&d!==void 0&&(f=d.annotations)!==null&&f!==void 0&&f.xaxis&&(s=n.extendXAxisAnnotations(s)),(g=s)!==null&&g!==void 0&&(b=g.annotations)!==null&&b!==void 0&&b.points&&(s=n.extendPointAnnotations(s))),s}}]),N})(),ue=(function(){function N(n){a(this,N),this.w=n.w,this.annoCtx=n}return h(N,[{key:"setOrientations",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=this.w;if(n.label.orientation==="vertical"){var c=s!==null?s:0,u=o.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(c,"']"));if(u!==null){var d=u.getBoundingClientRect();u.setAttribute("x",parseFloat(u.getAttribute("x"))-d.height+4);var f=n.label.position==="top"?d.width:-d.width;u.setAttribute("y",parseFloat(u.getAttribute("y"))+f);var g=this.annoCtx.graphics.rotateAroundCenter(u),b=g.x,v=g.y;u.setAttribute("transform","rotate(-90 ".concat(b," ").concat(v,")"))}}}},{key:"addBackgroundToAnno",value:function(n,s){var o=this.w;if(!n||!s.label.text||!String(s.label.text).trim())return null;var c=o.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),u=n.getBoundingClientRect(),d=s.label.style.padding,f=d.left,g=d.right,b=d.top,v=d.bottom;if(s.label.orientation==="vertical"){var y=[f,g,b,v];b=y[0],v=y[1],f=y[2],g=y[3]}var S=u.left-c.left-f,C=u.top-c.top-b,T=this.annoCtx.graphics.drawRect(S-o.globals.barPadForNumericAxis,C,u.width+f+g,u.height+b+v,s.label.borderRadius,s.label.style.background,1,s.label.borderWidth,s.label.borderColor,0);return s.id&&T.node.classList.add(s.id),T}},{key:"annotationsBackground",value:function(){var n=this,s=this.w,o=function(c,u,d){var f=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-annotations .apexcharts-").concat(d,"-annotation-label[rel='").concat(u,"']"));if(f){var g=f.parentNode,b=n.addBackgroundToAnno(f,c);b&&(g.insertBefore(b.node,f),c.label.mouseEnter&&b.node.addEventListener("mouseenter",c.label.mouseEnter.bind(n,c)),c.label.mouseLeave&&b.node.addEventListener("mouseleave",c.label.mouseLeave.bind(n,c)),c.label.click&&b.node.addEventListener("click",c.label.click.bind(n,c)))}};s.config.annotations.xaxis.forEach((function(c,u){return o(c,u,"xaxis")})),s.config.annotations.yaxis.forEach((function(c,u){return o(c,u,"yaxis")})),s.config.annotations.points.forEach((function(c,u){return o(c,u,"point")}))}},{key:"getY1Y2",value:function(n,s){var o,c=this.w,u=n==="y1"?s.y:s.y2,d=!1;if(this.annoCtx.invertAxis){var f=c.config.xaxis.convertedCatToNumeric?c.globals.categoryLabels:c.globals.labels,g=f.indexOf(u),b=c.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(g+1,")"));o=b?parseFloat(b.getAttribute("y")):(c.globals.gridHeight/f.length-1)*(g+1)-c.globals.barHeight,s.seriesIndex!==void 0&&c.globals.barHeight&&(o-=c.globals.barHeight/2*(c.globals.series.length-1)-c.globals.barHeight*s.seriesIndex)}else{var v,y=c.globals.seriesYAxisMap[s.yAxisIndex][0],S=c.config.yaxis[s.yAxisIndex].logarithmic?new re(this.annoCtx.ctx).getLogVal(c.config.yaxis[s.yAxisIndex].logBase,u,y)/c.globals.yLogRatio[y]:(u-c.globals.minYArr[y])/(c.globals.yRange[y]/c.globals.gridHeight);o=c.globals.gridHeight-Math.min(Math.max(S,0),c.globals.gridHeight),d=S>c.globals.gridHeight||S<0,!s.marker||s.y!==void 0&&s.y!==null||(o=0),(v=c.config.yaxis[s.yAxisIndex])!==null&&v!==void 0&&v.reversed&&(o=S)}return typeof u=="string"&&u.includes("px")&&(o=parseFloat(u)),{yP:o,clipped:d}}},{key:"getX1X2",value:function(n,s){var o=this.w,c=n==="x1"?s.x:s.x2,u=this.annoCtx.invertAxis?o.globals.minY:o.globals.minX,d=this.annoCtx.invertAxis?o.globals.maxY:o.globals.maxX,f=this.annoCtx.invertAxis?o.globals.yRange[0]:o.globals.xRange,g=!1,b=this.annoCtx.inversedReversedAxis?(d-c)/(f/o.globals.gridWidth):(c-u)/(f/o.globals.gridWidth);return o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||o.globals.dataFormatXNumeric||o.config.chart.sparkline.enabled||(b=this.getStringX(c)),typeof c=="string"&&c.includes("px")&&(b=parseFloat(c)),c==null&&s.marker&&(b=o.globals.gridWidth),s.seriesIndex!==void 0&&o.globals.barWidth&&!this.annoCtx.invertAxis&&(b-=o.globals.barWidth/2*(o.globals.series.length-1)-o.globals.barWidth*s.seriesIndex),b>o.globals.gridWidth?(b=o.globals.gridWidth,g=!0):b<0&&(b=0,g=!0),{x:b,clipped:g}}},{key:"getStringX",value:function(n){var s=this.w,o=n;s.config.xaxis.convertedCatToNumeric&&s.globals.categoryLabels.length&&(n=s.globals.categoryLabels.indexOf(n)+1);var c=s.globals.labels.map((function(d){return Array.isArray(d)?d.join(" "):d})).indexOf(n),u=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(c+1,")"));return u&&(o=parseFloat(u.getAttribute("x"))),o}}]),N})(),me=(function(){function N(n){a(this,N),this.w=n.w,this.annoCtx=n,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new ue(this.annoCtx)}return h(N,[{key:"addXaxisAnnotation",value:function(n,s,o){var c,u=this.w,d=this.helpers.getX1X2("x1",n),f=d.x,g=d.clipped,b=!0,v=n.label.text,y=n.strokeDashArray;if(H.isNumber(f)){if(n.x2===null||n.x2===void 0){if(!g){var S=this.annoCtx.graphics.drawLine(f+n.offsetX,0+n.offsetY,f+n.offsetX,u.globals.gridHeight+n.offsetY,n.borderColor,y,n.borderWidth);s.appendChild(S.node),n.id&&S.node.classList.add(n.id)}}else{var C=this.helpers.getX1X2("x2",n);if(c=C.x,b=C.clipped,!g||!b){if(c<f){var T=f;f=c,c=T}var E=this.annoCtx.graphics.drawRect(f+n.offsetX,0+n.offsetY,c-f,u.globals.gridHeight+n.offsetY,0,n.fillColor,n.opacity,1,n.borderColor,y);E.node.classList.add("apexcharts-annotation-rect"),E.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),s.appendChild(E.node),n.id&&E.node.classList.add(n.id)}}if(!g||!b){var O=this.annoCtx.graphics.getTextRects(v,parseFloat(n.label.style.fontSize)),I=n.label.position==="top"?4:n.label.position==="center"?u.globals.gridHeight/2+(n.label.orientation==="vertical"?O.width/2:0):u.globals.gridHeight,D=this.annoCtx.graphics.drawText({x:f+n.label.offsetX,y:I+n.label.offsetY-(n.label.orientation==="vertical"?n.label.position==="top"?O.width/2-12:-O.width/2:0),text:v,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});D.attr({rel:o}),s.appendChild(D.node),this.annoCtx.helpers.setOrientations(n,o)}}}},{key:"drawXAxisAnnotations",value:function(){var n=this,s=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return s.config.annotations.xaxis.map((function(c,u){n.addXaxisAnnotation(c,o.node,u)})),o}}]),N})(),ye=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return h(N,[{key:"isValidDate",value:function(n){return typeof n!="number"&&!isNaN(this.parseDate(n))}},{key:"getTimeStamp",value:function(n){return Date.parse(n)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toISOString().substr(0,25)).getTime():new Date(n).getTime():n}},{key:"getDate",value:function(n){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toUTCString()):new Date(n)}},{key:"parseDate",value:function(n){var s=Date.parse(n);if(!isNaN(s))return this.getTimeStamp(n);var o=Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "));return o=this.getTimeStamp(o)}},{key:"parseDateWithTimezone",value:function(n){return Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(n,s){var o=this.w.globals.locale,c=this.w.config.xaxis.labels.datetimeUTC,u=["\0"].concat(Y(o.months)),d=[""].concat(Y(o.shortMonths)),f=[""].concat(Y(o.days)),g=[""].concat(Y(o.shortDays));function b(_,G){var q=_+"";for(G=G||2;q.length<G;)q="0"+q;return q}var v=c?n.getUTCFullYear():n.getFullYear();s=(s=(s=s.replace(/(^|[^\\])yyyy+/g,"$1"+v)).replace(/(^|[^\\])yy/g,"$1"+v.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+v);var y=(c?n.getUTCMonth():n.getMonth())+1;s=(s=(s=(s=s.replace(/(^|[^\\])MMMM+/g,"$1"+u[0])).replace(/(^|[^\\])MMM/g,"$1"+d[0])).replace(/(^|[^\\])MM/g,"$1"+b(y))).replace(/(^|[^\\])M/g,"$1"+y);var S=c?n.getUTCDate():n.getDate();s=(s=(s=(s=s.replace(/(^|[^\\])dddd+/g,"$1"+f[0])).replace(/(^|[^\\])ddd/g,"$1"+g[0])).replace(/(^|[^\\])dd/g,"$1"+b(S))).replace(/(^|[^\\])d/g,"$1"+S);var C=c?n.getUTCHours():n.getHours(),T=C>12?C-12:C===0?12:C;s=(s=(s=(s=s.replace(/(^|[^\\])HH+/g,"$1"+b(C))).replace(/(^|[^\\])H/g,"$1"+C)).replace(/(^|[^\\])hh+/g,"$1"+b(T))).replace(/(^|[^\\])h/g,"$1"+T);var E=c?n.getUTCMinutes():n.getMinutes();s=(s=s.replace(/(^|[^\\])mm+/g,"$1"+b(E))).replace(/(^|[^\\])m/g,"$1"+E);var O=c?n.getUTCSeconds():n.getSeconds();s=(s=s.replace(/(^|[^\\])ss+/g,"$1"+b(O))).replace(/(^|[^\\])s/g,"$1"+O);var I=c?n.getUTCMilliseconds():n.getMilliseconds();s=s.replace(/(^|[^\\])fff+/g,"$1"+b(I,3)),I=Math.round(I/10),s=s.replace(/(^|[^\\])ff/g,"$1"+b(I)),I=Math.round(I/10);var D=C<12?"AM":"PM";s=(s=(s=s.replace(/(^|[^\\])f/g,"$1"+I)).replace(/(^|[^\\])TT+/g,"$1"+D)).replace(/(^|[^\\])T/g,"$1"+D.charAt(0));var m=D.toLowerCase();s=(s=s.replace(/(^|[^\\])tt+/g,"$1"+m)).replace(/(^|[^\\])t/g,"$1"+m.charAt(0));var k=-n.getTimezoneOffset(),L=c||!k?"Z":k>0?"+":"-";if(!c){var B=(k=Math.abs(k))%60;L+=b(Math.floor(k/60))+":"+b(B)}s=s.replace(/(^|[^\\])K/g,"$1"+L);var F=(c?n.getUTCDay():n.getDay())+1;return s=(s=(s=(s=(s=s.replace(new RegExp(f[0],"g"),f[F])).replace(new RegExp(g[0],"g"),g[F])).replace(new RegExp(u[0],"g"),u[y])).replace(new RegExp(d[0],"g"),d[y])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(n,s,o){var c=this.w;c.config.xaxis.min!==void 0&&(n=c.config.xaxis.min),c.config.xaxis.max!==void 0&&(s=c.config.xaxis.max);var u=this.getDate(n),d=this.getDate(s),f=this.formatDate(u,"yyyy MM dd HH mm ss fff").split(" "),g=this.formatDate(d,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(f[6],10),maxMillisecond:parseInt(g[6],10),minSecond:parseInt(f[5],10),maxSecond:parseInt(g[5],10),minMinute:parseInt(f[4],10),maxMinute:parseInt(g[4],10),minHour:parseInt(f[3],10),maxHour:parseInt(g[3],10),minDate:parseInt(f[2],10),maxDate:parseInt(g[2],10),minMonth:parseInt(f[1],10)-1,maxMonth:parseInt(g[1],10)-1,minYear:parseInt(f[0],10),maxYear:parseInt(g[0],10)}}},{key:"isLeapYear",value:function(n){return n%4==0&&n%100!=0||n%400==0}},{key:"calculcateLastDaysOfMonth",value:function(n,s,o){return this.determineDaysOfMonths(n,s)-o}},{key:"determineDaysOfYear",value:function(n){var s=365;return this.isLeapYear(n)&&(s=366),s}},{key:"determineRemainingDaysOfYear",value:function(n,s,o){var c=this.daysCntOfYear[s]+o;return s>1&&this.isLeapYear()&&c++,c}},{key:"determineDaysOfMonths",value:function(n,s){var o=30;switch(n=H.monthMod(n),!0){case this.months30.indexOf(n)>-1:n===2&&(o=this.isLeapYear(s)?29:28);break;case this.months31.indexOf(n)>-1:default:o=31}return o}}]),N})(),Re=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.tooltipKeyFormat="dd MMM"}return h(N,[{key:"xLabelFormat",value:function(n,s,o,c){var u=this.w;if(u.config.xaxis.type==="datetime"&&u.config.xaxis.labels.formatter===void 0&&u.config.tooltip.x.formatter===void 0){var d=new ye(this.ctx);return d.formatDate(d.getDate(s),u.config.tooltip.x.format)}return n(s,o,c)}},{key:"defaultGeneralFormatter",value:function(n){return Array.isArray(n)?n.map((function(s){return s})):n}},{key:"defaultYFormatter",value:function(n,s,o){var c=this.w;if(H.isNumber(n))if(c.globals.yValueDecimal!==0)n=n.toFixed(s.decimalsInFloat!==void 0?s.decimalsInFloat:c.globals.yValueDecimal);else{var u=n.toFixed(0);n=n==u?u:n.toFixed(1)}return n}},{key:"setLabelFormatters",value:function(){var n=this,s=this.w;return s.globals.xaxisTooltipFormatter=function(o){return n.defaultGeneralFormatter(o)},s.globals.ttKeyFormatter=function(o){return n.defaultGeneralFormatter(o)},s.globals.ttZFormatter=function(o){return o},s.globals.legendFormatter=function(o){return n.defaultGeneralFormatter(o)},s.config.xaxis.labels.formatter!==void 0?s.globals.xLabelFormatter=s.config.xaxis.labels.formatter:s.globals.xLabelFormatter=function(o){if(H.isNumber(o)){if(!s.config.xaxis.convertedCatToNumeric&&s.config.xaxis.type==="numeric"){if(H.isNumber(s.config.xaxis.decimalsInFloat))return o.toFixed(s.config.xaxis.decimalsInFloat);var c=s.globals.maxX-s.globals.minX;return c>0&&c<100?o.toFixed(1):o.toFixed(0)}return s.globals.isBarHorizontal&&s.globals.maxY-s.globals.minYArr<4?o.toFixed(1):o.toFixed(0)}return o},typeof s.config.tooltip.x.formatter=="function"?s.globals.ttKeyFormatter=s.config.tooltip.x.formatter:s.globals.ttKeyFormatter=s.globals.xLabelFormatter,typeof s.config.xaxis.tooltip.formatter=="function"&&(s.globals.xaxisTooltipFormatter=s.config.xaxis.tooltip.formatter),(Array.isArray(s.config.tooltip.y)||s.config.tooltip.y.formatter!==void 0)&&(s.globals.ttVal=s.config.tooltip.y),s.config.tooltip.z.formatter!==void 0&&(s.globals.ttZFormatter=s.config.tooltip.z.formatter),s.config.legend.formatter!==void 0&&(s.globals.legendFormatter=s.config.legend.formatter),s.config.yaxis.forEach((function(o,c){o.labels.formatter!==void 0?s.globals.yLabelFormatters[c]=o.labels.formatter:s.globals.yLabelFormatters[c]=function(u){return s.globals.xyCharts?Array.isArray(u)?u.map((function(d){return n.defaultYFormatter(d,o,c)})):n.defaultYFormatter(u,o,c):u}})),s.globals}},{key:"heatmapLabelFormatters",value:function(){var n=this.w;if(n.config.chart.type==="heatmap"){n.globals.yAxisScale[0].result=n.globals.seriesNames.slice();var s=n.globals.seriesNames.reduce((function(o,c){return o.length>c.length?o:c}),0);n.globals.yAxisScale[0].niceMax=s,n.globals.yAxisScale[0].niceMin=s}}}]),N})(),Ae=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"getLabel",value:function(n,s,o,c){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",f=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],g=this.w,b=n[c]===void 0?"":n[c],v=b,y=g.globals.xLabelFormatter,S=g.config.xaxis.labels.formatter,C=!1,T=new Re(this.ctx),E=b;f&&(v=T.xLabelFormat(y,b,E,{i:c,dateFormatter:new ye(this.ctx).formatDate,w:g}),S!==void 0&&(v=S(b,n[c],{i:c,dateFormatter:new ye(this.ctx).formatDate,w:g})));var O,I;s.length>0?(O=s[c].unit,I=null,s.forEach((function(L){L.unit==="month"?I="year":L.unit==="day"?I="month":L.unit==="hour"?I="day":L.unit==="minute"&&(I="hour")})),C=I===O,o=s[c].position,v=s[c].value):g.config.xaxis.type==="datetime"&&S===void 0&&(v=""),v===void 0&&(v=""),v=Array.isArray(v)?v:v.toString();var D=new V(this.ctx),m={};m=g.globals.rotateXLabels&&f?D.getTextRects(v,parseInt(d,10),null,"rotate(".concat(g.config.xaxis.labels.rotate," 0 0)"),!1):D.getTextRects(v,parseInt(d,10));var k=!g.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(v)&&(String(v)==="NaN"||u.indexOf(v)>=0&&k)&&(v=""),{x:o,text:v,textRect:m,isBold:C}}},{key:"checkLabelBasedOnTickamount",value:function(n,s,o){var c=this.w,u=c.config.xaxis.tickAmount;return u==="dataPoints"&&(u=Math.round(c.globals.gridWidth/120)),u>o||n%Math.round(o/(u+1))==0||(s.text=""),s}},{key:"checkForOverflowingLabels",value:function(n,s,o,c,u){var d=this.w;if(n===0&&d.globals.skipFirstTimelinelabel&&(s.text=""),n===o-1&&d.globals.skipLastTimelinelabel&&(s.text=""),d.config.xaxis.labels.hideOverlappingLabels&&c.length>0){var f=u[u.length-1];s.x<f.textRect.width/(d.globals.rotateXLabels?Math.abs(d.config.xaxis.labels.rotate)/12:1.01)+f.x&&(s.text="")}return s}},{key:"checkForReversedLabels",value:function(n,s){var o=this.w;return o.config.yaxis[n]&&o.config.yaxis[n].reversed&&s.reverse(),s}},{key:"yAxisAllSeriesCollapsed",value:function(n){var s=this.w.globals;return!s.seriesYAxisMap[n].some((function(o){return s.collapsedSeriesIndices.indexOf(o)===-1}))}},{key:"translateYAxisIndex",value:function(n){var s=this.w,o=s.globals,c=s.config.yaxis;return o.series.length>c.length||c.some((function(u){return Array.isArray(u.seriesName)}))?n:o.seriesYAxisReverseMap[n]}},{key:"isYAxisHidden",value:function(n){var s=this.w,o=s.config.yaxis[n];if(!o.show||this.yAxisAllSeriesCollapsed(n))return!0;if(!o.showForNullSeries){var c=s.globals.seriesYAxisMap[n],u=new re(this.ctx);return c.every((function(d){return u.isSeriesNull(d)}))}return!1}},{key:"getYAxisForeColor",value:function(n,s){var o=this.w;return Array.isArray(n)&&o.globals.yAxisScale[s]&&this.ctx.theme.pushExtraColors(n,o.globals.yAxisScale[s].result.length,!1),n}},{key:"drawYAxisTicks",value:function(n,s,o,c,u,d,f){var g=this.w,b=new V(this.ctx),v=g.globals.translateY+g.config.yaxis[u].labels.offsetY;if(g.globals.isBarHorizontal?v=0:g.config.chart.type==="heatmap"&&(v+=d/2),c.show&&s>0){g.config.yaxis[u].opposite===!0&&(n+=c.width);for(var y=s;y>=0;y--){var S=b.drawLine(n+o.offsetX-c.width+c.offsetX,v+c.offsetY,n+o.offsetX+c.offsetX,v+c.offsetY,c.color);f.add(S),v+=d}}}}]),N})(),_t=(function(){function N(n){a(this,N),this.w=n.w,this.annoCtx=n,this.helpers=new ue(this.annoCtx),this.axesUtils=new Ae(this.annoCtx)}return h(N,[{key:"addYaxisAnnotation",value:function(n,s,o){var c,u=this.w,d=n.strokeDashArray,f=this.helpers.getY1Y2("y1",n),g=f.yP,b=f.clipped,v=!0,y=!1,S=n.label.text;if(n.y2===null||n.y2===void 0){if(!b){y=!0;var C=this.annoCtx.graphics.drawLine(0+n.offsetX,g+n.offsetY,this._getYAxisAnnotationWidth(n),g+n.offsetY,n.borderColor,d,n.borderWidth);s.appendChild(C.node),n.id&&C.node.classList.add(n.id)}}else{if(c=(f=this.helpers.getY1Y2("y2",n)).yP,v=f.clipped,c>g){var T=g;g=c,c=T}if(!b||!v){y=!0;var E=this.annoCtx.graphics.drawRect(0+n.offsetX,c+n.offsetY,this._getYAxisAnnotationWidth(n),g-c,0,n.fillColor,n.opacity,1,n.borderColor,d);E.node.classList.add("apexcharts-annotation-rect"),E.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),s.appendChild(E.node),n.id&&E.node.classList.add(n.id)}}if(y){var O=n.label.position==="right"?u.globals.gridWidth:n.label.position==="center"?u.globals.gridWidth/2:0,I=this.annoCtx.graphics.drawText({x:O+n.label.offsetX,y:(c??g)+n.label.offsetY-3,text:S,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});I.attr({rel:o}),s.appendChild(I.node)}}},{key:"_getYAxisAnnotationWidth",value:function(n){var s=this.w;return s.globals.gridWidth,(n.width.indexOf("%")>-1?s.globals.gridWidth*parseInt(n.width,10)/100:parseInt(n.width,10))+n.offsetX}},{key:"drawYAxisAnnotations",value:function(){var n=this,s=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return s.config.annotations.yaxis.forEach((function(c,u){c.yAxisIndex=n.axesUtils.translateYAxisIndex(c.yAxisIndex),n.axesUtils.isYAxisHidden(c.yAxisIndex)&&n.axesUtils.yAxisAllSeriesCollapsed(c.yAxisIndex)||n.addYaxisAnnotation(c,o.node,u)})),o}}]),N})(),We=(function(){function N(n){a(this,N),this.w=n.w,this.annoCtx=n,this.helpers=new ue(this.annoCtx)}return h(N,[{key:"addPointAnnotation",value:function(n,s,o){if(!(this.w.globals.collapsedSeriesIndices.indexOf(n.seriesIndex)>-1)){var c=this.helpers.getX1X2("x1",n),u=c.x,d=c.clipped,f=(c=this.helpers.getY1Y2("y1",n)).yP,g=c.clipped;if(H.isNumber(u)&&!g&&!d){var b={pSize:n.marker.size,pointStrokeWidth:n.marker.strokeWidth,pointFillColor:n.marker.fillColor,pointStrokeColor:n.marker.strokeColor,shape:n.marker.shape,pRadius:n.marker.radius,class:"apexcharts-point-annotation-marker ".concat(n.marker.cssClass," ").concat(n.id?n.id:"")},v=this.annoCtx.graphics.drawMarker(u+n.marker.offsetX,f+n.marker.offsetY,b);s.appendChild(v.node);var y=n.label.text?n.label.text:"",S=this.annoCtx.graphics.drawText({x:u+n.label.offsetX,y:f+n.label.offsetY-n.marker.size-parseFloat(n.label.style.fontSize)/1.6,text:y,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});if(S.attr({rel:o}),s.appendChild(S.node),n.customSVG.SVG){var C=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+n.customSVG.cssClass});C.attr({transform:"translate(".concat(u+n.customSVG.offsetX,", ").concat(f+n.customSVG.offsetY,")")}),C.node.innerHTML=n.customSVG.SVG,s.appendChild(C.node)}if(n.image.path){var T=n.image.width?n.image.width:20,E=n.image.height?n.image.height:20;v=this.annoCtx.addImage({x:u+n.image.offsetX-T/2,y:f+n.image.offsetY-E/2,width:T,height:E,path:n.image.path,appendTo:".apexcharts-point-annotations"})}n.mouseEnter&&v.node.addEventListener("mouseenter",n.mouseEnter.bind(this,n)),n.mouseLeave&&v.node.addEventListener("mouseleave",n.mouseLeave.bind(this,n)),n.click&&v.node.addEventListener("click",n.click.bind(this,n))}}}},{key:"drawPointAnnotations",value:function(){var n=this,s=this.w,o=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return s.config.annotations.points.map((function(c,u){n.addPointAnnotation(c,o.node,u)})),o}}]),N})(),dt={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Ye=(function(){function N(){a(this,N),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return h(N,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[dt],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(n){return n}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(n){return n+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce((function(s,o){return s+o}),0)/n.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(n){return n},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(n){return n}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(n){return n}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce((function(s,o){return s+o}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(n){return n!==null?n:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(n){return n?n+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),N})(),ns=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.graphics=new V(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new ue(this),this.xAxisAnnotations=new me(this),this.yAxisAnnotations=new _t(this),this.pointsAnnotations=new We(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return h(N,[{key:"drawAxesAnnotations",value:function(){var n=this.w;if(n.globals.axisCharts&&n.globals.dataPoints){for(var s=this.yAxisAnnotations.drawYAxisAnnotations(),o=this.xAxisAnnotations.drawXAxisAnnotations(),c=this.pointsAnnotations.drawPointAnnotations(),u=n.config.chart.animations.enabled,d=[s,o,c],f=[o.node,s.node,c.node],g=0;g<3;g++)n.globals.dom.elGraphical.add(d[g]),!u||n.globals.resized||n.globals.dataChanged||n.config.chart.type!=="scatter"&&n.config.chart.type!=="bubble"&&n.globals.dataPoints>1&&f[g].classList.add("apexcharts-element-hidden"),n.globals.delayedElements.push({el:f[g],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var n=this;this.w.config.annotations.images.map((function(s,o){n.addImage(s,o)}))}},{key:"drawTextAnnos",value:function(){var n=this;this.w.config.annotations.texts.map((function(s,o){n.addText(s,o)}))}},{key:"addXaxisAnnotation",value:function(n,s,o){this.xAxisAnnotations.addXaxisAnnotation(n,s,o)}},{key:"addYaxisAnnotation",value:function(n,s,o){this.yAxisAnnotations.addYaxisAnnotation(n,s,o)}},{key:"addPointAnnotation",value:function(n,s,o){this.pointsAnnotations.addPointAnnotation(n,s,o)}},{key:"addText",value:function(n,s){var o=n.x,c=n.y,u=n.text,d=n.textAnchor,f=n.foreColor,g=n.fontSize,b=n.fontFamily,v=n.fontWeight,y=n.cssClass,S=n.backgroundColor,C=n.borderWidth,T=n.strokeDashArray,E=n.borderRadius,O=n.borderColor,I=n.appendTo,D=I===void 0?".apexcharts-svg":I,m=n.paddingLeft,k=m===void 0?4:m,L=n.paddingRight,B=L===void 0?4:L,F=n.paddingBottom,_=F===void 0?2:F,G=n.paddingTop,q=G===void 0?2:G,Z=this.w,ie=this.graphics.drawText({x:o,y:c,text:u,textAnchor:d||"start",fontSize:g||"12px",fontWeight:v||"regular",fontFamily:b||Z.config.chart.fontFamily,foreColor:f||Z.config.chart.foreColor,cssClass:y}),te=Z.globals.dom.baseEl.querySelector(D);te&&te.appendChild(ie.node);var ne=ie.bbox();if(u){var oe=this.graphics.drawRect(ne.x-k,ne.y-q,ne.width+k+B,ne.height+_+q,E,S||"transparent",1,C,O,T);te.insertBefore(oe.node,ie.node)}}},{key:"addImage",value:function(n,s){var o=this.w,c=n.path,u=n.x,d=u===void 0?0:u,f=n.y,g=f===void 0?0:f,b=n.width,v=b===void 0?20:b,y=n.height,S=y===void 0?20:y,C=n.appendTo,T=C===void 0?".apexcharts-svg":C,E=o.globals.dom.Paper.image(c);E.size(v,S).move(d,g);var O=o.globals.dom.baseEl.querySelector(T);return O&&O.appendChild(E.node),E}},{key:"addXaxisAnnotationExternal",value:function(n,s,o){return this.addAnnotationExternal({params:n,pushToMemory:s,context:o,type:"xaxis",contextMethod:o.addXaxisAnnotation}),o}},{key:"addYaxisAnnotationExternal",value:function(n,s,o){return this.addAnnotationExternal({params:n,pushToMemory:s,context:o,type:"yaxis",contextMethod:o.addYaxisAnnotation}),o}},{key:"addPointAnnotationExternal",value:function(n,s,o){return this.invertAxis===void 0&&(this.invertAxis=o.w.globals.isBarHorizontal),this.addAnnotationExternal({params:n,pushToMemory:s,context:o,type:"point",contextMethod:o.addPointAnnotation}),o}},{key:"addAnnotationExternal",value:function(n){var s=n.params,o=n.pushToMemory,c=n.context,u=n.type,d=n.contextMethod,f=c,g=f.w,b=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations")),v=b.childNodes.length+1,y=new Ye,S=Object.assign({},u==="xaxis"?y.xAxisAnnotation:u==="yaxis"?y.yAxisAnnotation:y.pointAnnotation),C=H.extend(S,s);switch(u){case"xaxis":this.addXaxisAnnotation(C,b,v);break;case"yaxis":this.addYaxisAnnotation(C,b,v);break;case"point":this.addPointAnnotation(C,b,v)}var T=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations .apexcharts-").concat(u,"-annotation-label[rel='").concat(v,"']")),E=this.helpers.addBackgroundToAnno(T,C);return E&&b.insertBefore(E.node,T),o&&g.globals.memory.methodsToExec.push({context:f,id:C.id?C.id:H.randomId(),method:d,label:"addAnnotation",params:s}),c}},{key:"clearAnnotations",value:function(n){for(var s=n.w,o=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),c=s.globals.memory.methodsToExec.length-1;c>=0;c--)s.globals.memory.methodsToExec[c].label!=="addText"&&s.globals.memory.methodsToExec[c].label!=="addAnnotation"||s.globals.memory.methodsToExec.splice(c,1);o=H.listToArray(o),Array.prototype.forEach.call(o,(function(u){for(;u.firstChild;)u.removeChild(u.firstChild)}))}},{key:"removeAnnotation",value:function(n,s){var o=n.w,c=o.globals.dom.baseEl.querySelectorAll(".".concat(s));c&&(o.globals.memory.methodsToExec.map((function(u,d){u.id===s&&o.globals.memory.methodsToExec.splice(d,1)})),Array.prototype.forEach.call(c,(function(u){u.parentElement.removeChild(u)})))}}]),N})(),nr=function(N){var n,s=N.isTimeline,o=N.ctx,c=N.seriesIndex,u=N.dataPointIndex,d=N.y1,f=N.y2,g=N.w,b=g.globals.seriesRangeStart[c][u],v=g.globals.seriesRangeEnd[c][u],y=g.globals.labels[u],S=g.config.series[c].name?g.config.series[c].name:"",C=g.globals.ttKeyFormatter,T=g.config.tooltip.y.title.formatter,E={w:g,seriesIndex:c,dataPointIndex:u,start:b,end:v};typeof T=="function"&&(S=T(S,E)),(n=g.config.series[c].data[u])!==null&&n!==void 0&&n.x&&(y=g.config.series[c].data[u].x),s||g.config.xaxis.type==="datetime"&&(y=new Re(o).xLabelFormat(g.globals.ttKeyFormatter,y,y,{i:void 0,dateFormatter:new ye(o).formatDate,w:g})),typeof C=="function"&&(y=C(y,E)),Number.isFinite(d)&&Number.isFinite(f)&&(b=d,v=f);var O="",I="",D=g.globals.colors[c];if(g.config.tooltip.x.formatter===void 0)if(g.config.xaxis.type==="datetime"){var m=new ye(o);O=m.formatDate(m.getDate(b),g.config.tooltip.x.format),I=m.formatDate(m.getDate(v),g.config.tooltip.x.format)}else O=b,I=v;else O=g.config.tooltip.x.formatter(b),I=g.config.tooltip.x.formatter(v);return{start:b,end:v,startVal:O,endVal:I,ylabel:y,color:D,seriesName:S}},Et=function(N){var n=N.color,s=N.seriesName,o=N.ylabel,c=N.start,u=N.end,d=N.seriesIndex,f=N.dataPointIndex,g=N.ctx.tooltip.tooltipLabels.getFormatters(d);c=g.yLbFormatter(c),u=g.yLbFormatter(u);var b=g.yLbFormatter(N.w.globals.series[d][f]),v=`<span class="value start-value">
  `.concat(c,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(u,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+n+'">'+(s||"")+'</span></div><div> <span class="category">'+o+": </span> "+(N.w.globals.comboCharts?N.w.config.series[d].type==="rangeArea"||N.w.config.series[d].type==="rangeBar"?v:"<span>".concat(b,"</span>"):v)+" </div></div>"},Tt=(function(){function N(n){a(this,N),this.opts=n}return h(N,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(n){return this.hideYAxis(),H.extend(n,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(n,s){var o=s.w.config.series[s.seriesIndex].name;return n!==null?o+": "+n:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),P(P({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var n=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){var o=s.seriesIndex,c=s.dataPointIndex,u=s.w;return n._getBoxTooltip(u,o,c,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var n=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(s){var o=s.seriesIndex,c=s.dataPointIndex,u=s.w;return n._getBoxTooltip(u,o,c,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(n,s){s.ctx;var o=s.seriesIndex,c=s.dataPointIndex,u=s.w,d=function(){var f=u.globals.seriesRangeStart[o][c];return u.globals.seriesRangeEnd[o][c]-f};return u.globals.comboCharts?u.config.series[o].type==="rangeBar"||u.config.series[o].type==="rangeArea"?d():n:d()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(n){return n.w.config.plotOptions&&n.w.config.plotOptions.bar&&n.w.config.plotOptions.bar.horizontal?(function(s){var o=nr(P(P({},s),{},{isTimeline:!0})),c=o.color,u=o.seriesName,d=o.ylabel,f=o.startVal,g=o.endVal;return Et(P(P({},s),{},{color:c,seriesName:u,ylabel:d,start:f,end:g}))})(n):(function(s){var o=nr(s),c=o.color,u=o.seriesName,d=o.ylabel,f=o.start,g=o.end;return Et(P(P({},s),{},{color:c,seriesName:u,ylabel:d,start:f,end:g}))})(n)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(n){var s,o;return(s=n.plotOptions.bar)!==null&&s!==void 0&&s.barHeight||(n.plotOptions.bar.barHeight=2),(o=n.plotOptions.bar)!==null&&o!==void 0&&o.columnWidth||(n.plotOptions.bar.columnWidth=2),n}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(n){return(function(s){var o=nr(s),c=o.color,u=o.seriesName,d=o.ylabel,f=o.start,g=o.end;return Et(P(P({},s),{},{color:c,seriesName:u,ylabel:d,start:f,end:g}))})(n)}}}}},{key:"brush",value:function(n){return H.extend(n,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(n){n.dataLabels=n.dataLabels||{},n.dataLabels.formatter=n.dataLabels.formatter||void 0;var s=n.dataLabels.formatter;return n.yaxis.forEach((function(o,c){n.yaxis[c].min=0,n.yaxis[c].max=100})),n.chart.type==="bar"&&(n.dataLabels.formatter=s||function(o){return typeof o=="number"&&o?o.toFixed(0)+"%":o}),n}},{key:"stackedBars",value:function(){var n=this.bar();return P(P({},n),{},{plotOptions:P(P({},n.plotOptions),{},{bar:P(P({},n.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(n){return n.xaxis.convertedCatToNumeric=!0,n}},{key:"convertCatToNumericXaxis",value:function(n,s,o){n.xaxis.type="numeric",n.xaxis.labels=n.xaxis.labels||{},n.xaxis.labels.formatter=n.xaxis.labels.formatter||function(d){return H.isNumber(d)?Math.floor(d):d};var c=n.xaxis.labels.formatter,u=n.xaxis.categories&&n.xaxis.categories.length?n.xaxis.categories:n.labels;return o&&o.length&&(u=o.map((function(d){return Array.isArray(d)?d:String(d)}))),u&&u.length&&(n.xaxis.labels.formatter=function(d){return H.isNumber(d)?c(u[Math.floor(d)-1]):c(d)}),n.xaxis.categories=[],n.labels=[],n.xaxis.tickAmount=n.xaxis.tickAmount||"dataPoints",n}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(n){return n},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(n,s,o,c,u){var d=n.globals.seriesCandleO[s][o],f=n.globals.seriesCandleH[s][o],g=n.globals.seriesCandleM[s][o],b=n.globals.seriesCandleL[s][o],v=n.globals.seriesCandleC[s][o];return n.config.series[s].type&&n.config.series[s].type!==u?`<div class="apexcharts-custom-tooltip">
          `.concat(n.config.series[s].name?n.config.series[s].name:"series-"+(s+1),": <strong>").concat(n.globals.series[s][o],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(n.config.chart.type,'">')+"<div>".concat(c[0],': <span class="value">')+d+"</span></div>"+"<div>".concat(c[1],': <span class="value">')+f+"</span></div>"+(g?"<div>".concat(c[2],': <span class="value">')+g+"</span></div>":"")+"<div>".concat(c[3],': <span class="value">')+b+"</span></div>"+"<div>".concat(c[4],': <span class="value">')+v+"</span></div></div>"}}]),N})(),ti=(function(){function N(n){a(this,N),this.opts=n}return h(N,[{key:"init",value:function(n){var s=n.responsiveOverride,o=this.opts,c=new Ye,u=new Tt(o);this.chartType=o.chart.type,o=this.extendYAxis(o),o=this.extendAnnotations(o);var d=c.init(),f={};if(o&&K(o)==="object"){var g,b,v,y,S,C,T,E,O,I,D={};D=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(o.chart.type)!==-1?u[o.chart.type]():u.line(),(g=o.plotOptions)!==null&&g!==void 0&&(b=g.bar)!==null&&b!==void 0&&b.isFunnel&&(D=u.funnel()),o.chart.stacked&&o.chart.type==="bar"&&(D=u.stackedBars()),(v=o.chart.brush)!==null&&v!==void 0&&v.enabled&&(D=u.brush(D)),(y=o.plotOptions)!==null&&y!==void 0&&(S=y.line)!==null&&S!==void 0&&S.isSlopeChart&&(D=u.slope()),o.chart.stacked&&o.chart.stackType==="100%"&&(o=u.stacked100(o)),(C=o.plotOptions)!==null&&C!==void 0&&(T=C.bar)!==null&&T!==void 0&&T.isDumbbell&&(o=u.dumbbell(o)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(o),o.xaxis=o.xaxis||window.Apex.xaxis||{},s||(o.xaxis.convertedCatToNumeric=!1),((E=(o=this.checkForCatToNumericXAxis(this.chartType,D,o)).chart.sparkline)!==null&&E!==void 0&&E.enabled||(O=window.Apex.chart)!==null&&O!==void 0&&(I=O.sparkline)!==null&&I!==void 0&&I.enabled)&&(D=u.sparkline(D)),f=H.extend(d,D)}var m=H.extend(f,window.Apex);return d=H.extend(m,o),d=this.handleUserInputErrors(d)}},{key:"checkForCatToNumericXAxis",value:function(n,s,o){var c,u,d=new Tt(o),f=(n==="bar"||n==="boxPlot")&&((c=o.plotOptions)===null||c===void 0||(u=c.bar)===null||u===void 0?void 0:u.horizontal),g=n==="pie"||n==="polarArea"||n==="donut"||n==="radar"||n==="radialBar"||n==="heatmap",b=o.xaxis.type!=="datetime"&&o.xaxis.type!=="numeric",v=o.xaxis.tickPlacement?o.xaxis.tickPlacement:s.xaxis&&s.xaxis.tickPlacement;return f||g||!b||v==="between"||(o=d.convertCatToNumeric(o)),o}},{key:"extendYAxis",value:function(n,s){var o=new Ye;(n.yaxis===void 0||!n.yaxis||Array.isArray(n.yaxis)&&n.yaxis.length===0)&&(n.yaxis={}),n.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(n.yaxis=H.extend(n.yaxis,window.Apex.yaxis)),n.yaxis.constructor!==Array?n.yaxis=[H.extend(o.yAxis,n.yaxis)]:n.yaxis=H.extendArray(n.yaxis,o.yAxis);var c=!1;n.yaxis.forEach((function(d){d.logarithmic&&(c=!0)}));var u=n.series;return s&&!u&&(u=s.config.series),c&&u.length!==n.yaxis.length&&u.length&&(n.yaxis=u.map((function(d,f){if(d.name||(u[f].name="series-".concat(f+1)),n.yaxis[f])return n.yaxis[f].seriesName=u[f].name,n.yaxis[f];var g=H.extend(o.yAxis,n.yaxis[0]);return g.show=!1,g}))),c&&u.length>1&&u.length!==n.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),n}},{key:"extendAnnotations",value:function(n){return n.annotations===void 0&&(n.annotations={},n.annotations.yaxis=[],n.annotations.xaxis=[],n.annotations.points=[]),n=this.extendYAxisAnnotations(n),n=this.extendXAxisAnnotations(n),n=this.extendPointAnnotations(n)}},{key:"extendYAxisAnnotations",value:function(n){var s=new Ye;return n.annotations.yaxis=H.extendArray(n.annotations.yaxis!==void 0?n.annotations.yaxis:[],s.yAxisAnnotation),n}},{key:"extendXAxisAnnotations",value:function(n){var s=new Ye;return n.annotations.xaxis=H.extendArray(n.annotations.xaxis!==void 0?n.annotations.xaxis:[],s.xAxisAnnotation),n}},{key:"extendPointAnnotations",value:function(n){var s=new Ye;return n.annotations.points=H.extendArray(n.annotations.points!==void 0?n.annotations.points:[],s.pointAnnotation),n}},{key:"checkForDarkTheme",value:function(n){n.theme&&n.theme.mode==="dark"&&(n.tooltip||(n.tooltip={}),n.tooltip.theme!=="light"&&(n.tooltip.theme="dark"),n.chart.foreColor||(n.chart.foreColor="#f6f7f8"),n.theme.palette||(n.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(n){var s=n;if(s.tooltip.shared&&s.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(s.chart.type==="bar"&&s.plotOptions.bar.horizontal){if(s.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");s.yaxis[0].reversed&&(s.yaxis[0].opposite=!0),s.xaxis.tooltip.enabled=!1,s.yaxis[0].tooltip.enabled=!1,s.chart.zoom.enabled=!1}return s.chart.type!=="bar"&&s.chart.type!=="rangeBar"||s.tooltip.shared&&s.xaxis.crosshairs.width==="barWidth"&&s.series.length>1&&(s.xaxis.crosshairs.width="tickWidth"),s.chart.type!=="candlestick"&&s.chart.type!=="boxPlot"||s.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(s.chart.type," chart is not supported.")),s.yaxis[0].reversed=!1),s}}]),N})(),Wi=(function(){function N(){a(this,N)}return h(N,[{key:"initGlobalVars",value:function(n){n.series=[],n.seriesCandleO=[],n.seriesCandleH=[],n.seriesCandleM=[],n.seriesCandleL=[],n.seriesCandleC=[],n.seriesRangeStart=[],n.seriesRangeEnd=[],n.seriesRange=[],n.seriesPercent=[],n.seriesGoals=[],n.seriesX=[],n.seriesZ=[],n.seriesNames=[],n.seriesTotals=[],n.seriesLog=[],n.seriesColors=[],n.stackedSeriesTotals=[],n.seriesXvalues=[],n.seriesYvalues=[],n.labels=[],n.hasXaxisGroups=!1,n.groups=[],n.barGroups=[],n.lineGroups=[],n.areaGroups=[],n.hasSeriesGroups=!1,n.seriesGroups=[],n.categoryLabels=[],n.timescaleLabels=[],n.noLabelsProvided=!1,n.resizeTimer=null,n.selectionResizeTimer=null,n.lastWheelExecution=0,n.delayedElements=[],n.pointsArray=[],n.dataLabelsRects=[],n.isXNumeric=!1,n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1,n.isDataXYZ=!1,n.isMultiLineX=!1,n.isMultipleYAxis=!1,n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE,n.minYArr=[],n.maxYArr=[],n.maxX=-Number.MAX_VALUE,n.minX=Number.MAX_VALUE,n.initialMaxX=-Number.MAX_VALUE,n.initialMinX=Number.MAX_VALUE,n.maxDate=0,n.minDate=Number.MAX_VALUE,n.minZ=Number.MAX_VALUE,n.maxZ=-Number.MAX_VALUE,n.minXDiff=Number.MAX_VALUE,n.yAxisScale=[],n.xAxisScale=null,n.xAxisTicksPositions=[],n.yLabelsCoords=[],n.yTitleCoords=[],n.barPadForNumericAxis=0,n.padHorizontal=0,n.xRange=0,n.yRange=[],n.zRange=0,n.dataPoints=0,n.xTickAmount=0,n.multiAxisTickAmount=0}},{key:"globalVars",value:function(n){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:n.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:n.chart.toolbar.autoSelected==="zoom"&&n.chart.toolbar.tools.zoom&&n.chart.zoom.enabled,panEnabled:n.chart.toolbar.autoSelected==="pan"&&n.chart.toolbar.tools.pan,selectionEnabled:n.chart.toolbar.autoSelected==="selection"&&n.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:n.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(n){var s=this.globalVars(n);return this.initGlobalVars(s),s.initialConfig=H.extend({},n),s.initialSeries=H.clone(n.series),s.lastXAxis=H.clone(s.initialConfig.xaxis),s.lastYAxis=H.clone(s.initialConfig.yaxis),s}}]),N})(),rs=(function(){function N(n){a(this,N),this.opts=n}return h(N,[{key:"init",value:function(){var n=new ti(this.opts).init({responsiveOverride:!1});return{config:n,globals:new Wi().init(n)}}}]),N})(),Wt=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return h(N,[{key:"clippedImgArea",value:function(n){var s=this.w,o=s.config,c=parseInt(s.globals.gridWidth,10),u=parseInt(s.globals.gridHeight,10),d=c>u?c:u,f=n.image,g=0,b=0;n.width===void 0&&n.height===void 0?o.fill.image.width!==void 0&&o.fill.image.height!==void 0?(g=o.fill.image.width+1,b=o.fill.image.height):(g=d+1,b=d):(g=n.width,b=n.height);var v=document.createElementNS(s.globals.SVGNS,"pattern");V.setAttrs(v,{id:n.patternID,patternUnits:n.patternUnits?n.patternUnits:"userSpaceOnUse",width:g+"px",height:b+"px"});var y=document.createElementNS(s.globals.SVGNS,"image");v.appendChild(y),y.setAttributeNS(window.SVG.xlink,"href",f),V.setAttrs(y,{x:0,y:0,preserveAspectRatio:"none",width:g+"px",height:b+"px"}),y.style.opacity=n.opacity,s.globals.dom.elDefs.node.appendChild(v)}},{key:"getSeriesIndex",value:function(n){var s=this.w,o=s.config.chart.type;return(o==="bar"||o==="rangeBar")&&s.config.plotOptions.bar.distributed||o==="heatmap"||o==="treemap"?this.seriesIndex=n.seriesNumber:this.seriesIndex=n.seriesNumber%s.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(n){var s=this.w;this.opts=n;var o,c,u,d=this.w.config;this.seriesIndex=this.getSeriesIndex(n);var f=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(f=s.globals.seriesColors[this.seriesIndex]),typeof f=="function"&&(f=f({seriesIndex:this.seriesIndex,dataPointIndex:n.dataPointIndex,value:n.value,w:s}));var g=n.fillType?n.fillType:this.getFillType(this.seriesIndex),b=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity;n.color&&(f=n.color),f||(f="#fff",console.warn("undefined color - ApexCharts"));var v=f;if(f.indexOf("rgb")===-1?f.length<9&&(v=H.hexToRgba(f,b)):f.indexOf("rgba")>-1&&(b=H.getOpacityFromRGBA(f)),n.opacity&&(b=n.opacity),g==="pattern"&&(c=this.handlePatternFill({fillConfig:n.fillConfig,patternFill:c,fillColor:f,fillOpacity:b,defaultColor:v})),g==="gradient"&&(u=this.handleGradientFill({fillConfig:n.fillConfig,fillColor:f,fillOpacity:b,i:this.seriesIndex})),g==="image"){var y=d.fill.image.src,S=n.patternID?n.patternID:"",C="pattern".concat(s.globals.cuid).concat(n.seriesNumber+1).concat(S);this.patternIDs.indexOf(C)===-1&&(this.clippedImgArea({opacity:b,image:Array.isArray(y)?n.seriesNumber<y.length?y[n.seriesNumber]:y[0]:y,width:n.width?n.width:void 0,height:n.height?n.height:void 0,patternUnits:n.patternUnits,patternID:C}),this.patternIDs.push(C)),o="url(#".concat(C,")")}else o=g==="gradient"?u:g==="pattern"?c:v;return n.solid&&(o=v),o}},{key:"getFillType",value:function(n){var s=this.w;return Array.isArray(s.config.fill.type)?s.config.fill.type[n]:s.config.fill.type}},{key:"getFillColors",value:function(){var n=this.w,s=n.config,o=this.opts,c=[];return n.globals.comboCharts?n.config.series[this.seriesIndex].type==="line"?Array.isArray(n.globals.stroke.colors)?c=n.globals.stroke.colors:c.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?c=n.globals.fill.colors:c.push(n.globals.fill.colors):s.chart.type==="line"?Array.isArray(n.globals.stroke.colors)?c=n.globals.stroke.colors:c.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?c=n.globals.fill.colors:c.push(n.globals.fill.colors),o.fillColors!==void 0&&(c=[],Array.isArray(o.fillColors)?c=o.fillColors.slice():c.push(o.fillColors)),c}},{key:"handlePatternFill",value:function(n){var s=n.fillConfig,o=n.patternFill,c=n.fillColor,u=n.fillOpacity,d=n.defaultColor,f=this.w.config.fill;s&&(f=s);var g=this.opts,b=new V(this.ctx),v=Array.isArray(f.pattern.strokeWidth)?f.pattern.strokeWidth[this.seriesIndex]:f.pattern.strokeWidth,y=c;return Array.isArray(f.pattern.style)?o=f.pattern.style[g.seriesNumber]!==void 0?b.drawPattern(f.pattern.style[g.seriesNumber],f.pattern.width,f.pattern.height,y,v,u):d:o=b.drawPattern(f.pattern.style,f.pattern.width,f.pattern.height,y,v,u),o}},{key:"handleGradientFill",value:function(n){var s=n.fillColor,o=n.fillOpacity,c=n.fillConfig,u=n.i,d=this.w.config.fill;c&&(d=P(P({},d),c));var f,g=this.opts,b=new V(this.ctx),v=new H,y=d.gradient.type,S=s,C=d.gradient.opacityFrom===void 0?o:Array.isArray(d.gradient.opacityFrom)?d.gradient.opacityFrom[u]:d.gradient.opacityFrom;S.indexOf("rgba")>-1&&(C=H.getOpacityFromRGBA(S));var T=d.gradient.opacityTo===void 0?o:Array.isArray(d.gradient.opacityTo)?d.gradient.opacityTo[u]:d.gradient.opacityTo;if(d.gradient.gradientToColors===void 0||d.gradient.gradientToColors.length===0)f=d.gradient.shade==="dark"?v.shadeColor(-1*parseFloat(d.gradient.shadeIntensity),s.indexOf("rgb")>-1?H.rgb2hex(s):s):v.shadeColor(parseFloat(d.gradient.shadeIntensity),s.indexOf("rgb")>-1?H.rgb2hex(s):s);else if(d.gradient.gradientToColors[g.seriesNumber]){var E=d.gradient.gradientToColors[g.seriesNumber];f=E,E.indexOf("rgba")>-1&&(T=H.getOpacityFromRGBA(E))}else f=s;if(d.gradient.gradientFrom&&(S=d.gradient.gradientFrom),d.gradient.gradientTo&&(f=d.gradient.gradientTo),d.gradient.inverseColors){var O=S;S=f,f=O}return S.indexOf("rgb")>-1&&(S=H.rgb2hex(S)),f.indexOf("rgb")>-1&&(f=H.rgb2hex(f)),b.drawGradient(y,S,f,C,T,g.size,d.gradient.stops,d.gradient.colorStops,u)}}]),N})(),An=(function(){function N(n,s){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"setGlobalMarkerSize",value:function(){var n=this.w;if(n.globals.markers.size=Array.isArray(n.config.markers.size)?n.config.markers.size:[n.config.markers.size],n.globals.markers.size.length>0){if(n.globals.markers.size.length<n.globals.series.length+1)for(var s=0;s<=n.globals.series.length;s++)n.globals.markers.size[s]===void 0&&n.globals.markers.size.push(n.globals.markers.size[0])}else n.globals.markers.size=n.config.series.map((function(o){return n.config.markers.size}))}},{key:"plotChartMarkers",value:function(n,s,o,c){var u,d=arguments.length>4&&arguments[4]!==void 0&&arguments[4],f=this.w,g=s,b=n,v=null,y=new V(this.ctx),S=f.config.markers.discrete&&f.config.markers.discrete.length;if((f.globals.markers.size[s]>0||d||S)&&(v=y.group({class:d||S?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(f.globals.cuid,")")),Array.isArray(b.x))for(var C=0;C<b.x.length;C++){var T=o;o===1&&C===0&&(T=0),o===1&&C===1&&(T=1);var E="apexcharts-marker";if(f.config.chart.type!=="line"&&f.config.chart.type!=="area"||f.globals.comboCharts||f.config.tooltip.intersect||(E+=" no-pointer-events"),(Array.isArray(f.config.markers.size)?f.globals.markers.size[s]>0:f.config.markers.size>0)||d||S){H.isNumber(b.y[C])?E+=" w".concat(H.randomId()):E="apexcharts-nullpoint";var O=this.getMarkerConfig({cssClass:E,seriesIndex:s,dataPointIndex:T});f.config.series[g].data[T]&&(f.config.series[g].data[T].fillColor&&(O.pointFillColor=f.config.series[g].data[T].fillColor),f.config.series[g].data[T].strokeColor&&(O.pointStrokeColor=f.config.series[g].data[T].strokeColor)),c!==void 0&&(O.pSize=c),(b.x[C]<-f.globals.markers.largestSize||b.x[C]>f.globals.gridWidth+f.globals.markers.largestSize||b.y[C]<-f.globals.markers.largestSize||b.y[C]>f.globals.gridHeight+f.globals.markers.largestSize)&&(O.pSize=0),(u=y.drawMarker(b.x[C],b.y[C],O)).attr("rel",T),u.attr("j",T),u.attr("index",s),u.node.setAttribute("default-marker-size",O.pSize),new U(this.ctx).setSelectionFilter(u,s,T),this.addEvents(u),v&&v.add(u)}else f.globals.pointsArray[s]===void 0&&(f.globals.pointsArray[s]=[]),f.globals.pointsArray[s].push([b.x[C],b.y[C]])}return v}},{key:"getMarkerConfig",value:function(n){var s=n.cssClass,o=n.seriesIndex,c=n.dataPointIndex,u=c===void 0?null:c,d=n.radius,f=d===void 0?null:d,g=n.size,b=g===void 0?null:g,v=n.strokeWidth,y=v===void 0?null:v,S=this.w,C=this.getMarkerStyle(o),T=b===null?S.globals.markers.size[o]:b,E=S.config.markers;return u!==null&&E.discrete.length&&E.discrete.map((function(O){O.seriesIndex===o&&O.dataPointIndex===u&&(C.pointStrokeColor=O.strokeColor,C.pointFillColor=O.fillColor,T=O.size,C.pointShape=O.shape)})),{pSize:f===null?T:f,pRadius:f!==null?f:E.radius,pointStrokeWidth:y!==null?y:Array.isArray(E.strokeWidth)?E.strokeWidth[o]:E.strokeWidth,pointStrokeColor:C.pointStrokeColor,pointFillColor:C.pointFillColor,shape:C.pointShape||(Array.isArray(E.shape)?E.shape[o]:E.shape),class:s,pointStrokeOpacity:Array.isArray(E.strokeOpacity)?E.strokeOpacity[o]:E.strokeOpacity,pointStrokeDashArray:Array.isArray(E.strokeDashArray)?E.strokeDashArray[o]:E.strokeDashArray,pointFillOpacity:Array.isArray(E.fillOpacity)?E.fillOpacity[o]:E.fillOpacity,seriesIndex:o}}},{key:"addEvents",value:function(n){var s=this.w,o=new V(this.ctx);n.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this.ctx,n)),n.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this.ctx,n)),n.node.addEventListener("mousedown",o.pathMouseDown.bind(this.ctx,n)),n.node.addEventListener("click",s.config.markers.onClick),n.node.addEventListener("dblclick",s.config.markers.onDblClick),n.node.addEventListener("touchstart",o.pathMouseDown.bind(this.ctx,n),{passive:!0})}},{key:"getMarkerStyle",value:function(n){var s=this.w,o=s.globals.markers.colors,c=s.config.markers.strokeColor||s.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(c)?c[n]:c,pointFillColor:Array.isArray(o)?o[n]:o}}}]),N})(),Ch=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.initialAnim=this.w.config.chart.animations.enabled}return h(N,[{key:"draw",value:function(n,s,o){var c=this.w,u=new V(this.ctx),d=o.realIndex,f=o.pointsPos,g=o.zRatio,b=o.elParent,v=u.group({class:"apexcharts-series-markers apexcharts-series-".concat(c.config.chart.type)});if(v.attr("clip-path","url(#gridRectMarkerMask".concat(c.globals.cuid,")")),Array.isArray(f.x))for(var y=0;y<f.x.length;y++){var S=s+1,C=!0;s===0&&y===0&&(S=0),s===0&&y===1&&(S=1);var T=c.globals.markers.size[d];if(g!==1/0){var E=c.config.plotOptions.bubble;T=c.globals.seriesZ[d][S],E.zScaling&&(T/=g),E.minBubbleRadius&&T<E.minBubbleRadius&&(T=E.minBubbleRadius),E.maxBubbleRadius&&T>E.maxBubbleRadius&&(T=E.maxBubbleRadius)}var O=f.x[y],I=f.y[y];if(T=T||0,I!==null&&c.globals.series[d][S]!==void 0||(C=!1),C){var D=this.drawPoint(O,I,T,d,S,s);v.add(D)}b.add(v)}}},{key:"drawPoint",value:function(n,s,o,c,u,d){var f=this.w,g=c,b=new J(this.ctx),v=new U(this.ctx),y=new Wt(this.ctx),S=new An(this.ctx),C=new V(this.ctx),T=S.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:g,dataPointIndex:u,radius:f.config.chart.type==="bubble"||f.globals.comboCharts&&f.config.series[c]&&f.config.series[c].type==="bubble"?o:null}),E=y.fillPath({seriesNumber:c,dataPointIndex:u,color:T.pointFillColor,patternUnits:"objectBoundingBox",value:f.globals.series[c][d]}),O=C.drawMarker(n,s,T);if(f.config.series[g].data[u]&&f.config.series[g].data[u].fillColor&&(E=f.config.series[g].data[u].fillColor),O.attr({fill:E}),f.config.chart.dropShadow.enabled){var I=f.config.chart.dropShadow;v.dropShadow(O,I,c)}if(!this.initialAnim||f.globals.dataChanged||f.globals.resized)f.globals.animationEnded=!0;else{var D=f.config.chart.animations.speed;b.animateMarker(O,D,f.globals.easing,(function(){window.setTimeout((function(){b.animationCompleted(O)}),100)}))}return O.attr({rel:u,j:u,index:c,"default-marker-size":T.pSize}),v.setSelectionFilter(O,c,u),S.addEvents(O),O.node.classList.add("apexcharts-marker"),O}},{key:"centerTextInBubble",value:function(n){var s=this.w;return{y:n+=parseInt(s.config.dataLabels.style.fontSize,10)/4}}}]),N})(),Cn=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"dataLabelsCorrection",value:function(n,s,o,c,u,d,f){var g=this.w,b=!1,v=new V(this.ctx).getTextRects(o,f),y=v.width,S=v.height;s<0&&(s=0),s>g.globals.gridHeight+S&&(s=g.globals.gridHeight+S/2),g.globals.dataLabelsRects[c]===void 0&&(g.globals.dataLabelsRects[c]=[]),g.globals.dataLabelsRects[c].push({x:n,y:s,width:y,height:S});var C=g.globals.dataLabelsRects[c].length-2,T=g.globals.lastDrawnDataLabelsIndexes[c]!==void 0?g.globals.lastDrawnDataLabelsIndexes[c][g.globals.lastDrawnDataLabelsIndexes[c].length-1]:0;if(g.globals.dataLabelsRects[c][C]!==void 0){var E=g.globals.dataLabelsRects[c][T];(n>E.x+E.width||s>E.y+E.height||s+S<E.y||n+y<E.x)&&(b=!0)}return(u===0||d)&&(b=!0),{x:n,y:s,textRects:v,drawnextLabel:b}}},{key:"drawDataLabel",value:function(n){var s=this,o=n.type,c=n.pos,u=n.i,d=n.j,f=n.isRangeStart,g=n.strokeWidth,b=g===void 0?2:g,v=this.w,y=new V(this.ctx),S=v.config.dataLabels,C=0,T=0,E=d,O=null;if(v.globals.collapsedSeriesIndices.indexOf(u)!==-1||!S.enabled||!Array.isArray(c.x))return O;O=y.group({class:"apexcharts-data-labels"});for(var I=0;I<c.x.length;I++)if(C=c.x[I]+S.offsetX,T=c.y[I]+S.offsetY+b,!isNaN(C)){d===1&&I===0&&(E=0),d===1&&I===1&&(E=1);var D=v.globals.series[u][E];o==="rangeArea"&&(D=f?v.globals.seriesRangeStart[u][E]:v.globals.seriesRangeEnd[u][E]);var m="",k=function(B){return v.config.dataLabels.formatter(B,{ctx:s.ctx,seriesIndex:u,dataPointIndex:E,w:v})};v.config.chart.type==="bubble"?(m=k(D=v.globals.seriesZ[u][E]),T=c.y[I],T=new Ch(this.ctx).centerTextInBubble(T,u,E).y):D!==void 0&&(m=k(D));var L=v.config.dataLabels.textAnchor;v.globals.isSlopeChart&&(L=E===0?"end":E===v.config.series[u].data.length-1?"start":"middle"),this.plotDataLabelsText({x:C,y:T,text:m,i:u,j:E,parent:O,offsetCorrection:!0,dataLabelsConfig:v.config.dataLabels,textAnchor:L})}return O}},{key:"plotDataLabelsText",value:function(n){var s=this.w,o=new V(this.ctx),c=n.x,u=n.y,d=n.i,f=n.j,g=n.text,b=n.textAnchor,v=n.fontSize,y=n.parent,S=n.dataLabelsConfig,C=n.color,T=n.alwaysDrawDataLabel,E=n.offsetCorrection,O=n.className,I=null;if(Array.isArray(s.config.dataLabels.enabledOnSeries)&&s.config.dataLabels.enabledOnSeries.indexOf(d)<0)return I;var D={x:c,y:u,drawnextLabel:!0,textRects:null};E&&(D=this.dataLabelsCorrection(c,u,g,d,f,T,parseInt(S.style.fontSize,10))),s.globals.zoomed||(c=D.x,u=D.y),D.textRects&&(c<-20-D.textRects.width||c>s.globals.gridWidth+D.textRects.width+30)&&(g="");var m=s.globals.dataLabels.style.colors[d];((s.config.chart.type==="bar"||s.config.chart.type==="rangeBar")&&s.config.plotOptions.bar.distributed||s.config.dataLabels.distributed)&&(m=s.globals.dataLabels.style.colors[f]),typeof m=="function"&&(m=m({series:s.globals.series,seriesIndex:d,dataPointIndex:f,w:s})),C&&(m=C);var k=S.offsetX,L=S.offsetY;if(s.config.chart.type!=="bar"&&s.config.chart.type!=="rangeBar"||(k=0,L=0),s.globals.isSlopeChart&&(f!==0&&(k=-2*S.offsetX+5),f!==0&&f!==s.config.series[d].data.length-1&&(k=0)),D.drawnextLabel){if((I=o.drawText({width:100,height:parseInt(S.style.fontSize,10),x:c+k,y:u+L,foreColor:m,textAnchor:b||S.textAnchor,text:g,fontSize:v||S.style.fontSize,fontFamily:S.style.fontFamily,fontWeight:S.style.fontWeight||"normal"})).attr({class:O||"apexcharts-datalabel",cx:c,cy:u}),S.dropShadow.enabled){var B=S.dropShadow;new U(this.ctx).dropShadow(I,B)}y.add(I),s.globals.lastDrawnDataLabelsIndexes[d]===void 0&&(s.globals.lastDrawnDataLabelsIndexes[d]=[]),s.globals.lastDrawnDataLabelsIndexes[d].push(f)}return I}},{key:"addBackgroundToDataLabel",value:function(n,s){var o=this.w,c=o.config.dataLabels.background,u=c.padding,d=c.padding/2,f=s.width,g=s.height,b=new V(this.ctx).drawRect(s.x-u,s.y-d/2,f+2*u,g+d,c.borderRadius,o.config.chart.background!=="transparent"&&o.config.chart.background?o.config.chart.background:"#fff",c.opacity,c.borderWidth,c.borderColor);return c.dropShadow.enabled&&new U(this.ctx).dropShadow(b,c.dropShadow),b}},{key:"dataLabelsBackground",value:function(){var n=this.w;if(n.config.chart.type!=="bubble")for(var s=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),o=0;o<s.length;o++){var c=s[o],u=c.getBBox(),d=null;if(u.width&&u.height&&(d=this.addBackgroundToDataLabel(c,u)),d){c.parentNode.insertBefore(d.node,c);var f=c.getAttribute("fill");n.config.chart.animations.enabled&&!n.globals.resized&&!n.globals.dataChanged?d.animate().attr({fill:f}):d.attr({fill:f}),c.setAttribute("fill",n.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var n=this.w,s=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),o=n.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),c=0;c<s.length;c++)o&&o.insertBefore(s[c],o.nextSibling)}}]),N})(),Mt=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.legendInactiveClass="legend-mouseover-inactive"}return h(N,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(n){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(H.escapeString(n),"']"))}},{key:"isSeriesHidden",value:function(n){var s=this.getSeriesByName(n),o=parseInt(s.getAttribute("data:realIndex"),10);return{isHidden:s.classList.contains("apexcharts-series-collapsed"),realIndex:o}}},{key:"addCollapsedClassToSeries",value:function(n,s){var o=this.w;function c(u){for(var d=0;d<u.length;d++)u[d].index===s&&n.node.classList.add("apexcharts-series-collapsed")}c(o.globals.collapsedSeries),c(o.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(n){var s=this.isSeriesHidden(n);return this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,s.isHidden),s.isHidden}},{key:"showSeries",value:function(n){var s=this.isSeriesHidden(n);s.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!0)}},{key:"hideSeries",value:function(n){var s=this.isSeriesHidden(n);s.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(s.realIndex,!1)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w,u=H.clone(c.globals.initialSeries);c.globals.previousPaths=[],o?(c.globals.collapsedSeries=[],c.globals.ancillaryCollapsedSeries=[],c.globals.collapsedSeriesIndices=[],c.globals.ancillaryCollapsedSeriesIndices=[]):u=this.emptyCollapsedSeries(u),c.config.series=u,n&&(s&&(c.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(u,c.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(n){for(var s=this.w,o=0;o<n.length;o++)s.globals.collapsedSeriesIndices.indexOf(o)>-1&&(n[o].data=[]);return n}},{key:"highlightSeries",value:function(n){var s=this.w,o=this.getSeriesByName(n),c=parseInt(o?.getAttribute("data:realIndex"),10),u=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),d=null,f=null,g=null;if(s.globals.axisCharts||s.config.chart.type==="radialBar")if(s.globals.axisCharts){d=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(c,"']")),f=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(c,"']"));var b=s.globals.seriesYAxisReverseMap[c];g=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(b,"']"))}else d=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(c+1,"']"));else d=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(c+1,"'] path"));for(var v=0;v<u.length;v++)u[v].classList.add(this.legendInactiveClass);if(d)s.globals.axisCharts||d.parentNode.classList.remove(this.legendInactiveClass),d.classList.remove(this.legendInactiveClass),f!==null&&f.classList.remove(this.legendInactiveClass),g!==null&&g.classList.remove(this.legendInactiveClass);else for(var y=0;y<u.length;y++)u[y].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(n,s){var o=this.w;s||(s=n.target);var c=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(n.type==="mousemove"){var u=parseInt(s.getAttribute("rel"),10)-1;this.highlightSeries(o.globals.seriesNames[u])}else if(n.type==="mouseout")for(var d=0;d<c.length;d++)c[d].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(n,s){var o=this,c=this.w,u=c.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),d=function(b){for(var v=0;v<u.length;v++)u[v].classList[b](o.legendInactiveClass)};if(n.type==="mousemove"){var f=parseInt(s.getAttribute("rel"),10)-1;d("add");var g=c.config.plotOptions.heatmap.colorScale.ranges;(function(b,v){for(var y=0;y<u.length;y++){var S=Number(u[y].getAttribute("val"));S>=b.from&&(S<b.to||b.to===v&&S===v)&&u[y].classList.remove(o.legendInactiveClass)}})(g[f],g.reduce((function(b,v){return Math.max(b,v.to)}),0))}else n.type==="mouseout"&&d("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=this.w,c=0;if(o.config.series.length>1){for(var u=o.config.series.map((function(f,g){return f.data&&f.data.length>0&&o.globals.collapsedSeriesIndices.indexOf(g)===-1&&(!o.globals.comboCharts||s.length===0||s.length&&s.indexOf(o.config.series[g].type)>-1)?g:-1})),d=n==="asc"?0:u.length-1;n==="asc"?d<u.length:d>=0;n==="asc"?d++:d--)if(u[d]!==-1){c=u[d];break}}return c}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(n,s){return n.type==="bar"||n.type==="column"?s:-1})).filter((function(n){return n!==-1})):this.w.config.series.map((function(n,s){return s}))}},{key:"getPreviousPaths",value:function(){var n=this.w;function s(d,f,g){for(var b=d[f].childNodes,v={type:g,paths:[],realIndex:d[f].getAttribute("data:realIndex")},y=0;y<b.length;y++)if(b[y].hasAttribute("pathTo")){var S=b[y].getAttribute("pathTo");v.paths.push({d:S})}n.globals.previousPaths.push(v)}n.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(d){for(var f,g=(f=d,n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(f,"-series .apexcharts-series"))),b=0;b<g.length;b++)s(g,b,d)})),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var o=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series"));if(o.length>0)for(var c=function(d){for(var f=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(d,"'] rect")),g=[],b=function(y){var S=function(T){return f[y].getAttribute(T)},C={x:parseFloat(S("x")),y:parseFloat(S("y")),width:parseFloat(S("width")),height:parseFloat(S("height"))};g.push({rect:C,color:f[y].getAttribute("color")})},v=0;v<f.length;v++)b(v);n.globals.previousPaths.push(g)},u=0;u<o.length;u++)c(u);n.globals.axisCharts||(n.globals.previousPaths=n.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(n){var s=this.w,o=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series"));if(o.length>0)for(var c=0;c<o.length;c++){for(var u=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series[data\\:realIndex='").concat(c,"'] circle")),d=[],f=0;f<u.length;f++)d.push({x:u[f].getAttribute("cx"),y:u[f].getAttribute("cy"),r:u[f].getAttribute("r")});s.globals.previousPaths.push(d)}}},{key:"clearPreviousPaths",value:function(){var n=this.w;n.globals.previousPaths=[],n.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var n=this.w,s=n.config.noData,o=new V(this.ctx),c=n.globals.svgWidth/2,u=n.globals.svgHeight/2,d="middle";if(n.globals.noData=!0,n.globals.animationEnded=!0,s.align==="left"?(c=10,d="start"):s.align==="right"&&(c=n.globals.svgWidth-10,d="end"),s.verticalAlign==="top"?u=50:s.verticalAlign==="bottom"&&(u=n.globals.svgHeight-50),c+=s.offsetX,u=u+parseInt(s.style.fontSize,10)+2+s.offsetY,s.text!==void 0&&s.text!==""){var f=o.drawText({x:c,y:u,text:s.text,textAnchor:d,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,foreColor:s.style.color,opacity:1,class:"apexcharts-text-nodata"});n.globals.dom.Paper.add(f)}}},{key:"setNullSeriesToZeroValues",value:function(n){for(var s=this.w,o=0;o<n.length;o++)if(n[o].length===0)for(var c=0;c<n[s.globals.maxValsInArrayIndex].length;c++)n[o].push(0);return n}},{key:"hasAllSeriesEqualX",value:function(){for(var n=!0,s=this.w,o=this.filteredSeriesX(),c=0;c<o.length-1;c++)if(o[c][0]!==o[c+1][0]){n=!1;break}return s.globals.allSeriesHasEqualX=n,n}},{key:"filteredSeriesX",value:function(){var n=this.w.globals.seriesX.map((function(s){return s.length>0?s:[]}));return n}}]),N})(),wo=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new re(this.ctx)}return h(N,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var n=this.w.config.series.slice(),s=new Mt(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].x!==void 0&&n[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var n=this.w.config.series.slice(),s=new Mt(this.ctx);if(this.activeSeriesIndex=s.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==void 0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(n,s){for(var o=this.w.config,c=this.w.globals,u=o.chart.type==="boxPlot"||o.series[s].type==="boxPlot",d=0;d<n[s].data.length;d++)if(n[s].data[d][1]!==void 0&&(Array.isArray(n[s].data[d][1])&&n[s].data[d][1].length===4&&!u?this.twoDSeries.push(H.parseNumber(n[s].data[d][1][3])):n[s].data[d].length>=5?this.twoDSeries.push(H.parseNumber(n[s].data[d][4])):this.twoDSeries.push(H.parseNumber(n[s].data[d][1])),c.dataFormatXNumeric=!0),o.xaxis.type==="datetime"){var f=new Date(n[s].data[d][0]);f=new Date(f).getTime(),this.twoDSeriesX.push(f)}else this.twoDSeriesX.push(n[s].data[d][0]);for(var g=0;g<n[s].data.length;g++)n[s].data[g][2]!==void 0&&(this.threeDSeries.push(n[s].data[g][2]),c.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(n,s){var o=this.w.config,c=this.w.globals,u=new ye(this.ctx),d=s;c.collapsedSeriesIndices.indexOf(s)>-1&&(d=this.activeSeriesIndex);for(var f=0;f<n[s].data.length;f++)n[s].data[f].y!==void 0&&(Array.isArray(n[s].data[f].y)?this.twoDSeries.push(H.parseNumber(n[s].data[f].y[n[s].data[f].y.length-1])):this.twoDSeries.push(H.parseNumber(n[s].data[f].y))),n[s].data[f].goals!==void 0&&Array.isArray(n[s].data[f].goals)?(this.seriesGoals[s]===void 0&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(n[s].data[f].goals)):(this.seriesGoals[s]===void 0&&(this.seriesGoals[s]=[]),this.seriesGoals[s].push(null));for(var g=0;g<n[d].data.length;g++){var b=typeof n[d].data[g].x=="string",v=Array.isArray(n[d].data[g].x),y=!v&&!!u.isValidDate(n[d].data[g].x);if(b||y)if(b||o.xaxis.convertedCatToNumeric){var S=c.isBarHorizontal&&c.isRangeData;o.xaxis.type!=="datetime"||S?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[d].data[g].x),isNaN(n[d].data[g].x)||this.w.config.xaxis.type==="category"||typeof n[d].data[g].x=="string"||(c.isXNumeric=!0)):this.twoDSeriesX.push(u.parseDate(n[d].data[g].x))}else o.xaxis.type==="datetime"?this.twoDSeriesX.push(u.parseDate(n[d].data[g].x.toString())):(c.dataFormatXNumeric=!0,c.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(n[d].data[g].x)));else v?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[d].data[g].x)):(c.isXNumeric=!0,c.dataFormatXNumeric=!0,this.twoDSeriesX.push(n[d].data[g].x))}if(n[s].data[0]&&n[s].data[0].z!==void 0){for(var C=0;C<n[s].data.length;C++)this.threeDSeries.push(n[s].data[C].z);c.isDataXYZ=!0}}},{key:"handleRangeData",value:function(n,s){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleRangeDataFormat("array",n,s):this.isFormatXY()&&(c=this.handleRangeDataFormat("xy",n,s)),o.seriesRangeStart.push(c.start===void 0?[]:c.start),o.seriesRangeEnd.push(c.end===void 0?[]:c.end),o.seriesRange.push(c.rangeUniques),o.seriesRange.forEach((function(u,d){u&&u.forEach((function(f,g){f.y.forEach((function(b,v){for(var y=0;y<f.y.length;y++)if(v!==y){var S=b.y1,C=b.y2,T=f.y[y].y1;S<=f.y[y].y2&&T<=C&&(f.overlaps.indexOf(b.rangeName)<0&&f.overlaps.push(b.rangeName),f.overlaps.indexOf(f.y[y].rangeName)<0&&f.overlaps.push(f.y[y].rangeName))}}))}))})),c}},{key:"handleCandleStickBoxData",value:function(n,s){var o=this.w.globals,c={};return this.isFormat2DArray()?c=this.handleCandleStickBoxDataFormat("array",n,s):this.isFormatXY()&&(c=this.handleCandleStickBoxDataFormat("xy",n,s)),o.seriesCandleO[s]=c.o,o.seriesCandleH[s]=c.h,o.seriesCandleM[s]=c.m,o.seriesCandleL[s]=c.l,o.seriesCandleC[s]=c.c,c}},{key:"handleRangeDataFormat",value:function(n,s,o){var c=[],u=[],d=s[o].data.filter((function(v,y,S){return y===S.findIndex((function(C){return C.x===v.x}))})).map((function(v,y){return{x:v.x,overlaps:[],y:[]}}));if(n==="array")for(var f=0;f<s[o].data.length;f++)Array.isArray(s[o].data[f])?(c.push(s[o].data[f][1][0]),u.push(s[o].data[f][1][1])):(c.push(s[o].data[f]),u.push(s[o].data[f]));else if(n==="xy")for(var g=function(v){var y=Array.isArray(s[o].data[v].y),S=H.randomId(),C=s[o].data[v].x,T={y1:y?s[o].data[v].y[0]:s[o].data[v].y,y2:y?s[o].data[v].y[1]:s[o].data[v].y,rangeName:S};s[o].data[v].rangeName=S;var E=d.findIndex((function(O){return O.x===C}));d[E].y.push(T),c.push(T.y1),u.push(T.y2)},b=0;b<s[o].data.length;b++)g(b);return{start:c,end:u,rangeUniques:d}}},{key:"handleCandleStickBoxDataFormat",value:function(n,s,o){var c=this.w,u=c.config.chart.type==="boxPlot"||c.config.series[o].type==="boxPlot",d=[],f=[],g=[],b=[],v=[];if(n==="array")if(u&&s[o].data[0].length===6||!u&&s[o].data[0].length===5)for(var y=0;y<s[o].data.length;y++)d.push(s[o].data[y][1]),f.push(s[o].data[y][2]),u?(g.push(s[o].data[y][3]),b.push(s[o].data[y][4]),v.push(s[o].data[y][5])):(b.push(s[o].data[y][3]),v.push(s[o].data[y][4]));else for(var S=0;S<s[o].data.length;S++)Array.isArray(s[o].data[S][1])&&(d.push(s[o].data[S][1][0]),f.push(s[o].data[S][1][1]),u?(g.push(s[o].data[S][1][2]),b.push(s[o].data[S][1][3]),v.push(s[o].data[S][1][4])):(b.push(s[o].data[S][1][2]),v.push(s[o].data[S][1][3])));else if(n==="xy")for(var C=0;C<s[o].data.length;C++)Array.isArray(s[o].data[C].y)&&(d.push(s[o].data[C].y[0]),f.push(s[o].data[C].y[1]),u?(g.push(s[o].data[C].y[2]),b.push(s[o].data[C].y[3]),v.push(s[o].data[C].y[4])):(b.push(s[o].data[C].y[2]),v.push(s[o].data[C].y[3])));return{o:d,h:f,m:g,l:b,c:v}}},{key:"parseDataAxisCharts",value:function(n){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,c=this.w.config,u=this.w.globals,d=new ye(o),f=c.labels.length>0?c.labels.slice():c.xaxis.categories.slice();u.isRangeBar=c.chart.type==="rangeBar"&&u.isBarHorizontal,u.hasXaxisGroups=c.xaxis.type==="category"&&c.xaxis.group.groups.length>0,u.hasXaxisGroups&&(u.groups=c.xaxis.group.groups),n.forEach((function(C,T){C.name!==void 0?u.seriesNames.push(C.name):u.seriesNames.push("series-"+parseInt(T+1,10))})),this.coreUtils.setSeriesYAxisMappings();var g=[],b=Y(new Set(c.series.map((function(C){return C.group}))));c.series.forEach((function(C,T){var E=b.indexOf(C.group);g[E]||(g[E]=[]),g[E].push(u.seriesNames[T])})),u.seriesGroups=g;for(var v=function(){for(var C=0;C<f.length;C++)if(typeof f[C]=="string"){if(!d.isValidDate(f[C]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");s.twoDSeriesX.push(d.parseDate(f[C]))}else s.twoDSeriesX.push(f[C])},y=0;y<n.length;y++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],n[y].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(c.chart.type!=="rangeBar"&&c.chart.type!=="rangeArea"&&n[y].type!=="rangeBar"&&n[y].type!=="rangeArea"||(u.isRangeData=!0,c.chart.type!=="rangeBar"&&c.chart.type!=="rangeArea"||this.handleRangeData(n,y)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(n,y):this.isFormatXY()&&this.handleFormatXY(n,y),c.chart.type!=="candlestick"&&n[y].type!=="candlestick"&&c.chart.type!=="boxPlot"&&n[y].type!=="boxPlot"||this.handleCandleStickBoxData(n,y),u.series.push(this.twoDSeries),u.labels.push(this.twoDSeriesX),u.seriesX.push(this.twoDSeriesX),u.seriesGoals=this.seriesGoals,y!==this.activeSeriesIndex||this.fallbackToCategory||(u.isXNumeric=!0);else{c.xaxis.type==="datetime"?(u.isXNumeric=!0,v(),u.seriesX.push(this.twoDSeriesX)):c.xaxis.type==="numeric"&&(u.isXNumeric=!0,f.length>0&&(this.twoDSeriesX=f,u.seriesX.push(this.twoDSeriesX))),u.labels.push(this.twoDSeriesX);var S=n[y].data.map((function(C){return H.parseNumber(C)}));u.series.push(S)}u.seriesZ.push(this.threeDSeries),n[y].color!==void 0?u.seriesColors.push(n[y].color):u.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(n){var s=this.w.globals,o=this.w.config;s.series=n.slice(),s.seriesNames=o.labels.slice();for(var c=0;c<s.series.length;c++)s.seriesNames[c]===void 0&&s.seriesNames.push("series-"+(c+1));return this.w}},{key:"handleExternalLabelsData",value:function(n){var s=this.w.config,o=this.w.globals;s.xaxis.categories.length>0?o.labels=s.xaxis.categories:s.labels.length>0?o.labels=s.labels.slice():this.fallbackToCategory?(o.labels=o.labels[0],o.seriesRange.length&&(o.seriesRange.map((function(c){c.forEach((function(u){o.labels.indexOf(u.x)<0&&u.x&&o.labels.push(u.x)}))})),o.labels=Array.from(new Set(o.labels.map(JSON.stringify)),JSON.parse)),s.xaxis.convertedCatToNumeric&&(new Tt(s).convertCatToNumericXaxis(s,this.ctx,o.seriesX[0]),this._generateExternalLabels(n))):this._generateExternalLabels(n)}},{key:"_generateExternalLabels",value:function(n){var s=this.w.globals,o=this.w.config,c=[];if(s.axisCharts){if(s.series.length>0)if(this.isFormatXY())for(var u=o.series.map((function(y,S){return y.data.filter((function(C,T,E){return E.findIndex((function(O){return O.x===C.x}))===T}))})),d=u.reduce((function(y,S,C,T){return T[y].length>S.length?y:C}),0),f=0;f<u[d].length;f++)c.push(f+1);else for(var g=0;g<s.series[s.maxValsInArrayIndex].length;g++)c.push(g+1);s.seriesX=[];for(var b=0;b<n.length;b++)s.seriesX.push(c);this.w.globals.isBarHorizontal||(s.isXNumeric=!0)}if(c.length===0){c=s.axisCharts?[]:s.series.map((function(y,S){return S+1}));for(var v=0;v<n.length;v++)s.seriesX.push(c)}s.labels=c,o.xaxis.convertedCatToNumeric&&(s.categoryLabels=c.map((function(y){return o.xaxis.labels.formatter(y)}))),s.noLabelsProvided=!0}},{key:"parseData",value:function(n){var s=this.w,o=s.config,c=s.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),c.axisCharts?(this.parseDataAxisCharts(n),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(n),o.chart.stacked){var u=new Mt(this.ctx);c.series=u.setNullSeriesToZeroValues(c.series)}this.coreUtils.getSeriesTotals(),c.axisCharts&&(c.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),c.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),c.dataFormatXNumeric||c.isXNumeric&&(o.xaxis.type!=="numeric"||o.labels.length!==0||o.xaxis.categories.length!==0)||this.handleExternalLabelsData(n);for(var d=this.coreUtils.getCategoryLabels(c.labels),f=0;f<d.length;f++)if(Array.isArray(d[f])){c.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var n=this.w,s=[];n.globals.seriesYAxisMap.forEach((function(o,c){var u=0;o.forEach((function(d){n.globals.collapsedSeriesIndices.indexOf(d)!==-1&&u++})),u>0&&u==o.length&&s.push(c)})),n.globals.ignoreYAxisIndexes=s.map((function(o){return o}))}}]),N})(),ss=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"scaleSvgNode",value:function(n,s){var o=parseFloat(n.getAttributeNS(null,"width")),c=parseFloat(n.getAttributeNS(null,"height"));n.setAttributeNS(null,"width",o*s),n.setAttributeNS(null,"height",c*s),n.setAttributeNS(null,"viewBox","0 0 "+o+" "+c)}},{key:"getSvgString",value:function(){var n=this;return new Promise((function(s){var o=n.w,c=o.config.chart.toolbar.export.width,u=o.config.chart.toolbar.export.scale||c/o.globals.svgWidth;u||(u=1);var d=n.w.globals.dom.Paper.svg(),f=n.w.globals.dom.Paper.node.cloneNode(!0);u!==1&&n.scaleSvgNode(f,u),n.convertImagesToBase64(f).then((function(){d=new XMLSerializer().serializeToString(f),s(d.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(n){var s=this,o=n.getElementsByTagName("image"),c=Array.from(o).map((function(u){var d=u.getAttributeNS("http://www.w3.org/1999/xlink","href");return d&&!d.startsWith("data:")?s.getBase64FromUrl(d).then((function(f){u.setAttributeNS("http://www.w3.org/1999/xlink","href",f)})).catch((function(f){console.error("Error converting image to base64:",f)})):Promise.resolve()}));return Promise.all(c)}},{key:"getBase64FromUrl",value:function(n){return new Promise((function(s,o){var c=new Image;c.crossOrigin="Anonymous",c.onload=function(){var u=document.createElement("canvas");u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0),s(u.toDataURL())},c.onerror=o,c.src=n}))}},{key:"cleanup",value:function(){var n=this.w,s=n.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),o=n.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),c=n.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(c,(function(u){u.setAttribute("width",0)})),s&&s[0]&&(s[0].setAttribute("x",-500),s[0].setAttribute("x1",-500),s[0].setAttribute("x2",-500)),o&&o[0]&&(o[0].setAttribute("y",-100),o[0].setAttribute("y1",-100),o[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var n=this;return new Promise((function(s){n.cleanup(),n.getSvgString().then((function(o){var c=new Blob([o],{type:"image/svg+xml;charset=utf-8"});s(URL.createObjectURL(c))}))}))}},{key:"dataURI",value:function(n){var s=this;return new Promise((function(o){var c=s.w,u=n?n.scale||n.width/c.globals.svgWidth:1;s.cleanup();var d=document.createElement("canvas");d.width=c.globals.svgWidth*u,d.height=parseInt(c.globals.dom.elWrap.style.height,10)*u;var f=c.config.chart.background!=="transparent"&&c.config.chart.background?c.config.chart.background:"#fff",g=d.getContext("2d");g.fillStyle=f,g.fillRect(0,0,d.width*u,d.height*u),s.getSvgString().then((function(b){var v="data:image/svg+xml,"+encodeURIComponent(b),y=new Image;y.crossOrigin="anonymous",y.onload=function(){if(g.drawImage(y,0,0),d.msToBlob){var S=d.msToBlob();o({blob:S})}else{var C=d.toDataURL("image/png");o({imgURI:C})}},y.src=v}))}))}},{key:"exportToSVG",value:function(){var n=this;this.svgUrl().then((function(s){n.triggerDownload(s,n.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var n=this,s=this.w.config.chart.toolbar.export.scale,o=this.w.config.chart.toolbar.export.width,c=s?{scale:s}:o?{width:o}:void 0;this.dataURI(c).then((function(u){var d=u.imgURI,f=u.blob;f?navigator.msSaveOrOpenBlob(f,n.w.globals.chartID+".png"):n.triggerDownload(d,n.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(n){var s=this,o=n.series,c=n.fileName,u=n.columnDelimiter,d=u===void 0?",":u,f=n.lineDelimiter,g=f===void 0?`
`:f,b=this.w;o||(o=b.config.series);var v,y,S=[],C=[],T="",E=b.globals.series.map((function(F,_){return b.globals.collapsedSeriesIndices.indexOf(_)===-1?F:[]})),O=function(F){return typeof b.config.chart.toolbar.export.csv.categoryFormatter=="function"?b.config.chart.toolbar.export.csv.categoryFormatter(F):b.config.xaxis.type==="datetime"&&String(F).length>=10?new Date(F).toDateString():H.isNumber(F)?F:F.split(d).join("")},I=function(F){return typeof b.config.chart.toolbar.export.csv.valueFormatter=="function"?b.config.chart.toolbar.export.csv.valueFormatter(F):F},D=Math.max.apply(Math,Y(o.map((function(F){return F.data?F.data.length:0})))),m=new wo(this.ctx),k=new Ae(this.ctx),L=function(F){var _="";if(b.globals.axisCharts){if(b.config.xaxis.type==="category"||b.config.xaxis.convertedCatToNumeric)if(b.globals.isBarHorizontal){var G=b.globals.yLabelFormatters[0],q=new Mt(s.ctx).getActiveConfigSeriesIndex();_=G(b.globals.labels[F],{seriesIndex:q,dataPointIndex:F,w:b})}else _=k.getLabel(b.globals.labels,b.globals.timescaleLabels,0,F).text;b.config.xaxis.type==="datetime"&&(b.config.xaxis.categories.length?_=b.config.xaxis.categories[F]:b.config.labels.length&&(_=b.config.labels[F]))}else _=b.config.labels[F];return _===null?"nullvalue":(Array.isArray(_)&&(_=_.join(" ")),H.isNumber(_)?_:_.split(d).join(""))},B=function(F,_){if(S.length&&_===0&&C.push(S.join(d)),F.data){F.data=F.data.length&&F.data||Y(Array(D)).map((function(){return""}));for(var G=0;G<F.data.length;G++){S=[];var q=L(G);if(q!=="nullvalue"){if(q||(m.isFormatXY()?q=o[_].data[G].x:m.isFormat2DArray()&&(q=o[_].data[G]?o[_].data[G][0]:"")),_===0){S.push(O(q));for(var Z=0;Z<b.globals.series.length;Z++){var ie,te=m.isFormatXY()?(ie=o[Z].data[G])===null||ie===void 0?void 0:ie.y:E[Z][G];S.push(I(te))}}(b.config.chart.type==="candlestick"||F.type&&F.type==="candlestick")&&(S.pop(),S.push(b.globals.seriesCandleO[_][G]),S.push(b.globals.seriesCandleH[_][G]),S.push(b.globals.seriesCandleL[_][G]),S.push(b.globals.seriesCandleC[_][G])),(b.config.chart.type==="boxPlot"||F.type&&F.type==="boxPlot")&&(S.pop(),S.push(b.globals.seriesCandleO[_][G]),S.push(b.globals.seriesCandleH[_][G]),S.push(b.globals.seriesCandleM[_][G]),S.push(b.globals.seriesCandleL[_][G]),S.push(b.globals.seriesCandleC[_][G])),b.config.chart.type==="rangeBar"&&(S.pop(),S.push(b.globals.seriesRangeStart[_][G]),S.push(b.globals.seriesRangeEnd[_][G])),S.length&&C.push(S.join(d))}}}};S.push(b.config.chart.toolbar.export.csv.headerCategory),b.config.chart.type==="boxPlot"?(S.push("minimum"),S.push("q1"),S.push("median"),S.push("q3"),S.push("maximum")):b.config.chart.type==="candlestick"?(S.push("open"),S.push("high"),S.push("low"),S.push("close")):b.config.chart.type==="rangeBar"?(S.push("minimum"),S.push("maximum")):o.map((function(F,_){var G=(F.name?F.name:"series-".concat(_))+"";b.globals.axisCharts&&S.push(G.split(d).join("")?G.split(d).join(""):"series-".concat(_))})),b.globals.axisCharts||(S.push(b.config.chart.toolbar.export.csv.headerValue),C.push(S.join(d))),b.globals.allSeriesHasEqualX||!b.globals.axisCharts||b.config.xaxis.categories.length||b.config.labels.length?o.map((function(F,_){b.globals.axisCharts?B(F,_):((S=[]).push(O(b.globals.labels[_])),S.push(I(E[_])),C.push(S.join(d)))})):(v=new Set,y={},o.forEach((function(F,_){F?.data.forEach((function(G){var q,Z;if(m.isFormatXY())q=G.x,Z=G.y;else{if(!m.isFormat2DArray())return;q=G[0],Z=G[1]}y[q]||(y[q]=Array(o.length).fill("")),y[q][_]=I(Z),v.add(q)}))})),S.length&&C.push(S.join(d)),Array.from(v).sort().forEach((function(F){C.push([O(F),y[F].join(d)])}))),T+=C.join(g),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+T),c||b.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(n,s,o){var c=document.createElement("a");c.href=n,c.download=(s||this.w.globals.chartID)+o,document.body.appendChild(c),c.click(),document.body.removeChild(c)}}]),N})(),rr=(function(){function N(n,s){a(this,N),this.ctx=n,this.elgrid=s,this.w=n.w;var o=this.w;this.axesUtils=new Ae(n),this.xaxisLabels=o.globals.labels.slice(),o.globals.timescaleLabels.length>0&&!o.globals.isBarHorizontal&&(this.xaxisLabels=o.globals.timescaleLabels.slice()),o.config.xaxis.overwriteCategories&&(this.xaxisLabels=o.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],o.config.xaxis.position==="top"?this.offY=0:this.offY=o.globals.gridHeight,this.offY=this.offY+o.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.xaxisBorderWidth=o.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=o.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=o.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=o.config.xaxis.axisBorder.height,this.yaxis=o.config.yaxis[0]}return h(N,[{key:"drawXaxis",value:function(){var n=this.w,s=new V(this.ctx),o=s.group({class:"apexcharts-xaxis",transform:"translate(".concat(n.config.xaxis.offsetX,", ").concat(n.config.xaxis.offsetY,")")}),c=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(n.globals.translateXAxisX,", ").concat(n.globals.translateXAxisY,")")});o.add(c);for(var u=[],d=0;d<this.xaxisLabels.length;d++)u.push(this.xaxisLabels[d]);if(this.drawXAxisLabelAndGroup(!0,s,c,u,n.globals.isXNumeric,(function(T,E){return E})),n.globals.hasXaxisGroups){var f=n.globals.groups;u=[];for(var g=0;g<f.length;g++)u.push(f[g].title);var b={};n.config.xaxis.group.style&&(b.xaxisFontSize=n.config.xaxis.group.style.fontSize,b.xaxisFontFamily=n.config.xaxis.group.style.fontFamily,b.xaxisForeColors=n.config.xaxis.group.style.colors,b.fontWeight=n.config.xaxis.group.style.fontWeight,b.cssClass=n.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,s,c,u,!1,(function(T,E){return f[T].cols*E}),b)}if(n.config.xaxis.title.text!==void 0){var v=s.group({class:"apexcharts-xaxis-title"}),y=s.drawText({x:n.globals.gridWidth/2+n.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(n.config.xaxis.position==="bottom"?n.globals.xAxisLabelsHeight:-n.globals.xAxisLabelsHeight-10)+n.config.xaxis.title.offsetY,text:n.config.xaxis.title.text,textAnchor:"middle",fontSize:n.config.xaxis.title.style.fontSize,fontFamily:n.config.xaxis.title.style.fontFamily,fontWeight:n.config.xaxis.title.style.fontWeight,foreColor:n.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+n.config.xaxis.title.style.cssClass});v.add(y),o.add(v)}if(n.config.xaxis.axisBorder.show){var S=n.globals.barPadForNumericAxis,C=s.drawLine(n.globals.padHorizontal+n.config.xaxis.axisBorder.offsetX-S,this.offY,this.xaxisBorderWidth+S,this.offY,n.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(C):o.add(C)}return o}},{key:"drawXAxisLabelAndGroup",value:function(n,s,o,c,u,d){var f,g=this,b=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},v=[],y=[],S=this.w,C=b.xaxisFontSize||this.xaxisFontSize,T=b.xaxisFontFamily||this.xaxisFontFamily,E=b.xaxisForeColors||this.xaxisForeColors,O=b.fontWeight||S.config.xaxis.labels.style.fontWeight,I=b.cssClass||S.config.xaxis.labels.style.cssClass,D=S.globals.padHorizontal,m=c.length,k=S.config.xaxis.type==="category"?S.globals.dataPoints:m;if(k===0&&m>k&&(k=m),u){var L=k>1?k-1:k;f=S.globals.gridWidth/Math.min(L,m-1),D=D+d(0,f)/2+S.config.xaxis.labels.offsetX}else f=S.globals.gridWidth/k,D=D+d(0,f)+S.config.xaxis.labels.offsetX;for(var B=function(_){var G=D-d(_,f)/2+S.config.xaxis.labels.offsetX;_===0&&m===1&&f/2===D&&k===1&&(G=S.globals.gridWidth/2);var q=g.axesUtils.getLabel(c,S.globals.timescaleLabels,G,_,v,C,n),Z=28;if(S.globals.rotateXLabels&&n&&(Z=22),S.config.xaxis.title.text&&S.config.xaxis.position==="top"&&(Z+=parseFloat(S.config.xaxis.title.style.fontSize)+2),n||(Z=Z+parseFloat(C)+(S.globals.xAxisLabelsHeight-S.globals.xAxisGroupLabelsHeight)+(S.globals.rotateXLabels?10:0)),q=S.config.xaxis.tickAmount!==void 0&&S.config.xaxis.tickAmount!=="dataPoints"&&S.config.xaxis.type!=="datetime"?g.axesUtils.checkLabelBasedOnTickamount(_,q,m):g.axesUtils.checkForOverflowingLabels(_,q,m,v,y),S.config.xaxis.labels.show){var ie=s.drawText({x:q.x,y:g.offY+S.config.xaxis.labels.offsetY+Z-(S.config.xaxis.position==="top"?S.globals.xAxisHeight+S.config.xaxis.axisTicks.height-2:0),text:q.text,textAnchor:"middle",fontWeight:q.isBold?600:O,fontSize:C,fontFamily:T,foreColor:Array.isArray(E)?n&&S.config.xaxis.convertedCatToNumeric?E[S.globals.minX+_-1]:E[_]:E,isPlainText:!1,cssClass:(n?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+I});if(o.add(ie),ie.on("click",(function(ne){if(typeof S.config.chart.events.xAxisLabelClick=="function"){var oe=Object.assign({},S,{labelIndex:_});S.config.chart.events.xAxisLabelClick(ne,g.ctx,oe)}})),n){var te=document.createElementNS(S.globals.SVGNS,"title");te.textContent=Array.isArray(q.text)?q.text.join(" "):q.text,ie.node.appendChild(te),q.text!==""&&(v.push(q.text),y.push(q))}}_<m-1&&(D+=d(_+1,f))},F=0;F<=m-1;F++)B(F)}},{key:"drawXaxisInversed",value:function(n){var s,o,c=this,u=this.w,d=new V(this.ctx),f=u.config.yaxis[0].opposite?u.globals.translateYAxisX[n]:0,g=d.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:n}),b=d.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+f+", 0)"});g.add(b);var v=[];if(u.config.yaxis[n].show)for(var y=0;y<this.xaxisLabels.length;y++)v.push(this.xaxisLabels[y]);s=u.globals.gridHeight/v.length,o=-s/2.2;var S=u.globals.yLabelFormatters[0],C=u.config.yaxis[0].labels;if(C.show)for(var T=function(L){var B=v[L]===void 0?"":v[L];B=S(B,{seriesIndex:n,dataPointIndex:L,w:u});var F=c.axesUtils.getYAxisForeColor(C.style.colors,n),_=0;Array.isArray(B)&&(_=B.length/2*parseInt(C.style.fontSize,10));var G=C.offsetX-15,q="end";c.yaxis.opposite&&(q="start"),u.config.yaxis[0].labels.align==="left"?(G=C.offsetX,q="start"):u.config.yaxis[0].labels.align==="center"?(G=C.offsetX,q="middle"):u.config.yaxis[0].labels.align==="right"&&(q="end");var Z=d.drawText({x:G,y:o+s+C.offsetY-_,text:B,textAnchor:q,foreColor:Array.isArray(F)?F[L]:F,fontSize:C.style.fontSize,fontFamily:C.style.fontFamily,fontWeight:C.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+C.style.cssClass,maxWidth:C.maxWidth});b.add(Z),Z.on("click",(function(ne){if(typeof u.config.chart.events.xAxisLabelClick=="function"){var oe=Object.assign({},u,{labelIndex:L});u.config.chart.events.xAxisLabelClick(ne,c.ctx,oe)}}));var ie=document.createElementNS(u.globals.SVGNS,"title");if(ie.textContent=Array.isArray(B)?B.join(" "):B,Z.node.appendChild(ie),u.config.yaxis[n].labels.rotate!==0){var te=d.rotateAroundCenter(Z.node);Z.node.setAttribute("transform","rotate(".concat(u.config.yaxis[n].labels.rotate," 0 ").concat(te.y,")"))}o+=s},E=0;E<=v.length-1;E++)T(E);if(u.config.yaxis[0].title.text!==void 0){var O=d.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+f+", 0)"}),I=d.drawText({x:u.config.yaxis[0].title.offsetX,y:u.globals.gridHeight/2+u.config.yaxis[0].title.offsetY,text:u.config.yaxis[0].title.text,textAnchor:"middle",foreColor:u.config.yaxis[0].title.style.color,fontSize:u.config.yaxis[0].title.style.fontSize,fontWeight:u.config.yaxis[0].title.style.fontWeight,fontFamily:u.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+u.config.yaxis[0].title.style.cssClass});O.add(I),g.add(O)}var D=0;this.isCategoryBarHorizontal&&u.config.yaxis[0].opposite&&(D=u.globals.gridWidth);var m=u.config.xaxis.axisBorder;if(m.show){var k=d.drawLine(u.globals.padHorizontal+m.offsetX+D,1+m.offsetY,u.globals.padHorizontal+m.offsetX+D,u.globals.gridHeight+m.offsetY,m.color,0);this.elgrid&&this.elgrid.elGridBorders&&u.config.grid.show?this.elgrid.elGridBorders.add(k):g.add(k)}return u.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(D,v.length,u.config.yaxis[0].axisBorder,u.config.yaxis[0].axisTicks,0,s,g),g}},{key:"drawXaxisTicks",value:function(n,s,o){var c=this.w,u=n;if(!(n<0||n-2>c.globals.gridWidth)){var d=this.offY+c.config.xaxis.axisTicks.offsetY;if(s=s+d+c.config.xaxis.axisTicks.height,c.config.xaxis.position==="top"&&(s=d-c.config.xaxis.axisTicks.height),c.config.xaxis.axisTicks.show){var f=new V(this.ctx).drawLine(n+c.config.xaxis.axisTicks.offsetX,d+c.config.xaxis.offsetY,u+c.config.xaxis.axisTicks.offsetX,s+c.config.xaxis.offsetY,c.config.xaxis.axisTicks.color);o.add(f),f.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var n=this.w,s=[],o=this.xaxisLabels.length,c=n.globals.padHorizontal;if(n.globals.timescaleLabels.length>0)for(var u=0;u<o;u++)c=this.xaxisLabels[u].position,s.push(c);else for(var d=o,f=0;f<d;f++){var g=d;n.globals.isXNumeric&&n.config.chart.type!=="bar"&&(g-=1),c+=n.globals.gridWidth/g,s.push(c)}return s}},{key:"xAxisLabelCorrections",value:function(){var n=this.w,s=new V(this.ctx),o=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),c=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),u=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),d=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(n.globals.rotateXLabels||n.config.xaxis.labels.rotateAlways)for(var f=0;f<c.length;f++){var g=s.rotateAroundCenter(c[f]);g.y=g.y-1,g.x=g.x+1,c[f].setAttribute("transform","rotate(".concat(n.config.xaxis.labels.rotate," ").concat(g.x," ").concat(g.y,")")),c[f].setAttribute("text-anchor","end"),o.setAttribute("transform","translate(0, ".concat(-10,")"));var b=c[f].childNodes;n.config.xaxis.labels.trim&&Array.prototype.forEach.call(b,(function(C){s.placeTextWithEllipsis(C,C.textContent,n.globals.xAxisLabelsHeight-(n.config.legend.position==="bottom"?20:10))}))}else(function(){for(var C=n.globals.gridWidth/(n.globals.labels.length+1),T=0;T<c.length;T++){var E=c[T].childNodes;n.config.xaxis.labels.trim&&n.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(E,(function(O){s.placeTextWithEllipsis(O,O.textContent,C)}))}})();if(u.length>0){var v=u[u.length-1].getBBox(),y=u[0].getBBox();v.x<-20&&u[u.length-1].parentNode.removeChild(u[u.length-1]),y.x+y.width>n.globals.gridWidth&&!n.globals.isBarHorizontal&&u[0].parentNode.removeChild(u[0]);for(var S=0;S<d.length;S++)s.placeTextWithEllipsis(d[S],d[S].textContent,n.config.yaxis[0].labels.maxWidth-(n.config.yaxis[0].title.text?2*parseFloat(n.config.yaxis[0].title.style.fontSize):0)-15)}}}]),N})(),Eh=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w;var s=this.w;this.xaxisLabels=s.globals.labels.slice(),this.axesUtils=new Ae(n),this.isRangeBar=s.globals.seriesRange.length&&s.globals.isBarHorizontal,s.globals.timescaleLabels.length>0&&(this.xaxisLabels=s.globals.timescaleLabels.slice())}return h(N,[{key:"drawGridArea",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this.w,o=new V(this.ctx);n||(n=o.group({class:"apexcharts-grid"}));var c=o.drawLine(s.globals.padHorizontal,1,s.globals.padHorizontal,s.globals.gridHeight,"transparent"),u=o.drawLine(s.globals.padHorizontal,s.globals.gridHeight,s.globals.gridWidth,s.globals.gridHeight,"transparent");return n.add(u),n.add(c),n}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var n=this.renderGrid();return this.drawGridArea(n.el),n}return null}},{key:"createGridMask",value:function(){var n=this.w,s=n.globals,o=new V(this.ctx),c=Array.isArray(n.config.stroke.width)?Math.max.apply(Math,Y(n.config.stroke.width)):n.config.stroke.width,u=function(v){var y=document.createElementNS(s.SVGNS,"clipPath");return y.setAttribute("id",v),y};s.dom.elGridRectMask=u("gridRectMask".concat(s.cuid)),s.dom.elGridRectBarMask=u("gridRectBarMask".concat(s.cuid)),s.dom.elGridRectMarkerMask=u("gridRectMarkerMask".concat(s.cuid)),s.dom.elForecastMask=u("forecastMask".concat(s.cuid)),s.dom.elNonForecastMask=u("nonForecastMask".concat(s.cuid));var d=0,f=0;(["bar","rangeBar","candlestick","boxPlot"].includes(n.config.chart.type)||n.globals.comboBarCount>0)&&n.globals.isXNumeric&&!n.globals.isBarHorizontal&&(d=Math.max(n.config.grid.padding.left,s.barPadForNumericAxis),f=Math.max(n.config.grid.padding.right,s.barPadForNumericAxis)),s.dom.elGridRect=o.drawRect(0,0,s.gridWidth,s.gridHeight,0,"#fff"),s.dom.elGridRectBar=o.drawRect(-c/2-d-2,-c/2-2,s.gridWidth+c+f+d+4,s.gridHeight+c+4,0,"#fff");var g=n.globals.markers.largestSize;s.dom.elGridRectMarker=o.drawRect(-g,-g,s.gridWidth+2*g,s.gridHeight+2*g,0,"#fff"),s.dom.elGridRectMask.appendChild(s.dom.elGridRect.node),s.dom.elGridRectBarMask.appendChild(s.dom.elGridRectBar.node),s.dom.elGridRectMarkerMask.appendChild(s.dom.elGridRectMarker.node);var b=s.dom.baseEl.querySelector("defs");b.appendChild(s.dom.elGridRectMask),b.appendChild(s.dom.elGridRectBarMask),b.appendChild(s.dom.elGridRectMarkerMask),b.appendChild(s.dom.elForecastMask),b.appendChild(s.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(n){var s=n.i,o=n.x1,c=n.y1,u=n.x2,d=n.y2,f=n.xCount,g=n.parent,b=this.w;if(!(s===0&&b.globals.skipFirstTimelinelabel||s===f-1&&b.globals.skipLastTimelinelabel&&!b.config.xaxis.labels.formatter||b.config.chart.type==="radar")){b.config.grid.xaxis.lines.show&&this._drawGridLine({i:s,x1:o,y1:c,x2:u,y2:d,xCount:f,parent:g});var v=0;if(b.globals.hasXaxisGroups&&b.config.xaxis.tickPlacement==="between"){var y=b.globals.groups;if(y){for(var S=0,C=0;S<s&&C<y.length;C++)S+=y[C].cols;S===s&&(v=.6*b.globals.xAxisLabelsHeight)}}new rr(this.ctx).drawXaxisTicks(o,v,b.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(n){var s=n.i,o=n.x1,c=n.y1,u=n.x2,d=n.y2,f=n.xCount,g=n.parent,b=this.w,v=g.node.classList.contains("apexcharts-gridlines-horizontal"),y=b.globals.barPadForNumericAxis,S=c===0&&d===0||o===0&&u===0||c===b.globals.gridHeight&&d===b.globals.gridHeight||b.globals.isBarHorizontal&&(s===0||s===f-1),C=new V(this).drawLine(o-(v?y:0),c,u+(v?y:0),d,b.config.grid.borderColor,b.config.grid.strokeDashArray);C.node.classList.add("apexcharts-gridline"),S&&b.config.grid.show?this.elGridBorders.add(C):g.add(C)}},{key:"_drawGridBandRect",value:function(n){var s=n.c,o=n.x1,c=n.y1,u=n.x2,d=n.y2,f=n.type,g=this.w,b=new V(this.ctx),v=g.globals.barPadForNumericAxis,y=g.config.grid[f].colors[s],S=b.drawRect(o-(f==="row"?v:0),c,u+(f==="row"?2*v:0),d,0,y,g.config.grid[f].opacity);this.elg.add(S),S.attr("clip-path","url(#gridRectMask".concat(g.globals.cuid,")")),S.node.classList.add("apexcharts-grid-".concat(f))}},{key:"_drawXYLines",value:function(n){var s=this,o=n.xCount,c=n.tickAmount,u=this.w;if(u.config.grid.xaxis.lines.show||u.config.xaxis.axisTicks.show){var d,f=u.globals.padHorizontal,g=u.globals.gridHeight;u.globals.timescaleLabels.length?(function(T){for(var E=T.xC,O=T.x1,I=T.y1,D=T.x2,m=T.y2,k=0;k<E;k++)O=s.xaxisLabels[k].position,D=s.xaxisLabels[k].position,s._drawGridLines({i:k,x1:O,y1:I,x2:D,y2:m,xCount:o,parent:s.elgridLinesV})})({xC:o,x1:f,y1:0,x2:d,y2:g}):(u.globals.isXNumeric&&(o=u.globals.xAxisScale.result.length),(function(T){for(var E=T.xC,O=T.x1,I=T.y1,D=T.x2,m=T.y2,k=0;k<E+(u.globals.isXNumeric?0:1);k++)k===0&&E===1&&u.globals.dataPoints===1&&(D=O=u.globals.gridWidth/2),s._drawGridLines({i:k,x1:O,y1:I,x2:D,y2:m,xCount:o,parent:s.elgridLinesV}),D=O+=u.globals.gridWidth/(u.globals.isXNumeric?E-1:E)})({xC:o,x1:f,y1:0,x2:d,y2:g}))}if(u.config.grid.yaxis.lines.show){var b=0,v=0,y=u.globals.gridWidth,S=c+1;this.isRangeBar&&(S=u.globals.labels.length);for(var C=0;C<S+(this.isRangeBar?1:0);C++)this._drawGridLine({i:C,xCount:S+(this.isRangeBar?1:0),x1:0,y1:b,x2:y,y2:v,parent:this.elgridLinesH}),v=b+=u.globals.gridHeight/(this.isRangeBar?S:c)}}},{key:"_drawInvertedXYLines",value:function(n){var s=n.xCount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show)for(var c,u=o.globals.padHorizontal,d=o.globals.gridHeight,f=0;f<s+1;f++)o.config.grid.xaxis.lines.show&&this._drawGridLine({i:f,xCount:s+1,x1:u,y1:0,x2:c,y2:d,parent:this.elgridLinesV}),new rr(this.ctx).drawXaxisTicks(u,0,o.globals.dom.elGraphical),c=u+=o.globals.gridWidth/s;if(o.config.grid.yaxis.lines.show)for(var g=0,b=0,v=o.globals.gridWidth,y=0;y<o.globals.dataPoints+1;y++)this._drawGridLine({i:y,xCount:o.globals.dataPoints+1,x1:0,y1:g,x2:v,y2:b,parent:this.elgridLinesH}),b=g+=o.globals.gridHeight/o.globals.dataPoints}},{key:"renderGrid",value:function(){var n=this.w,s=n.globals,o=new V(this.ctx);this.elg=o.group({class:"apexcharts-grid"}),this.elgridLinesH=o.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=o.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=o.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),n.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var c=0;c<s.seriesYAxisMap.length&&s.ignoreYAxisIndexes.includes(c);)c++;c===s.seriesYAxisMap.length&&(c=0);var u,d=s.yAxisScale[c].result.length-1;if(!s.isBarHorizontal||this.isRangeBar){var f,g,b;u=this.xaxisLabels.length,this.isRangeBar&&(d=s.labels.length,n.config.xaxis.tickAmount&&n.config.xaxis.labels.formatter&&(u=n.config.xaxis.tickAmount),((f=s.yAxisScale)===null||f===void 0||(g=f[c])===null||g===void 0||(b=g.result)===null||b===void 0?void 0:b.length)>0&&n.config.xaxis.type!=="datetime"&&(u=s.yAxisScale[c].result.length-1)),this._drawXYLines({xCount:u,tickAmount:d})}else u=d,d=s.xTickAmount,this._drawInvertedXYLines({xCount:u,tickAmount:d});return this.drawGridBands(u,d),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:s.gridWidth/u}}},{key:"drawGridBands",value:function(n,s){var o,c,u=this,d=this.w;if(((o=d.config.grid.row.colors)===null||o===void 0?void 0:o.length)>0&&(function(T,E,O,I,D,m){for(var k=0,L=0;k<E;k++,L++)L>=d.config.grid[T].colors.length&&(L=0),u._drawGridBandRect({c:L,x1:O,y1:I,x2:D,y2:m,type:T}),I+=d.globals.gridHeight/s})("row",s,0,0,d.globals.gridWidth,d.globals.gridHeight/s),((c=d.config.grid.column.colors)===null||c===void 0?void 0:c.length)>0){var f=d.globals.isBarHorizontal||d.config.xaxis.tickPlacement!=="on"||d.config.xaxis.type!=="category"&&!d.config.xaxis.convertedCatToNumeric?n:n-1;d.globals.isXNumeric&&(f=d.globals.xAxisScale.result.length-1);for(var g=d.globals.padHorizontal,b=d.globals.padHorizontal+d.globals.gridWidth/f,v=d.globals.gridHeight,y=0,S=0;y<n;y++,S++){var C;S>=d.config.grid.column.colors.length&&(S=0),d.config.xaxis.type==="datetime"&&(g=this.xaxisLabels[y].position,b=(((C=this.xaxisLabels[y+1])===null||C===void 0?void 0:C.position)||d.globals.gridWidth)-this.xaxisLabels[y].position),this._drawGridBandRect({c:S,x1:g,y1:0,x2:b,y2:v,type:"column"}),g+=d.globals.gridWidth/f}}}}]),N})(),Th=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.coreUtils=new re(this.ctx)}return h(N,[{key:"niceScale",value:function(n,s){var o,c,u,d,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=1e-11,b=this.w,v=b.globals;v.isBarHorizontal?(o=b.config.xaxis,c=Math.max((v.svgWidth-100)/25,2)):(o=b.config.yaxis[f],c=Math.max((v.svgHeight-100)/15,2)),H.isNumber(c)||(c=10),u=o.min!==void 0&&o.min!==null,d=o.max!==void 0&&o.min!==null;var y=o.stepSize!==void 0&&o.stepSize!==null,S=o.tickAmount!==void 0&&o.tickAmount!==null,C=S?o.tickAmount:v.niceScaleDefaultTicks[Math.min(Math.round(c/2),v.niceScaleDefaultTicks.length-1)];if(v.isMultipleYAxis&&!S&&v.multiAxisTickAmount>0&&(C=v.multiAxisTickAmount,S=!0),C=C==="dataPoints"?v.dataPoints-1:Math.abs(Math.round(C)),(n===Number.MIN_VALUE&&s===0||!H.isNumber(n)&&!H.isNumber(s)||n===Number.MIN_VALUE&&s===-Number.MAX_VALUE)&&(n=H.isNumber(o.min)?o.min:0,s=H.isNumber(o.max)?o.max:n+C,v.allSeriesCollapsed=!1),n>s){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var T=s;s=n,n=T}else n===s&&(n=n===0?0:n-1,s=s===0?2:s+1);var E=[];C<1&&(C=1);var O=C,I=Math.abs(s-n);!u&&n>0&&n/I<.15&&(n=0,u=!0),!d&&s<0&&-s/I<.15&&(s=0,d=!0);var D=(I=Math.abs(s-n))/O,m=D,k=Math.floor(Math.log10(m)),L=Math.pow(10,k),B=Math.ceil(m/L);if(D=m=(B=v.niceScaleAllowedMagMsd[v.yValueDecimal===0?0:1][B])*L,v.isBarHorizontal&&o.stepSize&&o.type!=="datetime"?(D=o.stepSize,y=!0):y&&(D=o.stepSize),y&&o.forceNiceScale){var F=Math.floor(Math.log10(D));D*=Math.pow(10,k-F)}if(u&&d){var _=I/O;if(S)if(y)if(H.mod(I,D)!=0){var G=H.getGCD(D,_);D=_/G<10?G:_}else H.mod(D,_)==0?D=_:(_=D,S=!1);else D=_;else if(y)H.mod(I,D)==0?_=D:D=_;else if(H.mod(I,D)==0)_=D;else{_=I/(O=Math.ceil(I/D));var q=H.getGCD(I,D);I/q<c&&(_=q),D=_}O=Math.round(I/D)}else{if(u||d){if(d)if(S)n=s-D*O;else{var Z=n;n=D*Math.floor(n/D),Math.abs(s-n)/H.getGCD(I,D)>c&&(n=s-D*C,n+=D*Math.floor((Z-n)/D))}else if(u)if(S)s=n+D*O;else{var ie=s;s=D*Math.ceil(s/D),Math.abs(s-n)/H.getGCD(I,D)>c&&(s=n+D*C,s+=D*Math.ceil((ie-s)/D))}}else if(v.isMultipleYAxis&&S){var te=D*Math.floor(n/D),ne=te+D*O;ne<s&&(D*=2),ne=s,s=(n=te)+D*O,I=Math.abs(s-n),n>0&&n<Math.abs(ne-s)&&(n=0,s=D*O),s<0&&-s<Math.abs(te-n)&&(s=0,n=-D*O)}else n=D*Math.floor(n/D),s=D*Math.ceil(s/D);I=Math.abs(s-n),D=H.getGCD(I,D),O=Math.round(I/D)}if(S||u||d||(O=Math.ceil((I-g)/(D+g)))>16&&H.getPrimeFactors(O).length<2&&O++,!S&&o.forceNiceScale&&v.yValueDecimal===0&&O>I&&(O=I,D=Math.round(I/O)),O>c&&(!S&&!y||o.forceNiceScale)){var oe=H.getPrimeFactors(O),le=oe.length-1,he=O;e:for(var pe=0;pe<le;pe++)for(var be=0;be<=le-pe;be++){for(var ge=Math.min(be+pe,le),Ce=he,Ne=1,De=be;De<=ge;De++)Ne*=oe[De];if((Ce/=Ne)<c){he=Ce;break e}}D=he===O?I:I/he,O=Math.round(I/D)}v.isMultipleYAxis&&v.multiAxisTickAmount==0&&v.ignoreYAxisIndexes.indexOf(f)<0&&(v.multiAxisTickAmount=O);var Le=n-D,wt=D*g;do Le+=D,E.push(H.stripNumber(Le,7));while(s-Le>wt);return{result:E,niceMin:E[0],niceMax:E[E.length-1]}}},{key:"linearScale",value:function(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,d=Math.abs(s-n),f=[];if(n===s)return{result:f=[n],niceMin:f[0],niceMax:f[f.length-1]};(o=this._adjustTicksForSmallRange(o,c,d))==="dataPoints"&&(o=this.w.globals.dataPoints-1),u||(u=d/o),u=Math.round(10*(u+Number.EPSILON))/10,o===Number.MAX_VALUE&&(o=5,u=1);for(var g=n;o>=0;)f.push(g),g=H.preciseAddition(g,u),o-=1;return{result:f,niceMin:f[0],niceMax:f[f.length-1]}}},{key:"logarithmicScaleNice",value:function(n,s,o){s<=0&&(s=Math.max(n,o)),n<=0&&(n=Math.min(s,o));for(var c=[],u=Math.ceil(Math.log(s)/Math.log(o)+1),d=Math.floor(Math.log(n)/Math.log(o));d<u;d++)c.push(Math.pow(o,d));return{result:c,niceMin:c[0],niceMax:c[c.length-1]}}},{key:"logarithmicScale",value:function(n,s,o){s<=0&&(s=Math.max(n,o)),n<=0&&(n=Math.min(s,o));for(var c=[],u=Math.log(s)/Math.log(o),d=Math.log(n)/Math.log(o),f=u-d,g=Math.round(f),b=f/g,v=0,y=d;v<g;v++,y+=b)c.push(Math.pow(o,y));return c.push(Math.pow(o,u)),{result:c,niceMin:n,niceMax:s}}},{key:"_adjustTicksForSmallRange",value:function(n,s,o){var c=n;if(s!==void 0&&this.w.config.yaxis[s].labels.formatter&&this.w.config.yaxis[s].tickAmount===void 0){var u=Number(this.w.config.yaxis[s].labels.formatter(1));H.isNumber(u)&&this.w.globals.yValueDecimal===0&&(c=Math.ceil(o))}return c<n?c:n}},{key:"setYScaleForIndex",value:function(n,s,o){var c=this.w.globals,u=this.w.config,d=c.isBarHorizontal?u.xaxis:u.yaxis[n];c.yAxisScale[n]===void 0&&(c.yAxisScale[n]=[]);var f=Math.abs(o-s);d.logarithmic&&f<=5&&(c.invalidLogScale=!0),d.logarithmic&&f>5?(c.allSeriesCollapsed=!1,c.yAxisScale[n]=d.forceNiceScale?this.logarithmicScaleNice(s,o,d.logBase):this.logarithmicScale(s,o,d.logBase)):o!==-Number.MAX_VALUE&&H.isNumber(o)&&s!==Number.MAX_VALUE&&H.isNumber(s)?(c.allSeriesCollapsed=!1,c.yAxisScale[n]=this.niceScale(s,o,n)):c.yAxisScale[n]=this.niceScale(Number.MIN_VALUE,0,n)}},{key:"setXScale",value:function(n,s){var o=this.w,c=o.globals,u=Math.abs(s-n);if(s!==-Number.MAX_VALUE&&H.isNumber(s)){var d=c.xTickAmount+1;u<10&&u>1&&(d=u),c.xAxisScale=this.linearScale(n,s,d,0,o.config.xaxis.stepSize)}else c.xAxisScale=this.linearScale(0,10,10);return c.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var n=this,s=this.w.config,o=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var c=o.seriesYAxisMap,u=o.minYArr,d=o.maxYArr;o.allSeriesCollapsed=!0,o.barGroups=[],c.forEach((function(f,g){var b=[];f.forEach((function(v){var y=s.series[v].group;b.indexOf(y)<0&&b.push(y)})),f.length>0?(function(){var v,y,S=Number.MAX_VALUE,C=-Number.MAX_VALUE,T=S,E=C;if(s.chart.stacked)(function(){var D=new Array(o.dataPoints).fill(0),m=[],k=[],L=[];b.forEach((function(){m.push(D.map((function(){return Number.MIN_VALUE}))),k.push(D.map((function(){return Number.MIN_VALUE}))),L.push(D.map((function(){return Number.MIN_VALUE})))}));for(var B=function(_){!v&&s.series[f[_]].type&&(v=s.series[f[_]].type);var G=f[_];y=s.series[G].group?s.series[G].group:"axis-".concat(g),!(o.collapsedSeriesIndices.indexOf(G)<0&&o.ancillaryCollapsedSeriesIndices.indexOf(G)<0)||(o.allSeriesCollapsed=!1,b.forEach((function(q,Z){if(s.series[G].group===q)for(var ie=0;ie<o.series[G].length;ie++){var te=o.series[G][ie];te>=0?k[Z][ie]+=te:L[Z][ie]+=te,m[Z][ie]+=te,T=Math.min(T,te),E=Math.max(E,te)}}))),v!=="bar"&&v!=="column"||o.barGroups.push(y)},F=0;F<f.length;F++)B(F);v||(v=s.chart.type),v==="bar"||v==="column"?b.forEach((function(_,G){S=Math.min(S,Math.min.apply(null,L[G])),C=Math.max(C,Math.max.apply(null,k[G]))})):(b.forEach((function(_,G){T=Math.min(T,Math.min.apply(null,m[G])),E=Math.max(E,Math.max.apply(null,m[G]))})),S=T,C=E),S===Number.MIN_VALUE&&C===Number.MIN_VALUE&&(C=-Number.MAX_VALUE)})();else for(var O=0;O<f.length;O++){var I=f[O];S=Math.min(S,u[I]),C=Math.max(C,d[I]),!(o.collapsedSeriesIndices.indexOf(I)<0&&o.ancillaryCollapsedSeriesIndices.indexOf(I)<0)||(o.allSeriesCollapsed=!1)}s.yaxis[g].min!==void 0&&(S=typeof s.yaxis[g].min=="function"?s.yaxis[g].min(S):s.yaxis[g].min),s.yaxis[g].max!==void 0&&(C=typeof s.yaxis[g].max=="function"?s.yaxis[g].max(C):s.yaxis[g].max),o.barGroups=o.barGroups.filter((function(D,m,k){return k.indexOf(D)===m})),n.setYScaleForIndex(g,S,C),f.forEach((function(D){u[D]=o.yAxisScale[g].niceMin,d[D]=o.yAxisScale[g].niceMax}))})():n.setYScaleForIndex(g,0,-Number.MAX_VALUE)}))}}]),N})(),So=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.scales=new Th(n)}return h(N,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=this.w.config,d=this.w.globals,f=-Number.MAX_VALUE,g=Number.MIN_VALUE;c===null&&(c=n+1);var b=d.series,v=b,y=b;u.chart.type==="candlestick"?(v=d.seriesCandleL,y=d.seriesCandleH):u.chart.type==="boxPlot"?(v=d.seriesCandleO,y=d.seriesCandleC):d.isRangeData&&(v=d.seriesRangeStart,y=d.seriesRangeEnd);var S=!1;if(d.seriesX.length>=c){var C,T=(C=d.brushSource)===null||C===void 0?void 0:C.w.config.chart.brush;(u.chart.zoom.enabled&&u.chart.zoom.autoScaleYaxis||T!=null&&T.enabled&&T!=null&&T.autoScaleYaxis)&&(S=!0)}for(var E=n;E<c;E++){d.dataPoints=Math.max(d.dataPoints,b[E].length);var O=u.series[E].type;d.categoryLabels.length&&(d.dataPoints=d.categoryLabels.filter((function(L){return L!==void 0})).length),d.labels.length&&u.xaxis.type!=="datetime"&&d.series.reduce((function(L,B){return L+B.length}),0)!==0&&(d.dataPoints=Math.max(d.dataPoints,d.labels.length));var I=0,D=b[E].length-1;if(S){if(u.xaxis.min)for(;I<D&&d.seriesX[E][I]<u.xaxis.min;I++);if(u.xaxis.max)for(;D>I&&d.seriesX[E][D]>u.xaxis.max;D--);}for(var m=I;m<=D&&m<d.series[E].length;m++){var k=b[E][m];if(k!==null&&H.isNumber(k)){switch(y[E][m]!==void 0&&(f=Math.max(f,y[E][m]),s=Math.min(s,y[E][m])),v[E][m]!==void 0&&(s=Math.min(s,v[E][m]),o=Math.max(o,v[E][m])),O){case"candlestick":d.seriesCandleC[E][m]!==void 0&&(f=Math.max(f,d.seriesCandleH[E][m]),s=Math.min(s,d.seriesCandleL[E][m]));break;case"boxPlot":d.seriesCandleC[E][m]!==void 0&&(f=Math.max(f,d.seriesCandleC[E][m]),s=Math.min(s,d.seriesCandleO[E][m]))}O&&O!=="candlestick"&&O!=="boxPlot"&&O!=="rangeArea"&&O!=="rangeBar"&&(f=Math.max(f,d.series[E][m]),s=Math.min(s,d.series[E][m])),o=f,d.seriesGoals[E]&&d.seriesGoals[E][m]&&Array.isArray(d.seriesGoals[E][m])&&d.seriesGoals[E][m].forEach((function(L){g!==Number.MIN_VALUE&&(g=Math.min(g,L.value),s=g),f=Math.max(f,L.value),o=f})),H.isFloat(k)&&(k=H.noExponents(k),d.yValueDecimal=Math.max(d.yValueDecimal,k.toString().split(".")[1].length)),g>v[E][m]&&v[E][m]<0&&(g=v[E][m])}else d.hasNullValues=!0}O!=="bar"&&O!=="column"||(g<0&&f<0&&(f=0,o=Math.max(o,0)),g===Number.MIN_VALUE&&(g=0,s=Math.min(s,0)))}return u.chart.type==="rangeBar"&&d.seriesRangeStart.length&&d.isBarHorizontal&&(g=s),u.chart.type==="bar"&&(g<0&&f<0&&(f=0),g===Number.MIN_VALUE&&(g=0)),{minY:g,maxY:f,lowestY:s,highestY:o}}},{key:"setYRange",value:function(){var n=this.w.globals,s=this.w.config;n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE;var o,c=Number.MAX_VALUE;if(n.isMultipleYAxis){c=Number.MAX_VALUE;for(var u=0;u<n.series.length;u++)o=this.getMinYMaxY(u),n.minYArr[u]=o.lowestY,n.maxYArr[u]=o.highestY,c=Math.min(c,o.lowestY)}return o=this.getMinYMaxY(0,c,null,n.series.length),s.chart.type==="bar"?(n.minY=o.minY,n.maxY=o.maxY):(n.minY=o.lowestY,n.maxY=o.highestY),c=o.lowestY,s.chart.stacked&&this._setStackedMinMax(),s.chart.type==="line"||s.chart.type==="area"||s.chart.type==="scatter"||s.chart.type==="candlestick"||s.chart.type==="boxPlot"||s.chart.type==="rangeBar"&&!n.isBarHorizontal?n.minY===Number.MIN_VALUE&&c!==-Number.MAX_VALUE&&c!==n.maxY&&(n.minY=c):n.minY=n.minY!==Number.MIN_VALUE?Math.min(o.minY,n.minY):o.minY,s.yaxis.forEach((function(d,f){d.max!==void 0&&(typeof d.max=="number"?n.maxYArr[f]=d.max:typeof d.max=="function"&&(n.maxYArr[f]=d.max(n.isMultipleYAxis?n.maxYArr[f]:n.maxY)),n.maxY=n.maxYArr[f]),d.min!==void 0&&(typeof d.min=="number"?n.minYArr[f]=d.min:typeof d.min=="function"&&(n.minYArr[f]=d.min(n.isMultipleYAxis?n.minYArr[f]===Number.MIN_VALUE?0:n.minYArr[f]:n.minY)),n.minY=n.minYArr[f])})),n.isBarHorizontal&&["min","max"].forEach((function(d){s.xaxis[d]!==void 0&&typeof s.xaxis[d]=="number"&&(d==="min"?n.minY=s.xaxis[d]:n.maxY=s.xaxis[d])})),n.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),n.minY=c):(this.scales.setYScaleForIndex(0,n.minY,n.maxY),n.minY=n.yAxisScale[0].niceMin,n.maxY=n.yAxisScale[0].niceMax,n.minYArr[0]=n.minY,n.maxYArr[0]=n.maxY),n.barGroups=[],n.lineGroups=[],n.areaGroups=[],s.series.forEach((function(d){switch(d.type||s.chart.type){case"bar":case"column":n.barGroups.push(d.group);break;case"line":n.lineGroups.push(d.group);break;case"area":n.areaGroups.push(d.group)}})),n.barGroups=n.barGroups.filter((function(d,f,g){return g.indexOf(d)===f})),n.lineGroups=n.lineGroups.filter((function(d,f,g){return g.indexOf(d)===f})),n.areaGroups=n.areaGroups.filter((function(d,f,g){return g.indexOf(d)===f})),{minY:n.minY,maxY:n.maxY,minYArr:n.minYArr,maxYArr:n.maxYArr,yAxisScale:n.yAxisScale}}},{key:"setXRange",value:function(){var n=this.w.globals,s=this.w.config,o=s.xaxis.type==="numeric"||s.xaxis.type==="datetime"||s.xaxis.type==="category"&&!n.noLabelsProvided||n.noLabelsProvided||n.isXNumeric;if(n.isXNumeric&&(function(){for(var g=0;g<n.series.length;g++)if(n.labels[g])for(var b=0;b<n.labels[g].length;b++)n.labels[g][b]!==null&&H.isNumber(n.labels[g][b])&&(n.maxX=Math.max(n.maxX,n.labels[g][b]),n.initialMaxX=Math.max(n.maxX,n.labels[g][b]),n.minX=Math.min(n.minX,n.labels[g][b]),n.initialMinX=Math.min(n.minX,n.labels[g][b]))})(),n.noLabelsProvided&&s.xaxis.categories.length===0&&(n.maxX=n.labels[n.labels.length-1],n.initialMaxX=n.labels[n.labels.length-1],n.minX=1,n.initialMinX=1),n.isXNumeric||n.noLabelsProvided||n.dataFormatXNumeric){var c=10;if(s.xaxis.tickAmount===void 0)c=Math.round(n.svgWidth/150),s.xaxis.type==="numeric"&&n.dataPoints<30&&(c=n.dataPoints-1),c>n.dataPoints&&n.dataPoints!==0&&(c=n.dataPoints-1);else if(s.xaxis.tickAmount==="dataPoints"){if(n.series.length>1&&(c=n.series[n.maxValsInArrayIndex].length-1),n.isXNumeric){var u=n.maxX-n.minX;u<30&&(c=u-1)}}else c=s.xaxis.tickAmount;if(n.xTickAmount=c,s.xaxis.max!==void 0&&typeof s.xaxis.max=="number"&&(n.maxX=s.xaxis.max),s.xaxis.min!==void 0&&typeof s.xaxis.min=="number"&&(n.minX=s.xaxis.min),s.xaxis.range!==void 0&&(n.minX=n.maxX-s.xaxis.range),n.minX!==Number.MAX_VALUE&&n.maxX!==-Number.MAX_VALUE)if(s.xaxis.convertedCatToNumeric&&!n.dataFormatXNumeric){for(var d=[],f=n.minX-1;f<n.maxX;f++)d.push(f+1);n.xAxisScale={result:d,niceMin:d[0],niceMax:d[d.length-1]}}else n.xAxisScale=this.scales.setXScale(n.minX,n.maxX);else n.xAxisScale=this.scales.linearScale(0,c,c,0,s.xaxis.stepSize),n.noLabelsProvided&&n.labels.length>0&&(n.xAxisScale=this.scales.linearScale(1,n.labels.length,c-1,0,s.xaxis.stepSize),n.seriesX=n.labels.slice());o&&(n.labels=n.xAxisScale.result.slice())}return n.isBarHorizontal&&n.labels.length&&(n.xTickAmount=n.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:n.minX,maxX:n.maxX}}},{key:"setZRange",value:function(){var n=this.w.globals;if(n.isDataXYZ){for(var s=0;s<n.series.length;s++)if(n.seriesZ[s]!==void 0)for(var o=0;o<n.seriesZ[s].length;o++)n.seriesZ[s][o]!==null&&H.isNumber(n.seriesZ[s][o])&&(n.maxZ=Math.max(n.maxZ,n.seriesZ[s][o]),n.minZ=Math.min(n.minZ,n.seriesZ[s][o]))}}},{key:"_handleSingleDataPoint",value:function(){var n=this.w.globals,s=this.w.config;if(n.minX===n.maxX){var o=new ye(this.ctx);if(s.xaxis.type==="datetime"){var c=o.getDate(n.minX);s.xaxis.labels.datetimeUTC?c.setUTCDate(c.getUTCDate()-2):c.setDate(c.getDate()-2),n.minX=new Date(c).getTime();var u=o.getDate(n.maxX);s.xaxis.labels.datetimeUTC?u.setUTCDate(u.getUTCDate()+2):u.setDate(u.getDate()+2),n.maxX=new Date(u).getTime()}else(s.xaxis.type==="numeric"||s.xaxis.type==="category"&&!n.noLabelsProvided)&&(n.minX=n.minX-2,n.initialMinX=n.minX,n.maxX=n.maxX+2,n.initialMaxX=n.maxX)}}},{key:"_getMinXDiff",value:function(){var n=this.w.globals;n.isXNumeric&&n.seriesX.forEach((function(s,o){s.length===1&&s.push(n.seriesX[n.maxValsInArrayIndex][n.seriesX[n.maxValsInArrayIndex].length-1]);var c=s.slice();c.sort((function(u,d){return u-d})),c.forEach((function(u,d){if(d>0){var f=u-c[d-1];f>0&&(n.minXDiff=Math.min(f,n.minXDiff))}})),n.dataPoints!==1&&n.minXDiff!==Number.MAX_VALUE||(n.minXDiff=.5)}))}},{key:"_setStackedMinMax",value:function(){var n=this,s=this.w.globals;if(s.series.length){var o=s.seriesGroups;o.length||(o=[this.w.globals.seriesNames.map((function(d){return d}))]);var c={},u={};o.forEach((function(d){c[d]=[],u[d]=[],n.w.config.series.map((function(f,g){return d.indexOf(s.seriesNames[g])>-1?g:null})).filter((function(f){return f!==null})).forEach((function(f){for(var g=0;g<s.series[s.maxValsInArrayIndex].length;g++){var b,v,y,S;c[d][g]===void 0&&(c[d][g]=0,u[d][g]=0),(n.w.config.chart.stacked&&!s.comboCharts||n.w.config.chart.stacked&&s.comboCharts&&(!n.w.config.chart.stackOnlyBar||((b=n.w.config.series)===null||b===void 0||(v=b[f])===null||v===void 0?void 0:v.type)==="bar"||((y=n.w.config.series)===null||y===void 0||(S=y[f])===null||S===void 0?void 0:S.type)==="column"))&&s.series[f][g]!==null&&H.isNumber(s.series[f][g])&&(s.series[f][g]>0?c[d][g]+=parseFloat(s.series[f][g])+1e-4:u[d][g]+=parseFloat(s.series[f][g]))}}))})),Object.entries(c).forEach((function(d){var f=W(d,1)[0];c[f].forEach((function(g,b){s.maxY=Math.max(s.maxY,c[f][b]),s.minY=Math.min(s.minY,u[f][b])}))}))}}}]),N})(),ko=(function(){function N(n,s){a(this,N),this.ctx=n,this.elgrid=s,this.w=n.w;var o=this.w;this.xaxisFontSize=o.config.xaxis.labels.style.fontSize,this.axisFontFamily=o.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=o.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=o.config.chart.type==="bar"&&o.config.plotOptions.bar.horizontal,this.xAxisoffX=o.config.xaxis.position==="bottom"?o.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Ae(n)}return h(N,[{key:"drawYaxis",value:function(n){var s=this.w,o=new V(this.ctx),c=s.config.yaxis[n].labels.style,u=c.fontSize,d=c.fontFamily,f=c.fontWeight,g=o.group({class:"apexcharts-yaxis",rel:n,transform:"translate(".concat(s.globals.translateYAxisX[n],", 0)")});if(this.axesUtils.isYAxisHidden(n))return g;var b=o.group({class:"apexcharts-yaxis-texts-g"});g.add(b);var v=s.globals.yAxisScale[n].result.length-1,y=s.globals.gridHeight/v,S=s.globals.yLabelFormatters[n],C=this.axesUtils.checkForReversedLabels(n,s.globals.yAxisScale[n].result.slice());if(s.config.yaxis[n].labels.show){var T=s.globals.translateY+s.config.yaxis[n].labels.offsetY;s.globals.isBarHorizontal?T=0:s.config.chart.type==="heatmap"&&(T-=y/2),T+=parseInt(u,10)/3;for(var E=v;E>=0;E--){var O=S(C[E],E,s),I=s.config.yaxis[n].labels.padding;s.config.yaxis[n].opposite&&s.config.yaxis.length!==0&&(I*=-1);var D=this.getTextAnchor(s.config.yaxis[n].labels.align,s.config.yaxis[n].opposite),m=this.axesUtils.getYAxisForeColor(c.colors,n),k=Array.isArray(m)?m[E]:m,L=H.listToArray(s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label tspan"))).map((function(F){return F.textContent})),B=o.drawText({x:I,y:T,text:L.includes(O)&&!s.config.yaxis[n].labels.showDuplicates?"":O,textAnchor:D,fontSize:u,fontFamily:d,fontWeight:f,maxWidth:s.config.yaxis[n].labels.maxWidth,foreColor:k,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(c.cssClass)});b.add(B),this.addTooltip(B,O),s.config.yaxis[n].labels.rotate!==0&&this.rotateLabel(o,B,firstLabel,s.config.yaxis[n].labels.rotate),T+=y}}return this.addYAxisTitle(o,g,n),this.addAxisBorder(o,g,n,v,y),g}},{key:"getTextAnchor",value:function(n,s){return n==="left"?"start":n==="center"?"middle":n==="right"?"end":s?"start":"end"}},{key:"addTooltip",value:function(n,s){var o=document.createElementNS(this.w.globals.SVGNS,"title");o.textContent=Array.isArray(s)?s.join(" "):s,n.node.appendChild(o)}},{key:"rotateLabel",value:function(n,s,o,c){var u=n.rotateAroundCenter(o.node),d=n.rotateAroundCenter(s.node);s.node.setAttribute("transform","rotate(".concat(c," ").concat(u.x," ").concat(d.y,")"))}},{key:"addYAxisTitle",value:function(n,s,o){var c=this.w;if(c.config.yaxis[o].title.text!==void 0){var u=n.group({class:"apexcharts-yaxis-title"}),d=c.config.yaxis[o].opposite?c.globals.translateYAxisX[o]:0,f=n.drawText({x:d,y:c.globals.gridHeight/2+c.globals.translateY+c.config.yaxis[o].title.offsetY,text:c.config.yaxis[o].title.text,textAnchor:"end",foreColor:c.config.yaxis[o].title.style.color,fontSize:c.config.yaxis[o].title.style.fontSize,fontWeight:c.config.yaxis[o].title.style.fontWeight,fontFamily:c.config.yaxis[o].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(c.config.yaxis[o].title.style.cssClass)});u.add(f),s.add(u)}}},{key:"addAxisBorder",value:function(n,s,o,c,u){var d=this.w,f=d.config.yaxis[o].axisBorder,g=31+f.offsetX;if(d.config.yaxis[o].opposite&&(g=-31-f.offsetX),f.show){var b=n.drawLine(g,d.globals.translateY+f.offsetY-2,g,d.globals.gridHeight+d.globals.translateY+f.offsetY+2,f.color,0,f.width);s.add(b)}d.config.yaxis[o].axisTicks.show&&this.axesUtils.drawYAxisTicks(g,c,f,d.config.yaxis[o].axisTicks,o,u,s)}},{key:"drawYaxisInversed",value:function(n){var s=this.w,o=new V(this.ctx),c=o.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),u=o.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(s.globals.translateXAxisX,", ").concat(s.globals.translateXAxisY,")")});c.add(u);var d=s.globals.yAxisScale[n].result.length-1,f=s.globals.gridWidth/d+.1,g=f+s.config.xaxis.labels.offsetX,b=s.globals.xLabelFormatter,v=this.axesUtils.checkForReversedLabels(n,s.globals.yAxisScale[n].result.slice()),y=s.globals.timescaleLabels;if(y.length>0&&(this.xaxisLabels=y.slice(),d=(v=y.slice()).length),s.config.xaxis.labels.show)for(var S=y.length?0:d;y.length?S<y.length:S>=0;y.length?S++:S--){var C=b(v[S],S,s),T=s.globals.gridWidth+s.globals.padHorizontal-(g-f+s.config.xaxis.labels.offsetX);if(y.length){var E=this.axesUtils.getLabel(v,y,T,S,this.drawnLabels,this.xaxisFontSize);T=E.x,C=E.text,this.drawnLabels.push(E.text),S===0&&s.globals.skipFirstTimelinelabel&&(C=""),S===v.length-1&&s.globals.skipLastTimelinelabel&&(C="")}var O=o.drawText({x:T,y:this.xAxisoffX+s.config.xaxis.labels.offsetY+30-(s.config.xaxis.position==="top"?s.globals.xAxisHeight+s.config.xaxis.axisTicks.height-2:0),text:C,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[n]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:s.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(s.config.xaxis.labels.style.cssClass)});u.add(O),O.tspan(C),this.addTooltip(O,C),g+=f}return this.inversedYAxisTitleText(c),this.inversedYAxisBorder(c),c}},{key:"inversedYAxisBorder",value:function(n){var s=this.w,o=new V(this.ctx),c=s.config.xaxis.axisBorder;if(c.show){var u=0;s.config.chart.type==="bar"&&s.globals.isXNumeric&&(u-=15);var d=o.drawLine(s.globals.padHorizontal+u+c.offsetX,this.xAxisoffX,s.globals.gridWidth,this.xAxisoffX,c.color,0,c.height);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(d):n.add(d)}}},{key:"inversedYAxisTitleText",value:function(n){var s=this.w,o=new V(this.ctx);if(s.config.xaxis.title.text!==void 0){var c=o.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),u=o.drawText({x:s.globals.gridWidth/2+s.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(s.config.xaxis.title.style.fontSize)+s.config.xaxis.title.offsetY+20,text:s.config.xaxis.title.text,textAnchor:"middle",fontSize:s.config.xaxis.title.style.fontSize,fontFamily:s.config.xaxis.title.style.fontFamily,fontWeight:s.config.xaxis.title.style.fontWeight,foreColor:s.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(s.config.xaxis.title.style.cssClass)});c.add(u),n.add(c)}}},{key:"yAxisTitleRotate",value:function(n,s){var o=this.w,c=new V(this.ctx),u=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),d=u?u.getBoundingClientRect():{width:0,height:0},f=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-title text")),g=f?f.getBoundingClientRect():{width:0,height:0};if(f){var b=this.xPaddingForYAxisTitle(n,d,g,s);f.setAttribute("x",b.xPos-(s?10:0));var v=c.rotateAroundCenter(f);f.setAttribute("transform","rotate(".concat(s?-1*o.config.yaxis[n].title.rotate:o.config.yaxis[n].title.rotate," ").concat(v.x," ").concat(v.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(n,s,o,c){var u=this.w,d=0,f=10;return u.config.yaxis[n].title.text===void 0||n<0?{xPos:d,padd:0}:(c?d=s.width+u.config.yaxis[n].title.offsetX+o.width/2+f/2:(d=-1*s.width+u.config.yaxis[n].title.offsetX+f/2+o.width/2,u.globals.isBarHorizontal&&(f=25,d=-1*s.width-u.config.yaxis[n].title.offsetX-f)),{xPos:d,padd:f})}},{key:"setYAxisXPosition",value:function(n,s){var o=this.w,c=0,u=0,d=18,f=1;o.config.yaxis.length>1&&(this.multipleYs=!0),o.config.yaxis.forEach((function(g,b){var v=o.globals.ignoreYAxisIndexes.includes(b)||!g.show||g.floating||n[b].width===0,y=n[b].width+s[b].width;g.opposite?o.globals.isBarHorizontal?(u=o.globals.gridWidth+o.globals.translateX-1,o.globals.translateYAxisX[b]=u-g.labels.offsetX):(u=o.globals.gridWidth+o.globals.translateX+f,v||(f+=y+20),o.globals.translateYAxisX[b]=u-g.labels.offsetX+20):(c=o.globals.translateX-d,v||(d+=y+20),o.globals.translateYAxisX[b]=c+g.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var n=this.w;H.listToArray(n.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(s,o){var c=n.config.yaxis[o];if(c&&!c.floating&&c.labels.align!==void 0){var u=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(o,"'] .apexcharts-yaxis-texts-g")),d=H.listToArray(n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(o,"'] .apexcharts-yaxis-label"))),f=u.getBoundingClientRect();d.forEach((function(g){g.setAttribute("text-anchor",c.labels.align)})),c.labels.align!=="left"||c.opposite?c.labels.align==="center"?u.setAttribute("transform","translate(".concat(f.width/2*(c.opposite?1:-1),", 0)")):c.labels.align==="right"&&c.opposite&&u.setAttribute("transform","translate(".concat(f.width,", 0)")):u.setAttribute("transform","translate(-".concat(f.width,", 0)"))}}))}}]),N})(),Ab=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.documentEvent=H.bind(this.documentEvent,this)}return h(N,[{key:"addEventListener",value:function(n,s){var o=this.w;o.globals.events.hasOwnProperty(n)?o.globals.events[n].push(s):o.globals.events[n]=[s]}},{key:"removeEventListener",value:function(n,s){var o=this.w;if(o.globals.events.hasOwnProperty(n)){var c=o.globals.events[n].indexOf(s);c!==-1&&o.globals.events[n].splice(c,1)}}},{key:"fireEvent",value:function(n,s){var o=this.w;if(o.globals.events.hasOwnProperty(n)){s&&s.length||(s=[]);for(var c=o.globals.events[n],u=c.length,d=0;d<u;d++)c[d].apply(null,s)}}},{key:"setupEventHandlers",value:function(){var n=this,s=this.w,o=this.ctx,c=s.globals.dom.baseEl.querySelector(s.globals.chartClass);this.ctx.eventList.forEach((function(u){c.addEventListener(u,(function(d){var f=Object.assign({},s,{seriesIndex:s.globals.axisCharts?s.globals.capturedSeriesIndex:0,dataPointIndex:s.globals.capturedDataPointIndex});d.type==="mousemove"||d.type==="touchmove"?typeof s.config.chart.events.mouseMove=="function"&&s.config.chart.events.mouseMove(d,o,f):d.type==="mouseleave"||d.type==="touchleave"?typeof s.config.chart.events.mouseLeave=="function"&&s.config.chart.events.mouseLeave(d,o,f):(d.type==="mouseup"&&d.which===1||d.type==="touchend")&&(typeof s.config.chart.events.click=="function"&&s.config.chart.events.click(d,o,f),o.ctx.events.fireEvent("click",[d,o,f]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(u){s.globals.dom.baseEl.addEventListener(u,n.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(n){var s=this.w,o=n.target.className;if(n.type==="click"){var c=s.globals.dom.baseEl.querySelector(".apexcharts-menu");c&&c.classList.contains("apexcharts-menu-open")&&o!=="apexcharts-menu-icon"&&c.classList.remove("apexcharts-menu-open")}s.globals.clientX=n.type==="touchmove"?n.touches[0].clientX:n.clientX,s.globals.clientY=n.type==="touchmove"?n.touches[0].clientY:n.clientY}}]),N})(),Cb=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"setCurrentLocaleValues",value:function(n){var s=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(s=this.w.config.chart.locales.concat(window.Apex.chart.locales));var o=s.filter((function(u){return u.name===n}))[0];if(!o)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var c=H.extend(dt,o);this.w.globals.locale=c.options}}]),N})(),Eb=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"drawAxis",value:function(n,s){var o,c,u=this,d=this.w.globals,f=this.w.config,g=new rr(this.ctx,s),b=new ko(this.ctx,s);d.axisCharts&&n!=="radar"&&(d.isBarHorizontal?(c=b.drawYaxisInversed(0),o=g.drawXaxisInversed(0),d.dom.elGraphical.add(o),d.dom.elGraphical.add(c)):(o=g.drawXaxis(),d.dom.elGraphical.add(o),f.yaxis.map((function(v,y){if(d.ignoreYAxisIndexes.indexOf(y)===-1&&(c=b.drawYaxis(y),d.dom.Paper.add(c),u.w.config.grid.position==="back")){var S=d.dom.Paper.children()[1];S.remove(),d.dom.Paper.add(S)}}))))}}]),N})(),Ao=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"drawXCrosshairs",value:function(){var n=this.w,s=new V(this.ctx),o=new U(this.ctx),c=n.config.xaxis.crosshairs.fill.gradient,u=n.config.xaxis.crosshairs.dropShadow,d=n.config.xaxis.crosshairs.fill.type,f=c.colorFrom,g=c.colorTo,b=c.opacityFrom,v=c.opacityTo,y=c.stops,S=u.enabled,C=u.left,T=u.top,E=u.blur,O=u.color,I=u.opacity,D=n.config.xaxis.crosshairs.fill.color;if(n.config.xaxis.crosshairs.show){d==="gradient"&&(D=s.drawGradient("vertical",f,g,b,v,null,y,null));var m=s.drawRect();n.config.xaxis.crosshairs.width===1&&(m=s.drawLine());var k=n.globals.gridHeight;(!H.isNumber(k)||k<0)&&(k=0);var L=n.config.xaxis.crosshairs.width;(!H.isNumber(L)||L<0)&&(L=0),m.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:k,width:L,height:k,fill:D,filter:"none","fill-opacity":n.config.xaxis.crosshairs.opacity,stroke:n.config.xaxis.crosshairs.stroke.color,"stroke-width":n.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":n.config.xaxis.crosshairs.stroke.dashArray}),S&&(m=o.dropShadow(m,{left:C,top:T,blur:E,color:O,opacity:I})),n.globals.dom.elGraphical.add(m)}}},{key:"drawYCrosshairs",value:function(){var n=this.w,s=new V(this.ctx),o=n.config.yaxis[0].crosshairs,c=n.globals.barPadForNumericAxis;if(n.config.yaxis[0].crosshairs.show){var u=s.drawLine(-c,0,n.globals.gridWidth+c,0,o.stroke.color,o.stroke.dashArray,o.stroke.width);u.attr({class:"apexcharts-ycrosshairs"}),n.globals.dom.elGraphical.add(u)}var d=s.drawLine(-c,0,n.globals.gridWidth+c,0,o.stroke.color,0,0);d.attr({class:"apexcharts-ycrosshairs-hidden"}),n.globals.dom.elGraphical.add(d)}}]),N})(),Tb=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"checkResponsiveConfig",value:function(n){var s=this,o=this.w,c=o.config;if(c.responsive.length!==0){var u=c.responsive.slice();u.sort((function(b,v){return b.breakpoint>v.breakpoint?1:v.breakpoint>b.breakpoint?-1:0})).reverse();var d=new ti({}),f=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=u[0].breakpoint,y=window.innerWidth>0?window.innerWidth:screen.width;if(y>v){var S=H.clone(o.globals.initialConfig);S.series=H.clone(o.config.series);var C=re.extendArrayProps(d,S,o);b=H.extend(C,b),b=H.extend(o.config,b),s.overrideResponsiveOptions(b)}else for(var T=0;T<u.length;T++)y<u[T].breakpoint&&(b=re.extendArrayProps(d,u[T].options,o),b=H.extend(o.config,b),s.overrideResponsiveOptions(b))};if(n){var g=re.extendArrayProps(d,n,o);g=H.extend(o.config,g),f(g=H.extend(g,n))}else f({})}}},{key:"overrideResponsiveOptions",value:function(n){var s=new ti(n).init({responsiveOverride:!0});this.w.config=s}}]),N})(),Mb=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return h(N,[{key:"checkHeatmapDistributed",value:function(){var n=this.w.config,s=n.chart,o=n.plotOptions;return s.type==="treemap"&&o.treemap&&o.treemap.distributed||s.type==="heatmap"&&o.heatmap&&o.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var n=this.w.config,s=n.chart,o=n.plotOptions;return o.bar&&o.bar.distributed&&(s.type==="bar"||s.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var n=this.w,s=new H;n.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(n.config.theme.mode));var o=Y(n.config.colors||n.config.fill.colors||[]);n.globals.colors=this.getColors(o),this.applySeriesColors(n.globals.seriesColors,n.globals.colors),n.config.theme.monochrome.enabled&&(n.globals.colors=this.getMonochromeColors(n.config.theme.monochrome,n.globals.series,s));var c=n.globals.colors.slice();this.pushExtraColors(n.globals.colors),this.applyColorTypes(["fill","stroke"],c),this.applyDataLabelsColors(c),this.applyRadarPolygonsColors(),this.applyMarkersColors(c)}},{key:"getColors",value:function(n){var s=this,o=this.w;return n&&n.length!==0?Array.isArray(n)&&n.length>0&&typeof n[0]=="function"?(this.isColorFn=!0,o.config.series.map((function(c,u){var d=n[u]||n[0];return typeof d=="function"?d({value:o.globals.axisCharts?o.globals.series[u][0]||0:o.globals.series[u],seriesIndex:u,dataPointIndex:u,w:s.w}):d}))):n:this.predefined()}},{key:"applySeriesColors",value:function(n,s){n.forEach((function(o,c){o&&(s[c]=o)}))}},{key:"getMonochromeColors",value:function(n,s,o){var c=n.color,u=n.shadeIntensity,d=n.shadeTo,f=this.isBarDistributed||this.isHeatmapDistributed?s[0].length*s.length:s.length,g=1/(f/u),b=0;return Array.from({length:f},(function(){var v=d==="dark"?o.shadeColor(-1*b,c):o.shadeColor(b,c);return b+=g,v}))}},{key:"applyColorTypes",value:function(n,s){var o=this,c=this.w;n.forEach((function(u){c.globals[u].colors=c.config[u].colors===void 0?o.isColorFn?c.config.colors:s:c.config[u].colors.slice(),o.pushExtraColors(c.globals[u].colors)}))}},{key:"applyDataLabelsColors",value:function(n){var s=this.w;s.globals.dataLabels.style.colors=s.config.dataLabels.style.colors===void 0?n:s.config.dataLabels.style.colors.slice(),this.pushExtraColors(s.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var n=this.w;n.globals.radarPolygons.fill.colors=n.config.plotOptions.radar.polygons.fill.colors===void 0?[n.config.theme.mode==="dark"?"#424242":"none"]:n.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(n.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(n){var s=this.w;s.globals.markers.colors=s.config.markers.colors===void 0?n:s.config.markers.colors.slice(),this.pushExtraColors(s.globals.markers.colors)}},{key:"pushExtraColors",value:function(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,u=s||c.globals.series.length;if(o===null&&(o=this.isBarDistributed||this.isHeatmapDistributed||c.config.chart.type==="heatmap"&&c.config.plotOptions.heatmap&&c.config.plotOptions.heatmap.colorScale.inverse),o&&c.globals.series.length&&(u=c.globals.series[c.globals.maxValsInArrayIndex].length*c.globals.series.length),n.length<u)for(var d=u-n.length,f=0;f<d;f++)n.push(n[f])}},{key:"updateThemeOptions",value:function(n){n.chart=n.chart||{},n.tooltip=n.tooltip||{};var s=n.theme.mode,o=s==="dark"?"palette4":s==="light"?"palette1":n.theme.palette||"palette1",c=s==="dark"?"#f6f7f8":s==="light"?"#373d3f":n.chart.foreColor||"#373d3f";return n.tooltip.theme=s||"light",n.chart.foreColor=c,n.theme.palette=o,n}},{key:"predefined",value:function(){var n={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return n[this.w.config.theme.palette]||n.default}}]),N})(),Lb=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(n){var s=this.w,o=n==="title"?s.config.title:s.config.subtitle,c=s.globals.svgWidth/2,u=o.offsetY,d="middle";if(o.align==="left"?(c=10,d="start"):o.align==="right"&&(c=s.globals.svgWidth-10,d="end"),c+=o.offsetX,u=u+parseInt(o.style.fontSize,10)+o.margin/2,o.text!==void 0){var f=new V(this.ctx).drawText({x:c,y:u,text:o.text,textAnchor:d,fontSize:o.style.fontSize,fontFamily:o.style.fontFamily,fontWeight:o.style.fontWeight,foreColor:o.style.color,opacity:1});f.node.setAttribute("class","apexcharts-".concat(n,"-text")),s.globals.dom.Paper.add(f)}}}]),N})(),Pb=(function(){function N(n){a(this,N),this.w=n.w,this.dCtx=n}return h(N,[{key:"getTitleSubtitleCoords",value:function(n){var s=this.w,o=0,c=0,u=n==="title"?s.config.title.floating:s.config.subtitle.floating,d=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-text"));if(d!==null&&!u){var f=d.getBoundingClientRect();o=f.width,c=s.globals.axisCharts?f.height+5:f.height}return{width:o,height:c}}},{key:"getLegendsRect",value:function(){var n=this.w,s=n.globals.dom.elLegendWrap;n.config.legend.height||n.config.legend.position!=="top"&&n.config.legend.position!=="bottom"||(s.style.maxHeight=n.globals.svgHeight/2+"px");var o=Object.assign({},H.getBoundingClientRect(s));return s!==null&&!n.config.legend.floating&&n.config.legend.show?this.dCtx.lgRect={x:o.x,y:o.y,height:o.height,width:o.height===0?0:o.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},n.config.legend.position!=="left"&&n.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>n.globals.svgWidth&&(this.dCtx.lgRect.width=n.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var n=this,s=this.w,o=[];s.config.series.forEach((function(g,b){g.data.forEach((function(v,y){var S;S=s.globals.series[b][y],c=s.config.dataLabels.formatter(S,{ctx:n.dCtx.ctx,seriesIndex:b,dataPointIndex:y,w:s}),o.push(c)}))}));var c=H.getLargestStringFromArr(o),u=new V(this.dCtx.ctx),d=s.config.dataLabels.style,f=u.getTextRects(c,parseInt(d.fontSize),d.fontFamily);return{width:1.05*f.width,height:f.height}}},{key:"getLargestStringFromMultiArr",value:function(n,s){var o=n;if(this.w.globals.isMultiLineX){var c=s.map((function(d,f){return Array.isArray(d)?d.length:1})),u=Math.max.apply(Math,Y(c));o=s[c.indexOf(u)]}return o}}]),N})(),Rb=(function(){function N(n){a(this,N),this.w=n.w,this.dCtx=n}return h(N,[{key:"getxAxisLabelsCoords",value:function(){var n,s=this.w,o=s.globals.labels.slice();if(s.config.xaxis.convertedCatToNumeric&&o.length===0&&(o=s.globals.categoryLabels),s.globals.timescaleLabels.length>0){var c=this.getxAxisTimeScaleLabelsCoords();n={width:c.width,height:c.height},s.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=s.config.legend.position!=="left"&&s.config.legend.position!=="right"||s.config.legend.floating?0:this.dCtx.lgRect.width;var u=s.globals.xLabelFormatter,d=H.getLargestStringFromArr(o),f=this.dCtx.dimHelpers.getLargestStringFromMultiArr(d,o);s.globals.isBarHorizontal&&(f=d=s.globals.yAxisScale[0].result.reduce((function(T,E){return T.length>E.length?T:E}),0));var g=new Re(this.dCtx.ctx),b=d;d=g.xLabelFormat(u,d,b,{i:void 0,dateFormatter:new ye(this.dCtx.ctx).formatDate,w:s}),f=g.xLabelFormat(u,f,b,{i:void 0,dateFormatter:new ye(this.dCtx.ctx).formatDate,w:s}),(s.config.xaxis.convertedCatToNumeric&&d===void 0||String(d).trim()==="")&&(f=d="1");var v=new V(this.dCtx.ctx),y=v.getTextRects(d,s.config.xaxis.labels.style.fontSize),S=y;if(d!==f&&(S=v.getTextRects(f,s.config.xaxis.labels.style.fontSize)),(n={width:y.width>=S.width?y.width:S.width,height:y.height>=S.height?y.height:S.height}).width*o.length>s.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&s.config.xaxis.labels.rotate!==0||s.config.xaxis.labels.rotateAlways){if(!s.globals.isBarHorizontal){s.globals.rotateXLabels=!0;var C=function(T){return v.getTextRects(T,s.config.xaxis.labels.style.fontSize,s.config.xaxis.labels.style.fontFamily,"rotate(".concat(s.config.xaxis.labels.rotate," 0 0)"),!1)};y=C(d),d!==f&&(S=C(f)),n.height=(y.height>S.height?y.height:S.height)/1.5,n.width=y.width>S.width?y.width:S.width}}else s.globals.rotateXLabels=!1}return s.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var n,s=this.w;if(!s.globals.hasXaxisGroups)return{width:0,height:0};var o,c=((n=s.config.xaxis.group.style)===null||n===void 0?void 0:n.fontSize)||s.config.xaxis.labels.style.fontSize,u=s.globals.groups.map((function(y){return y.title})),d=H.getLargestStringFromArr(u),f=this.dCtx.dimHelpers.getLargestStringFromMultiArr(d,u),g=new V(this.dCtx.ctx),b=g.getTextRects(d,c),v=b;return d!==f&&(v=g.getTextRects(f,c)),o={width:b.width>=v.width?b.width:v.width,height:b.height>=v.height?b.height:v.height},s.config.xaxis.labels.show||(o={width:0,height:0}),{width:o.width,height:o.height}}},{key:"getxAxisTitleCoords",value:function(){var n=this.w,s=0,o=0;if(n.config.xaxis.title.text!==void 0){var c=new V(this.dCtx.ctx).getTextRects(n.config.xaxis.title.text,n.config.xaxis.title.style.fontSize);s=c.width,o=c.height}return{width:s,height:o}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var n,s=this.w;this.dCtx.timescaleLabels=s.globals.timescaleLabels.slice();var o=this.dCtx.timescaleLabels.map((function(u){return u.value})),c=o.reduce((function(u,d){return u===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):u.length>d.length?u:d}),0);return 1.05*(n=new V(this.dCtx.ctx).getTextRects(c,s.config.xaxis.labels.style.fontSize)).width*o.length>s.globals.gridWidth&&s.config.xaxis.labels.rotate!==0&&(s.globals.overlappingXLabels=!0),n}},{key:"additionalPaddingXLabels",value:function(n){var s=this,o=this.w,c=o.globals,u=o.config,d=u.xaxis.type,f=n.width;c.skipLastTimelinelabel=!1,c.skipFirstTimelinelabel=!1;var g=o.config.yaxis[0].opposite&&o.globals.isBarHorizontal,b=function(v,y){u.yaxis.length>1&&(function(S){return c.collapsedSeriesIndices.indexOf(S)!==-1})(y)||(function(S){if(s.dCtx.timescaleLabels&&s.dCtx.timescaleLabels.length){var C=s.dCtx.timescaleLabels[0],T=s.dCtx.timescaleLabels[s.dCtx.timescaleLabels.length-1].position+f/1.75-s.dCtx.yAxisWidthRight,E=C.position-f/1.75+s.dCtx.yAxisWidthLeft,O=o.config.legend.position==="right"&&s.dCtx.lgRect.width>0?s.dCtx.lgRect.width:0;T>c.svgWidth-c.translateX-O&&(c.skipLastTimelinelabel=!0),E<-(S.show&&!S.floating||u.chart.type!=="bar"&&u.chart.type!=="candlestick"&&u.chart.type!=="rangeBar"&&u.chart.type!=="boxPlot"?10:f/1.75)&&(c.skipFirstTimelinelabel=!0)}else d==="datetime"?s.dCtx.gridPad.right<f&&!c.rotateXLabels&&(c.skipLastTimelinelabel=!0):d!=="datetime"&&s.dCtx.gridPad.right<f/2-s.dCtx.yAxisWidthRight&&!c.rotateXLabels&&!o.config.xaxis.labels.trim&&(s.dCtx.xPadRight=f/2+1)})(v)};u.yaxis.forEach((function(v,y){g?(s.dCtx.gridPad.left<f&&(s.dCtx.xPadLeft=f/2+1),s.dCtx.xPadRight=f/2+1):b(v,y)}))}}]),N})(),Ob=(function(){function N(n){a(this,N),this.w=n.w,this.dCtx=n}return h(N,[{key:"getyAxisLabelsCoords",value:function(){var n=this,s=this.w,o=[],c=10,u=new Ae(this.dCtx.ctx);return s.config.yaxis.map((function(d,f){var g={seriesIndex:f,dataPointIndex:-1,w:s},b=s.globals.yAxisScale[f],v=0;if(!u.isYAxisHidden(f)&&d.labels.show&&d.labels.minWidth!==void 0&&(v=d.labels.minWidth),!u.isYAxisHidden(f)&&d.labels.show&&b.result.length){var y=s.globals.yLabelFormatters[f],S=b.niceMin===Number.MIN_VALUE?0:b.niceMin,C=b.result.reduce((function(k,L){var B,F;return((B=String(y(k,g)))===null||B===void 0?void 0:B.length)>((F=String(y(L,g)))===null||F===void 0?void 0:F.length)?k:L}),S),T=C=y(C,g);if(C!==void 0&&C.length!==0||(C=b.niceMax),s.globals.isBarHorizontal){c=0;var E=s.globals.labels.slice();C=H.getLargestStringFromArr(E),C=y(C,{seriesIndex:f,dataPointIndex:-1,w:s}),T=n.dCtx.dimHelpers.getLargestStringFromMultiArr(C,E)}var O=new V(n.dCtx.ctx),I="rotate(".concat(d.labels.rotate," 0 0)"),D=O.getTextRects(C,d.labels.style.fontSize,d.labels.style.fontFamily,I,!1),m=D;C!==T&&(m=O.getTextRects(T,d.labels.style.fontSize,d.labels.style.fontFamily,I,!1)),o.push({width:(v>m.width||v>D.width?v:m.width>D.width?m.width:D.width)+c,height:m.height>D.height?m.height:D.height})}else o.push({width:0,height:0})})),o}},{key:"getyAxisTitleCoords",value:function(){var n=this,s=this.w,o=[];return s.config.yaxis.map((function(c,u){if(c.show&&c.title.text!==void 0){var d=new V(n.dCtx.ctx),f="rotate(".concat(c.title.rotate," 0 0)"),g=d.getTextRects(c.title.text,c.title.style.fontSize,c.title.style.fontFamily,f,!1);o.push({width:g.width,height:g.height})}else o.push({width:0,height:0})})),o}},{key:"getTotalYAxisWidth",value:function(){var n=this.w,s=0,o=0,c=0,u=n.globals.yAxisScale.length>1?10:0,d=new Ae(this.dCtx.ctx),f=function(g,b){var v=n.config.yaxis[b].floating,y=0;g.width>0&&!v?(y=g.width+u,(function(S){return n.globals.ignoreYAxisIndexes.indexOf(S)>-1})(b)&&(y=y-g.width-u)):y=v||d.isYAxisHidden(b)?0:5,n.config.yaxis[b].opposite?c+=y:o+=y,s+=y};return n.globals.yLabelsCoords.map((function(g,b){f(g,b)})),n.globals.yTitleCoords.map((function(g,b){f(g,b)})),n.globals.isBarHorizontal&&!n.config.yaxis[0].floating&&(s=n.globals.yLabelsCoords[0].width+n.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=o,this.dCtx.yAxisWidthRight=c,s}}]),N})(),Ib=(function(){function N(n){a(this,N),this.w=n.w,this.dCtx=n}return h(N,[{key:"gridPadForColumnsInNumericAxis",value:function(n){var s=this.w,o=s.config,c=s.globals;if(c.noData||c.collapsedSeries.length+c.ancillaryCollapsedSeries.length===o.series.length)return 0;var u=function(C){return["bar","rangeBar","candlestick","boxPlot"].includes(C)},d=o.chart.type,f=0,g=u(d)?o.series.length:1;c.comboBarCount>0&&(g=c.comboBarCount),c.collapsedSeries.forEach((function(C){u(C.type)&&(g-=1)})),o.chart.stacked&&(g=1);var b=u(d)||c.comboBarCount>0,v=Math.abs(c.initialMaxX-c.initialMinX);if(b&&c.isXNumeric&&!c.isBarHorizontal&&g>0&&v!==0){v<=3&&(v=c.dataPoints);var y=v/n,S=c.minXDiff&&c.minXDiff/y>0?c.minXDiff/y:0;S>n/2&&(S/=2),(f=S*parseInt(o.plotOptions.bar.columnWidth,10)/100)<1&&(f=1),c.barPadForNumericAxis=f}return f}},{key:"gridPadFortitleSubtitle",value:function(){var n=this,s=this.w,o=s.globals,c=this.dCtx.isSparkline||!o.axisCharts?0:10;["title","subtitle"].forEach((function(f){s.config[f].text!==void 0?c+=s.config[f].margin:c+=n.dCtx.isSparkline||!o.axisCharts?0:5})),!s.config.legend.show||s.config.legend.position!=="bottom"||s.config.legend.floating||o.axisCharts||(c+=10);var u=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),d=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");o.gridHeight-=u.height+d.height+c,o.translateY+=u.height+d.height+c}},{key:"setGridXPosForDualYAxis",value:function(n,s){var o=this.w,c=new Ae(this.dCtx.ctx);o.config.yaxis.forEach((function(u,d){o.globals.ignoreYAxisIndexes.indexOf(d)!==-1||u.floating||c.isYAxisHidden(d)||(u.opposite&&(o.globals.translateX-=s[d].width+n[d].width+parseInt(u.labels.style.fontSize,10)/1.2+12),o.globals.translateX<2&&(o.globals.translateX=2))}))}}]),N})(),as=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Pb(this),this.dimYAxis=new Ob(this),this.dimXAxis=new Rb(this),this.dimGrid=new Ib(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return h(N,[{key:"plotCoords",value:function(){var n=this,s=this.w,o=s.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var c=Array.isArray(s.config.stroke.width)?Math.max.apply(Math,Y(s.config.stroke.width)):s.config.stroke.width;this.isSparkline&&((s.config.markers.discrete.length>0||s.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(d){var f=W(d,2),g=f[0],b=f[1];n.gridPad[g]=Math.max(b,n.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(c/2,this.gridPad.top),this.gridPad.bottom=Math.max(c/2,this.gridPad.bottom)),o.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),o.gridHeight=o.gridHeight-this.gridPad.top-this.gridPad.bottom,o.gridWidth=o.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var u=this.dimGrid.gridPadForColumnsInNumericAxis(o.gridWidth);o.gridWidth=o.gridWidth-2*u,o.translateX=o.translateX+this.gridPad.left+this.xPadLeft+(u>0?u:0),o.translateY=o.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var n=this,s=this.w,o=s.globals,c=this.dimYAxis.getyAxisLabelsCoords(),u=this.dimYAxis.getyAxisTitleCoords();o.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),s.globals.yLabelsCoords=[],s.globals.yTitleCoords=[],s.config.yaxis.map((function(C,T){s.globals.yLabelsCoords.push({width:c[T].width,index:T}),s.globals.yTitleCoords.push({width:u[T].width,index:T})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var d=this.dimXAxis.getxAxisLabelsCoords(),f=this.dimXAxis.getxAxisGroupLabelsCoords(),g=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(d,g,f),o.translateXAxisY=s.globals.rotateXLabels?this.xAxisHeight/8:-4,o.translateXAxisX=s.globals.rotateXLabels&&s.globals.isXNumeric&&s.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,s.globals.isBarHorizontal&&(o.rotateXLabels=!1,o.translateXAxisY=parseInt(s.config.xaxis.labels.style.fontSize,10)/1.5*-1),o.translateXAxisY=o.translateXAxisY+s.config.xaxis.labels.offsetY,o.translateXAxisX=o.translateXAxisX+s.config.xaxis.labels.offsetX;var b=this.yAxisWidth,v=this.xAxisHeight;o.xAxisLabelsHeight=this.xAxisHeight-g.height,o.xAxisGroupLabelsHeight=o.xAxisLabelsHeight-d.height,o.xAxisLabelsWidth=this.xAxisWidth,o.xAxisHeight=this.xAxisHeight;var y=10;(s.config.chart.type==="radar"||this.isSparkline)&&(b=0,v=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||s.config.chart.type==="treemap")&&(b=0,v=0,y=0),this.isSparkline||s.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(d);var S=function(){o.translateX=b+n.datalabelsCoords.width,o.gridHeight=o.svgHeight-n.lgRect.height-v-(n.isSparkline||s.config.chart.type==="treemap"?0:s.globals.rotateXLabels?10:15),o.gridWidth=o.svgWidth-b-2*n.datalabelsCoords.width};switch(s.config.xaxis.position==="top"&&(y=o.xAxisHeight-s.config.xaxis.axisTicks.height-5),s.config.legend.position){case"bottom":o.translateY=y,S();break;case"top":o.translateY=this.lgRect.height+y,S();break;case"left":o.translateY=y,o.translateX=this.lgRect.width+b+this.datalabelsCoords.width,o.gridHeight=o.svgHeight-v-12,o.gridWidth=o.svgWidth-this.lgRect.width-b-2*this.datalabelsCoords.width;break;case"right":o.translateY=y,o.translateX=b+this.datalabelsCoords.width,o.gridHeight=o.svgHeight-v-12,o.gridWidth=o.svgWidth-this.lgRect.width-b-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(u,c),new ko(this.ctx).setYAxisXPosition(c,u)}},{key:"setDimensionsForNonAxisCharts",value:function(){var n=this.w,s=n.globals,o=n.config,c=0;n.config.legend.show&&!n.config.legend.floating&&(c=20);var u=o.chart.type==="pie"||o.chart.type==="polarArea"||o.chart.type==="donut"?"pie":"radialBar",d=o.plotOptions[u].offsetY,f=o.plotOptions[u].offsetX;if(!o.legend.show||o.legend.floating){s.gridHeight=s.svgHeight;var g=s.dom.elWrap.getBoundingClientRect().width;return s.gridWidth=Math.min(g,s.gridHeight),s.translateY=d,void(s.translateX=f+(s.svgWidth-s.gridWidth)/2)}switch(o.legend.position){case"bottom":s.gridHeight=s.svgHeight-this.lgRect.height,s.gridWidth=s.svgWidth,s.translateY=d-10,s.translateX=f+(s.svgWidth-s.gridWidth)/2;break;case"top":s.gridHeight=s.svgHeight-this.lgRect.height,s.gridWidth=s.svgWidth,s.translateY=this.lgRect.height+d+10,s.translateX=f+(s.svgWidth-s.gridWidth)/2;break;case"left":s.gridWidth=s.svgWidth-this.lgRect.width-c,s.gridHeight=o.chart.height!=="auto"?s.svgHeight:s.gridWidth,s.translateY=d,s.translateX=f+this.lgRect.width+c;break;case"right":s.gridWidth=s.svgWidth-this.lgRect.width-c-5,s.gridHeight=o.chart.height!=="auto"?s.svgHeight:s.gridWidth,s.translateY=d,s.translateX=f+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(n,s,o){var c=this.w,u=c.globals.hasXaxisGroups?2:1,d=o.height+n.height+s.height,f=c.globals.isMultiLineX?1.2:c.globals.LINE_HEIGHT_RATIO,g=c.globals.rotateXLabels?22:10,b=c.globals.rotateXLabels&&c.config.legend.position==="bottom"?10:0;this.xAxisHeight=d*f+u*g+b,this.xAxisWidth=n.width,this.xAxisHeight-s.height>c.config.xaxis.labels.maxHeight&&(this.xAxisHeight=c.config.xaxis.labels.maxHeight),c.config.xaxis.labels.minHeight&&this.xAxisHeight<c.config.xaxis.labels.minHeight&&(this.xAxisHeight=c.config.xaxis.labels.minHeight),c.config.xaxis.floating&&(this.xAxisHeight=0);var v=0,y=0;c.config.yaxis.forEach((function(S){v+=S.labels.minWidth,y+=S.labels.maxWidth})),this.yAxisWidth<v&&(this.yAxisWidth=v),this.yAxisWidth>y&&(this.yAxisWidth=y)}}]),N})(),Nb=(function(){function N(n){a(this,N),this.w=n.w,this.lgCtx=n}return h(N,[{key:"getLegendStyles",value:function(){var n,s,o,c=document.createElement("style");c.setAttribute("type","text/css");var u=((n=this.lgCtx.ctx)===null||n===void 0||(s=n.opts)===null||s===void 0||(o=s.chart)===null||o===void 0?void 0:o.nonce)||this.w.config.chart.nonce;u&&c.setAttribute("nonce",u);var d=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }`);return c.appendChild(d),c}},{key:"getLegendDimensions",value:function(){var n=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),s=n.width;return{clwh:n.height,clww:s}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(n,s){var o=this,c=this.w;if(c.globals.axisCharts||c.config.chart.type==="radialBar"){c.globals.resized=!0;var u=null,d=null;c.globals.risingSeries=[],c.globals.axisCharts?(u=c.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"']")),d=parseInt(u.getAttribute("data:realIndex"),10)):(u=c.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"']")),d=parseInt(u.getAttribute("rel"),10)-1),s?[{cs:c.globals.collapsedSeries,csi:c.globals.collapsedSeriesIndices},{cs:c.globals.ancillaryCollapsedSeries,csi:c.globals.ancillaryCollapsedSeriesIndices}].forEach((function(v){o.riseCollapsedSeries(v.cs,v.csi,d)})):this.hideSeries({seriesEl:u,realIndex:d})}else{var f=c.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(n+1,"'] path")),g=c.config.chart.type;if(g==="pie"||g==="polarArea"||g==="donut"){var b=c.config.plotOptions.pie.donut.labels;new V(this.lgCtx.ctx).pathMouseDown(f.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(f.members[0].node,b)}f.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(n){var s=n.realIndex,o=this.w,c=o.globals,u=H.clone(o.config.series);if(c.axisCharts){var d=o.config.yaxis[c.seriesYAxisReverseMap[s]],f={index:s,data:u[s].data.slice(),type:u[s].type||o.config.chart.type};if(d&&d.show&&d.showAlways)c.ancillaryCollapsedSeriesIndices.indexOf(s)<0&&(c.ancillaryCollapsedSeries.push(f),c.ancillaryCollapsedSeriesIndices.push(s));else if(c.collapsedSeriesIndices.indexOf(s)<0){c.collapsedSeries.push(f),c.collapsedSeriesIndices.push(s);var g=c.risingSeries.indexOf(s);c.risingSeries.splice(g,1)}}else c.collapsedSeries.push({index:s,data:u[s]}),c.collapsedSeriesIndices.push(s);return c.allSeriesCollapsed=c.collapsedSeries.length+c.ancillaryCollapsedSeries.length===o.config.series.length,this._getSeriesBasedOnCollapsedState(u)}},{key:"hideSeries",value:function(n){for(var s=n.seriesEl,o=n.realIndex,c=this.w,u=this.getSeriesAfterCollapsing({realIndex:o}),d=s.childNodes,f=0;f<d.length;f++)d[f].classList.contains("apexcharts-series-markers-wrap")&&(d[f].classList.contains("apexcharts-hide")?d[f].classList.remove("apexcharts-hide"):d[f].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(u,c.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(n,s,o){var c=this.w,u=H.clone(c.config.series);if(n.length>0){for(var d=0;d<n.length;d++)n[d].index===o&&(c.globals.axisCharts?u[o].data=n[d].data.slice():u[o]=n[d].data,u[o].hidden=!1,n.splice(d,1),s.splice(d,1),c.globals.risingSeries.push(o));u=this._getSeriesBasedOnCollapsedState(u),this.lgCtx.ctx.updateHelpers._updateSeries(u,c.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(n){var s=this.w,o=0;return s.globals.axisCharts?n.forEach((function(c,u){s.globals.collapsedSeriesIndices.indexOf(u)<0&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(u)<0||(n[u].data=[],o++)})):n.forEach((function(c,u){!s.globals.collapsedSeriesIndices.indexOf(u)<0&&(n[u]=0,o++)})),s.globals.allSeriesCollapsed=o===n.length,n}}]),N})(),Mh=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Nb(this)}return h(N,[{key:"init",value:function(){var n=this.w,s=n.globals,o=n.config,c=o.legend.showForSingleSeries&&s.series.length===1||this.isBarsDistributed||s.series.length>1;if(this.legendHelpers.appendToForeignObject(),(c||!s.axisCharts)&&o.legend.show){for(;s.dom.elLegendWrap.firstChild;)s.dom.elLegendWrap.removeChild(s.dom.elLegendWrap.firstChild);this.drawLegends(),o.legend.position==="bottom"||o.legend.position==="top"?this.legendAlignHorizontal():o.legend.position!=="right"&&o.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(n){var s=n.i,o=n.fillcolor,c=this.w,u=document.createElement("span");u.classList.add("apexcharts-legend-marker");var d=c.config.legend.markers.shape||c.config.markers.shape,f=d;Array.isArray(d)&&(f=d[s]);var g=Array.isArray(c.config.legend.markers.size)?parseFloat(c.config.legend.markers.size[s]):parseFloat(c.config.legend.markers.size),b=Array.isArray(c.config.legend.markers.offsetX)?parseFloat(c.config.legend.markers.offsetX[s]):parseFloat(c.config.legend.markers.offsetX),v=Array.isArray(c.config.legend.markers.offsetY)?parseFloat(c.config.legend.markers.offsetY[s]):parseFloat(c.config.legend.markers.offsetY),y=Array.isArray(c.config.legend.markers.strokeWidth)?parseFloat(c.config.legend.markers.strokeWidth[s]):parseFloat(c.config.legend.markers.strokeWidth),S=u.style;if(S.height=2*(g+y)+"px",S.width=2*(g+y)+"px",S.left=b+"px",S.top=v+"px",c.config.legend.markers.customHTML)S.background="transparent",S.color=o[s],Array.isArray(c.config.legend.markers.customHTML)?c.config.legend.markers.customHTML[s]&&(u.innerHTML=c.config.legend.markers.customHTML[s]()):u.innerHTML=c.config.legend.markers.customHTML();else{var C=new An(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(f),seriesIndex:s,strokeWidth:y,size:g}),T=SVG(u).size("100%","100%"),E=new V(this.ctx).drawMarker(0,0,P(P({},C),{},{pointFillColor:Array.isArray(o)?o[s]:C.pointFillColor,shape:f}));SVG.select(".apexcharts-legend-marker.apexcharts-marker").members.forEach((function(O){O.node.classList.contains("apexcharts-marker-triangle")?O.node.style.transform="translate(50%, 45%)":O.node.style.transform="translate(50%, 50%)"})),T.add(E)}return u}},{key:"drawLegends",value:function(){var n=this,s=this.w,o=s.config.legend.fontFamily,c=s.globals.seriesNames,u=s.config.legend.markers.fillColors?s.config.legend.markers.fillColors.slice():s.globals.colors.slice();if(s.config.chart.type==="heatmap"){var d=s.config.plotOptions.heatmap.colorScale.ranges;c=d.map((function(L){return L.name?L.name:L.from+" - "+L.to})),u=d.map((function(L){return L.color}))}else this.isBarsDistributed&&(c=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(c=s.config.legend.customLegendItems);for(var f=s.globals.legendFormatter,g=s.config.legend.inverseOrder,b=g?c.length-1:0;g?b>=0:b<=c.length-1;g?b--:b++){var v,y=f(c[b],{seriesIndex:b,w:s}),S=!1,C=!1;if(s.globals.collapsedSeries.length>0)for(var T=0;T<s.globals.collapsedSeries.length;T++)s.globals.collapsedSeries[T].index===b&&(S=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var E=0;E<s.globals.ancillaryCollapsedSeriesIndices.length;E++)s.globals.ancillaryCollapsedSeriesIndices[E]===b&&(C=!0);var O=this.createLegendMarker({i:b,fillcolor:u});V.setAttrs(O,{rel:b+1,"data:collapsed":S||C}),(S||C)&&O.classList.add("apexcharts-inactive-legend");var I=document.createElement("div"),D=document.createElement("span");D.classList.add("apexcharts-legend-text"),D.innerHTML=Array.isArray(y)?y.join(" "):y;var m=s.config.legend.labels.useSeriesColors?s.globals.colors[b]:Array.isArray(s.config.legend.labels.colors)?(v=s.config.legend.labels.colors)===null||v===void 0?void 0:v[b]:s.config.legend.labels.colors;m||(m=s.config.chart.foreColor),D.style.color=m,D.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",D.style.fontWeight=s.config.legend.fontWeight,D.style.fontFamily=o||s.config.chart.fontFamily,V.setAttrs(D,{rel:b+1,i:b,"data:default-text":encodeURIComponent(y),"data:collapsed":S||C}),I.appendChild(O),I.appendChild(D);var k=new re(this.ctx);s.config.legend.showForZeroSeries||k.getSeriesTotalByIndex(b)===0&&k.seriesHaveSameValues(b)&&!k.isSeriesNull(b)&&s.globals.collapsedSeriesIndices.indexOf(b)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&I.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||k.isSeriesNull(b)&&s.globals.collapsedSeriesIndices.indexOf(b)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&I.classList.add("apexcharts-hidden-null-series"),s.globals.dom.elLegendWrap.appendChild(I),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),I.classList.add("apexcharts-legend-series"),I.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",V.setAttrs(I,{rel:b+1,seriesName:H.escapeString(c[b]),"data:collapsed":S||C}),(S||C)&&I.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||I.classList.add("apexcharts-no-click")}s.globals.dom.elWrap.addEventListener("click",n.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&s.config.legend.customLegendItems.length===0&&(s.globals.dom.elWrap.addEventListener("mousemove",n.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",n.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(n,s){var o=this.w,c=o.globals.dom.elLegendWrap,u=c.clientHeight,d=0,f=0;if(o.config.legend.position==="bottom")f=o.globals.svgHeight-Math.min(u,o.globals.svgHeight/2)-5;else if(o.config.legend.position==="top"){var g=new as(this.ctx),b=g.dimHelpers.getTitleSubtitleCoords("title").height,v=g.dimHelpers.getTitleSubtitleCoords("subtitle").height;f=(b>0?b-10:0)+(v>0?v-10:0)}c.style.position="absolute",d=d+n+o.config.legend.offsetX,f=f+s+o.config.legend.offsetY,c.style.left=d+"px",c.style.top=f+"px",o.config.legend.position==="right"&&(c.style.left="auto",c.style.right=25+o.config.legend.offsetX+"px"),["width","height"].forEach((function(y){c.style[y]&&(c.style[y]=parseInt(o.config.legend[y],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var n=this.w;n.globals.dom.elLegendWrap.style.right=0;var s=new as(this.ctx),o=s.dimHelpers.getTitleSubtitleCoords("title"),c=s.dimHelpers.getTitleSubtitleCoords("subtitle"),u=0;n.config.legend.position==="top"&&(u=o.height+c.height+n.config.title.margin+n.config.subtitle.margin-10),this.setLegendWrapXY(20,u)}},{key:"legendAlignVertical",value:function(){var n=this.w,s=this.legendHelpers.getLegendDimensions(),o=0;n.config.legend.position==="left"&&(o=20),n.config.legend.position==="right"&&(o=n.globals.svgWidth-s.clww-10),this.setLegendWrapXY(o,20)}},{key:"onLegendHovered",value:function(n){var s=this.w,o=n.target.classList.contains("apexcharts-legend-series")||n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker");if(s.config.chart.type==="heatmap"||this.isBarsDistributed){if(o){var c=parseInt(n.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,c,this.w]),new Mt(this.ctx).highlightRangeInSeries(n,n.target)}}else!n.target.classList.contains("apexcharts-inactive-legend")&&o&&new Mt(this.ctx).toggleSeriesOnHover(n,n.target)}},{key:"onLegendClick",value:function(n){var s=this.w;if(!s.config.legend.customLegendItems.length&&(n.target.classList.contains("apexcharts-legend-series")||n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker"))){var o=parseInt(n.target.getAttribute("rel"),10)-1,c=n.target.getAttribute("data:collapsed")==="true",u=this.w.config.chart.events.legendClick;typeof u=="function"&&u(this.ctx,o,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,o,this.w]);var d=this.w.config.legend.markers.onClick;typeof d=="function"&&n.target.classList.contains("apexcharts-legend-marker")&&(d(this.ctx,o,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,o,this.w])),s.config.chart.type!=="treemap"&&s.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&s.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(o,c)}}}]),N})(),Lh=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w;var s=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=s.globals.minX,this.maxX=s.globals.maxX}return h(N,[{key:"createToolbar",value:function(){var n=this,s=this.w,o=function(){return document.createElement("div")},c=o();if(c.setAttribute("class","apexcharts-toolbar"),c.style.top=s.config.chart.toolbar.offsetY+"px",c.style.right=3-s.config.chart.toolbar.offsetX+"px",s.globals.dom.elWrap.appendChild(c),this.elZoom=o(),this.elZoomIn=o(),this.elZoomOut=o(),this.elPan=o(),this.elSelection=o(),this.elZoomReset=o(),this.elMenuIcon=o(),this.elMenu=o(),this.elCustomIcons=[],this.t=s.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var u=0;u<this.t.customIcons.length;u++)this.elCustomIcons.push(o());var d=[],f=function(y,S,C){var T=y.toLowerCase();n.t[T]&&s.config.chart.zoom.enabled&&d.push({el:S,icon:typeof n.t[T]=="string"?n.t[T]:C,title:n.localeValues[y],class:"apexcharts-".concat(T,"-icon")})};f("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),f("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var g=function(y){n.t[y]&&s.config.chart[y].enabled&&d.push({el:y==="zoom"?n.elZoom:n.elSelection,icon:typeof n.t[y]=="string"?n.t[y]:y==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:n.localeValues[y==="zoom"?"selectionZoom":"selection"],class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(y,"-icon")})};g("zoom"),g("selection"),this.t.pan&&s.config.chart.zoom.enabled&&d.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:s.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),f("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&d.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var b=0;b<this.elCustomIcons.length;b++)d.push({el:this.elCustomIcons[b],icon:this.t.customIcons[b].icon,title:this.t.customIcons[b].title,index:this.t.customIcons[b].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[b].class});d.forEach((function(y,S){y.index&&H.moveIndexInArray(d,S,y.index)}));for(var v=0;v<d.length;v++)V.setAttrs(d[v].el,{class:d[v].class,title:d[v].title}),d[v].el.innerHTML=d[v].icon,c.appendChild(d[v].el);this._createHamburgerMenu(c),s.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):s.globals.panEnabled?this.elPan.classList.add(this.selectedClass):s.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(n){this.elMenuItems=[],n.appendChild(this.elMenu),V.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var s=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],o=0;o<s.length;o++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[o].innerHTML=s[o].title,V.setAttrs(this.elMenuItems[o],{class:"apexcharts-menu-item ".concat(s[o].name),title:s[o].title}),this.elMenu.appendChild(this.elMenuItems[o])}},{key:"addToolbarEventListeners",value:function(){var n=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(o){o.classList.contains("exportSVG")?o.addEventListener("click",n.handleDownload.bind(n,"svg")):o.classList.contains("exportPNG")?o.addEventListener("click",n.handleDownload.bind(n,"png")):o.classList.contains("exportCSV")&&o.addEventListener("click",n.handleDownload.bind(n,"csv"))}));for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons[s].addEventListener("click",this.t.customIcons[s].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(n){this.ctx.getSyncedCharts().forEach((function(s){s.ctx.toolbar.toggleOtherControls();var o=n==="selection"?s.ctx.toolbar.elSelection:s.ctx.toolbar.elZoom,c=n==="selection"?"selectionEnabled":"zoomEnabled";s.w.globals[c]=!s.w.globals[c],o.classList.contains(s.ctx.toolbar.selectedClass)?o.classList.remove(s.ctx.toolbar.selectedClass):o.classList.add(s.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var n=this.w;this.elZoom||(this.elZoom=n.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=n.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=n.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(n){this.toggleOtherControls(),n==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var s=n==="pan"?this.elPan:this.elZoom,o=n==="pan"?this.elZoom:this.elPan;s&&s.classList.add(this.selectedClass),o&&o.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(n){n.ctx.toolbar.toggleOtherControls(),n.w.globals.panEnabled=!n.w.globals.panEnabled,n.ctx.toolbar.elPan.classList.contains(n.ctx.toolbar.selectedClass)?n.ctx.toolbar.elPan.classList.remove(n.ctx.toolbar.selectedClass):n.ctx.toolbar.elPan.classList.add(n.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var n=this,s=this.w;s.globals.panEnabled=!1,s.globals.zoomEnabled=!1,s.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(o){o&&o.classList.remove(n.selectedClass)}))}},{key:"handleZoomIn",value:function(){var n=this.w;n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY);var s=(this.minX+this.maxX)/2,o=(this.minX+s)/2,c=(this.maxX+s)/2,u=this._getNewMinXMaxX(o,c);n.globals.disableZoomIn||this.zoomUpdateOptions(u.minX,u.maxX)}},{key:"handleZoomOut",value:function(){var n=this.w;if(n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY),!(n.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var s=(this.minX+this.maxX)/2,o=this.minX-(s-this.minX),c=this.maxX-(s-this.maxX),u=this._getNewMinXMaxX(o,c);n.globals.disableZoomOut||this.zoomUpdateOptions(u.minX,u.maxX)}}},{key:"_getNewMinXMaxX",value:function(n,s){var o=this.w.config.xaxis.convertedCatToNumeric;return{minX:o?Math.floor(n):n,maxX:o?Math.floor(s):s}}},{key:"zoomUpdateOptions",value:function(n,s){var o=this.w;if(n!==void 0||s!==void 0){if(!(o.config.xaxis.convertedCatToNumeric&&(n<1&&(n=1,s=o.globals.dataPoints),s-n<2))){var c={min:n,max:s},u=this.getBeforeZoomRange(c);u&&(c=u.xaxis);var d={xaxis:c},f=H.clone(o.globals.initialConfig.yaxis);o.config.chart.group||(d.yaxis=f),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(d,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(c,f)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(n,s){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:n,yaxis:s})}},{key:"getBeforeZoomRange",value:function(n,s){var o=null;return typeof this.ev.beforeZoom=="function"&&(o=this.ev.beforeZoom(this,{xaxis:n,yaxis:s})),o}},{key:"toggleMenu",value:function(){var n=this;window.setTimeout((function(){n.elMenu.classList.contains("apexcharts-menu-open")?n.elMenu.classList.remove("apexcharts-menu-open"):n.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(n){var s=this.w,o=new ss(this.ctx);switch(n){case"svg":o.exportToSVG(this.ctx);break;case"png":o.exportToPng(this.ctx);break;case"csv":o.exportToCSV({series:s.config.series,columnDelimiter:s.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(n){this.ctx.getSyncedCharts().forEach((function(s){var o=s.w;if(o.globals.lastXAxis.min=o.globals.initialConfig.xaxis.min,o.globals.lastXAxis.max=o.globals.initialConfig.xaxis.max,s.updateHelpers.revertDefaultAxisMinMax(),typeof o.config.chart.events.beforeResetZoom=="function"){var c=o.config.chart.events.beforeResetZoom(s,o);c&&s.updateHelpers.revertDefaultAxisMinMax(c)}typeof o.config.chart.events.zoomed=="function"&&s.ctx.toolbar.zoomCallback({min:o.config.xaxis.min,max:o.config.xaxis.max}),o.globals.zoomed=!1;var u=s.ctx.series.emptyCollapsedSeries(H.clone(o.globals.initialSeries));s.updateHelpers._updateSeries(u,o.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),N})(),Db=(function(N){M(s,Lh);var n=x(s);function s(o){var c;return a(this,s),(c=n.call(this,o)).ctx=o,c.w=o.w,c.dragged=!1,c.graphics=new V(c.ctx),c.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],c.clientX=0,c.clientY=0,c.startX=0,c.endX=0,c.dragX=0,c.startY=0,c.endY=0,c.dragY=0,c.moveDirection="none",c.debounceTimer=null,c.debounceDelay=100,c.wheelDelay=400,c}return h(s,[{key:"init",value:function(o){var c=this,u=o.xyRatios,d=this.w,f=this;this.xyRatios=u,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=d.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),d.globals.dom.elGraphical.add(this.zoomRect),d.globals.dom.elGraphical.add(this.selectionRect),d.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:d.globals.gridWidth,maxY:d.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):d.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:d.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=d.globals.dom.baseEl.querySelector("".concat(d.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(g){c.hoverArea.addEventListener(g,f.svgMouseEvents.bind(f,u),{capture:!1,passive:!0})})),d.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",f.mouseWheelEvent.bind(f),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(o,c){var u=this.w,d=this,f=this.ctx.toolbar,g=u.globals.zoomEnabled?u.config.chart.zoom.type:u.config.chart.selection.type,b=u.config.chart.toolbar.autoSelected;if(c.shiftKey?(this.shiftWasPressed=!0,f.enableZoomPanFromToolbar(b==="pan"?"zoom":"pan")):this.shiftWasPressed&&(f.enableZoomPanFromToolbar(b),this.shiftWasPressed=!1),c.target){var v,y=c.target.classList;if(c.target.parentNode&&c.target.parentNode!==null&&(v=c.target.parentNode.classList),!(y.contains("apexcharts-selection-rect")||y.contains("apexcharts-legend-marker")||y.contains("apexcharts-legend-text")||v&&v.contains("apexcharts-toolbar"))){if(d.clientX=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientX:c.type==="touchend"?c.changedTouches[0].clientX:c.clientX,d.clientY=c.type==="touchmove"||c.type==="touchstart"?c.touches[0].clientY:c.type==="touchend"?c.changedTouches[0].clientY:c.clientY,c.type==="mousedown"&&c.which===1){var S=d.gridRect.getBoundingClientRect();d.startX=d.clientX-S.left,d.startY=d.clientY-S.top,d.dragged=!1,d.w.globals.mousedown=!0}if((c.type==="mousemove"&&c.which===1||c.type==="touchmove")&&(d.dragged=!0,u.globals.panEnabled?(u.globals.selection=null,d.w.globals.mousedown&&d.panDragging({context:d,zoomtype:g,xyRatios:o})):(d.w.globals.mousedown&&u.globals.zoomEnabled||d.w.globals.mousedown&&u.globals.selectionEnabled)&&(d.selection=d.selectionDrawing({context:d,zoomtype:g}))),c.type==="mouseup"||c.type==="touchend"||c.type==="mouseleave"){var C,T=(C=d.gridRect)===null||C===void 0?void 0:C.getBoundingClientRect();T&&d.w.globals.mousedown&&(d.endX=d.clientX-T.left,d.endY=d.clientY-T.top,d.dragX=Math.abs(d.endX-d.startX),d.dragY=Math.abs(d.endY-d.startY),(u.globals.zoomEnabled||u.globals.selectionEnabled)&&d.selectionDrawn({context:d,zoomtype:g}),u.globals.panEnabled&&u.config.xaxis.convertedCatToNumeric&&d.delayedPanScrolled()),u.globals.zoomEnabled&&d.hideSelectionRect(this.selectionRect),d.dragged=!1,d.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"mouseWheelEvent",value:function(o){var c=this,u=this.w;o.preventDefault();var d=Date.now();d-u.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(o),u.globals.lastWheelExecution=d),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){d-u.globals.lastWheelExecution>c.wheelDelay&&(c.executeMouseWheelZoom(o),u.globals.lastWheelExecution=d)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(o){var c,u=this.w;this.minX=u.globals.isRangeBar?u.globals.minY:u.globals.minX,this.maxX=u.globals.isRangeBar?u.globals.maxY:u.globals.maxX;var d=(c=this.gridRect)===null||c===void 0?void 0:c.getBoundingClientRect();if(d){var f,g,b,v=(o.clientX-d.left)/d.width,y=this.minX,S=this.maxX,C=S-y;if(o.deltaY<0){var T=y+v*C;g=T-(f=.5*C)/2,b=T+f/2}else g=y-(f=1.5*C)/2,b=S+f/2;if(!u.globals.isRangeBar){g=Math.max(g,u.globals.initialMinX),b=Math.min(b,u.globals.initialMaxX);var E=.01*(u.globals.initialMaxX-u.globals.initialMinX);if(b-g<E){var O=(g+b)/2;g=O-E/2,b=O+E/2}}var I=this._getNewMinXMaxX(g,b);isNaN(I.minX)||isNaN(I.maxX)||this.zoomUpdateOptions(I.minX,I.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var o=this.w;if(this.selectionRect){var c=this.selectionRect.node.getBoundingClientRect();c.width>0&&c.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var o=this.w,c=this.xyRatios;if(!o.globals.zoomEnabled){if(o.globals.selection!==void 0&&o.globals.selection!==null)this.drawSelectionRect(o.globals.selection);else if(o.config.chart.selection.xaxis.min!==void 0&&o.config.chart.selection.xaxis.max!==void 0){var u=(o.config.chart.selection.xaxis.min-o.globals.minX)/c.xRatio,d=o.globals.gridWidth-(o.globals.maxX-o.config.chart.selection.xaxis.max)/c.xRatio-u;o.globals.isRangeBar&&(u=(o.config.chart.selection.xaxis.min-o.globals.yAxisScale[0].niceMin)/c.invertedYRatio,d=(o.config.chart.selection.xaxis.max-o.config.chart.selection.xaxis.min)/c.invertedYRatio);var f={x:u,y:0,width:d,height:o.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(f),this.makeSelectionRectDraggable(),typeof o.config.chart.events.selection=="function"&&o.config.chart.events.selection(this.ctx,{xaxis:{min:o.config.chart.selection.xaxis.min,max:o.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(o){var c=o.x,u=o.y,d=o.width,f=o.height,g=o.translateX,b=g===void 0?0:g,v=o.translateY,y=v===void 0?0:v,S=this.w,C=this.zoomRect,T=this.selectionRect;if(this.dragged||S.globals.selection!==null){var E={transform:"translate("+b+", "+y+")"};S.globals.zoomEnabled&&this.dragged&&(d<0&&(d=1),C.attr({x:c,y:u,width:d,height:f,fill:S.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":S.config.chart.zoom.zoomedArea.fill.opacity,stroke:S.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":S.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":S.config.chart.zoom.zoomedArea.stroke.opacity}),V.setAttrs(C.node,E)),S.globals.selectionEnabled&&(T.attr({x:c,y:u,width:d>0?d:0,height:f>0?f:0,fill:S.config.chart.selection.fill.color,"fill-opacity":S.config.chart.selection.fill.opacity,stroke:S.config.chart.selection.stroke.color,"stroke-width":S.config.chart.selection.stroke.width,"stroke-dasharray":S.config.chart.selection.stroke.dashArray,"stroke-opacity":S.config.chart.selection.stroke.opacity}),V.setAttrs(T.node,E))}}},{key:"hideSelectionRect",value:function(o){o&&o.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(o){var c=o.context,u=o.zoomtype,d=this.w,f=c,g=this.gridRect.getBoundingClientRect(),b=f.startX-1,v=f.startY,y=!1,S=!1,C=f.clientX-g.left-b,T=f.clientY-g.top-v,E={};return Math.abs(C+b)>d.globals.gridWidth?C=d.globals.gridWidth-b:f.clientX-g.left<0&&(C=b),b>f.clientX-g.left&&(y=!0,C=Math.abs(C)),v>f.clientY-g.top&&(S=!0,T=Math.abs(T)),E=u==="x"?{x:y?b-C:b,y:0,width:C,height:d.globals.gridHeight}:u==="y"?{x:0,y:S?v-T:v,width:d.globals.gridWidth,height:T}:{x:y?b-C:b,y:S?v-T:v,width:C,height:T},f.drawSelectionRect(E),f.selectionDragging("resizing"),E}},{key:"selectionDragging",value:function(o,c){var u=this,d=this.w,f=this.xyRatios,g=this.selectionRect,b=0;o==="resizing"&&(b=30);var v=function(S){return parseFloat(g.node.getAttribute(S))},y={x:v("x"),y:v("y"),width:v("width"),height:v("height")};d.globals.selection=y,typeof d.config.chart.events.selection=="function"&&d.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var S,C,T,E,O=u.gridRect.getBoundingClientRect(),I=g.node.getBoundingClientRect();d.globals.isRangeBar?(S=d.globals.yAxisScale[0].niceMin+(I.left-O.left)*f.invertedYRatio,C=d.globals.yAxisScale[0].niceMin+(I.right-O.left)*f.invertedYRatio,T=0,E=1):(S=d.globals.xAxisScale.niceMin+(I.left-O.left)*f.xRatio,C=d.globals.xAxisScale.niceMin+(I.right-O.left)*f.xRatio,T=d.globals.yAxisScale[0].niceMin+(O.bottom-I.bottom)*f.yRatio[0],E=d.globals.yAxisScale[0].niceMax-(I.top-O.top)*f.yRatio[0]);var D={xaxis:{min:S,max:C},yaxis:{min:T,max:E}};d.config.chart.events.selection(u.ctx,D),d.config.chart.brush.enabled&&d.config.chart.events.brushScrolled!==void 0&&d.config.chart.events.brushScrolled(u.ctx,D)}),b))}},{key:"selectionDrawn",value:function(o){var c=o.context,u=o.zoomtype,d=this.w,f=c,g=this.xyRatios,b=this.ctx.toolbar;if(f.startX>f.endX){var v=f.startX;f.startX=f.endX,f.endX=v}if(f.startY>f.endY){var y=f.startY;f.startY=f.endY,f.endY=y}var S=void 0,C=void 0;d.globals.isRangeBar?(S=d.globals.yAxisScale[0].niceMin+f.startX*g.invertedYRatio,C=d.globals.yAxisScale[0].niceMin+f.endX*g.invertedYRatio):(S=d.globals.xAxisScale.niceMin+f.startX*g.xRatio,C=d.globals.xAxisScale.niceMin+f.endX*g.xRatio);var T=[],E=[];if(d.config.yaxis.forEach((function(B,F){var _=d.globals.seriesYAxisMap[F][0];T.push(d.globals.yAxisScale[F].niceMax-g.yRatio[_]*f.startY),E.push(d.globals.yAxisScale[F].niceMax-g.yRatio[_]*f.endY)})),f.dragged&&(f.dragX>10||f.dragY>10)&&S!==C){if(d.globals.zoomEnabled){var O=H.clone(d.globals.initialConfig.yaxis),I=H.clone(d.globals.initialConfig.xaxis);if(d.globals.zoomed=!0,d.config.xaxis.convertedCatToNumeric&&(S=Math.floor(S),C=Math.floor(C),S<1&&(S=1,C=d.globals.dataPoints),C-S<2&&(C=S+1)),u!=="xy"&&u!=="x"||(I={min:S,max:C}),u!=="xy"&&u!=="y"||O.forEach((function(B,F){O[F].min=E[F],O[F].max=T[F]})),b){var D=b.getBeforeZoomRange(I,O);D&&(I=D.xaxis?D.xaxis:I,O=D.yaxis?D.yaxis:O)}var m={xaxis:I};d.config.chart.group||(m.yaxis=O),f.ctx.updateHelpers._updateOptions(m,!1,f.w.config.chart.animations.dynamicAnimation.enabled),typeof d.config.chart.events.zoomed=="function"&&b.zoomCallback(I,O)}else if(d.globals.selectionEnabled){var k,L=null;k={min:S,max:C},u!=="xy"&&u!=="y"||(L=H.clone(d.config.yaxis)).forEach((function(B,F){L[F].min=E[F],L[F].max=T[F]})),d.globals.selection=f.selection,typeof d.config.chart.events.selection=="function"&&d.config.chart.events.selection(f.ctx,{xaxis:k,yaxis:L})}}}},{key:"panDragging",value:function(o){var c=o.context,u=this.w,d=c;if(u.globals.lastClientPosition.x!==void 0){var f=u.globals.lastClientPosition.x-d.clientX,g=u.globals.lastClientPosition.y-d.clientY;Math.abs(f)>Math.abs(g)&&f>0?this.moveDirection="left":Math.abs(f)>Math.abs(g)&&f<0?this.moveDirection="right":Math.abs(g)>Math.abs(f)&&g>0?this.moveDirection="up":Math.abs(g)>Math.abs(f)&&g<0&&(this.moveDirection="down")}u.globals.lastClientPosition={x:d.clientX,y:d.clientY};var b=u.globals.isRangeBar?u.globals.minY:u.globals.minX,v=u.globals.isRangeBar?u.globals.maxY:u.globals.maxX;u.config.xaxis.convertedCatToNumeric||d.panScrolled(b,v)}},{key:"delayedPanScrolled",value:function(){var o=this.w,c=o.globals.minX,u=o.globals.maxX,d=(o.globals.maxX-o.globals.minX)/2;this.moveDirection==="left"?(c=o.globals.minX+d,u=o.globals.maxX+d):this.moveDirection==="right"&&(c=o.globals.minX-d,u=o.globals.maxX-d),c=Math.floor(c),u=Math.floor(u),this.updateScrolledChart({xaxis:{min:c,max:u}},c,u)}},{key:"panScrolled",value:function(o,c){var u=this.w,d=this.xyRatios,f=H.clone(u.globals.initialConfig.yaxis),g=d.xRatio,b=u.globals.minX,v=u.globals.maxX;u.globals.isRangeBar&&(g=d.invertedYRatio,b=u.globals.minY,v=u.globals.maxY),this.moveDirection==="left"?(o=b+u.globals.gridWidth/15*g,c=v+u.globals.gridWidth/15*g):this.moveDirection==="right"&&(o=b-u.globals.gridWidth/15*g,c=v-u.globals.gridWidth/15*g),u.globals.isRangeBar||(o<u.globals.initialMinX||c>u.globals.initialMaxX)&&(o=b,c=v);var y={xaxis:{min:o,max:c}};u.config.chart.group||(y.yaxis=f),this.updateScrolledChart(y,o,c)}},{key:"updateScrolledChart",value:function(o,c,u){var d=this.w;this.ctx.updateHelpers._updateOptions(o,!1,!1),typeof d.config.chart.events.scrolled=="function"&&d.config.chart.events.scrolled(this.ctx,{xaxis:{min:c,max:u}})}}]),s})(),Ph=(function(){function N(n){a(this,N),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx}return h(N,[{key:"getNearestValues",value:function(n){var s=n.hoverArea,o=n.elGrid,c=n.clientX,u=n.clientY,d=this.w,f=o.getBoundingClientRect(),g=f.width,b=f.height,v=g/(d.globals.dataPoints-1),y=b/d.globals.dataPoints,S=this.hasBars();!d.globals.comboCharts&&!S||d.config.xaxis.convertedCatToNumeric||(v=g/d.globals.dataPoints);var C=c-f.left-d.globals.barPadForNumericAxis,T=u-f.top;C<0||T<0||C>g||T>b?(s.classList.remove("hovering-zoom"),s.classList.remove("hovering-pan")):d.globals.zoomEnabled?(s.classList.remove("hovering-pan"),s.classList.add("hovering-zoom")):d.globals.panEnabled&&(s.classList.remove("hovering-zoom"),s.classList.add("hovering-pan"));var E=Math.round(C/v),O=Math.floor(T/y);S&&!d.config.xaxis.convertedCatToNumeric&&(E=Math.ceil(C/v),E-=1);var I=null,D=null,m=d.globals.seriesXvalues.map((function(_){return _.filter((function(G){return H.isNumber(G)}))})),k=d.globals.seriesYvalues.map((function(_){return _.filter((function(G){return H.isNumber(G)}))}));if(d.globals.isXNumeric){var L=this.ttCtx.getElGrid().getBoundingClientRect(),B=C*(L.width/g),F=T*(L.height/b);I=(D=this.closestInMultiArray(B,F,m,k)).index,E=D.j,I!==null&&(m=d.globals.seriesXvalues[I],E=(D=this.closestInArray(B,m)).index)}return d.globals.capturedSeriesIndex=I===null?-1:I,(!E||E<1)&&(E=0),d.globals.isBarHorizontal?d.globals.capturedDataPointIndex=O:d.globals.capturedDataPointIndex=E,{capturedSeries:I,j:d.globals.isBarHorizontal?O:E,hoverX:C,hoverY:T}}},{key:"closestInMultiArray",value:function(n,s,o,c){var u=this.w,d=0,f=null,g=-1;u.globals.series.length>1?d=this.getFirstActiveXArray(o):f=0;var b=o[d][0],v=Math.abs(n-b);if(o.forEach((function(C){C.forEach((function(T,E){var O=Math.abs(n-T);O<=v&&(v=O,g=E)}))})),g!==-1){var y=c[d][g],S=Math.abs(s-y);f=d,c.forEach((function(C,T){var E=Math.abs(s-C[g]);E<=S&&(S=E,f=T)}))}return{index:f,j:g}}},{key:"getFirstActiveXArray",value:function(n){for(var s=this.w,o=0,c=n.map((function(d,f){return d.length>0?f:-1})),u=0;u<c.length;u++)if(c[u]!==-1&&s.globals.collapsedSeriesIndices.indexOf(u)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(u)===-1){o=c[u];break}return o}},{key:"closestInArray",value:function(n,s){for(var o=s[0],c=null,u=Math.abs(n-o),d=0;d<s.length;d++){var f=Math.abs(n-s[d]);f<u&&(u=f,c=d)}return{index:c}}},{key:"isXoverlap",value:function(n){var s=[],o=this.w.globals.seriesX.filter((function(u){return u[0]!==void 0}));if(o.length>0)for(var c=0;c<o.length-1;c++)o[c][n]!==void 0&&o[c+1][n]!==void 0&&o[c][n]!==o[c+1][n]&&s.push("unEqual");return s.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var n=!0,s=this.w.globals.initialSeries,o=0;o<s.length-1;o++)if(s[o].data.length!==s[o+1].data.length){n=!1;break}return n}},{key:"getBarsHeight",value:function(n){return Y(n).reduce((function(s,o){return s+o.getBBox().height}),0)}},{key:"getElMarkers",value:function(n){return typeof n=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(n=Y(n)).sort((function(o,c){var u=Number(o.getAttribute("data:realIndex")),d=Number(c.getAttribute("data:realIndex"));return d<u?1:d>u?-1:0}));var s=[];return n.forEach((function(o){s.push(o.querySelector(".apexcharts-marker"))})),s}},{key:"hasMarkers",value:function(n){return this.getElMarkers(n).length>0}},{key:"getPathFromPoint",value:function(n,s){var o=Number(n.getAttribute("cx")),c=Number(n.getAttribute("cy")),u=n.getAttribute("shape");return new V(this.ctx).getMarkerPath(o,c,u,s)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(n){var s=this.w,o=s.config.markers.hover.size;return o===void 0&&(o=s.globals.markers.size[n]+s.config.markers.hover.sizeOffset),o}},{key:"toggleAllTooltipSeriesGroups",value:function(n){var s=this.w,o=this.ttCtx;o.allTooltipSeriesGroups.length===0&&(o.allTooltipSeriesGroups=s.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var c=o.allTooltipSeriesGroups,u=0;u<c.length;u++)n==="enable"?(c[u].classList.add("apexcharts-active"),c[u].style.display=s.config.tooltip.items.display):(c[u].classList.remove("apexcharts-active"),c[u].style.display="none")}}]),N})(),Fb=(function(){function N(n){a(this,N),this.w=n.w,this.ctx=n.ctx,this.ttCtx=n,this.tooltipUtil=new Ph(n)}return h(N,[{key:"drawSeriesTexts",value:function(n){var s=n.shared,o=s===void 0||s,c=n.ttItems,u=n.i,d=u===void 0?0:u,f=n.j,g=f===void 0?null:f,b=n.y1,v=n.y2,y=n.e,S=this.w;S.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:d,j:g,y1:b,y2:v,w:S}):this.toggleActiveInactiveSeries(o,d);var C=this.getValuesToPrint({i:d,j:g});this.printLabels({i:d,j:g,values:C,ttItems:c,shared:o,e:y});var T=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=T.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=T.getBoundingClientRect().height}},{key:"printLabels",value:function(n){var s,o=this,c=n.i,u=n.j,d=n.values,f=n.ttItems,g=n.shared,b=n.e,v=this.w,y=[],S=function(L){return v.globals.seriesGoals[L]&&v.globals.seriesGoals[L][u]&&Array.isArray(v.globals.seriesGoals[L][u])},C=d.xVal,T=d.zVal,E=d.xAxisTTVal,O="",I=v.globals.colors[c];u!==null&&v.config.plotOptions.bar.distributed&&(I=v.globals.colors[u]);for(var D=function(L,B){var F=o.getFormatters(c);O=o.getSeriesName({fn:F.yLbTitleFormatter,index:c,seriesIndex:c,j:u}),v.config.chart.type==="treemap"&&(O=F.yLbTitleFormatter(String(v.config.series[c].data[u].x),{series:v.globals.series,seriesIndex:c,dataPointIndex:u,w:v}));var _=v.config.tooltip.inverseOrder?B:L;if(v.globals.axisCharts){var G=function(ie){var te,ne,oe,le;return v.globals.isRangeData?F.yLbFormatter((te=v.globals.seriesRangeStart)===null||te===void 0||(ne=te[ie])===null||ne===void 0?void 0:ne[u],{series:v.globals.seriesRangeStart,seriesIndex:ie,dataPointIndex:u,w:v})+" - "+F.yLbFormatter((oe=v.globals.seriesRangeEnd)===null||oe===void 0||(le=oe[ie])===null||le===void 0?void 0:le[u],{series:v.globals.seriesRangeEnd,seriesIndex:ie,dataPointIndex:u,w:v}):F.yLbFormatter(v.globals.series[ie][u],{series:v.globals.series,seriesIndex:ie,dataPointIndex:u,w:v})};if(g)F=o.getFormatters(_),O=o.getSeriesName({fn:F.yLbTitleFormatter,index:_,seriesIndex:c,j:u}),I=v.globals.colors[_],s=G(_),S(_)&&(y=v.globals.seriesGoals[_][u].map((function(ie){return{attrs:ie,val:F.yLbFormatter(ie.value,{seriesIndex:_,dataPointIndex:u,w:v})}})));else{var q,Z=b==null||(q=b.target)===null||q===void 0?void 0:q.getAttribute("fill");Z&&(Z.indexOf("url")!==-1?Z.indexOf("Pattern")!==-1&&(I=v.globals.dom.baseEl.querySelector(Z.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):I=Z),s=G(c),S(c)&&Array.isArray(v.globals.seriesGoals[c][u])&&(y=v.globals.seriesGoals[c][u].map((function(ie){return{attrs:ie,val:F.yLbFormatter(ie.value,{seriesIndex:c,dataPointIndex:u,w:v})}})))}}u===null&&(s=F.yLbFormatter(v.globals.series[c],P(P({},v),{},{seriesIndex:c,dataPointIndex:c}))),o.DOMHandling({i:c,t:_,j:u,ttItems:f,values:{val:s,goalVals:y,xVal:C,xAxisTTVal:E,zVal:T},seriesName:O,shared:g,pColor:I})},m=0,k=v.globals.series.length-1;m<v.globals.series.length;m++,k--)D(m,k)}},{key:"getFormatters",value:function(n){var s,o=this.w,c=o.globals.yLabelFormatters[n];return o.globals.ttVal!==void 0?Array.isArray(o.globals.ttVal)?(c=o.globals.ttVal[n]&&o.globals.ttVal[n].formatter,s=o.globals.ttVal[n]&&o.globals.ttVal[n].title&&o.globals.ttVal[n].title.formatter):(c=o.globals.ttVal.formatter,typeof o.globals.ttVal.title.formatter=="function"&&(s=o.globals.ttVal.title.formatter)):s=o.config.tooltip.y.title.formatter,typeof c!="function"&&(c=o.globals.yLabelFormatters[0]?o.globals.yLabelFormatters[0]:function(u){return u}),typeof s!="function"&&(s=function(u){return u}),{yLbFormatter:c,yLbTitleFormatter:s}}},{key:"getSeriesName",value:function(n){var s=n.fn,o=n.index,c=n.seriesIndex,u=n.j,d=this.w;return s(String(d.globals.seriesNames[o]),{series:d.globals.series,seriesIndex:c,dataPointIndex:u,w:d})}},{key:"DOMHandling",value:function(n){n.i;var s=n.t,o=n.j,c=n.ttItems,u=n.values,d=n.seriesName,f=n.shared,g=n.pColor,b=this.w,v=this.ttCtx,y=u.val,S=u.goalVals,C=u.xVal,T=u.xAxisTTVal,E=u.zVal,O=null;O=c[s].children,b.config.tooltip.fillSeriesColor&&(c[s].style.backgroundColor=g,O[0].style.display="none"),v.showTooltipTitle&&(v.tooltipTitle===null&&(v.tooltipTitle=b.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),v.tooltipTitle.innerHTML=C),v.isXAxisTooltipEnabled&&(v.xaxisTooltipText.innerHTML=T!==""?T:C);var I=c[s].querySelector(".apexcharts-tooltip-text-y-label");I&&(I.innerHTML=d||"");var D=c[s].querySelector(".apexcharts-tooltip-text-y-value");D&&(D.innerHTML=y!==void 0?y:""),O[0]&&O[0].classList.contains("apexcharts-tooltip-marker")&&(b.config.tooltip.marker.fillColors&&Array.isArray(b.config.tooltip.marker.fillColors)&&(g=b.config.tooltip.marker.fillColors[s]),O[0].style.backgroundColor=g),b.config.tooltip.marker.show||(O[0].style.display="none");var m=c[s].querySelector(".apexcharts-tooltip-text-goals-label"),k=c[s].querySelector(".apexcharts-tooltip-text-goals-value");if(S.length&&b.globals.seriesGoals[s]){var L=function(){var _="<div >",G="<div>";S.forEach((function(q,Z){_+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(q.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(q.attrs.name,"</div>"),G+="<div>".concat(q.val,"</div>")})),m.innerHTML=_+"</div>",k.innerHTML=G+"</div>"};f?b.globals.seriesGoals[s][o]&&Array.isArray(b.globals.seriesGoals[s][o])?L():(m.innerHTML="",k.innerHTML=""):L()}else m.innerHTML="",k.innerHTML="";if(E!==null&&(c[s].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=b.config.tooltip.z.title,c[s].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=E!==void 0?E:""),f&&O[0]){if(b.config.tooltip.hideEmptySeries){var B=c[s].querySelector(".apexcharts-tooltip-marker"),F=c[s].querySelector(".apexcharts-tooltip-text");parseFloat(y)==0?(B.style.display="none",F.style.display="none"):(B.style.display="block",F.style.display="block")}y==null||b.globals.ancillaryCollapsedSeriesIndices.indexOf(s)>-1||b.globals.collapsedSeriesIndices.indexOf(s)>-1||Array.isArray(v.tConfig.enabledOnSeries)&&v.tConfig.enabledOnSeries.indexOf(s)===-1?O[0].parentNode.style.display="none":O[0].parentNode.style.display=b.config.tooltip.items.display}else Array.isArray(v.tConfig.enabledOnSeries)&&v.tConfig.enabledOnSeries.indexOf(s)===-1&&(O[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(n,s){var o=this.w;if(n)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var c=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(s));c&&(c.classList.add("apexcharts-active"),c.style.display=o.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(n){var s=n.i,o=n.j,c=this.w,u=this.ctx.series.filteredSeriesX(),d="",f="",g=null,b=null,v={series:c.globals.series,seriesIndex:s,dataPointIndex:o,w:c},y=c.globals.ttZFormatter;o===null?b=c.globals.series[s]:c.globals.isXNumeric&&c.config.chart.type!=="treemap"?(d=u[s][o],u[s].length===0&&(d=u[this.tooltipUtil.getFirstActiveXArray(u)][o])):d=new wo(this.ctx).isFormatXY()?c.config.series[s].data[o]!==void 0?c.config.series[s].data[o].x:"":c.globals.labels[o]!==void 0?c.globals.labels[o]:"";var S=d;return c.globals.isXNumeric&&c.config.xaxis.type==="datetime"?d=new Re(this.ctx).xLabelFormat(c.globals.ttKeyFormatter,S,S,{i:void 0,dateFormatter:new ye(this.ctx).formatDate,w:this.w}):d=c.globals.isBarHorizontal?c.globals.yLabelFormatters[0](S,v):c.globals.xLabelFormatter(S,v),c.config.tooltip.x.formatter!==void 0&&(d=c.globals.ttKeyFormatter(S,v)),c.globals.seriesZ.length>0&&c.globals.seriesZ[s].length>0&&(g=y(c.globals.seriesZ[s][o],c)),f=typeof c.config.xaxis.tooltip.formatter=="function"?c.globals.xaxisTooltipFormatter(S,v):d,{val:Array.isArray(b)?b.join(" "):b,xVal:Array.isArray(d)?d.join(" "):d,xAxisTTVal:Array.isArray(f)?f.join(" "):f,zVal:g}}},{key:"handleCustomTooltip",value:function(n){var s=n.i,o=n.j,c=n.y1,u=n.y2,d=n.w,f=this.ttCtx.getElTooltip(),g=d.config.tooltip.custom;Array.isArray(g)&&g[s]&&(g=g[s]),f.innerHTML=g({ctx:this.ctx,series:d.globals.series,seriesIndex:s,dataPointIndex:o,y1:c,y2:u,w:d})}}]),N})(),Rh=(function(){function N(n){a(this,N),this.ttCtx=n,this.ctx=n.ctx,this.w=n.w}return h(N,[{key:"moveXCrosshairs",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=this.ttCtx,c=this.w,u=o.getElXCrosshairs(),d=n-o.xcrosshairsWidth/2,f=c.globals.labels.slice().length;if(s!==null&&(d=c.globals.gridWidth/f*s),u===null||c.globals.isBarHorizontal||(u.setAttribute("x",d),u.setAttribute("x1",d),u.setAttribute("x2",d),u.setAttribute("y2",c.globals.gridHeight),u.classList.add("apexcharts-active")),d<0&&(d=0),d>c.globals.gridWidth&&(d=c.globals.gridWidth),o.isXAxisTooltipEnabled){var g=d;c.config.xaxis.crosshairs.width!=="tickWidth"&&c.config.xaxis.crosshairs.width!=="barWidth"||(g=d+o.xcrosshairsWidth/2),this.moveXAxisTooltip(g)}}},{key:"moveYCrosshairs",value:function(n){var s=this.ttCtx;s.ycrosshairs!==null&&V.setAttrs(s.ycrosshairs,{y1:n,y2:n}),s.ycrosshairsHidden!==null&&V.setAttrs(s.ycrosshairsHidden,{y1:n,y2:n})}},{key:"moveXAxisTooltip",value:function(n){var s=this.w,o=this.ttCtx;if(o.xaxisTooltip!==null&&o.xcrosshairsWidth!==0){o.xaxisTooltip.classList.add("apexcharts-active");var c=o.xaxisOffY+s.config.xaxis.tooltip.offsetY+s.globals.translateY+1+s.config.xaxis.offsetY;if(n-=o.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(n)){n+=s.globals.translateX;var u;u=new V(this.ctx).getTextRects(o.xaxisTooltipText.innerHTML),o.xaxisTooltipText.style.minWidth=u.width+"px",o.xaxisTooltip.style.left=n+"px",o.xaxisTooltip.style.top=c+"px"}}}},{key:"moveYAxisTooltip",value:function(n){var s=this.w,o=this.ttCtx;o.yaxisTTEls===null&&(o.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var c=parseInt(o.ycrosshairsHidden.getAttribute("y1"),10),u=s.globals.translateY+c,d=o.yaxisTTEls[n].getBoundingClientRect().height,f=s.globals.translateYAxisX[n]-2;s.config.yaxis[n].opposite&&(f-=26),u-=d/2,s.globals.ignoreYAxisIndexes.indexOf(n)===-1?(o.yaxisTTEls[n].classList.add("apexcharts-active"),o.yaxisTTEls[n].style.top=u+"px",o.yaxisTTEls[n].style.left=f+s.config.yaxis[n].tooltip.offsetX+"px"):o.yaxisTTEls[n].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=this.w,u=this.ttCtx,d=u.getElTooltip(),f=u.tooltipRect,g=o!==null?parseFloat(o):1,b=parseFloat(n)+g+5,v=parseFloat(s)+g/2;if(b>c.globals.gridWidth/2&&(b=b-f.ttWidth-g-10),b>c.globals.gridWidth-f.ttWidth-10&&(b=c.globals.gridWidth-f.ttWidth),b<-20&&(b=-20),c.config.tooltip.followCursor){var y=u.getElGrid().getBoundingClientRect();(b=u.e.clientX-y.left)>c.globals.gridWidth/2&&(b-=u.tooltipRect.ttWidth),(v=u.e.clientY+c.globals.translateY-y.top)>c.globals.gridHeight/2&&(v-=u.tooltipRect.ttHeight)}else c.globals.isBarHorizontal||f.ttHeight/2+v>c.globals.gridHeight&&(v=c.globals.gridHeight-f.ttHeight+c.globals.translateY);isNaN(b)||(b+=c.globals.translateX,d.style.left=b+"px",d.style.top=v+"px")}},{key:"moveMarkers",value:function(n,s){var o=this.w,c=this.ttCtx;if(o.globals.markers.size[n]>0)for(var u=o.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-marker")),d=0;d<u.length;d++)parseInt(u[d].getAttribute("rel"),10)===s&&(c.marker.resetPointsSize(),c.marker.enlargeCurrentPoint(s,u[d]));else c.marker.resetPointsSize(),this.moveDynamicPointOnHover(s,n)}},{key:"moveDynamicPointOnHover",value:function(n,s){var o,c,u,d,f=this.w,g=this.ttCtx,b=new V(this.ctx),v=f.globals.pointsArray,y=g.tooltipUtil.getHoverMarkerSize(s),S=f.config.series[s].type;if(!S||S!=="column"&&S!=="candlestick"&&S!=="boxPlot"){u=(o=v[s][n])===null||o===void 0?void 0:o[0],d=((c=v[s][n])===null||c===void 0?void 0:c[1])||0;var C=f.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"'] .apexcharts-series-markers path"));if(C&&d<f.globals.gridHeight&&d>0){var T=C.getAttribute("shape"),E=b.getMarkerPath(u,d,T,1.5*y);C.setAttribute("d",E)}this.moveXCrosshairs(u),g.fixedTooltip||this.moveTooltip(u,d,y)}}},{key:"moveDynamicPointsOnHover",value:function(n){var s,o=this.ttCtx,c=o.w,u=0,d=0,f=c.globals.pointsArray,g=new Mt(this.ctx),b=new V(this.ctx);s=g.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var v=o.tooltipUtil.getHoverMarkerSize(s);f[s]&&(u=f[s][n][0],d=f[s][n][1]);var y=o.tooltipUtil.getAllMarkers();if(y!==null)for(var S=0;S<c.globals.series.length;S++){var C=f[S];if(c.globals.comboCharts&&C===void 0&&y.splice(S,0,null),C&&C.length){var T=f[S][n][1],E=void 0;y[S].setAttribute("cx",u);var O=y[S].getAttribute("shape");if(c.config.chart.type==="rangeArea"&&!c.globals.comboCharts){var I=n+c.globals.series[S].length;E=f[S][I][1],T-=Math.abs(T-E)/2}if(T!==null&&!isNaN(T)&&T<c.globals.gridHeight+v&&T+v>0){var D=b.getMarkerPath(u,T,O,v);y[S].setAttribute("d",D)}else y[S].setAttribute("d","")}}this.moveXCrosshairs(u),o.fixedTooltip||this.moveTooltip(u,d||c.globals.gridHeight,v)}},{key:"moveStickyTooltipOverBars",value:function(n,s){var o=this.w,c=this.ttCtx,u=o.globals.columnSeries?o.globals.columnSeries.length:o.globals.series.length,d=u>=2&&u%2==0?Math.floor(u/2):Math.floor(u/2)+1;o.globals.isBarHorizontal&&(d=new Mt(this.ctx).getActiveConfigSeriesIndex("desc")+1);var f=o.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(d,"'] path[j='").concat(n,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(n,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(n,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(d,"'] path[j='").concat(n,"']"));f||typeof s!="number"||(f=o.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(s,"'] path[j='").concat(n,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(n,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(n,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(s,"'] path[j='").concat(n,"']")));var g=f?parseFloat(f.getAttribute("cx")):0,b=f?parseFloat(f.getAttribute("cy")):0,v=f?parseFloat(f.getAttribute("barWidth")):0,y=c.getElGrid().getBoundingClientRect(),S=f&&(f.classList.contains("apexcharts-candlestick-area")||f.classList.contains("apexcharts-boxPlot-area"));o.globals.isXNumeric?(f&&!S&&(g-=u%2!=0?v/2:0),f&&S&&o.globals.comboCharts&&(g-=v/2)):o.globals.isBarHorizontal||(g=c.xAxisTicksPositions[n-1]+c.dataPointsDividedWidth/2,isNaN(g)&&(g=c.xAxisTicksPositions[n]-c.dataPointsDividedWidth/2)),o.globals.isBarHorizontal?b-=c.tooltipRect.ttHeight:o.config.tooltip.followCursor?b=c.e.clientY-y.top-c.tooltipRect.ttHeight/2:b+c.tooltipRect.ttHeight+15>o.globals.gridHeight&&(b=o.globals.gridHeight),o.globals.isBarHorizontal||this.moveXCrosshairs(g),c.fixedTooltip||this.moveTooltip(g,b||o.globals.gridHeight)}}]),N})(),zb=(function(){function N(n){a(this,N),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx,this.tooltipPosition=new Rh(n)}return h(N,[{key:"drawDynamicPoints",value:function(){var n=this.w,s=new V(this.ctx),o=new An(this.ctx),c=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");c=Y(c),n.config.chart.stacked&&c.sort((function(y,S){return parseFloat(y.getAttribute("data:realIndex"))-parseFloat(S.getAttribute("data:realIndex"))}));for(var u=0;u<c.length;u++){var d=c[u].querySelector(".apexcharts-series-markers-wrap");if(d!==null){var f=void 0,g="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));n.config.chart.type!=="line"&&n.config.chart.type!=="area"||n.globals.comboCharts||n.config.tooltip.intersect||(g+=" no-pointer-events");var b=o.getMarkerConfig({cssClass:g,seriesIndex:Number(d.getAttribute("data:realIndex"))});(f=s.drawMarker(0,0,b)).node.setAttribute("default-marker-size",0);var v=document.createElementNS(n.globals.SVGNS,"g");v.classList.add("apexcharts-series-markers"),v.appendChild(f.node),d.appendChild(v)}}}},{key:"enlargeCurrentPoint",value:function(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=this.w;u.config.chart.type!=="bubble"&&this.newPointSize(n,s);var d=s.getAttribute("cx"),f=s.getAttribute("cy");if(o!==null&&c!==null&&(d=o,f=c),this.tooltipPosition.moveXCrosshairs(d),!this.fixedTooltip){if(u.config.chart.type==="radar"){var g=this.ttCtx.getElGrid().getBoundingClientRect();d=this.ttCtx.e.clientX-g.left}this.tooltipPosition.moveTooltip(d,f,u.config.markers.hover.size)}}},{key:"enlargePoints",value:function(n){for(var s=this.w,o=this,c=this.ttCtx,u=n,d=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),f=s.config.markers.hover.size,g=0;g<d.length;g++){var b=d[g].getAttribute("rel"),v=d[g].getAttribute("index");if(f===void 0&&(f=s.globals.markers.size[v]+s.config.markers.hover.sizeOffset),u===parseInt(b,10)){o.newPointSize(u,d[g]);var y=d[g].getAttribute("cx"),S=d[g].getAttribute("cy");o.tooltipPosition.moveXCrosshairs(y),c.fixedTooltip||o.tooltipPosition.moveTooltip(y,S,f)}else o.oldPointSize(d[g])}}},{key:"newPointSize",value:function(n,s){var o=this.w,c=o.config.markers.hover.size,u=n===0?s.parentNode.firstChild:s.parentNode.lastChild;if(u.getAttribute("default-marker-size")!=="0"){var d=parseInt(u.getAttribute("index"),10);c===void 0&&(c=o.globals.markers.size[d]+o.config.markers.hover.sizeOffset),c<0&&(c=0);var f=this.ttCtx.tooltipUtil.getPathFromPoint(s,c);s.setAttribute("d",f)}}},{key:"oldPointSize",value:function(n){var s=parseFloat(n.getAttribute("default-marker-size")),o=this.ttCtx.tooltipUtil.getPathFromPoint(n,s);n.setAttribute("d",o)}},{key:"resetPointsSize",value:function(){for(var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),s=0;s<n.length;s++){var o=parseFloat(n[s].getAttribute("default-marker-size"));if(H.isNumber(o)&&o>=0){var c=this.ttCtx.tooltipUtil.getPathFromPoint(n[s],o);n[s].setAttribute("d",c)}else n[s].setAttribute("d","M0,0")}}}]),N})(),Bb=(function(){function N(n){a(this,N),this.w=n.w;var s=this.w;this.ttCtx=n,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.config.chart.type==="rangeBar"&&s.config.plotOptions.bar.rangeBarGroupRows}return h(N,[{key:"getAttr",value:function(n,s){return parseFloat(n.target.getAttribute(s))}},{key:"handleHeatTreeTooltip",value:function(n){var s=n.e,o=n.opt,c=n.x,u=n.y,d=n.type,f=this.ttCtx,g=this.w;if(s.target.classList.contains("apexcharts-".concat(d,"-rect"))){var b=this.getAttr(s,"i"),v=this.getAttr(s,"j"),y=this.getAttr(s,"cx"),S=this.getAttr(s,"cy"),C=this.getAttr(s,"width"),T=this.getAttr(s,"height");if(f.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:b,j:v,shared:!1,e:s}),g.globals.capturedSeriesIndex=b,g.globals.capturedDataPointIndex=v,c=y+f.tooltipRect.ttWidth/2+C,u=S+f.tooltipRect.ttHeight/2-T/2,f.tooltipPosition.moveXCrosshairs(y+C/2),c>g.globals.gridWidth/2&&(c=y-f.tooltipRect.ttWidth/2+C),f.w.config.tooltip.followCursor){var E=g.globals.dom.elWrap.getBoundingClientRect();c=g.globals.clientX-E.left-(c>g.globals.gridWidth/2?f.tooltipRect.ttWidth:0),u=g.globals.clientY-E.top-(u>g.globals.gridHeight/2?f.tooltipRect.ttHeight:0)}}return{x:c,y:u}}},{key:"handleMarkerTooltip",value:function(n){var s,o,c=n.e,u=n.opt,d=n.x,f=n.y,g=this.w,b=this.ttCtx;if(c.target.classList.contains("apexcharts-marker")){var v=parseInt(u.paths.getAttribute("cx"),10),y=parseInt(u.paths.getAttribute("cy"),10),S=parseFloat(u.paths.getAttribute("val"));if(o=parseInt(u.paths.getAttribute("rel"),10),s=parseInt(u.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,b.intersect){var C=H.findAncestor(u.paths,"apexcharts-series");C&&(s=parseInt(C.getAttribute("data:realIndex"),10))}if(b.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:s,j:o,shared:!b.showOnIntersect&&g.config.tooltip.shared,e:c}),c.type==="mouseup"&&b.markerClick(c,s,o),g.globals.capturedSeriesIndex=s,g.globals.capturedDataPointIndex=o,d=v,f=y+g.globals.translateY-1.4*b.tooltipRect.ttHeight,b.w.config.tooltip.followCursor){var T=b.getElGrid().getBoundingClientRect();f=b.e.clientY+g.globals.translateY-T.top}S<0&&(f=y),b.marker.enlargeCurrentPoint(o,u.paths,d,f)}return{x:d,y:f}}},{key:"handleBarTooltip",value:function(n){var s,o,c=n.e,u=n.opt,d=this.w,f=this.ttCtx,g=f.getElTooltip(),b=0,v=0,y=0,S=this.getBarTooltipXY({e:c,opt:u});s=S.i;var C=S.j;d.globals.capturedSeriesIndex=s,d.globals.capturedDataPointIndex=C,d.globals.isBarHorizontal&&f.tooltipUtil.hasBars()||!d.config.tooltip.shared?(v=S.x,y=S.y,o=Array.isArray(d.config.stroke.width)?d.config.stroke.width[s]:d.config.stroke.width,b=v):d.globals.comboCharts||d.config.tooltip.shared||(b/=2),isNaN(y)&&(y=d.globals.svgHeight-f.tooltipRect.ttHeight);var T=parseInt(u.paths.parentNode.getAttribute("data:realIndex"),10);if(d.globals.isMultipleYAxis?d.config.yaxis[T]&&d.config.yaxis[T].reversed:d.config.yaxis[0].reversed,v+f.tooltipRect.ttWidth>d.globals.gridWidth?v-=f.tooltipRect.ttWidth:v<0&&(v=0),f.w.config.tooltip.followCursor){var E=f.getElGrid().getBoundingClientRect();y=f.e.clientY-E.top}f.tooltip===null&&(f.tooltip=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),d.config.tooltip.shared||(d.globals.comboBarCount>0?f.tooltipPosition.moveXCrosshairs(b+o/2):f.tooltipPosition.moveXCrosshairs(b)),!f.fixedTooltip&&(!d.config.tooltip.shared||d.globals.isBarHorizontal&&f.tooltipUtil.hasBars())&&(y=y+d.globals.translateY-f.tooltipRect.ttHeight/2,g.style.left=v+d.globals.translateX+"px",g.style.top=y+"px")}},{key:"getBarTooltipXY",value:function(n){var s=this,o=n.e,c=n.opt,u=this.w,d=null,f=this.ttCtx,g=0,b=0,v=0,y=0,S=0,C=o.target.classList;if(C.contains("apexcharts-bar-area")||C.contains("apexcharts-candlestick-area")||C.contains("apexcharts-boxPlot-area")||C.contains("apexcharts-rangebar-area")){var T=o.target,E=T.getBoundingClientRect(),O=c.elGrid.getBoundingClientRect(),I=E.height;S=E.height;var D=E.width,m=parseInt(T.getAttribute("cx"),10),k=parseInt(T.getAttribute("cy"),10);y=parseFloat(T.getAttribute("barWidth"));var L=o.type==="touchmove"?o.touches[0].clientX:o.clientX;d=parseInt(T.getAttribute("j"),10),g=parseInt(T.parentNode.getAttribute("rel"),10)-1;var B=T.getAttribute("data-range-y1"),F=T.getAttribute("data-range-y2");u.globals.comboCharts&&(g=parseInt(T.parentNode.getAttribute("data:realIndex"),10));var _=function(q){return u.globals.isXNumeric?m-D/2:s.isVerticalGroupedRangeBar?m+D/2:m-f.dataPointsDividedWidth+D/2},G=function(){return k-f.dataPointsDividedHeight+I/2-f.tooltipRect.ttHeight/2};f.tooltipLabels.drawSeriesTexts({ttItems:c.ttItems,i:g,j:d,y1:B?parseInt(B,10):null,y2:F?parseInt(F,10):null,shared:!f.showOnIntersect&&u.config.tooltip.shared,e:o}),u.config.tooltip.followCursor?u.globals.isBarHorizontal?(b=L-O.left+15,v=G()):(b=_(),v=o.clientY-O.top-f.tooltipRect.ttHeight/2-15):u.globals.isBarHorizontal?((b=m)<f.xyRatios.baseLineInvertedY&&(b=m-f.tooltipRect.ttWidth),v=G()):(b=_(),v=k)}return{x:b,y:v,barHeight:S,barWidth:y,i:g,j:d}}}]),N})(),Hb=(function(){function N(n){a(this,N),this.w=n.w,this.ttCtx=n}return h(N,[{key:"drawXaxisTooltip",value:function(){var n=this.w,s=this.ttCtx,o=n.config.xaxis.position==="bottom";s.xaxisOffY=o?n.globals.gridHeight+1:-n.globals.xAxisHeight-n.config.xaxis.axisTicks.height+3;var c=o?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",u=n.globals.dom.elWrap;s.isXAxisTooltipEnabled&&n.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(s.xaxisTooltip=document.createElement("div"),s.xaxisTooltip.setAttribute("class",c+" apexcharts-theme-"+n.config.tooltip.theme),u.appendChild(s.xaxisTooltip),s.xaxisTooltipText=document.createElement("div"),s.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),s.xaxisTooltipText.style.fontFamily=n.config.xaxis.tooltip.style.fontFamily||n.config.chart.fontFamily,s.xaxisTooltipText.style.fontSize=n.config.xaxis.tooltip.style.fontSize,s.xaxisTooltip.appendChild(s.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var n=this.w,s=this.ttCtx,o=0;o<n.config.yaxis.length;o++){var c=n.config.yaxis[o].opposite||n.config.yaxis[o].crosshairs.opposite;s.yaxisOffX=c?n.globals.gridWidth+1:1;var u="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(o,c?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),d=n.globals.dom.elWrap;n.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(o))===null&&(s.yaxisTooltip=document.createElement("div"),s.yaxisTooltip.setAttribute("class",u+" apexcharts-theme-"+n.config.tooltip.theme),d.appendChild(s.yaxisTooltip),o===0&&(s.yaxisTooltipText=[]),s.yaxisTooltipText[o]=document.createElement("div"),s.yaxisTooltipText[o].classList.add("apexcharts-yaxistooltip-text"),s.yaxisTooltip.appendChild(s.yaxisTooltipText[o]))}}},{key:"setXCrosshairWidth",value:function(){var n=this.w,s=this.ttCtx,o=s.getElXCrosshairs();if(s.xcrosshairsWidth=parseInt(n.config.xaxis.crosshairs.width,10),n.globals.comboCharts){var c=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null&&n.config.xaxis.crosshairs.width==="barWidth"){var u=parseFloat(c.getAttribute("barWidth"));s.xcrosshairsWidth=u}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var d=n.globals.labels.length;s.xcrosshairsWidth=n.globals.gridWidth/d}}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var f=n.globals.labels.length;s.xcrosshairsWidth=n.globals.gridWidth/f}else if(n.config.xaxis.crosshairs.width==="barWidth"){var g=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(g!==null){var b=parseFloat(g.getAttribute("barWidth"));s.xcrosshairsWidth=b}else s.xcrosshairsWidth=1}n.globals.isBarHorizontal&&(s.xcrosshairsWidth=0),o!==null&&s.xcrosshairsWidth>0&&o.setAttribute("width",s.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var n=this.w,s=this.ttCtx;s.ycrosshairs=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),s.ycrosshairsHidden=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(n,s,o){var c=this.ttCtx,u=this.w,d=u.globals,f=d.seriesYAxisMap[n];if(c.yaxisTooltips[n]&&f.length>0){var g=d.yLabelFormatters[n],b=c.getElGrid().getBoundingClientRect(),v=f[0],y=0;o.yRatio.length>1&&(y=v);var S=(s-b.top)*o.yRatio[y],C=d.maxYArr[v]-d.minYArr[v],T=d.minYArr[v]+(C-S);u.config.yaxis[n].reversed&&(T=d.maxYArr[v]-(C-S)),c.tooltipPosition.moveYCrosshairs(s-b.top),c.yaxisTooltipText[n].innerHTML=g(T),c.tooltipPosition.moveYAxisTooltip(n)}}}]),N})(),Oh=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w;var s=this.w;this.tConfig=s.config.tooltip,this.tooltipUtil=new Ph(this),this.tooltipLabels=new Fb(this),this.tooltipPosition=new Rh(this),this.marker=new zb(this),this.intersect=new Bb(this),this.axesTooltip=new Hb(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!s.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return h(N,[{key:"getElTooltip",value:function(n){return n||(n=this),n.w.globals.dom.baseEl?n.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(n){var s=this.w;this.xyRatios=n,this.isXAxisTooltipEnabled=s.config.xaxis.tooltip.enabled&&s.globals.axisCharts,this.yaxisTooltips=s.config.yaxis.map((function(d,f){return!!(d.show&&d.tooltip.enabled&&s.globals.axisCharts)})),this.allTooltipSeriesGroups=[],s.globals.axisCharts||(this.showTooltipTitle=!1);var o=document.createElement("div");if(o.classList.add("apexcharts-tooltip"),s.config.tooltip.cssClass&&o.classList.add(s.config.tooltip.cssClass),o.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),s.globals.dom.elWrap.appendChild(o),s.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var c=new rr(this.ctx);this.xAxisTicksPositions=c.getXAxisTicksPositions()}if(!s.globals.comboCharts&&!this.tConfig.intersect&&s.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),s.config.markers.size!==0&&s.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),s.globals.collapsedSeries.length!==s.globals.series.length){this.dataPointsDividedHeight=s.globals.gridHeight/s.globals.dataPoints,this.dataPointsDividedWidth=s.globals.gridWidth/s.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||s.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,o.appendChild(this.tooltipTitle));var u=s.globals.series.length;(s.globals.xyCharts||s.globals.comboCharts)&&this.tConfig.shared&&(u=this.showOnIntersect?1:s.globals.series.length),this.legendLabels=s.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(u),this.addSVGEvents()}}},{key:"createTTElements",value:function(n){for(var s=this,o=this.w,c=[],u=this.getElTooltip(),d=function(g){var b=document.createElement("div");b.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(g)),b.style.order=o.config.tooltip.inverseOrder?n-g:g+1;var v=document.createElement("span");v.classList.add("apexcharts-tooltip-marker"),v.style.backgroundColor=o.globals.colors[g],b.appendChild(v);var y=document.createElement("div");y.classList.add("apexcharts-tooltip-text"),y.style.fontFamily=s.tConfig.style.fontFamily||o.config.chart.fontFamily,y.style.fontSize=s.tConfig.style.fontSize,["y","goals","z"].forEach((function(S){var C=document.createElement("div");C.classList.add("apexcharts-tooltip-".concat(S,"-group"));var T=document.createElement("span");T.classList.add("apexcharts-tooltip-text-".concat(S,"-label")),C.appendChild(T);var E=document.createElement("span");E.classList.add("apexcharts-tooltip-text-".concat(S,"-value")),C.appendChild(E),y.appendChild(C)})),b.appendChild(y),u.appendChild(b),c.push(b)},f=0;f<n;f++)d(f);return c}},{key:"addSVGEvents",value:function(){var n=this.w,s=n.config.chart.type,o=this.getElTooltip(),c=!(s!=="bar"&&s!=="candlestick"&&s!=="boxPlot"&&s!=="rangeBar"),u=s==="area"||s==="line"||s==="scatter"||s==="bubble"||s==="radar",d=n.globals.dom.Paper.node,f=this.getElGrid();f&&(this.seriesBound=f.getBoundingClientRect());var g,b=[],v=[],y={hoverArea:d,elGrid:f,tooltipEl:o,tooltipY:b,tooltipX:v,ttItems:this.ttItems};if(n.globals.axisCharts&&(u?g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):c?g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):s!=="heatmap"&&s!=="treemap"||(g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),g&&g.length))for(var S=0;S<g.length;S++)b.push(g[S].getAttribute("cy")),v.push(g[S].getAttribute("cx"));if(n.globals.xyCharts&&!this.showOnIntersect||n.globals.comboCharts&&!this.showOnIntersect||c&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([d],y);else if(c&&!n.globals.comboCharts||u&&this.showOnIntersect)this.addDatapointEventsListeners(y);else if(!n.globals.axisCharts||s==="heatmap"||s==="treemap"){var C=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(C,y)}if(this.showOnIntersect){var T=n.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");T.length>0&&this.addPathsEventListeners(T,y),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(y)}}},{key:"drawFixedTooltipRect",value:function(){var n=this.w,s=this.getElTooltip(),o=s.getBoundingClientRect(),c=o.width+10,u=o.height+10,d=this.tConfig.fixed.offsetX,f=this.tConfig.fixed.offsetY,g=this.tConfig.fixed.position.toLowerCase();return g.indexOf("right")>-1&&(d=d+n.globals.svgWidth-c+10),g.indexOf("bottom")>-1&&(f=f+n.globals.svgHeight-u-10),s.style.left=d+"px",s.style.top=f+"px",{x:d,y:f,ttWidth:c,ttHeight:u}}},{key:"addDatapointEventsListeners",value:function(n){var s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(s,n)}},{key:"addPathsEventListeners",value:function(n,s){for(var o=this,c=function(d){var f={paths:n[d],tooltipEl:s.tooltipEl,tooltipY:s.tooltipY,tooltipX:s.tooltipX,elGrid:s.elGrid,hoverArea:s.hoverArea,ttItems:s.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(g){return n[d].addEventListener(g,o.onSeriesHover.bind(o,f),{capture:!1,passive:!0})}))},u=0;u<n.length;u++)c(u)}},{key:"onSeriesHover",value:function(n,s){var o=this,c=Date.now()-this.lastHoverTime;c>=100?this.seriesHover(n,s):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){o.seriesHover(n,s)}),100-c))}},{key:"seriesHover",value:function(n,s){var o=this;this.lastHoverTime=Date.now();var c=[],u=this.w;u.config.chart.group&&(c=this.ctx.getGroupedCharts()),u.globals.axisCharts&&(u.globals.minX===-1/0&&u.globals.maxX===1/0||u.globals.dataPoints===0)||(c.length?c.forEach((function(d){var f=o.getElTooltip(d),g={paths:n.paths,tooltipEl:f,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:d.w.globals.tooltip.ttItems};d.w.globals.minX===o.w.globals.minX&&d.w.globals.maxX===o.w.globals.maxX&&d.w.globals.tooltip.seriesHoverByContext({chartCtx:d,ttCtx:d.w.globals.tooltip,opt:g,e:s})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:n,e:s}))}},{key:"seriesHoverByContext",value:function(n){var s=n.chartCtx,o=n.ttCtx,c=n.opt,u=n.e,d=s.w,f=this.getElTooltip(s);f&&(o.tooltipRect={x:0,y:0,ttWidth:f.getBoundingClientRect().width,ttHeight:f.getBoundingClientRect().height},o.e=u,o.tooltipUtil.hasBars()&&!d.globals.comboCharts&&!o.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Mt(s).toggleSeriesOnHover(u,u.target.parentNode),o.fixedTooltip&&o.drawFixedTooltipRect(),d.globals.axisCharts?o.axisChartsTooltips({e:u,opt:c,tooltipRect:o.tooltipRect}):o.nonAxisChartsTooltips({e:u,opt:c,tooltipRect:o.tooltipRect}))}},{key:"axisChartsTooltips",value:function(n){var s,o,c=n.e,u=n.opt,d=this.w,f=u.elGrid.getBoundingClientRect(),g=c.type==="touchmove"?c.touches[0].clientX:c.clientX,b=c.type==="touchmove"?c.touches[0].clientY:c.clientY;if(this.clientY=b,this.clientX=g,d.globals.capturedSeriesIndex=-1,d.globals.capturedDataPointIndex=-1,b<f.top||b>f.top+f.height)this.handleMouseOut(u);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!d.config.tooltip.shared){var v=parseInt(u.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(v)<0)return void this.handleMouseOut(u)}var y=this.getElTooltip(),S=this.getElXCrosshairs(),C=[];d.config.chart.group&&(C=this.ctx.getSyncedCharts());var T=d.globals.xyCharts||d.config.chart.type==="bar"&&!d.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||d.globals.comboCharts&&this.tooltipUtil.hasBars();if(c.type==="mousemove"||c.type==="touchmove"||c.type==="mouseup"){if(d.globals.collapsedSeries.length+d.globals.ancillaryCollapsedSeries.length===d.globals.series.length)return;S!==null&&S.classList.add("apexcharts-active");var E=this.yaxisTooltips.filter((function(D){return D===!0}));if(this.ycrosshairs!==null&&E.length&&this.ycrosshairs.classList.add("apexcharts-active"),T&&!this.showOnIntersect||C.length>1)this.handleStickyTooltip(c,g,b,u);else if(d.config.chart.type==="heatmap"||d.config.chart.type==="treemap"){var O=this.intersect.handleHeatTreeTooltip({e:c,opt:u,x:s,y:o,type:d.config.chart.type});s=O.x,o=O.y,y.style.left=s+"px",y.style.top=o+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:c,opt:u}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:c,opt:u,x:s,y:o});if(this.yaxisTooltips.length)for(var I=0;I<d.config.yaxis.length;I++)this.axesTooltip.drawYaxisTooltipText(I,b,this.xyRatios);d.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),u.tooltipEl.classList.add("apexcharts-active")}else c.type!=="mouseout"&&c.type!=="touchend"||this.handleMouseOut(u)}}},{key:"nonAxisChartsTooltips",value:function(n){var s=n.e,o=n.opt,c=n.tooltipRect,u=this.w,d=o.paths.getAttribute("rel"),f=this.getElTooltip(),g=u.globals.dom.elWrap.getBoundingClientRect();if(s.type==="mousemove"||s.type==="touchmove"){u.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),f.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:parseInt(d,10)-1,shared:!1});var b=u.globals.clientX-g.left-c.ttWidth/2,v=u.globals.clientY-g.top-c.ttHeight-10;if(f.style.left=b+"px",f.style.top=v+"px",u.config.legend.tooltipHoverFormatter){var y=d-1,S=(0,u.config.legend.tooltipHoverFormatter)(this.legendLabels[y].getAttribute("data:default-text"),{seriesIndex:y,dataPointIndex:y,w:u});this.legendLabels[y].innerHTML=S}}else s.type!=="mouseout"&&s.type!=="touchend"||(f.classList.remove("apexcharts-active"),u.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),u.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(C){var T=C.getAttribute("data:default-text");C.innerHTML=decodeURIComponent(T)})))}},{key:"handleStickyTooltip",value:function(n,s,o,c){var u=this.w,d=this.tooltipUtil.getNearestValues({context:this,hoverArea:c.hoverArea,elGrid:c.elGrid,clientX:s,clientY:o}),f=d.j,g=d.capturedSeries;u.globals.collapsedSeriesIndices.includes(g)&&(g=null);var b=c.elGrid.getBoundingClientRect();if(d.hoverX<0||d.hoverX>b.width)this.handleMouseOut(c);else if(g!==null)this.handleStickyCapturedSeries(n,g,c,f);else if(this.tooltipUtil.isXoverlap(f)||u.globals.isBarHorizontal){var v=u.globals.series.findIndex((function(y,S){return!u.globals.collapsedSeriesIndices.includes(S)}));this.create(n,this,v,f,c.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(n,s,o,c){var u=this.w;if(!this.tConfig.shared&&u.globals.series[s][c]===null)return void this.handleMouseOut(o);if(u.globals.series[s][c]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(c)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(n,this,s,c,o.ttItems):this.create(n,this,s,c,o.ttItems,!1);else if(this.tooltipUtil.isXoverlap(c)){var d=u.globals.series.findIndex((function(f,g){return!u.globals.collapsedSeriesIndices.includes(g)}));this.create(n,this,d,c,o.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var n=this.w,s=new V(this.ctx),o=n.globals.dom.Paper.select(".apexcharts-bar-area"),c=0;c<o.length;c++)s.pathMouseLeave(o[c])}},{key:"handleMouseOut",value:function(n){var s=this.w,o=this.getElXCrosshairs();if(s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),n.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),s.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),o!==null&&o.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=s.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var c=0;c<this.yaxisTTEls.length;c++)this.yaxisTTEls[c].classList.remove("apexcharts-active")}s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(u){var d=u.getAttribute("data:default-text");u.innerHTML=decodeURIComponent(d)}))}},{key:"markerClick",value:function(n,s,o){var c=this.w;typeof c.config.chart.events.markerClick=="function"&&c.config.chart.events.markerClick(n,this.ctx,{seriesIndex:s,dataPointIndex:o,w:c}),this.ctx.events.fireEvent("markerClick",[n,this.ctx,{seriesIndex:s,dataPointIndex:o,w:c}])}},{key:"create",value:function(n,s,o,c,u){var d,f,g,b,v,y,S,C,T,E,O,I,D,m,k,L,B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,F=this.w,_=s;n.type==="mouseup"&&this.markerClick(n,o,c),B===null&&(B=this.tConfig.shared);var G=this.tooltipUtil.hasMarkers(o),q=this.tooltipUtil.getElBars();if(F.config.legend.tooltipHoverFormatter){var Z=F.config.legend.tooltipHoverFormatter,ie=Array.from(this.legendLabels);ie.forEach((function(Ne){var De=Ne.getAttribute("data:default-text");Ne.innerHTML=decodeURIComponent(De)}));for(var te=0;te<ie.length;te++){var ne=ie[te],oe=parseInt(ne.getAttribute("i"),10),le=decodeURIComponent(ne.getAttribute("data:default-text")),he=Z(le,{seriesIndex:B?oe:o,dataPointIndex:c,w:F});if(B)ne.innerHTML=F.globals.collapsedSeriesIndices.indexOf(oe)<0?he:le;else if(ne.innerHTML=oe===o?he:le,o===oe)break}}var pe=P(P({ttItems:u,i:o,j:c},((d=F.globals.seriesRange)===null||d===void 0||(f=d[o])===null||f===void 0||(g=f[c])===null||g===void 0||(b=g.y[0])===null||b===void 0?void 0:b.y1)!==void 0&&{y1:(v=F.globals.seriesRange)===null||v===void 0||(y=v[o])===null||y===void 0||(S=y[c])===null||S===void 0||(C=S.y[0])===null||C===void 0?void 0:C.y1}),((T=F.globals.seriesRange)===null||T===void 0||(E=T[o])===null||E===void 0||(O=E[c])===null||O===void 0||(I=O.y[0])===null||I===void 0?void 0:I.y2)!==void 0&&{y2:(D=F.globals.seriesRange)===null||D===void 0||(m=D[o])===null||m===void 0||(k=m[c])===null||k===void 0||(L=k.y[0])===null||L===void 0?void 0:L.y2});if(B){if(_.tooltipLabels.drawSeriesTexts(P(P({},pe),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),G)F.globals.markers.largestSize>0?_.marker.enlargePoints(c):_.tooltipPosition.moveDynamicPointsOnHover(c);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(q),this.barSeriesHeight>0)){var be=new V(this.ctx),ge=F.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(c,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(c,o);for(var Ce=0;Ce<ge.length;Ce++)be.pathMouseEnter(ge[Ce])}}else _.tooltipLabels.drawSeriesTexts(P({shared:!1},pe)),this.tooltipUtil.hasBars()&&_.tooltipPosition.moveStickyTooltipOverBars(c,o),G&&_.tooltipPosition.moveMarkers(o,c)}}]),N})(),_b=(function(){function N(n){a(this,N),this.w=n.w,this.barCtx=n,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return h(N,[{key:"handleBarDataLabels",value:function(n){var s,o,c=n.x,u=n.y,d=n.y1,f=n.y2,g=n.i,b=n.j,v=n.realIndex,y=n.columnGroupIndex,S=n.series,C=n.barHeight,T=n.barWidth,E=n.barXPosition,O=n.barYPosition,I=n.visibleSeries,D=n.renderedPath,m=this.w,k=new V(this.barCtx.ctx),L=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[v]:this.barCtx.strokeWidth;m.globals.isXNumeric&&!m.globals.isBarHorizontal?(s=c+parseFloat(T*(I+1)),o=u+parseFloat(C*(I+1))-L):(s=c+parseFloat(T*I),o=u+parseFloat(C*I));var B,F=null,_=c,G=u,q={},Z=m.config.dataLabels,ie=this.barCtx.barOptions.dataLabels,te=this.barCtx.barOptions.dataLabels.total;O!==void 0&&this.barCtx.isRangeBar&&(o=O,G=O),E!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(s=E,_=E);var ne=Z.offsetX,oe=Z.offsetY,le={width:0,height:0};if(m.config.dataLabels.enabled){var he=m.globals.series[g][b];le=k.getTextRects(m.config.dataLabels.formatter?m.config.dataLabels.formatter(he,P(P({},m),{},{seriesIndex:g,dataPointIndex:b,w:m})):m.globals.yLabelFormatters[0](he),parseFloat(Z.style.fontSize))}var pe={x:c,y:u,i:g,j:b,realIndex:v,columnGroupIndex:y,renderedPath:D,bcx:s,bcy:o,barHeight:C,barWidth:T,textRects:le,strokeWidth:L,dataLabelsX:_,dataLabelsY:G,dataLabelsConfig:Z,barDataLabelsConfig:ie,barTotalDataLabelsConfig:te,offX:ne,offY:oe};return q=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(pe):this.calculateColumnsDataLabelsPosition(pe),D.attr({cy:q.bcy,cx:q.bcx,j:b,val:m.globals.series[g][b],barHeight:C,barWidth:T}),B=this.drawCalculatedDataLabels({x:q.dataLabelsX,y:q.dataLabelsY,val:this.barCtx.isRangeBar?[d,f]:m.config.chart.stackType==="100%"?S[v][b]:m.globals.series[v][b],i:v,j:b,barWidth:T,barHeight:C,textRects:le,dataLabelsConfig:Z}),m.config.chart.stacked&&te.enabled&&(F=this.drawTotalDataLabels({x:q.totalDataLabelsX,y:q.totalDataLabelsY,barWidth:T,barHeight:C,realIndex:v,textAnchor:q.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:v,j:b}),dataLabelsConfig:Z,barTotalDataLabelsConfig:te})),{dataLabels:B,totalDataLabels:F}}},{key:"getStackedTotalDataLabel",value:function(n){var s=n.realIndex,o=n.j,c=this.w,u=this.barCtx.stackedSeriesTotals[o];return this.totalFormatter&&(u=this.totalFormatter(u,P(P({},c),{},{seriesIndex:s,dataPointIndex:o,w:c}))),u}},{key:"calculateColumnsDataLabelsPosition",value:function(n){var s=this.w,o=n.i,c=n.j,u=n.realIndex;n.columnGroupIndex;var d,f,g=n.y,b=n.bcx,v=n.barWidth,y=n.barHeight,S=n.textRects,C=n.dataLabelsX,T=n.dataLabelsY,E=n.dataLabelsConfig,O=n.barDataLabelsConfig,I=n.barTotalDataLabelsConfig,D=n.strokeWidth,m=n.offX,k=n.offY,L=b;y=Math.abs(y);var B=s.config.plotOptions.bar.dataLabels.orientation==="vertical",F=this.barCtx.barHelpers.getZeroValueEncounters({i:o,j:c}).zeroEncounters;b-=D/2;var _=s.globals.gridWidth/s.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?C+=v/2:(C=s.globals.isXNumeric?b-v/2+m:b-_+v/2+m,F>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(C-=v*F)),B&&(C=C+S.height/2-D/2-2);var G=s.globals.series[o][c]<0,q=g;switch(this.barCtx.isReversed&&(q=g+(G?y:-y)),O.position){case"center":T=B?G?q-y/2+k:q+y/2-k:G?q-y/2+S.height/2+k:q+y/2+S.height/2-k;break;case"bottom":T=B?G?q-y+k:q+y-k:G?q-y+S.height+D+k:q+y-S.height/2+D-k;break;case"top":T=B?G?q+k:q-k:G?q-S.height/2-k:q+S.height+k}if(this.barCtx.lastActiveBarSerieIndex===u&&I.enabled){var Z=new V(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:u,j:c}),E.fontSize);d=G?q-Z.height/2-k-I.offsetY+18:q+Z.height+k+I.offsetY-18;var ie=_;f=L+(s.globals.isXNumeric?-v*s.globals.barGroups.length/2:s.globals.barGroups.length*v/2-(s.globals.barGroups.length-1)*v-ie)+I.offsetX}return s.config.chart.stacked||(T<0?T=0+D:T+S.height/3>s.globals.gridHeight&&(T=s.globals.gridHeight-D)),{bcx:b,bcy:g,dataLabelsX:C,dataLabelsY:T,totalDataLabelsX:f,totalDataLabelsY:d,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(n){var s=this.w,o=n.x,c=n.i,u=n.j,d=n.realIndex,f=n.bcy,g=n.barHeight,b=n.barWidth,v=n.textRects,y=n.dataLabelsX,S=n.strokeWidth,C=n.dataLabelsConfig,T=n.barDataLabelsConfig,E=n.barTotalDataLabelsConfig,O=n.offX,I=n.offY,D=s.globals.gridHeight/s.globals.dataPoints;b=Math.abs(b);var m,k,L=f-(this.barCtx.isRangeBar?0:D)+g/2+v.height/2+I-3,B="start",F=s.globals.series[c][u]<0,_=o;switch(this.barCtx.isReversed&&(_=o+(F?-b:b),B=F?"start":"end"),T.position){case"center":y=F?_+b/2-O:Math.max(v.width/2,_-b/2)+O;break;case"bottom":y=F?_+b-S-O:_-b+S+O;break;case"top":y=F?_-S-O:_-S+O}if(this.barCtx.lastActiveBarSerieIndex===d&&E.enabled){var G=new V(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:d,j:u}),C.fontSize);F?(m=_-S-O-E.offsetX,B="end"):m=_+O+E.offsetX+(this.barCtx.isReversed?-(b+S):S),k=L-v.height/2+G.height/2+E.offsetY+S}return s.config.chart.stacked||(C.textAnchor==="start"?y-v.width<0?y=F?v.width+S:S:y+v.width>s.globals.gridWidth&&(y=F?s.globals.gridWidth-S:s.globals.gridWidth-v.width-S):C.textAnchor==="middle"?y-v.width/2<0?y=v.width/2+S:y+v.width/2>s.globals.gridWidth&&(y=s.globals.gridWidth-v.width/2-S):C.textAnchor==="end"&&(y<1?y=v.width+S:y+1>s.globals.gridWidth&&(y=s.globals.gridWidth-v.width-S))),{bcx:o,bcy:f,dataLabelsX:y,dataLabelsY:L,totalDataLabelsX:m,totalDataLabelsY:k,totalDataLabelsAnchor:B}}},{key:"drawCalculatedDataLabels",value:function(n){var s=n.x,o=n.y,c=n.val,u=n.i,d=n.j,f=n.textRects,g=n.barHeight,b=n.barWidth,v=n.dataLabelsConfig,y=this.w,S="rotate(0)";y.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(S="rotate(-90, ".concat(s,", ").concat(o,")"));var C=new Cn(this.barCtx.ctx),T=new V(this.barCtx.ctx),E=v.formatter,O=null,I=y.globals.collapsedSeriesIndices.indexOf(u)>-1;if(v.enabled&&!I){O=T.group({class:"apexcharts-data-labels",transform:S});var D="";c!==void 0&&(D=E(c,P(P({},y),{},{seriesIndex:u,dataPointIndex:d,w:y}))),!c&&y.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(D="");var m=y.globals.series[u][d]<0,k=y.config.plotOptions.bar.dataLabels.position;y.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(k==="top"&&(v.textAnchor=m?"end":"start"),k==="center"&&(v.textAnchor="middle"),k==="bottom"&&(v.textAnchor=m?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&b<T.getTextRects(D,parseFloat(v.style.fontSize)).width&&(D=""),y.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?f.width/1.6>Math.abs(b)&&(D=""):f.height/1.6>Math.abs(g)&&(D=""));var L=P({},v);this.barCtx.isHorizontal&&c<0&&(v.textAnchor==="start"?L.textAnchor="end":v.textAnchor==="end"&&(L.textAnchor="start")),C.plotDataLabelsText({x:s,y:o,text:D,i:u,j:d,parent:O,dataLabelsConfig:L,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return O}},{key:"drawTotalDataLabels",value:function(n){var s=n.x,o=n.y,c=n.val,u=n.realIndex,d=n.textAnchor,f=n.barTotalDataLabelsConfig;this.w;var g,b=new V(this.barCtx.ctx);return f.enabled&&s!==void 0&&o!==void 0&&this.barCtx.lastActiveBarSerieIndex===u&&(g=b.drawText({x:s,y:o,foreColor:f.style.color,text:c,textAnchor:d,fontFamily:f.style.fontFamily,fontSize:f.style.fontSize,fontWeight:f.style.fontWeight})),g}}]),N})(),Wb=(function(){function N(n){a(this,N),this.w=n.w,this.barCtx=n}return h(N,[{key:"initVariables",value:function(n){var s=this.w;this.barCtx.series=n,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var o=0;o<n.length;o++)if(n[o].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=n[o].length),s.globals.isXNumeric)for(var c=0;c<n[o].length;c++)s.globals.seriesX[o][c]>s.globals.minX&&s.globals.seriesX[o][c]<s.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=s.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(s.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],s.globals.comboCharts||this.checkZeroSeries({series:n})}},{key:"initialPositions",value:function(){var n,s,o,c,u,d,f,g,b=this.w,v=b.globals.dataPoints;this.barCtx.isRangeBar&&(v=b.globals.labels.length);var y=this.barCtx.seriesLen;if(b.config.plotOptions.bar.rangeBarGroupRows&&(y=1),this.barCtx.isHorizontal)u=(o=b.globals.gridHeight/v)/y,b.globals.isXNumeric&&(u=(o=b.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),u=u*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(u=parseInt(this.barCtx.barOptions.barHeight,10)),g=this.barCtx.baseLineInvertedY+b.globals.padHorizontal+(this.barCtx.isReversed?b.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(g=b.globals.gridWidth/2),s=(o-u*this.barCtx.seriesLen)/2;else{if(c=b.globals.gridWidth/this.barCtx.visibleItems,b.config.xaxis.convertedCatToNumeric&&(c=b.globals.gridWidth/b.globals.dataPoints),d=c/y*parseInt(this.barCtx.barOptions.columnWidth,10)/100,b.globals.isXNumeric){var S=this.barCtx.xRatio;b.globals.minXDiff&&b.globals.minXDiff!==.5&&b.globals.minXDiff/S>0&&(c=b.globals.minXDiff/S),(d=c/y*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(d=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(d=parseInt(this.barCtx.barOptions.columnWidth,10)),f=b.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?b.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),n=b.globals.padHorizontal+(c-d*this.barCtx.seriesLen)/2}return b.globals.barHeight=u,b.globals.barWidth=d,{x:n,y:s,yDivision:o,xDivision:c,barHeight:u,barWidth:d,zeroH:f,zeroW:g}}},{key:"initializeStackedPrevVars",value:function(n){n.w.globals.seriesGroups.forEach((function(s){n[s]||(n[s]={}),n[s].prevY=[],n[s].prevX=[],n[s].prevYF=[],n[s].prevXF=[],n[s].prevYVal=[],n[s].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(n){n.w.globals.seriesGroups.forEach((function(s){n[s]||(n[s]={}),n[s].xArrj=[],n[s].xArrjF=[],n[s].xArrjVal=[],n[s].yArrj=[],n[s].yArrjF=[],n[s].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(n,s,o,c){var u,d,f,g,b,v=this.w,y=this.barCtx.ctx.fill,S=null,C=this.barCtx.barOptions.distributed?o:s;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(T){n[s][o]>=T.from&&n[s][o]<=T.to&&(S=T.color)})),(u=v.config.series[s].data[o])!==null&&u!==void 0&&u.fillColor&&(S=v.config.series[s].data[o].fillColor),y.fillPath({seriesNumber:this.barCtx.barOptions.distributed?C:c,dataPointIndex:o,color:S,value:n[s][o],fillConfig:(d=v.config.series[s].data[o])===null||d===void 0?void 0:d.fill,fillType:(f=v.config.series[s].data[o])!==null&&f!==void 0&&(g=f.fill)!==null&&g!==void 0&&g.type?(b=v.config.series[s].data[o])===null||b===void 0?void 0:b.fill.type:Array.isArray(v.config.fill.type)?v.config.fill.type[c]:v.config.fill.type})}},{key:"getStrokeWidth",value:function(n,s,o){var c=0,u=this.w;return this.barCtx.series[n][s]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,u.config.stroke.show&&(this.barCtx.isNullValue||(c=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[o]:this.barCtx.strokeWidth)),c}},{key:"createBorderRadiusArr",value:function(n){var s=this.w,o=!this.w.config.chart.stacked||s.config.plotOptions.bar.borderRadiusWhenStacked!=="last"||s.config.plotOptions.bar.borderRadius<=0,c=n.length,u=n[0].length,d=Array.from({length:c},(function(){return Array(u).fill(o?"top":"none")}));if(o)return d;for(var f=0;f<u;f++){for(var g=[],b=[],v=0,y=0;y<c;y++){var S=n[y][f];S>0?(g.push(y),v++):S<0&&(b.push(y),v++)}if(g.length>0&&b.length===0)if(g.length===1)d[g[0]][f]="both";else{var C,T=g[0],E=g[g.length-1],O=p(g);try{for(O.s();!(C=O.n()).done;){var I=C.value;d[I][f]=I===T?"bottom":I===E?"top":"none"}}catch(oe){O.e(oe)}finally{O.f()}}else if(b.length>0&&g.length===0)if(b.length===1)d[b[0]][f]="both";else{var D,m=b[0],k=b[b.length-1],L=p(b);try{for(L.s();!(D=L.n()).done;){var B=D.value;d[B][f]=B===m?"bottom":B===k?"top":"none"}}catch(oe){L.e(oe)}finally{L.f()}}else if(g.length>0&&b.length>0){var F,_=g[g.length-1],G=p(g);try{for(G.s();!(F=G.n()).done;){var q=F.value;d[q][f]=q===_?"top":"none"}}catch(oe){G.e(oe)}finally{G.f()}var Z,ie=b[b.length-1],te=p(b);try{for(te.s();!(Z=te.n()).done;){var ne=Z.value;d[ne][f]=ne===ie?"bottom":"none"}}catch(oe){te.e(oe)}finally{te.f()}}else v===1&&(d[g[0]||b[0]][f]="both")}return d}},{key:"barBackground",value:function(n){var s=n.j,o=n.i,c=n.x1,u=n.x2,d=n.y1,f=n.y2,g=n.elSeries,b=this.w,v=new V(this.barCtx.ctx),y=new Mt(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&y===o){s>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(s%=this.barCtx.barOptions.colors.backgroundBarColors.length);var S=this.barCtx.barOptions.colors.backgroundBarColors[s],C=v.drawRect(c!==void 0?c:0,d!==void 0?d:0,u!==void 0?u:b.globals.gridWidth,f!==void 0?f:b.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,S,this.barCtx.barOptions.colors.backgroundBarOpacity);g.add(C),C.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(n){var s,o=n.barWidth,c=n.barXPosition,u=n.y1,d=n.y2,f=n.strokeWidth,g=n.isReversed,b=n.series,v=n.seriesGroup,y=n.realIndex,S=n.i,C=n.j,T=n.w,E=new V(this.barCtx.ctx);(f=Array.isArray(f)?f[y]:f)||(f=0);var O=o,I=c;(s=T.config.series[y].data[C])!==null&&s!==void 0&&s.columnWidthOffset&&(I=c-T.config.series[y].data[C].columnWidthOffset/2,O=o+T.config.series[y].data[C].columnWidthOffset);var D=f/2,m=I+D,k=I+O-D,L=(b[S][C]>=0?1:-1)*(g?-1:1);u+=.001-D*L,d+=.001+D*L;var B=E.move(m,u),F=E.move(m,u),_=E.line(k,u);if(T.globals.previousPaths.length>0&&(F=this.barCtx.getPreviousPath(y,C,!1)),B=B+E.line(m,d)+E.line(k,d)+_+(T.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[y][C]==="both"?" Z":" z"),F=F+E.line(m,u)+_+_+_+_+_+E.line(m,u)+(T.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[y][C]==="both"?" Z":" z"),this.arrBorderRadius[y][C]!=="none"&&(B=E.roundPathCorners(B,T.config.plotOptions.bar.borderRadius)),T.config.chart.stacked){var G=this.barCtx;(G=this.barCtx[v]).yArrj.push(d-D*L),G.yArrjF.push(Math.abs(u-d+f*L)),G.yArrjVal.push(this.barCtx.series[S][C])}return{pathTo:B,pathFrom:F}}},{key:"getBarpaths",value:function(n){var s,o=n.barYPosition,c=n.barHeight,u=n.x1,d=n.x2,f=n.strokeWidth,g=n.isReversed,b=n.series,v=n.seriesGroup,y=n.realIndex,S=n.i,C=n.j,T=n.w,E=new V(this.barCtx.ctx);(f=Array.isArray(f)?f[y]:f)||(f=0);var O=o,I=c;(s=T.config.series[y].data[C])!==null&&s!==void 0&&s.barHeightOffset&&(O=o-T.config.series[y].data[C].barHeightOffset/2,I=c+T.config.series[y].data[C].barHeightOffset);var D=f/2,m=O+D,k=O+I-D,L=(b[S][C]>=0?1:-1)*(g?-1:1);u+=.001+D*L,d+=.001-D*L;var B=E.move(u,m),F=E.move(u,m);T.globals.previousPaths.length>0&&(F=this.barCtx.getPreviousPath(y,C,!1));var _=E.line(u,k);if(B=B+E.line(d,m)+E.line(d,k)+_+(T.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[y][C]==="both"?" Z":" z"),F=F+E.line(u,m)+_+_+_+_+_+E.line(u,m)+(T.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[y][C]==="both"?" Z":" z"),this.arrBorderRadius[y][C]!=="none"&&(B=E.roundPathCorners(B,T.config.plotOptions.bar.borderRadius)),T.config.chart.stacked){var G=this.barCtx;(G=this.barCtx[v]).xArrj.push(d+D*L),G.xArrjF.push(Math.abs(u-d-f*L)),G.xArrjVal.push(this.barCtx.series[S][C])}return{pathTo:B,pathFrom:F}}},{key:"checkZeroSeries",value:function(n){for(var s=n.series,o=this.w,c=0;c<s.length;c++){for(var u=0,d=0;d<s[o.globals.maxValsInArrayIndex].length;d++)u+=s[c][d];u===0&&this.barCtx.zeroSerieses.push(c)}}},{key:"getXForValue",value:function(n,s){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?s:null;return n!=null&&(o=s+n/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?n/this.barCtx.invertedYRatio:0)),o}},{key:"getYForValue",value:function(n,s,o){var c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?s:null;return n!=null&&(c=s-n/this.barCtx.yRatio[o]+2*(this.barCtx.isReversed?n/this.barCtx.yRatio[o]:0)),c}},{key:"getGoalValues",value:function(n,s,o,c,u,d){var f=this,g=this.w,b=[],v=function(C,T){var E;b.push((w(E={},n,n==="x"?f.getXForValue(C,s,!1):f.getYForValue(C,o,d,!1)),w(E,"attrs",T),E))};if(g.globals.seriesGoals[c]&&g.globals.seriesGoals[c][u]&&Array.isArray(g.globals.seriesGoals[c][u])&&g.globals.seriesGoals[c][u].forEach((function(C){v(C.value,C)})),this.barCtx.barOptions.isDumbbell&&g.globals.seriesRange.length){var y=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:g.globals.colors,S={strokeHeight:n==="x"?0:g.globals.markers.size[c],strokeWidth:n==="x"?g.globals.markers.size[c]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(y[c])?y[c][0]:y[c]};v(g.globals.seriesRangeStart[c][u],S),v(g.globals.seriesRangeEnd[c][u],P(P({},S),{},{strokeColor:Array.isArray(y[c])?y[c][1]:y[c]}))}return b}},{key:"drawGoalLine",value:function(n){var s=n.barXPosition,o=n.barYPosition,c=n.goalX,u=n.goalY,d=n.barWidth,f=n.barHeight,g=new V(this.barCtx.ctx),b=g.group({className:"apexcharts-bar-goals-groups"});b.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:b.node}),b.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var v=null;return this.barCtx.isHorizontal?Array.isArray(c)&&c.forEach((function(y){if(y.x>=-1&&y.x<=g.w.globals.gridWidth+1){var S=y.attrs.strokeHeight!==void 0?y.attrs.strokeHeight:f/2,C=o+S+f/2;v=g.drawLine(y.x,C-2*S,y.x,C,y.attrs.strokeColor?y.attrs.strokeColor:void 0,y.attrs.strokeDashArray,y.attrs.strokeWidth?y.attrs.strokeWidth:2,y.attrs.strokeLineCap),b.add(v)}})):Array.isArray(u)&&u.forEach((function(y){if(y.y>=-1&&y.y<=g.w.globals.gridHeight+1){var S=y.attrs.strokeWidth!==void 0?y.attrs.strokeWidth:d/2,C=s+S+d/2;v=g.drawLine(C-2*S,y.y,C,y.y,y.attrs.strokeColor?y.attrs.strokeColor:void 0,y.attrs.strokeDashArray,y.attrs.strokeHeight?y.attrs.strokeHeight:2,y.attrs.strokeLineCap),b.add(v)}})),b}},{key:"drawBarShadow",value:function(n){var s=n.prevPaths,o=n.currPaths,c=n.color,u=this.w,d=s.x,f=s.x1,g=s.barYPosition,b=o.x,v=o.x1,y=o.barYPosition,S=g+o.barHeight,C=new V(this.barCtx.ctx),T=new H,E=C.move(f,S)+C.line(d,S)+C.line(b,y)+C.line(v,y)+C.line(f,S)+(u.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return C.drawPath({d:E,fill:T.shadeColor(.5,H.rgb2hex(c)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(n){var s,o=n.i,c=n.j,u=this.w,d=0,f=0;return(u.config.plotOptions.bar.horizontal?u.globals.series.map((function(g,b){return b})):((s=u.globals.columnSeries)===null||s===void 0?void 0:s.i.map((function(g){return g})))||[]).forEach((function(g){var b=u.globals.seriesPercent[g][c];b&&d++,g<o&&b===0&&f++})),{nonZeroColumns:d,zeroEncounters:f}}},{key:"getGroupIndex",value:function(n){var s=this.w,o=s.globals.seriesGroups.findIndex((function(d){return d.indexOf(s.globals.seriesNames[n])>-1})),c=this.barCtx.columnGroupIndices,u=c.indexOf(o);return u<0&&(c.push(o),u=c.length-1),{groupIndex:o,columnGroupIndex:u}}}]),N})(),En=(function(){function N(n,s){a(this,N),this.ctx=n,this.w=n.w;var o=this.w;this.barOptions=o.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=o.config.stroke.width,this.isNullValue=!1,this.isRangeBar=o.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!o.globals.isBarHorizontal&&o.globals.seriesRange.length&&o.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=s,this.xyRatios!==null&&(this.xRatio=s.xRatio,this.yRatio=s.yRatio,this.invertedXRatio=s.invertedXRatio,this.invertedYRatio=s.invertedYRatio,this.baseLineY=s.baseLineY,this.baseLineInvertedY=s.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var c=new Mt(this.ctx);this.lastActiveBarSerieIndex=c.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var u=c.getBarSeriesIndices(),d=new re(this.ctx);this.stackedSeriesTotals=d.getStackedSeriesTotals(this.w.config.series.map((function(f,g){return u.indexOf(g)===-1?g:-1})).filter((function(f){return f!==-1}))),this.barHelpers=new Wb(this)}return h(N,[{key:"draw",value:function(n,s){var o=this.w,c=new V(this.ctx),u=new re(this.ctx,o);n=u.getLogSeries(n),this.series=n,this.yRatio=u.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);var d=c.group({class:"apexcharts-bar-series apexcharts-plot-series"});o.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var f=0,g=0;f<n.length;f++,g++){var b,v,y,S,C=void 0,T=void 0,E=[],O=[],I=o.globals.comboCharts?s[f]:f,D=this.barHelpers.getGroupIndex(I).columnGroupIndex,m=c.group({class:"apexcharts-series",rel:f+1,seriesName:H.escapeString(o.globals.seriesNames[I]),"data:realIndex":I});this.ctx.series.addCollapsedClassToSeries(m,I),n[f].length>0&&(this.visibleI=this.visibleI+1);var k=0,L=0;this.yRatio.length>1&&(this.yaxisIndex=o.globals.seriesYAxisReverseMap[I],this.translationsIndex=I);var B=this.translationsIndex;this.isReversed=o.config.yaxis[this.yaxisIndex]&&o.config.yaxis[this.yaxisIndex].reversed;var F=this.barHelpers.initialPositions();T=F.y,k=F.barHeight,v=F.yDivision,S=F.zeroW,C=F.x,L=F.barWidth,b=F.xDivision,y=F.zeroH,this.horizontal||O.push(C+L/2);var _=c.group({class:"apexcharts-datalabels","data:realIndex":I});o.globals.delayedElements.push({el:_.node}),_.node.classList.add("apexcharts-element-hidden");var G=c.group({class:"apexcharts-bar-goals-markers"}),q=c.group({class:"apexcharts-bar-shadows"});o.globals.delayedElements.push({el:q.node}),q.node.classList.add("apexcharts-element-hidden");for(var Z=0;Z<n[f].length;Z++){var ie=this.barHelpers.getStrokeWidth(f,Z,I),te=null,ne={indexes:{i:f,j:Z,realIndex:I,translationsIndex:B,bc:g},x:C,y:T,strokeWidth:ie,elSeries:m};this.isHorizontal?(te=this.drawBarPaths(P(P({},ne),{},{barHeight:k,zeroW:S,yDivision:v})),L=this.series[f][Z]/this.invertedYRatio):(te=this.drawColumnPaths(P(P({},ne),{},{xDivision:b,barWidth:L,zeroH:y})),k=this.series[f][Z]/this.yRatio[B]);var oe=this.barHelpers.getPathFillColor(n,f,Z,I);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Z>0){var le=this.barHelpers.drawBarShadow({color:typeof oe=="string"&&oe?.indexOf("url")===-1?oe:H.hexToRgba(o.globals.colors[f]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:te});le&&q.add(le)}this.pathArr.push(te);var he=this.barHelpers.drawGoalLine({barXPosition:te.barXPosition,barYPosition:te.barYPosition,goalX:te.goalX,goalY:te.goalY,barHeight:k,barWidth:L});he&&G.add(he),T=te.y,C=te.x,Z>0&&O.push(C+L/2),E.push(T),this.renderSeries({realIndex:I,pathFill:oe,j:Z,i:f,columnGroupIndex:D,pathFrom:te.pathFrom,pathTo:te.pathTo,strokeWidth:ie,elSeries:m,x:C,y:T,series:n,barHeight:Math.abs(te.barHeight?te.barHeight:k),barWidth:Math.abs(te.barWidth?te.barWidth:L),elDataLabelsWrap:_,elGoalsMarkers:G,elBarShadows:q,visibleSeries:this.visibleI,type:"bar"})}o.globals.seriesXvalues[I]=O,o.globals.seriesYvalues[I]=E,d.add(m)}return d}},{key:"renderSeries",value:function(n){var s=n.realIndex,o=n.pathFill,c=n.lineFill,u=n.j,d=n.i,f=n.columnGroupIndex,g=n.pathFrom,b=n.pathTo,v=n.strokeWidth,y=n.elSeries,S=n.x,C=n.y,T=n.y1,E=n.y2,O=n.series,I=n.barHeight,D=n.barWidth,m=n.barXPosition,k=n.barYPosition,L=n.elDataLabelsWrap,B=n.elGoalsMarkers,F=n.elBarShadows,_=n.visibleSeries,G=n.type,q=n.classes,Z=this.w,ie=new V(this.ctx);if(!c){var te=typeof Z.globals.stroke.colors[s]=="function"?(function(pe){var be,ge=Z.config.stroke.colors;return Array.isArray(ge)&&ge.length>0&&((be=ge[pe])||(be=""),typeof be=="function")?be({value:Z.globals.series[pe][u],dataPointIndex:u,w:Z}):be})(s):Z.globals.stroke.colors[s];c=this.barOptions.distributed?Z.globals.stroke.colors[u]:te}Z.config.series[d].data[u]&&Z.config.series[d].data[u].strokeColor&&(c=Z.config.series[d].data[u].strokeColor),this.isNullValue&&(o="none");var ne=u/Z.config.chart.animations.animateGradually.delay*(Z.config.chart.animations.speed/Z.globals.dataPoints)/2.4,oe=ie.renderPaths({i:d,j:u,realIndex:s,pathFrom:g,pathTo:b,stroke:c,strokeWidth:v,strokeLineCap:Z.config.stroke.lineCap,fill:o,animationDelay:ne,initialSpeed:Z.config.chart.animations.speed,dataChangeSpeed:Z.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(G,"-area ").concat(q),chartType:G});oe.attr("clip-path","url(#gridRectBarMask".concat(Z.globals.cuid,")"));var le=Z.config.forecastDataPoints;le.count>0&&u>=Z.globals.dataPoints-le.count&&(oe.node.setAttribute("stroke-dasharray",le.dashArray),oe.node.setAttribute("stroke-width",le.strokeWidth),oe.node.setAttribute("fill-opacity",le.fillOpacity)),T!==void 0&&E!==void 0&&(oe.attr("data-range-y1",T),oe.attr("data-range-y2",E)),new U(this.ctx).setSelectionFilter(oe,s,u),y.add(oe);var he=new _b(this).handleBarDataLabels({x:S,y:C,y1:T,y2:E,i:d,j:u,series:O,realIndex:s,columnGroupIndex:f,barHeight:I,barWidth:D,barXPosition:m,barYPosition:k,renderedPath:oe,visibleSeries:_});return he.dataLabels!==null&&L.add(he.dataLabels),he.totalDataLabels&&L.add(he.totalDataLabels),y.add(L),B&&y.add(B),F&&y.add(F),y}},{key:"drawBarPaths",value:function(n){var s,o=n.indexes,c=n.barHeight,u=n.strokeWidth,d=n.zeroW,f=n.x,g=n.y,b=n.yDivision,v=n.elSeries,y=this.w,S=o.i,C=o.j;if(y.globals.isXNumeric)s=(g=(y.globals.seriesX[S][C]-y.globals.minX)/this.invertedXRatio-c)+c*this.visibleI;else if(y.config.plotOptions.bar.hideZeroBarsWhenGrouped){var T=0,E=0;y.globals.seriesPercent.forEach((function(I,D){I[C]&&T++,D<S&&I[C]===0&&E++})),T>0&&(c=this.seriesLen*c/T),s=g+c*this.visibleI,s-=c*E}else s=g+c*this.visibleI;this.isFunnel&&(d-=(this.barHelpers.getXForValue(this.series[S][C],d)-d)/2),f=this.barHelpers.getXForValue(this.series[S][C],d);var O=this.barHelpers.getBarpaths({barYPosition:s,barHeight:c,x1:d,x2:f,strokeWidth:u,isReversed:this.isReversed,series:this.series,realIndex:o.realIndex,i:S,j:C,w:y});return y.globals.isXNumeric||(g+=b),this.barHelpers.barBackground({j:C,i:S,y1:s-c*this.visibleI,y2:c*this.seriesLen,elSeries:v}),{pathTo:O.pathTo,pathFrom:O.pathFrom,x1:d,x:f,y:g,goalX:this.barHelpers.getGoalValues("x",d,null,S,C),barYPosition:s,barHeight:c}}},{key:"drawColumnPaths",value:function(n){var s,o=n.indexes,c=n.x,u=n.y,d=n.xDivision,f=n.barWidth,g=n.zeroH,b=n.strokeWidth,v=n.elSeries,y=this.w,S=o.realIndex,C=o.translationsIndex,T=o.i,E=o.j,O=o.bc;if(y.globals.isXNumeric){var I=this.getBarXForNumericXAxis({x:c,j:E,realIndex:S,barWidth:f});c=I.x,s=I.barXPosition}else if(y.config.plotOptions.bar.hideZeroBarsWhenGrouped){var D=this.barHelpers.getZeroValueEncounters({i:T,j:E}),m=D.nonZeroColumns,k=D.zeroEncounters;m>0&&(f=this.seriesLen*f/m),s=c+f*this.visibleI,s-=f*k}else s=c+f*this.visibleI;u=this.barHelpers.getYForValue(this.series[T][E],g,C);var L=this.barHelpers.getColumnPaths({barXPosition:s,barWidth:f,y1:g,y2:u,strokeWidth:b,isReversed:this.isReversed,series:this.series,realIndex:S,i:T,j:E,w:y});return y.globals.isXNumeric||(c+=d),this.barHelpers.barBackground({bc:O,j:E,i:T,x1:s-b/2-f*this.visibleI,x2:f*this.seriesLen+b/2,elSeries:v}),{pathTo:L.pathTo,pathFrom:L.pathFrom,x:c,y:u,goalY:this.barHelpers.getGoalValues("y",null,g,T,E,C),barXPosition:s,barWidth:f}}},{key:"getBarXForNumericXAxis",value:function(n){var s=n.x,o=n.barWidth,c=n.realIndex,u=n.j,d=this.w,f=c;return d.globals.seriesX[c].length||(f=d.globals.maxValsInArrayIndex),d.globals.seriesX[f][u]&&(s=(d.globals.seriesX[f][u]-d.globals.minX)/this.xRatio-o*this.seriesLen/2),{barXPosition:s+o*this.visibleI,x:s}}},{key:"getPreviousPath",value:function(n,s){for(var o,c=this.w,u=0;u<c.globals.previousPaths.length;u++){var d=c.globals.previousPaths[u];d.paths&&d.paths.length>0&&parseInt(d.realIndex,10)===parseInt(n,10)&&c.globals.previousPaths[u].paths[s]!==void 0&&(o=c.globals.previousPaths[u].paths[s].d)}return o}}]),N})(),Ih=(function(N){M(s,En);var n=x(s);function s(){return a(this,s),n.apply(this,arguments)}return h(s,[{key:"draw",value:function(o,c){var u=this,d=this.w;this.graphics=new V(this.ctx),this.bar=new En(this.ctx,this.xyRatios);var f=new re(this.ctx,d);o=f.getLogSeries(o),this.yRatio=f.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o),d.config.chart.stackType==="100%"&&(o=d.globals.comboCharts?c.map((function(T){return d.globals.seriesPercent[T]})):d.globals.seriesPercent.slice()),this.series=o,this.barHelpers.initializeStackedPrevVars(this);for(var g=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),b=0,v=0,y=function(T,E){var O=void 0,I=void 0,D=void 0,m=void 0,k=d.globals.comboCharts?c[T]:T,L=u.barHelpers.getGroupIndex(k),B=L.groupIndex,F=L.columnGroupIndex;u.groupCtx=u[d.globals.seriesGroups[B]];var _=[],G=[],q=0;u.yRatio.length>1&&(u.yaxisIndex=d.globals.seriesYAxisReverseMap[k][0],q=k),u.isReversed=d.config.yaxis[u.yaxisIndex]&&d.config.yaxis[u.yaxisIndex].reversed;var Z=u.graphics.group({class:"apexcharts-series",seriesName:H.escapeString(d.globals.seriesNames[k]),rel:T+1,"data:realIndex":k});u.ctx.series.addCollapsedClassToSeries(Z,k);var ie=u.graphics.group({class:"apexcharts-datalabels","data:realIndex":k}),te=u.graphics.group({class:"apexcharts-bar-goals-markers"}),ne=0,oe=0,le=u.initialPositions(b,v,O,I,D,m,q);v=le.y,ne=le.barHeight,I=le.yDivision,m=le.zeroW,b=le.x,oe=le.barWidth,O=le.xDivision,D=le.zeroH,d.globals.barHeight=ne,d.globals.barWidth=oe,u.barHelpers.initializeStackedXYVars(u),u.groupCtx.prevY.length===1&&u.groupCtx.prevY[0].every((function(Le){return isNaN(Le)}))&&(u.groupCtx.prevY[0]=u.groupCtx.prevY[0].map((function(){return D})),u.groupCtx.prevYF[0]=u.groupCtx.prevYF[0].map((function(){return 0})));for(var he=0;he<d.globals.dataPoints;he++){var pe=u.barHelpers.getStrokeWidth(T,he,k),be={indexes:{i:T,j:he,realIndex:k,translationsIndex:q,bc:E},strokeWidth:pe,x:b,y:v,elSeries:Z,columnGroupIndex:F,seriesGroup:d.globals.seriesGroups[B]},ge=null;u.isHorizontal?(ge=u.drawStackedBarPaths(P(P({},be),{},{zeroW:m,barHeight:ne,yDivision:I})),oe=u.series[T][he]/u.invertedYRatio):(ge=u.drawStackedColumnPaths(P(P({},be),{},{xDivision:O,barWidth:oe,zeroH:D})),ne=u.series[T][he]/u.yRatio[q]);var Ce=u.barHelpers.drawGoalLine({barXPosition:ge.barXPosition,barYPosition:ge.barYPosition,goalX:ge.goalX,goalY:ge.goalY,barHeight:ne,barWidth:oe});Ce&&te.add(Ce),v=ge.y,b=ge.x,_.push(b),G.push(v);var Ne=u.barHelpers.getPathFillColor(o,T,he,k),De="";d.globals.isBarHorizontal?u.barHelpers.arrBorderRadius[k][he]==="bottom"&&d.globals.series[k][he]>0&&(De="apexcharts-flip-x"):u.barHelpers.arrBorderRadius[k][he]==="bottom"&&d.globals.series[k][he]>0&&(De="apexcharts-flip-y"),Z=u.renderSeries({realIndex:k,pathFill:Ne,j:he,i:T,columnGroupIndex:F,pathFrom:ge.pathFrom,pathTo:ge.pathTo,strokeWidth:pe,elSeries:Z,x:b,y:v,series:o,barHeight:ne,barWidth:oe,elDataLabelsWrap:ie,elGoalsMarkers:te,type:"bar",visibleSeries:F,classes:De})}d.globals.seriesXvalues[k]=_,d.globals.seriesYvalues[k]=G,u.groupCtx.prevY.push(u.groupCtx.yArrj),u.groupCtx.prevYF.push(u.groupCtx.yArrjF),u.groupCtx.prevYVal.push(u.groupCtx.yArrjVal),u.groupCtx.prevX.push(u.groupCtx.xArrj),u.groupCtx.prevXF.push(u.groupCtx.xArrjF),u.groupCtx.prevXVal.push(u.groupCtx.xArrjVal),g.add(Z)},S=0,C=0;S<o.length;S++,C++)y(S,C);return g}},{key:"initialPositions",value:function(o,c,u,d,f,g,b){var v,y,S=this.w;if(this.isHorizontal){d=S.globals.gridHeight/S.globals.dataPoints;var C=S.config.plotOptions.bar.barHeight;v=String(C).indexOf("%")===-1?parseInt(C,10):d*parseInt(C,10)/100,g=S.globals.padHorizontal+(this.isReversed?S.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),c=(d-v)/2}else{y=u=S.globals.gridWidth/S.globals.dataPoints;var T=S.config.plotOptions.bar.columnWidth;S.globals.isXNumeric&&S.globals.dataPoints>1?y=(u=S.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(T).indexOf("%")===-1?y=parseInt(T,10):y*=parseInt(T,10)/100,f=this.isReversed?this.baseLineY[b]:S.globals.gridHeight-this.baseLineY[b],o=S.globals.padHorizontal+(u-y)/2}var E=S.globals.barGroups.length||1;return{x:o,y:c,yDivision:d,xDivision:u,barHeight:v/E,barWidth:y/E,zeroH:f,zeroW:g}}},{key:"drawStackedBarPaths",value:function(o){for(var c,u=o.indexes,d=o.barHeight,f=o.strokeWidth,g=o.zeroW,b=o.x,v=o.y,y=o.columnGroupIndex,S=o.seriesGroup,C=o.yDivision,T=o.elSeries,E=this.w,O=v+y*d,I=u.i,D=u.j,m=u.realIndex,k=u.translationsIndex,L=0,B=0;B<this.groupCtx.prevXF.length;B++)L+=this.groupCtx.prevXF[B][D];var F;if((F=S.indexOf(E.config.series[m].name))>0){var _=g;this.groupCtx.prevXVal[F-1][D]<0?_=this.series[I][D]>=0?this.groupCtx.prevX[F-1][D]+L-2*(this.isReversed?L:0):this.groupCtx.prevX[F-1][D]:this.groupCtx.prevXVal[F-1][D]>=0&&(_=this.series[I][D]>=0?this.groupCtx.prevX[F-1][D]:this.groupCtx.prevX[F-1][D]-L+2*(this.isReversed?L:0)),c=_}else c=g;b=this.series[I][D]===null?c:c+this.series[I][D]/this.invertedYRatio-2*(this.isReversed?this.series[I][D]/this.invertedYRatio:0);var G=this.barHelpers.getBarpaths({barYPosition:O,barHeight:d,x1:c,x2:b,strokeWidth:f,isReversed:this.isReversed,series:this.series,realIndex:u.realIndex,seriesGroup:S,i:I,j:D,w:E});return this.barHelpers.barBackground({j:D,i:I,y1:O,y2:d,elSeries:T}),v+=C,{pathTo:G.pathTo,pathFrom:G.pathFrom,goalX:this.barHelpers.getGoalValues("x",g,null,I,D,k),barXPosition:c,barYPosition:O,x:b,y:v}}},{key:"drawStackedColumnPaths",value:function(o){var c=o.indexes,u=o.x,d=o.y,f=o.xDivision,g=o.barWidth,b=o.zeroH,v=o.columnGroupIndex,y=o.seriesGroup,S=o.elSeries,C=this.w,T=c.i,E=c.j,O=c.bc,I=c.realIndex,D=c.translationsIndex;if(C.globals.isXNumeric){var m=C.globals.seriesX[I][E];m||(m=0),u=(m-C.globals.minX)/this.xRatio-g/2*C.globals.barGroups.length}for(var k,L=u+v*g,B=0,F=0;F<this.groupCtx.prevYF.length;F++)B+=isNaN(this.groupCtx.prevYF[F][E])?0:this.groupCtx.prevYF[F][E];var _=T;if(y&&(_=y.indexOf(C.globals.seriesNames[I])),_>0&&!C.globals.isXNumeric||_>0&&C.globals.isXNumeric&&C.globals.seriesX[I-1][E]===C.globals.seriesX[I][E]){var G,q,Z,ie=Math.min(this.yRatio.length+1,I+1);if(this.groupCtx.prevY[_-1]!==void 0&&this.groupCtx.prevY[_-1].length)for(var te=1;te<ie;te++){var ne;if(!isNaN((ne=this.groupCtx.prevY[_-te])===null||ne===void 0?void 0:ne[E])){Z=this.groupCtx.prevY[_-te][E];break}}for(var oe=1;oe<ie;oe++){var le,he;if(((le=this.groupCtx.prevYVal[_-oe])===null||le===void 0?void 0:le[E])<0){q=this.series[T][E]>=0?Z-B+2*(this.isReversed?B:0):Z;break}if(((he=this.groupCtx.prevYVal[_-oe])===null||he===void 0?void 0:he[E])>=0){q=this.series[T][E]>=0?Z:Z+B-2*(this.isReversed?B:0);break}}q===void 0&&(q=C.globals.gridHeight),k=(G=this.groupCtx.prevYF[0])!==null&&G!==void 0&&G.every((function(be){return be===0}))&&this.groupCtx.prevYF.slice(1,_).every((function(be){return be.every((function(ge){return isNaN(ge)}))}))?b:q}else k=b;d=this.series[T][E]?k-this.series[T][E]/this.yRatio[D]+2*(this.isReversed?this.series[T][E]/this.yRatio[D]:0):k;var pe=this.barHelpers.getColumnPaths({barXPosition:L,barWidth:g,y1:k,y2:d,yRatio:this.yRatio[D],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:y,realIndex:c.realIndex,i:T,j:E,w:C});return this.barHelpers.barBackground({bc:O,j:E,i:T,x1:L,x2:g,elSeries:S}),{pathTo:pe.pathTo,pathFrom:pe.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,b,T,E),barXPosition:L,x:C.globals.isXNumeric?u:u+f,y:d}}}]),s})(),Co=(function(N){M(s,En);var n=x(s);function s(){return a(this,s),n.apply(this,arguments)}return h(s,[{key:"draw",value:function(o,c,u){var d=this,f=this.w,g=new V(this.ctx),b=f.globals.comboCharts?c:f.config.chart.type,v=new Wt(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=f.config.plotOptions.bar.horizontal;var y=new re(this.ctx,f);o=y.getLogSeries(o),this.series=o,this.yRatio=y.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o);for(var S=g.group({class:"apexcharts-".concat(b,"-series apexcharts-plot-series")}),C=function(E){d.isBoxPlot=f.config.chart.type==="boxPlot"||f.config.series[E].type==="boxPlot";var O,I,D,m,k=void 0,L=void 0,B=[],F=[],_=f.globals.comboCharts?u[E]:E,G=d.barHelpers.getGroupIndex(_).columnGroupIndex,q=g.group({class:"apexcharts-series",seriesName:H.escapeString(f.globals.seriesNames[_]),rel:E+1,"data:realIndex":_});d.ctx.series.addCollapsedClassToSeries(q,_),o[E].length>0&&(d.visibleI=d.visibleI+1);var Z,ie,te=0;d.yRatio.length>1&&(d.yaxisIndex=f.globals.seriesYAxisReverseMap[_][0],te=_);var ne=d.barHelpers.initialPositions();L=ne.y,Z=ne.barHeight,I=ne.yDivision,m=ne.zeroW,k=ne.x,ie=ne.barWidth,O=ne.xDivision,D=ne.zeroH,F.push(k+ie/2);for(var oe=g.group({class:"apexcharts-datalabels","data:realIndex":_}),le=function(pe){var be=d.barHelpers.getStrokeWidth(E,pe,_),ge=null,Ce={indexes:{i:E,j:pe,realIndex:_,translationsIndex:te},x:k,y:L,strokeWidth:be,elSeries:q};ge=d.isHorizontal?d.drawHorizontalBoxPaths(P(P({},Ce),{},{yDivision:I,barHeight:Z,zeroW:m})):d.drawVerticalBoxPaths(P(P({},Ce),{},{xDivision:O,barWidth:ie,zeroH:D})),L=ge.y,k=ge.x,pe>0&&F.push(k+ie/2),B.push(L),ge.pathTo.forEach((function(Ne,De){var Le=!d.isBoxPlot&&d.candlestickOptions.wick.useFillColor?ge.color[De]:f.globals.stroke.colors[E],wt=v.fillPath({seriesNumber:_,dataPointIndex:pe,color:ge.color[De],value:o[E][pe]});d.renderSeries({realIndex:_,pathFill:wt,lineFill:Le,j:pe,i:E,pathFrom:ge.pathFrom,pathTo:Ne,strokeWidth:be,elSeries:q,x:k,y:L,series:o,columnGroupIndex:G,barHeight:Z,barWidth:ie,elDataLabelsWrap:oe,visibleSeries:d.visibleI,type:f.config.chart.type})}))},he=0;he<f.globals.dataPoints;he++)le(he);f.globals.seriesXvalues[_]=F,f.globals.seriesYvalues[_]=B,S.add(q)},T=0;T<o.length;T++)C(T);return S}},{key:"drawVerticalBoxPaths",value:function(o){var c=o.indexes,u=o.x;o.y;var d=o.xDivision,f=o.barWidth,g=o.zeroH,b=o.strokeWidth,v=this.w,y=new V(this.ctx),S=c.i,C=c.j,T=!0,E=v.config.plotOptions.candlestick.colors.upward,O=v.config.plotOptions.candlestick.colors.downward,I="";this.isBoxPlot&&(I=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var D=this.yRatio[c.translationsIndex],m=c.realIndex,k=this.getOHLCValue(m,C),L=g,B=g;k.o>k.c&&(T=!1);var F=Math.min(k.o,k.c),_=Math.max(k.o,k.c),G=k.m;v.globals.isXNumeric&&(u=(v.globals.seriesX[m][C]-v.globals.minX)/this.xRatio-f/2);var q=u+f*this.visibleI;this.series[S][C]===void 0||this.series[S][C]===null?(F=g,_=g):(F=g-F/D,_=g-_/D,L=g-k.h/D,B=g-k.l/D,G=g-k.m/D);var Z=y.move(q,g),ie=y.move(q+f/2,F);return v.globals.previousPaths.length>0&&(ie=this.getPreviousPath(m,C,!0)),Z=this.isBoxPlot?[y.move(q,F)+y.line(q+f/2,F)+y.line(q+f/2,L)+y.line(q+f/4,L)+y.line(q+f-f/4,L)+y.line(q+f/2,L)+y.line(q+f/2,F)+y.line(q+f,F)+y.line(q+f,G)+y.line(q,G)+y.line(q,F+b/2),y.move(q,G)+y.line(q+f,G)+y.line(q+f,_)+y.line(q+f/2,_)+y.line(q+f/2,B)+y.line(q+f-f/4,B)+y.line(q+f/4,B)+y.line(q+f/2,B)+y.line(q+f/2,_)+y.line(q,_)+y.line(q,G)+"z"]:[y.move(q,_)+y.line(q+f/2,_)+y.line(q+f/2,L)+y.line(q+f/2,_)+y.line(q+f,_)+y.line(q+f,F)+y.line(q+f/2,F)+y.line(q+f/2,B)+y.line(q+f/2,F)+y.line(q,F)+y.line(q,_-b/2)],ie+=y.move(q,F),v.globals.isXNumeric||(u+=d),{pathTo:Z,pathFrom:ie,x:u,y:_,barXPosition:q,color:this.isBoxPlot?I:T?[E]:[O]}}},{key:"drawHorizontalBoxPaths",value:function(o){var c=o.indexes;o.x;var u=o.y,d=o.yDivision,f=o.barHeight,g=o.zeroW,b=o.strokeWidth,v=this.w,y=new V(this.ctx),S=c.i,C=c.j,T=this.boxOptions.colors.lower;this.isBoxPlot&&(T=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var E=this.invertedYRatio,O=c.realIndex,I=this.getOHLCValue(O,C),D=g,m=g,k=Math.min(I.o,I.c),L=Math.max(I.o,I.c),B=I.m;v.globals.isXNumeric&&(u=(v.globals.seriesX[O][C]-v.globals.minX)/this.invertedXRatio-f/2);var F=u+f*this.visibleI;this.series[S][C]===void 0||this.series[S][C]===null?(k=g,L=g):(k=g+k/E,L=g+L/E,D=g+I.h/E,m=g+I.l/E,B=g+I.m/E);var _=y.move(g,F),G=y.move(k,F+f/2);return v.globals.previousPaths.length>0&&(G=this.getPreviousPath(O,C,!0)),_=[y.move(k,F)+y.line(k,F+f/2)+y.line(D,F+f/2)+y.line(D,F+f/2-f/4)+y.line(D,F+f/2+f/4)+y.line(D,F+f/2)+y.line(k,F+f/2)+y.line(k,F+f)+y.line(B,F+f)+y.line(B,F)+y.line(k+b/2,F),y.move(B,F)+y.line(B,F+f)+y.line(L,F+f)+y.line(L,F+f/2)+y.line(m,F+f/2)+y.line(m,F+f-f/4)+y.line(m,F+f/4)+y.line(m,F+f/2)+y.line(L,F+f/2)+y.line(L,F)+y.line(B,F)+"z"],G+=y.move(k,F),v.globals.isXNumeric||(u+=d),{pathTo:_,pathFrom:G,x:L,y:u,barYPosition:F,color:T}}},{key:"getOHLCValue",value:function(o,c){var u=this.w;return{o:this.isBoxPlot?u.globals.seriesCandleH[o][c]:u.globals.seriesCandleO[o][c],h:this.isBoxPlot?u.globals.seriesCandleO[o][c]:u.globals.seriesCandleH[o][c],m:u.globals.seriesCandleM[o][c],l:this.isBoxPlot?u.globals.seriesCandleC[o][c]:u.globals.seriesCandleL[o][c],c:this.isBoxPlot?u.globals.seriesCandleL[o][c]:u.globals.seriesCandleC[o][c]}}}]),s})(),Nh=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"checkColorRange",value:function(){var n=this.w,s=!1,o=n.config.plotOptions[n.config.chart.type];return o.colorScale.ranges.length>0&&o.colorScale.ranges.map((function(c,u){c.from<=0&&(s=!0)})),s}},{key:"getShadeColor",value:function(n,s,o,c){var u=this.w,d=1,f=u.config.plotOptions[n].shadeIntensity,g=this.determineColor(n,s,o);u.globals.hasNegs||c?d=u.config.plotOptions[n].reverseNegativeShade?g.percent<0?g.percent/100*(1.25*f):(1-g.percent/100)*(1.25*f):g.percent<=0?1-(1+g.percent/100)*f:(1-g.percent/100)*f:(d=1-g.percent/100,n==="treemap"&&(d=(1-g.percent/100)*(1.25*f)));var b=g.color,v=new H;if(u.config.plotOptions[n].enableShades)if(this.w.config.theme.mode==="dark"){var y=v.shadeColor(-1*d,g.color);b=H.hexToRgba(H.isColorHex(y)?y:H.rgb2hex(y),u.config.fill.opacity)}else{var S=v.shadeColor(d,g.color);b=H.hexToRgba(H.isColorHex(S)?S:H.rgb2hex(S),u.config.fill.opacity)}return{color:b,colorProps:g}}},{key:"determineColor",value:function(n,s,o){var c=this.w,u=c.globals.series[s][o],d=c.config.plotOptions[n],f=d.colorScale.inverse?o:s;d.distributed&&c.config.chart.type==="treemap"&&(f=o);var g=c.globals.colors[f],b=null,v=Math.min.apply(Math,Y(c.globals.series[s])),y=Math.max.apply(Math,Y(c.globals.series[s]));d.distributed||n!=="heatmap"||(v=c.globals.minY,y=c.globals.maxY),d.colorScale.min!==void 0&&(v=d.colorScale.min<c.globals.minY?d.colorScale.min:c.globals.minY,y=d.colorScale.max>c.globals.maxY?d.colorScale.max:c.globals.maxY);var S=Math.abs(y)+Math.abs(v),C=100*u/(S===0?S-1e-6:S);return d.colorScale.ranges.length>0&&d.colorScale.ranges.map((function(T,E){if(u>=T.from&&u<=T.to){g=T.color,b=T.foreColor?T.foreColor:null,v=T.from,y=T.to;var O=Math.abs(y)+Math.abs(v);C=100*u/(O===0?O-1e-6:O)}})),{color:g,foreColor:b,percent:C}}},{key:"calculateDataLabels",value:function(n){var s=n.text,o=n.x,c=n.y,u=n.i,d=n.j,f=n.colorProps,g=n.fontSize,b=this.w.config.dataLabels,v=new V(this.ctx),y=new Cn(this.ctx),S=null;if(b.enabled){S=v.group({class:"apexcharts-data-labels"});var C=b.offsetX,T=b.offsetY,E=o+C,O=c+parseFloat(b.style.fontSize)/3+T;y.plotDataLabelsText({x:E,y:O,text:s,i:u,j:d,color:f.foreColor,parent:S,fontSize:g,dataLabelsConfig:b})}return S}},{key:"addListeners",value:function(n){var s=new V(this.ctx);n.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,n)),n.node.addEventListener("mousedown",s.pathMouseDown.bind(this,n))}}]),N})(),Xb=(function(){function N(n,s){a(this,N),this.ctx=n,this.w=n.w,this.xRatio=s.xRatio,this.yRatio=s.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Nh(n),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return h(N,[{key:"draw",value:function(n){var s=this.w,o=new V(this.ctx),c=o.group({class:"apexcharts-heatmap"});c.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")"));var u=s.globals.gridWidth/s.globals.dataPoints,d=s.globals.gridHeight/s.globals.series.length,f=0,g=!1;this.negRange=this.helpers.checkColorRange();var b=n.slice();s.config.yaxis[0].reversed&&(g=!0,b.reverse());for(var v=g?0:b.length-1;g?v<b.length:v>=0;g?v++:v--){var y=o.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:H.escapeString(s.globals.seriesNames[v]),rel:v+1,"data:realIndex":v});if(this.ctx.series.addCollapsedClassToSeries(y,v),s.config.chart.dropShadow.enabled){var S=s.config.chart.dropShadow;new U(this.ctx).dropShadow(y,S,v)}for(var C=0,T=s.config.plotOptions.heatmap.shadeIntensity,E=0;E<b[v].length;E++){var O=this.helpers.getShadeColor(s.config.chart.type,v,E,this.negRange),I=O.color,D=O.colorProps;s.config.fill.type==="image"&&(I=new Wt(this.ctx).fillPath({seriesNumber:v,dataPointIndex:E,opacity:s.globals.hasNegs?D.percent<0?1-(1+D.percent/100):T+D.percent/100:D.percent/100,patternID:H.randomId(),width:s.config.fill.image.width?s.config.fill.image.width:u,height:s.config.fill.image.height?s.config.fill.image.height:d}));var m=this.rectRadius,k=o.drawRect(C,f,u,d,m);if(k.attr({cx:C,cy:f}),k.node.classList.add("apexcharts-heatmap-rect"),y.add(k),k.attr({fill:I,i:v,index:v,j:E,val:n[v][E],"stroke-width":this.strokeWidth,stroke:s.config.plotOptions.heatmap.useFillColorAsStroke?I:s.globals.stroke.colors[0],color:I}),this.helpers.addListeners(k),s.config.chart.animations.enabled&&!s.globals.dataChanged){var L=1;s.globals.resized||(L=s.config.chart.animations.speed),this.animateHeatMap(k,C,f,u,d,L)}if(s.globals.dataChanged){var B=1;if(this.dynamicAnim.enabled&&s.globals.shouldAnimate){B=this.dynamicAnim.speed;var F=s.globals.previousPaths[v]&&s.globals.previousPaths[v][E]&&s.globals.previousPaths[v][E].color;F||(F="rgba(255, 255, 255, 0)"),this.animateHeatColor(k,H.isColorHex(F)?F:H.rgb2hex(F),H.isColorHex(I)?I:H.rgb2hex(I),B)}}var _=(0,s.config.dataLabels.formatter)(s.globals.series[v][E],{value:s.globals.series[v][E],seriesIndex:v,dataPointIndex:E,w:s}),G=this.helpers.calculateDataLabels({text:_,x:C+u/2,y:f+d/2,i:v,j:E,colorProps:D,series:b});G!==null&&y.add(G),C+=u}f+=d,c.add(y)}var q=s.globals.yAxisScale[0].result.slice();return s.config.yaxis[0].reversed?q.unshift(""):q.push(""),s.globals.yAxisScale[0].result=q,c}},{key:"animateHeatMap",value:function(n,s,o,c,u,d){var f=new J(this.ctx);f.animateRect(n,{x:s+c/2,y:o+u/2,width:0,height:0},{x:s,y:o,width:c,height:u},d,(function(){f.animationCompleted(n)}))}},{key:"animateHeatColor",value:function(n,s,o,c){n.attr({fill:s}).animate(c).attr({fill:o})}}]),N})(),Dh=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"drawYAxisTexts",value:function(n,s,o,c){var u=this.w,d=u.config.yaxis[0],f=u.globals.yLabelFormatters[0];return new V(this.ctx).drawText({x:n+d.labels.offsetX,y:s+d.labels.offsetY,text:f(c,o),textAnchor:"middle",fontSize:d.labels.style.fontSize,fontFamily:d.labels.style.fontFamily,foreColor:Array.isArray(d.labels.style.colors)?d.labels.style.colors[o]:d.labels.style.colors})}}]),N})(),Fh=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w;var s=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=s.globals.stroke.colors!==void 0?s.globals.stroke.colors:s.globals.colors,this.defaultSize=Math.min(s.globals.gridWidth,s.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=s.globals.gridWidth/2,s.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(s.config.plotOptions.pie.endAngle-s.config.plotOptions.pie.startAngle),this.initialAngle=s.config.plotOptions.pie.startAngle%this.fullAngle,s.globals.radialSize=this.defaultSize/2.05-s.config.stroke.width-(s.config.chart.sparkline.enabled?0:s.config.chart.dropShadow.blur),this.donutSize=s.globals.radialSize*parseInt(s.config.plotOptions.pie.donut.size,10)/100;var o=s.config.plotOptions.pie.customScale,c=s.globals.gridWidth/2,u=s.globals.gridHeight/2;this.translateX=c-c*o,this.translateY=u-u*o,this.dataLabelsGroup=new V(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(o,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return h(N,[{key:"draw",value:function(n){var s=this,o=this.w,c=new V(this.ctx),u=c.group({class:"apexcharts-pie"});if(o.globals.noData)return u;for(var d=0,f=0;f<n.length;f++)d+=H.negToZero(n[f]);var g=[],b=c.group();d===0&&(d=1e-5),n.forEach((function(m){s.maxY=Math.max(s.maxY,m)})),o.config.yaxis[0].max&&(this.maxY=o.config.yaxis[0].max),o.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(u);for(var v=0;v<n.length;v++){var y=this.fullAngle*H.negToZero(n[v])/d;g.push(y),this.chartType==="polarArea"?(g[v]=this.fullAngle/n.length,this.sliceSizes.push(o.globals.radialSize*n[v]/this.maxY)):this.sliceSizes.push(o.globals.radialSize)}if(o.globals.dataChanged){for(var S,C=0,T=0;T<o.globals.previousPaths.length;T++)C+=H.negToZero(o.globals.previousPaths[T]);for(var E=0;E<o.globals.previousPaths.length;E++)S=this.fullAngle*H.negToZero(o.globals.previousPaths[E])/C,this.prevSectorAngleArr.push(S)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var O=c.drawCircle(this.donutSize);O.attr({cx:this.centerX,cy:this.centerY,fill:o.config.plotOptions.pie.donut.background?o.config.plotOptions.pie.donut.background:"transparent"}),b.add(O)}var I=this.drawArcs(g,n);if(this.sliceLabels.forEach((function(m){I.add(m)})),b.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(o.config.plotOptions.pie.customScale,")")}),b.add(I),u.add(b),this.donutDataLabels.show){var D=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});u.add(D)}return o.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(u),u}},{key:"drawArcs",value:function(n,s){var o=this.w,c=new U(this.ctx),u=new V(this.ctx),d=new Wt(this.ctx),f=u.group({class:"apexcharts-slices"}),g=this.initialAngle,b=this.initialAngle,v=this.initialAngle,y=this.initialAngle;this.strokeWidth=o.config.stroke.show?o.config.stroke.width:0;for(var S=0;S<n.length;S++){var C=u.group({class:"apexcharts-series apexcharts-pie-series",seriesName:H.escapeString(o.globals.seriesNames[S]),rel:S+1,"data:realIndex":S});f.add(C),b=y,v=(g=v)+n[S],y=b+this.prevSectorAngleArr[S];var T=v<g?this.fullAngle+v-g:v-g,E=d.fillPath({seriesNumber:S,size:this.sliceSizes[S],value:s[S]}),O=this.getChangedPath(b,y),I=u.drawPath({d:O,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[S]:this.lineColorArr,strokeWidth:0,fill:E,fillOpacity:o.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(S)});if(I.attr({index:0,j:S}),c.setSelectionFilter(I,0,S),o.config.chart.dropShadow.enabled){var D=o.config.chart.dropShadow;c.dropShadow(I,D,S)}this.addListeners(I,this.donutDataLabels),V.setAttrs(I.node,{"data:angle":T,"data:startAngle":g,"data:strokeWidth":this.strokeWidth,"data:value":s[S]});var m={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?m=H.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize/1.25+o.config.plotOptions.pie.dataLabels.offset,(g+T/2)%this.fullAngle):this.chartType==="donut"&&(m=H.polarToCartesian(this.centerX,this.centerY,(o.globals.radialSize+this.donutSize)/2+o.config.plotOptions.pie.dataLabels.offset,(g+T/2)%this.fullAngle)),C.add(I);var k=0;if(!this.initialAnim||o.globals.resized||o.globals.dataChanged?this.animBeginArr.push(0):((k=T/this.fullAngle*o.config.chart.animations.speed)===0&&(k=1),this.animDur=k+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&o.globals.dataChanged?this.animatePaths(I,{size:this.sliceSizes[S],endAngle:v,startAngle:g,prevStartAngle:b,prevEndAngle:y,animateStartingPos:!0,i:S,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:o.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(I,{size:this.sliceSizes[S],endAngle:v,startAngle:g,i:S,totalItems:n.length-1,animBeginArr:this.animBeginArr,dur:k}),o.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&I.node.addEventListener("mouseup",this.pieClicked.bind(this,S)),o.globals.selectedDataPoints[0]!==void 0&&o.globals.selectedDataPoints[0].indexOf(S)>-1&&this.pieClicked(S),o.config.dataLabels.enabled){var L=m.x,B=m.y,F=100*T/this.fullAngle+"%";if(T!==0&&o.config.plotOptions.pie.dataLabels.minAngleToShowLabel<n[S]){var _=o.config.dataLabels.formatter;_!==void 0&&(F=_(o.globals.seriesPercent[S][0],{seriesIndex:S,w:o}));var G=o.globals.dataLabels.style.colors[S],q=u.group({class:"apexcharts-datalabels"}),Z=u.drawText({x:L,y:B,text:F,textAnchor:"middle",fontSize:o.config.dataLabels.style.fontSize,fontFamily:o.config.dataLabels.style.fontFamily,fontWeight:o.config.dataLabels.style.fontWeight,foreColor:G});if(q.add(Z),o.config.dataLabels.dropShadow.enabled){var ie=o.config.dataLabels.dropShadow;c.dropShadow(Z,ie)}Z.node.classList.add("apexcharts-pie-label"),o.config.chart.animations.animate&&o.globals.resized===!1&&(Z.node.classList.add("apexcharts-pie-label-delay"),Z.node.style.animationDelay=o.config.chart.animations.speed/940+"s"),this.sliceLabels.push(q)}}}return f}},{key:"addListeners",value:function(n,s){var o=new V(this.ctx);n.node.addEventListener("mouseenter",o.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",o.pathMouseLeave.bind(this,n)),n.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,n.node,s)),n.node.addEventListener("mousedown",o.pathMouseDown.bind(this,n)),this.donutDataLabels.total.showAlways||(n.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,n.node,s)),n.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,n.node,s)))}},{key:"animatePaths",value:function(n,s){var o=this.w,c=s.endAngle<s.startAngle?this.fullAngle+s.endAngle-s.startAngle:s.endAngle-s.startAngle,u=c,d=s.startAngle,f=s.startAngle;s.prevStartAngle!==void 0&&s.prevEndAngle!==void 0&&(d=s.prevEndAngle,u=s.prevEndAngle<s.prevStartAngle?this.fullAngle+s.prevEndAngle-s.prevStartAngle:s.prevEndAngle-s.prevStartAngle),s.i===o.config.series.length-1&&(c+f>this.fullAngle?s.endAngle=s.endAngle-(c+f):c+f<this.fullAngle&&(s.endAngle=s.endAngle+(this.fullAngle-(c+f)))),c===this.fullAngle&&(c=this.fullAngle-.01),this.animateArc(n,d,f,c,u,s)}},{key:"animateArc",value:function(n,s,o,c,u,d){var f,g=this,b=this.w,v=new J(this.ctx),y=d.size;(isNaN(s)||isNaN(u))&&(s=o,u=c,d.dur=0);var S=c,C=o,T=s<o?this.fullAngle+s-o:s-o;b.globals.dataChanged&&d.shouldSetPrevPaths&&d.prevEndAngle&&(f=g.getPiePath({me:g,startAngle:d.prevStartAngle,angle:d.prevEndAngle<d.prevStartAngle?this.fullAngle+d.prevEndAngle-d.prevStartAngle:d.prevEndAngle-d.prevStartAngle,size:y}),n.attr({d:f})),d.dur!==0?n.animate(d.dur,b.globals.easing,d.animBeginArr[d.i]).afterAll((function(){g.chartType!=="pie"&&g.chartType!=="donut"&&g.chartType!=="polarArea"||this.animate(b.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":g.strokeWidth}),d.i===b.config.series.length-1&&v.animationCompleted(n)})).during((function(E){S=T+(c-T)*E,d.animateStartingPos&&(S=u+(c-u)*E,C=s-u+(o-(s-u))*E),f=g.getPiePath({me:g,startAngle:C,angle:S,size:y}),n.node.setAttribute("data:pathOrig",f),n.attr({d:f})})):(f=g.getPiePath({me:g,startAngle:C,angle:c,size:y}),d.isTrack||(b.globals.animationEnded=!0),n.node.setAttribute("data:pathOrig",f),n.attr({d:f,"stroke-width":g.strokeWidth}))}},{key:"pieClicked",value:function(n){var s,o=this.w,c=this,u=c.sliceSizes[n]+(o.config.plotOptions.pie.expandOnClick?4:0),d=o.globals.dom.Paper.select(".apexcharts-".concat(c.chartType.toLowerCase(),"-slice-").concat(n)).members[0];if(d.attr("data:pieClicked")!=="true"){var f=o.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(f,(function(y){y.setAttribute("data:pieClicked","false");var S=y.getAttribute("data:pathOrig");S&&y.setAttribute("d",S)})),o.globals.capturedDataPointIndex=n,d.attr("data:pieClicked","true");var g=parseInt(d.attr("data:startAngle"),10),b=parseInt(d.attr("data:angle"),10);s=c.getPiePath({me:c,startAngle:g,angle:b,size:u}),b!==360&&d.plot(s)}else{d.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(d.node,this.donutDataLabels);var v=d.attr("data:pathOrig");d.attr({d:v})}}},{key:"getChangedPath",value:function(n,s){var o="";return this.dynamicAnim&&this.w.globals.dataChanged&&(o=this.getPiePath({me:this,startAngle:n,angle:s-n,size:this.size})),o}},{key:"getPiePath",value:function(n){var s,o=n.me,c=n.startAngle,u=n.angle,d=n.size,f=new V(this.ctx),g=c,b=Math.PI*(g-90)/180,v=u+c;Math.ceil(v)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(v=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(v)>this.fullAngle&&(v-=this.fullAngle);var y=Math.PI*(v-90)/180,S=o.centerX+d*Math.cos(b),C=o.centerY+d*Math.sin(b),T=o.centerX+d*Math.cos(y),E=o.centerY+d*Math.sin(y),O=H.polarToCartesian(o.centerX,o.centerY,o.donutSize,v),I=H.polarToCartesian(o.centerX,o.centerY,o.donutSize,g),D=u>180?1:0,m=["M",S,C,"A",d,d,0,D,1,T,E];return s=o.chartType==="donut"?[].concat(m,["L",O.x,O.y,"A",o.donutSize,o.donutSize,0,D,0,I.x,I.y,"L",S,C,"z"]).join(" "):o.chartType==="pie"||o.chartType==="polarArea"?[].concat(m,["L",o.centerX,o.centerY,"L",S,C]).join(" "):[].concat(m).join(" "),f.roundPathCorners(s,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(n){var s=this.w,o=new Th(this.ctx),c=new V(this.ctx),u=new Dh(this.ctx),d=c.group(),f=c.group(),g=o.niceScale(0,Math.ceil(this.maxY),0),b=g.result.reverse(),v=g.result.length;this.maxY=g.niceMax;for(var y=s.globals.radialSize,S=y/(v-1),C=0;C<v-1;C++){var T=c.drawCircle(y);if(T.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":s.config.plotOptions.polarArea.rings.strokeWidth,stroke:s.config.plotOptions.polarArea.rings.strokeColor}),s.config.yaxis[0].show){var E=u.drawYAxisTexts(this.centerX,this.centerY-y+parseInt(s.config.yaxis[0].labels.style.fontSize,10)/2,C,b[C]);f.add(E)}d.add(T),y-=S}this.drawSpokes(n),n.add(d),n.add(f)}},{key:"renderInnerDataLabels",value:function(n,s,o){var c=this.w,u=new V(this.ctx),d=s.total.show;n.node.innerHTML="",n.node.style.opacity=o.opacity;var f,g,b=o.centerX,v=this.donutDataLabels.total.label?o.centerY:o.centerY-o.centerY/6;f=s.name.color===void 0?c.globals.colors[0]:s.name.color;var y=s.name.fontSize,S=s.name.fontFamily,C=s.name.fontWeight;g=s.value.color===void 0?c.config.chart.foreColor:s.value.color;var T=s.value.formatter,E="",O="";if(d?(f=s.total.color,y=s.total.fontSize,S=s.total.fontFamily,C=s.total.fontWeight,O=this.donutDataLabels.total.label?s.total.label:"",E=s.total.formatter(c)):c.globals.series.length===1&&(E=T(c.globals.series[0],c),O=c.globals.seriesNames[0]),O&&(O=s.name.formatter(O,s.total.show,c)),s.name.show){var I=u.drawText({x:b,y:v+parseFloat(s.name.offsetY),text:O,textAnchor:"middle",foreColor:f,fontSize:y,fontWeight:C,fontFamily:S});I.node.classList.add("apexcharts-datalabel-label"),n.add(I)}if(s.value.show){var D=s.name.show?parseFloat(s.value.offsetY)+16:s.value.offsetY,m=u.drawText({x:b,y:v+D,text:E,textAnchor:"middle",foreColor:g,fontWeight:s.value.fontWeight,fontSize:s.value.fontSize,fontFamily:s.value.fontFamily});m.node.classList.add("apexcharts-datalabel-value"),n.add(m)}return n}},{key:"printInnerLabels",value:function(n,s,o,c){var u,d=this.w;c?u=n.name.color===void 0?d.globals.colors[parseInt(c.parentNode.getAttribute("rel"),10)-1]:n.name.color:d.globals.series.length>1&&n.total.show&&(u=n.total.color);var f=d.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),g=d.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");o=(0,n.value.formatter)(o,d),c||typeof n.total.formatter!="function"||(o=n.total.formatter(d));var b=s===n.total.label;s=this.donutDataLabels.total.label?n.name.formatter(s,b,d):"",f!==null&&(f.textContent=s),g!==null&&(g.textContent=o),f!==null&&(f.style.fill=u)}},{key:"printDataLabelsInner",value:function(n,s){var o=this.w,c=n.getAttribute("data:value"),u=o.globals.seriesNames[parseInt(n.parentNode.getAttribute("rel"),10)-1];o.globals.series.length>1&&this.printInnerLabels(s,u,c,n);var d=o.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");d!==null&&(d.style.opacity=1)}},{key:"drawSpokes",value:function(n){var s=this,o=this.w,c=new V(this.ctx),u=o.config.plotOptions.polarArea.spokes;if(u.strokeWidth!==0){for(var d=[],f=360/o.globals.series.length,g=0;g<o.globals.series.length;g++)d.push(H.polarToCartesian(this.centerX,this.centerY,o.globals.radialSize,o.config.plotOptions.pie.startAngle+f*g));d.forEach((function(b,v){var y=c.drawLine(b.x,b.y,s.centerX,s.centerY,Array.isArray(u.connectorColors)?u.connectorColors[v]:u.connectorColors);n.add(y)}))}}},{key:"revertDataLabelsInner",value:function(){var n=this.w;if(this.donutDataLabels.show){var s=n.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0],o=this.renderInnerDataLabels(s,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});n.globals.dom.Paper.select(".apexcharts-radialbar, .apexcharts-pie").members[0].add(o)}}}]),N})(),Yb=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var s=this.w;this.graphics=new V(this.ctx),this.lineColorArr=s.globals.stroke.colors!==void 0?s.globals.stroke.colors:s.globals.colors,this.defaultSize=s.globals.svgHeight<s.globals.svgWidth?s.globals.gridHeight:s.globals.gridWidth,this.isLog=s.config.yaxis[0].logarithmic,this.logBase=s.config.yaxis[0].logBase,this.coreUtils=new re(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,s.globals.maxY,0):s.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):s.globals.minY,this.polygons=s.config.plotOptions.radar.polygons,this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-s.config.chart.dropShadow.blur,s.config.xaxis.labels.show&&(this.size=this.size-s.globals.xAxisLabelsWidth/1.75),s.config.plotOptions.radar.size!==void 0&&(this.size=s.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return h(N,[{key:"draw",value:function(n){var s=this,o=this.w,c=new Wt(this.ctx),u=[],d=new Cn(this.ctx);n.length&&(this.dataPointsLen=n[o.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var f=o.globals.gridWidth/2,g=o.globals.gridHeight/2,b=f+o.config.plotOptions.radar.offsetX,v=g+o.config.plotOptions.radar.offsetY,y=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(b||0,", ").concat(v||0,")")}),S=[],C=null,T=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),n.forEach((function(O,I){var D=O.length===o.globals.dataPoints,m=s.graphics.group().attr({class:"apexcharts-series","data:longestSeries":D,seriesName:H.escapeString(o.globals.seriesNames[I]),rel:I+1,"data:realIndex":I});s.dataRadiusOfPercent[I]=[],s.dataRadius[I]=[],s.angleArr[I]=[],O.forEach((function(te,ne){var oe=Math.abs(s.maxValue-s.minValue);te-=s.minValue,s.isLog&&(te=s.coreUtils.getLogVal(s.logBase,te,0)),s.dataRadiusOfPercent[I][ne]=te/oe,s.dataRadius[I][ne]=s.dataRadiusOfPercent[I][ne]*s.size,s.angleArr[I][ne]=ne*s.disAngle})),S=s.getDataPointsPos(s.dataRadius[I],s.angleArr[I]);var k=s.createPaths(S,{x:0,y:0});C=s.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),T=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":I}),o.globals.delayedElements.push({el:C.node,index:I});var L={i:I,realIndex:I,animationDelay:I,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:o.globals.stroke.colors[I],strokeLineCap:o.config.stroke.lineCap},B=null;o.globals.previousPaths.length>0&&(B=s.getPreviousPath(I));for(var F=0;F<k.linePathsTo.length;F++){var _=s.graphics.renderPaths(P(P({},L),{},{pathFrom:B===null?k.linePathsFrom[F]:B,pathTo:k.linePathsTo[F],strokeWidth:Array.isArray(s.strokeWidth)?s.strokeWidth[I]:s.strokeWidth,fill:"none",drawShadow:!1}));m.add(_);var G=c.fillPath({seriesNumber:I}),q=s.graphics.renderPaths(P(P({},L),{},{pathFrom:B===null?k.areaPathsFrom[F]:B,pathTo:k.areaPathsTo[F],strokeWidth:0,fill:G,drawShadow:!1}));if(o.config.chart.dropShadow.enabled){var Z=new U(s.ctx),ie=o.config.chart.dropShadow;Z.dropShadow(q,Object.assign({},ie,{noUserSpaceOnUse:!0}),I)}m.add(q)}O.forEach((function(te,ne){var oe=new An(s.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:I,dataPointIndex:ne}),le=s.graphics.drawMarker(S[ne].x,S[ne].y,oe);le.attr("rel",ne),le.attr("j",ne),le.attr("index",I),le.node.setAttribute("default-marker-size",oe.pSize);var he=s.graphics.group({class:"apexcharts-series-markers"});he&&he.add(le),C.add(he),m.add(C);var pe=o.config.dataLabels;if(pe.enabled){var be=pe.formatter(o.globals.series[I][ne],{seriesIndex:I,dataPointIndex:ne,w:o});d.plotDataLabelsText({x:S[ne].x,y:S[ne].y,text:be,textAnchor:"middle",i:I,j:I,parent:T,offsetCorrection:!1,dataLabelsConfig:P({},pe)})}m.add(T)})),u.push(m)})),this.drawPolygons({parent:y}),o.config.xaxis.labels.show){var E=this.drawXAxisTexts();y.add(E)}return u.forEach((function(O){y.add(O)})),y.add(this.yaxisLabels),y}},{key:"drawPolygons",value:function(n){for(var s=this,o=this.w,c=n.parent,u=new Dh(this.ctx),d=o.globals.yAxisScale[0].result.reverse(),f=d.length,g=[],b=this.size/(f-1),v=0;v<f;v++)g[v]=b*v;g.reverse();var y=[],S=[];g.forEach((function(C,T){var E=H.getPolygonPos(C,s.dataPointsLen),O="";E.forEach((function(I,D){if(T===0){var m=s.graphics.drawLine(I.x,I.y,0,0,Array.isArray(s.polygons.connectorColors)?s.polygons.connectorColors[D]:s.polygons.connectorColors);S.push(m)}D===0&&s.yaxisLabelsTextsPos.push({x:I.x,y:I.y}),O+=I.x+","+I.y+" "})),y.push(O)})),y.forEach((function(C,T){var E=s.polygons.strokeColors,O=s.polygons.strokeWidth,I=s.graphics.drawPolygon(C,Array.isArray(E)?E[T]:E,Array.isArray(O)?O[T]:O,o.globals.radarPolygons.fill.colors[T]);c.add(I)})),S.forEach((function(C){c.add(C)})),o.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(C,T){var E=u.drawYAxisTexts(C.x,C.y,T,d[T]);s.yaxisLabels.add(E)}))}},{key:"drawXAxisTexts",value:function(){var n=this,s=this.w,o=s.config.xaxis.labels,c=this.graphics.group({class:"apexcharts-xaxis"}),u=H.getPolygonPos(this.size,this.dataPointsLen);return s.globals.labels.forEach((function(d,f){var g=s.config.xaxis.labels.formatter,b=new Cn(n.ctx);if(u[f]){var v=n.getTextPos(u[f],n.size),y=g(d,{seriesIndex:-1,dataPointIndex:f,w:s});b.plotDataLabelsText({x:v.newX,y:v.newY,text:y,textAnchor:v.textAnchor,i:f,j:f,parent:c,className:"apexcharts-xaxis-label",color:Array.isArray(o.style.colors)&&o.style.colors[f]?o.style.colors[f]:"#a8a8a8",dataLabelsConfig:P({textAnchor:v.textAnchor,dropShadow:{enabled:!1}},o),offsetCorrection:!1}).on("click",(function(S){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var C=Object.assign({},s,{labelIndex:f});s.config.chart.events.xAxisLabelClick(S,n.ctx,C)}}))}})),c}},{key:"createPaths",value:function(n,s){var o=this,c=[],u=[],d=[],f=[];if(n.length){u=[this.graphics.move(s.x,s.y)],f=[this.graphics.move(s.x,s.y)];var g=this.graphics.move(n[0].x,n[0].y),b=this.graphics.move(n[0].x,n[0].y);n.forEach((function(v,y){g+=o.graphics.line(v.x,v.y),b+=o.graphics.line(v.x,v.y),y===n.length-1&&(g+="Z",b+="Z")})),c.push(g),d.push(b)}return{linePathsFrom:u,linePathsTo:c,areaPathsFrom:f,areaPathsTo:d}}},{key:"getTextPos",value:function(n,s){var o="middle",c=n.x,u=n.y;return Math.abs(n.x)>=10?n.x>0?(o="start",c+=10):n.x<0&&(o="end",c-=10):o="middle",Math.abs(n.y)>=s-10&&(n.y<0?u-=10:n.y>0&&(u+=10)),{textAnchor:o,newX:c,newY:u}}},{key:"getPreviousPath",value:function(n){for(var s=this.w,o=null,c=0;c<s.globals.previousPaths.length;c++){var u=s.globals.previousPaths[c];u.paths.length>0&&parseInt(u.realIndex,10)===parseInt(n,10)&&s.globals.previousPaths[c].paths[0]!==void 0&&(o=s.globals.previousPaths[c].paths[0].d)}return o}},{key:"getDataPointsPos",value:function(n,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;n=n||[],s=s||[];for(var c=[],u=0;u<o;u++){var d={};d.x=n[u]*Math.sin(s[u]),d.y=-n[u]*Math.cos(s[u]),c.push(d)}return c}}]),N})(),Vb=(function(N){M(s,Fh);var n=x(s);function s(o){var c;a(this,s),(c=n.call(this,o)).ctx=o,c.w=o.w,c.animBeginArr=[0],c.animDur=0;var u=c.w;return c.startAngle=u.config.plotOptions.radialBar.startAngle,c.endAngle=u.config.plotOptions.radialBar.endAngle,c.totalAngle=Math.abs(u.config.plotOptions.radialBar.endAngle-u.config.plotOptions.radialBar.startAngle),c.trackStartAngle=u.config.plotOptions.radialBar.track.startAngle,c.trackEndAngle=u.config.plotOptions.radialBar.track.endAngle,c.barLabels=c.w.config.plotOptions.radialBar.barLabels,c.donutDataLabels=c.w.config.plotOptions.radialBar.dataLabels,c.radialDataLabels=c.donutDataLabels,c.trackStartAngle||(c.trackStartAngle=c.startAngle),c.trackEndAngle||(c.trackEndAngle=c.endAngle),c.endAngle===360&&(c.endAngle=359.99),c.margin=parseInt(u.config.plotOptions.radialBar.track.margin,10),c.onBarLabelClick=c.onBarLabelClick.bind(r(c)),c}return h(s,[{key:"draw",value:function(o){var c=this.w,u=new V(this.ctx),d=u.group({class:"apexcharts-radialbar"});if(c.globals.noData)return d;var f=u.group(),g=this.defaultSize/2,b=c.globals.gridWidth/2,v=this.defaultSize/2.05;c.config.chart.sparkline.enabled||(v=v-c.config.stroke.width-c.config.chart.dropShadow.blur);var y=c.globals.fill.colors;if(c.config.plotOptions.radialBar.track.show){var S=this.drawTracks({size:v,centerX:b,centerY:g,colorArr:y,series:o});f.add(S)}var C=this.drawArcs({size:v,centerX:b,centerY:g,colorArr:y,series:o}),T=360;c.config.plotOptions.radialBar.startAngle<0&&(T=this.totalAngle);var E=(360-T)/360;if(c.globals.radialSize=v-v*E,this.radialDataLabels.value.show){var O=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);c.globals.radialSize+=O*E}return f.add(C.g),c.config.plotOptions.radialBar.hollow.position==="front"&&(C.g.add(C.elHollow),C.dataLabels&&C.g.add(C.dataLabels)),d.add(f),d}},{key:"drawTracks",value:function(o){var c=this.w,u=new V(this.ctx),d=u.group({class:"apexcharts-tracks"}),f=new U(this.ctx),g=new Wt(this.ctx),b=this.getStrokeWidth(o);o.size=o.size-b/2;for(var v=0;v<o.series.length;v++){var y=u.group({class:"apexcharts-radialbar-track apexcharts-track"});d.add(y),y.attr({rel:v+1}),o.size=o.size-b-this.margin;var S=c.config.plotOptions.radialBar.track,C=g.fillPath({seriesNumber:0,size:o.size,fillColors:Array.isArray(S.background)?S.background[v]:S.background,solid:!0}),T=this.trackStartAngle,E=this.trackEndAngle;Math.abs(E)+Math.abs(T)>=360&&(E=360-Math.abs(this.startAngle)-.1);var O=u.drawPath({d:"",stroke:C,strokeWidth:b*parseInt(S.strokeWidth,10)/100,fill:"none",strokeOpacity:S.opacity,classes:"apexcharts-radialbar-area"});if(S.dropShadow.enabled){var I=S.dropShadow;f.dropShadow(O,I)}y.add(O),O.attr("id","apexcharts-radialbarTrack-"+v),this.animatePaths(O,{centerX:o.centerX,centerY:o.centerY,endAngle:E,startAngle:T,size:o.size,i:v,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:c.globals.easing})}return d}},{key:"drawArcs",value:function(o){var c=this.w,u=new V(this.ctx),d=new Wt(this.ctx),f=new U(this.ctx),g=u.group(),b=this.getStrokeWidth(o);o.size=o.size-b/2;var v=c.config.plotOptions.radialBar.hollow.background,y=o.size-b*o.series.length-this.margin*o.series.length-b*parseInt(c.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,S=y-c.config.plotOptions.radialBar.hollow.margin;c.config.plotOptions.radialBar.hollow.image!==void 0&&(v=this.drawHollowImage(o,g,y,v));var C=this.drawHollow({size:S,centerX:o.centerX,centerY:o.centerY,fill:v||"transparent"});if(c.config.plotOptions.radialBar.hollow.dropShadow.enabled){var T=c.config.plotOptions.radialBar.hollow.dropShadow;f.dropShadow(C,T)}var E=1;!this.radialDataLabels.total.show&&c.globals.series.length>1&&(E=0);var O=null;if(this.radialDataLabels.show){var I=c.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0];O=this.renderInnerDataLabels(I,this.radialDataLabels,{hollowSize:y,centerX:o.centerX,centerY:o.centerY,opacity:E})}c.config.plotOptions.radialBar.hollow.position==="back"&&(g.add(C),O&&g.add(O));var D=!1;c.config.plotOptions.radialBar.inverseOrder&&(D=!0);for(var m=D?o.series.length-1:0;D?m>=0:m<o.series.length;D?m--:m++){var k=u.group({class:"apexcharts-series apexcharts-radial-series",seriesName:H.escapeString(c.globals.seriesNames[m])});g.add(k),k.attr({rel:m+1,"data:realIndex":m}),this.ctx.series.addCollapsedClassToSeries(k,m),o.size=o.size-b-this.margin;var L=d.fillPath({seriesNumber:m,size:o.size,value:o.series[m]}),B=this.startAngle,F=void 0,_=H.negToZero(o.series[m]>100?100:o.series[m])/100,G=Math.round(this.totalAngle*_)+this.startAngle,q=void 0;c.globals.dataChanged&&(F=this.startAngle,q=Math.round(this.totalAngle*H.negToZero(c.globals.previousPaths[m])/100)+F),Math.abs(G)+Math.abs(B)>360&&(G-=.01),Math.abs(q)+Math.abs(F)>360&&(q-=.01);var Z=G-B,ie=Array.isArray(c.config.stroke.dashArray)?c.config.stroke.dashArray[m]:c.config.stroke.dashArray,te=u.drawPath({d:"",stroke:L,strokeWidth:b,fill:"none",fillOpacity:c.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+m,strokeDashArray:ie});if(V.setAttrs(te.node,{"data:angle":Z,"data:value":o.series[m]}),c.config.chart.dropShadow.enabled){var ne=c.config.chart.dropShadow;f.dropShadow(te,ne,m)}if(f.setSelectionFilter(te,0,m),this.addListeners(te,this.radialDataLabels),k.add(te),te.attr({index:0,j:m}),this.barLabels.enabled){var oe=H.polarToCartesian(o.centerX,o.centerY,o.size,B),le=this.barLabels.formatter(c.globals.seriesNames[m],{seriesIndex:m,w:c}),he=["apexcharts-radialbar-label"];this.barLabels.onClick||he.push("apexcharts-no-click");var pe=this.barLabels.useSeriesColors?c.globals.colors[m]:c.config.chart.foreColor;pe||(pe=c.config.chart.foreColor);var be=oe.x+this.barLabels.offsetX,ge=oe.y+this.barLabels.offsetY,Ce=u.drawText({x:be,y:ge,text:le,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:pe,cssClass:he.join(" ")});Ce.on("click",this.onBarLabelClick),Ce.attr({rel:m+1}),B!==0&&Ce.attr({"transform-origin":"".concat(be," ").concat(ge),transform:"rotate(".concat(B," 0 0)")}),k.add(Ce)}var Ne=0;!this.initialAnim||c.globals.resized||c.globals.dataChanged||(Ne=c.config.chart.animations.speed),c.globals.dataChanged&&(Ne=c.config.chart.animations.dynamicAnimation.speed),this.animDur=Ne/(1.2*o.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(te,{centerX:o.centerX,centerY:o.centerY,endAngle:G,startAngle:B,prevEndAngle:q,prevStartAngle:F,size:o.size,i:m,totalItems:2,animBeginArr:this.animBeginArr,dur:Ne,shouldSetPrevPaths:!0,easing:c.globals.easing})}return{g,elHollow:C,dataLabels:O}}},{key:"drawHollow",value:function(o){var c=new V(this.ctx).drawCircle(2*o.size);return c.attr({class:"apexcharts-radialbar-hollow",cx:o.centerX,cy:o.centerY,r:o.size,fill:o.fill}),c}},{key:"drawHollowImage",value:function(o,c,u,d){var f=this.w,g=new Wt(this.ctx),b=H.randomId(),v=f.config.plotOptions.radialBar.hollow.image;if(f.config.plotOptions.radialBar.hollow.imageClipped)g.clippedImgArea({width:u,height:u,image:v,patternID:"pattern".concat(f.globals.cuid).concat(b)}),d="url(#pattern".concat(f.globals.cuid).concat(b,")");else{var y=f.config.plotOptions.radialBar.hollow.imageWidth,S=f.config.plotOptions.radialBar.hollow.imageHeight;if(y===void 0&&S===void 0){var C=f.globals.dom.Paper.image(v).loaded((function(E){this.move(o.centerX-E.width/2+f.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-E.height/2+f.config.plotOptions.radialBar.hollow.imageOffsetY)}));c.add(C)}else{var T=f.globals.dom.Paper.image(v).loaded((function(E){this.move(o.centerX-y/2+f.config.plotOptions.radialBar.hollow.imageOffsetX,o.centerY-S/2+f.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(y,S)}));c.add(T)}}return d}},{key:"getStrokeWidth",value:function(o){var c=this.w;return o.size*(100-parseInt(c.config.plotOptions.radialBar.hollow.size,10))/100/(o.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(o){var c=parseInt(o.target.getAttribute("rel"),10)-1,u=this.barLabels.onClick,d=this.w;u&&u(d.globals.seriesNames[c],{w:d,seriesIndex:c})}}]),s})(),jb=(function(N){M(s,En);var n=x(s);function s(){return a(this,s),n.apply(this,arguments)}return h(s,[{key:"draw",value:function(o,c){var u=this.w,d=new V(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=o,this.seriesRangeStart=u.globals.seriesRangeStart,this.seriesRangeEnd=u.globals.seriesRangeEnd,this.barHelpers.initVariables(o);for(var f=d.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),g=0;g<o.length;g++){var b,v,y,S,C=void 0,T=void 0,E=u.globals.comboCharts?c[g]:g,O=this.barHelpers.getGroupIndex(E).columnGroupIndex,I=d.group({class:"apexcharts-series",seriesName:H.escapeString(u.globals.seriesNames[E]),rel:g+1,"data:realIndex":E});this.ctx.series.addCollapsedClassToSeries(I,E),o[g].length>0&&(this.visibleI=this.visibleI+1);var D=0,m=0,k=0;this.yRatio.length>1&&(this.yaxisIndex=u.globals.seriesYAxisReverseMap[E][0],k=E);var L=this.barHelpers.initialPositions();T=L.y,S=L.zeroW,C=L.x,m=L.barWidth,D=L.barHeight,b=L.xDivision,v=L.yDivision,y=L.zeroH;for(var B=d.group({class:"apexcharts-datalabels","data:realIndex":E}),F=d.group({class:"apexcharts-rangebar-goals-markers"}),_=0;_<u.globals.dataPoints;_++){var G=this.barHelpers.getStrokeWidth(g,_,E),q=this.seriesRangeStart[g][_],Z=this.seriesRangeEnd[g][_],ie=null,te=null,ne=null,oe={x:C,y:T,strokeWidth:G,elSeries:I},le=this.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(le=1),u.config.series[g].data[_]===void 0)break;if(this.isHorizontal){ne=T+D*this.visibleI;var he=(v-D*le)/2;if(u.config.series[g].data[_].x){var pe=this.detectOverlappingBars({i:g,j:_,barYPosition:ne,srty:he,barHeight:D,yDivision:v,initPositions:L});D=pe.barHeight,ne=pe.barYPosition}m=(ie=this.drawRangeBarPaths(P({indexes:{i:g,j:_,realIndex:E},barHeight:D,barYPosition:ne,zeroW:S,yDivision:v,y1:q,y2:Z},oe))).barWidth}else{u.globals.isXNumeric&&(C=(u.globals.seriesX[g][_]-u.globals.minX)/this.xRatio-m/2),te=C+m*this.visibleI;var be=(b-m*le)/2;if(u.config.series[g].data[_].x){var ge=this.detectOverlappingBars({i:g,j:_,barXPosition:te,srtx:be,barWidth:m,xDivision:b,initPositions:L});m=ge.barWidth,te=ge.barXPosition}D=(ie=this.drawRangeColumnPaths(P({indexes:{i:g,j:_,realIndex:E,translationsIndex:k},barWidth:m,barXPosition:te,zeroH:y,xDivision:b},oe))).barHeight}var Ce=this.barHelpers.drawGoalLine({barXPosition:ie.barXPosition,barYPosition:ne,goalX:ie.goalX,goalY:ie.goalY,barHeight:D,barWidth:m});Ce&&F.add(Ce),T=ie.y,C=ie.x;var Ne=this.barHelpers.getPathFillColor(o,g,_,E),De=u.globals.stroke.colors[E];this.renderSeries({realIndex:E,pathFill:Ne,lineFill:De,j:_,i:g,x:C,y:T,y1:q,y2:Z,pathFrom:ie.pathFrom,pathTo:ie.pathTo,strokeWidth:G,elSeries:I,series:o,barHeight:D,barWidth:m,barXPosition:te,barYPosition:ne,columnGroupIndex:O,elDataLabelsWrap:B,elGoalsMarkers:F,visibleSeries:this.visibleI,type:"rangebar"})}f.add(I)}return f}},{key:"detectOverlappingBars",value:function(o){var c=o.i,u=o.j,d=o.barYPosition,f=o.barXPosition,g=o.srty,b=o.srtx,v=o.barHeight,y=o.barWidth,S=o.yDivision,C=o.xDivision,T=o.initPositions,E=this.w,O=[],I=E.config.series[c].data[u].rangeName,D=E.config.series[c].data[u].x,m=Array.isArray(D)?D.join(" "):D,k=E.globals.labels.map((function(B){return Array.isArray(B)?B.join(" "):B})).indexOf(m),L=E.globals.seriesRange[c].findIndex((function(B){return B.x===m&&B.overlaps.length>0}));return this.isHorizontal?(d=E.config.plotOptions.bar.rangeBarGroupRows?g+S*k:g+v*this.visibleI+S*k,L>-1&&!E.config.plotOptions.bar.rangeBarOverlap&&(O=E.globals.seriesRange[c][L].overlaps).indexOf(I)>-1&&(d=(v=T.barHeight/O.length)*this.visibleI+S*(100-parseInt(this.barOptions.barHeight,10))/100/2+v*(this.visibleI+O.indexOf(I))+S*k)):(k>-1&&!E.globals.timescaleLabels.length&&(f=E.config.plotOptions.bar.rangeBarGroupRows?b+C*k:b+y*this.visibleI+C*k),L>-1&&!E.config.plotOptions.bar.rangeBarOverlap&&(O=E.globals.seriesRange[c][L].overlaps).indexOf(I)>-1&&(f=(y=T.barWidth/O.length)*this.visibleI+C*(100-parseInt(this.barOptions.barWidth,10))/100/2+y*(this.visibleI+O.indexOf(I))+C*k)),{barYPosition:d,barXPosition:f,barHeight:v,barWidth:y}}},{key:"drawRangeColumnPaths",value:function(o){var c=o.indexes,u=o.x,d=o.xDivision,f=o.barWidth,g=o.barXPosition,b=o.zeroH,v=this.w,y=c.i,S=c.j,C=c.realIndex,T=c.translationsIndex,E=this.yRatio[T],O=this.getRangeValue(C,S),I=Math.min(O.start,O.end),D=Math.max(O.start,O.end);this.series[y][S]===void 0||this.series[y][S]===null?I=b:(I=b-I/E,D=b-D/E);var m=Math.abs(D-I),k=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:f,y1:I,y2:D,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:C,i:C,j:S,w:v});if(v.globals.isXNumeric){var L=this.getBarXForNumericXAxis({x:u,j:S,realIndex:C,barWidth:f});u=L.x,g=L.barXPosition}else u+=d;return{pathTo:k.pathTo,pathFrom:k.pathFrom,barHeight:m,x:u,y:O.start<0&&O.end<0?I:D,goalY:this.barHelpers.getGoalValues("y",null,b,y,S,T),barXPosition:g}}},{key:"preventBarOverflow",value:function(o){var c=this.w;return o<0&&(o=0),o>c.globals.gridWidth&&(o=c.globals.gridWidth),o}},{key:"drawRangeBarPaths",value:function(o){var c=o.indexes,u=o.y,d=o.y1,f=o.y2,g=o.yDivision,b=o.barHeight,v=o.barYPosition,y=o.zeroW,S=this.w,C=c.realIndex,T=c.j,E=this.preventBarOverflow(y+d/this.invertedYRatio),O=this.preventBarOverflow(y+f/this.invertedYRatio),I=this.getRangeValue(C,T),D=Math.abs(O-E),m=this.barHelpers.getBarpaths({barYPosition:v,barHeight:b,x1:E,x2:O,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:C,realIndex:C,j:T,w:S});return S.globals.isXNumeric||(u+=g),{pathTo:m.pathTo,pathFrom:m.pathFrom,barWidth:D,x:I.start<0&&I.end<0?E:O,goalX:this.barHelpers.getGoalValues("x",y,null,C,T),y:u}}},{key:"getRangeValue",value:function(o,c){var u=this.w;return{start:u.globals.seriesRangeStart[o][c],end:u.globals.seriesRangeEnd[o][c]}}}]),s})(),Gb=(function(){function N(n){a(this,N),this.w=n.w,this.lineCtx=n}return h(N,[{key:"sameValueSeriesFix",value:function(n,s){var o=this.w;if((o.config.fill.type==="gradient"||o.config.fill.type[n]==="gradient")&&new re(this.lineCtx.ctx,o).seriesHaveSameValues(n)){var c=s[n].slice();c[c.length-1]=c[c.length-1]+1e-6,s[n]=c}return s}},{key:"calculatePoints",value:function(n){var s=n.series,o=n.realIndex,c=n.x,u=n.y,d=n.i,f=n.j,g=n.prevY,b=this.w,v=[],y=[];if(f===0){var S=this.lineCtx.categoryAxisCorrection+b.config.markers.offsetX;b.globals.isXNumeric&&(S=(b.globals.seriesX[o][0]-b.globals.minX)/this.lineCtx.xRatio+b.config.markers.offsetX),v.push(S),y.push(H.isNumber(s[d][0])?g+b.config.markers.offsetY:null),v.push(c+b.config.markers.offsetX),y.push(H.isNumber(s[d][f+1])?u+b.config.markers.offsetY:null)}else v.push(c+b.config.markers.offsetX),y.push(H.isNumber(s[d][f+1])?u+b.config.markers.offsetY:null);return{x:v,y}}},{key:"checkPreviousPaths",value:function(n){for(var s=n.pathFromLine,o=n.pathFromArea,c=n.realIndex,u=this.w,d=0;d<u.globals.previousPaths.length;d++){var f=u.globals.previousPaths[d];(f.type==="line"||f.type==="area")&&f.paths.length>0&&parseInt(f.realIndex,10)===parseInt(c,10)&&(f.type==="line"?(this.lineCtx.appendPathFrom=!1,s=u.globals.previousPaths[d].paths[0].d):f.type==="area"&&(this.lineCtx.appendPathFrom=!1,o=u.globals.previousPaths[d].paths[0].d,u.config.stroke.show&&u.globals.previousPaths[d].paths[1]&&(s=u.globals.previousPaths[d].paths[1].d)))}return{pathFromLine:s,pathFromArea:o}}},{key:"determineFirstPrevY",value:function(n){var s,o,c,u=n.i,d=n.realIndex,f=n.series,g=n.prevY,b=n.lineYPosition,v=n.translationsIndex,y=this.w,S=y.config.chart.stacked&&!y.globals.comboCharts||y.config.chart.stacked&&y.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((s=this.w.config.series[d])===null||s===void 0?void 0:s.type)==="bar"||((o=this.w.config.series[d])===null||o===void 0?void 0:o.type)==="column");if(((c=f[u])===null||c===void 0?void 0:c[0])!==void 0)g=(b=S&&u>0?this.lineCtx.prevSeriesY[u-1][0]:this.lineCtx.zeroY)-f[u][0]/this.lineCtx.yRatio[v]+2*(this.lineCtx.isReversed?f[u][0]/this.lineCtx.yRatio[v]:0);else if(S&&u>0&&f[u][0]===void 0){for(var C=u-1;C>=0;C--)if(f[C][0]!==null&&f[C][0]!==void 0){g=b=this.lineCtx.prevSeriesY[C][0];break}}return{prevY:g,lineYPosition:b}}}]),N})(),qb=function(N){for(var n,s,o,c,u=(function(v){for(var y=[],S=v[0],C=v[1],T=y[0]=Eo(S,C),E=1,O=v.length-1;E<O;E++)S=C,C=v[E+1],y[E]=.5*(T+(T=Eo(S,C)));return y[E]=T,y})(N),d=N.length-1,f=[],g=0;g<d;g++)o=Eo(N[g],N[g+1]),Math.abs(o)<1e-6?u[g]=u[g+1]=0:(c=(n=u[g]/o)*n+(s=u[g+1]/o)*s)>9&&(c=3*o/Math.sqrt(c),u[g]=c*n,u[g+1]=c*s);for(var b=0;b<=d;b++)c=(N[Math.min(d,b+1)][0]-N[Math.max(0,b-1)][0])/(6*(1+u[b]*u[b])),f.push([c||0,u[b]*c||0]);return f},Ub=function(N){var n=qb(N),s=N[1],o=N[0],c=[],u=n[1],d=n[0];c.push(o,[o[0]+d[0],o[1]+d[1],s[0]-u[0],s[1]-u[1],s[0],s[1]]);for(var f=2,g=n.length;f<g;f++){var b=N[f],v=n[f];c.push([b[0]-v[0],b[1]-v[1],b[0],b[1]])}return c},$b=function(N,n,s){var o=N.slice(n,s);if(n){if(s-n>1&&o[1].length<6){var c=o[0].length;o[1]=[2*o[0][c-2]-o[0][c-4],2*o[0][c-1]-o[0][c-3]].concat(o[1])}o[0]=o[0].slice(-2)}return o};function Eo(N,n){return(n[1]-N[1])/(n[0]-N[0])}var To=(function(){function N(n,s,o){a(this,N),this.ctx=n,this.w=n.w,this.xyRatios=s,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||o,this.scatter=new Ch(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Gb(this),this.markers=new An(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return h(N,[{key:"draw",value:function(n,s,o,c){var u,d=this.w,f=new V(this.ctx),g=d.globals.comboCharts?s:d.config.chart.type,b=f.group({class:"apexcharts-".concat(g,"-series apexcharts-plot-series")}),v=new re(this.ctx,d);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,n=v.getLogSeries(n),this.yRatio=v.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var y=[],S=0;S<n.length;S++){n=this.lineHelpers.sameValueSeriesFix(S,n);var C=d.globals.comboCharts?o[S]:S,T=this.yRatio.length>1?C:0;this._initSerieVariables(n,S,C);var E=[],O=[],I=[],D=d.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,C),d.globals.isXNumeric&&d.globals.seriesX.length>0&&(D=(d.globals.seriesX[C][0]-d.globals.minX)/this.xRatio),I.push(D);var m,k=D,L=void 0,B=k,F=this.zeroY,_=this.zeroY;F=this.lineHelpers.determineFirstPrevY({i:S,realIndex:C,series:n,prevY:F,lineYPosition:0,translationsIndex:T}).prevY,d.config.stroke.curve==="monotoneCubic"&&n[S][0]===null?E.push(null):E.push(F),m=F,g==="rangeArea"&&(L=_=this.lineHelpers.determineFirstPrevY({i:S,realIndex:C,series:c,prevY:_,lineYPosition:0,translationsIndex:T}).prevY,O.push(E[0]!==null?_:null));var G=this._calculatePathsFrom({type:g,series:n,i:S,realIndex:C,translationsIndex:T,prevX:B,prevY:F,prevY2:_}),q=[E[0]],Z=[O[0]],ie={type:g,series:n,realIndex:C,translationsIndex:T,i:S,x:D,y:1,pX:k,pY:m,pathsFrom:G,linePaths:[],areaPaths:[],seriesIndex:o,lineYPosition:0,xArrj:I,yArrj:E,y2Arrj:O,seriesRangeEnd:c},te=this._iterateOverDataPoints(P(P({},ie),{},{iterations:g==="rangeArea"?n[S].length-1:void 0,isRangeStart:!0}));if(g==="rangeArea"){for(var ne=this._calculatePathsFrom({series:c,i:S,realIndex:C,prevX:B,prevY:_}),oe=this._iterateOverDataPoints(P(P({},ie),{},{series:c,xArrj:[D],yArrj:q,y2Arrj:Z,pY:L,areaPaths:te.areaPaths,pathsFrom:ne,iterations:c[S].length-1,isRangeStart:!1})),le=te.linePaths.length/2,he=0;he<le;he++)te.linePaths[he]=oe.linePaths[he+le]+te.linePaths[he];te.linePaths.splice(le),te.pathFromLine=oe.pathFromLine+te.pathFromLine}else te.pathFromArea+="z";this._handlePaths({type:g,realIndex:C,i:S,paths:te}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),y.push(this.elSeries)}if(((u=d.config.series[0])===null||u===void 0?void 0:u.zIndex)!==void 0&&y.sort((function(ge,Ce){return Number(ge.node.getAttribute("zIndex"))-Number(Ce.node.getAttribute("zIndex"))})),d.config.chart.stacked)for(var pe=y.length-1;pe>=0;pe--)b.add(y[pe]);else for(var be=0;be<y.length;be++)b.add(y[be]);return b}},{key:"_initSerieVariables",value:function(n,s,o){var c=this.w,u=new V(this.ctx);this.xDivision=c.globals.gridWidth/(c.globals.dataPoints-(c.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(c.config.stroke.width)?c.config.stroke.width[o]:c.config.stroke.width;var d=0;this.yRatio.length>1&&(this.yaxisIndex=c.globals.seriesYAxisReverseMap[o],d=o),this.isReversed=c.config.yaxis[this.yaxisIndex]&&c.config.yaxis[this.yaxisIndex].reversed,this.zeroY=c.globals.gridHeight-this.baseLineY[d]-(this.isReversed?c.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[d]:0),this.areaBottomY=this.zeroY,(this.zeroY>c.globals.gridHeight||c.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=c.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=u.group({class:"apexcharts-series",zIndex:c.config.series[o].zIndex!==void 0?c.config.series[o].zIndex:o,seriesName:H.escapeString(c.globals.seriesNames[o])}),this.elPointsMain=u.group({class:"apexcharts-series-markers-wrap","data:realIndex":o}),this.elDataLabelsWrap=u.group({class:"apexcharts-datalabels","data:realIndex":o});var f=n[s].length===c.globals.dataPoints;this.elSeries.attr({"data:longestSeries":f,rel:s+1,"data:realIndex":o}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(n){var s,o,c,u,d=n.type,f=n.series,g=n.i,b=n.realIndex,v=n.translationsIndex,y=n.prevX,S=n.prevY,C=n.prevY2,T=this.w,E=new V(this.ctx);if(f[g][0]===null){for(var O=0;O<f[g].length;O++)if(f[g][O]!==null){y=this.xDivision*O,S=this.zeroY-f[g][O]/this.yRatio[v],s=E.move(y,S),o=E.move(y,this.areaBottomY);break}}else s=E.move(y,S),d==="rangeArea"&&(s=E.move(y,C)+E.line(y,S)),o=E.move(y,this.areaBottomY)+E.line(y,S);if(c=E.move(0,this.zeroY)+E.line(0,this.zeroY),u=E.move(0,this.zeroY)+E.line(0,this.zeroY),T.globals.previousPaths.length>0){var I=this.lineHelpers.checkPreviousPaths({pathFromLine:c,pathFromArea:u,realIndex:b});c=I.pathFromLine,u=I.pathFromArea}return{prevX:y,prevY:S,linePath:s,areaPath:o,pathFromLine:c,pathFromArea:u}}},{key:"_handlePaths",value:function(n){var s=n.type,o=n.realIndex,c=n.i,u=n.paths,d=this.w,f=new V(this.ctx),g=new Wt(this.ctx);this.prevSeriesY.push(u.yArrj),d.globals.seriesXvalues[o]=u.xArrj,d.globals.seriesYvalues[o]=u.yArrj;var b=d.config.forecastDataPoints;if(b.count>0&&s!=="rangeArea"){var v=d.globals.seriesXvalues[o][d.globals.seriesXvalues[o].length-b.count-1],y=f.drawRect(v,0,d.globals.gridWidth,d.globals.gridHeight,0);d.globals.dom.elForecastMask.appendChild(y.node);var S=f.drawRect(0,0,v,d.globals.gridHeight,0);d.globals.dom.elNonForecastMask.appendChild(S.node)}this.pointsChart||d.globals.delayedElements.push({el:this.elPointsMain.node,index:o});var C={i:c,realIndex:o,animationDelay:c,initialSpeed:d.config.chart.animations.speed,dataChangeSpeed:d.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(s)};if(s==="area")for(var T=g.fillPath({seriesNumber:o}),E=0;E<u.areaPaths.length;E++){var O=f.renderPaths(P(P({},C),{},{pathFrom:u.pathFromArea,pathTo:u.areaPaths[E],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:T}));this.elSeries.add(O)}if(d.config.stroke.show&&!this.pointsChart){var I=null;if(s==="line")I=g.fillPath({seriesNumber:o,i:c});else if(d.config.stroke.fill.type==="solid")I=d.globals.stroke.colors[o];else{var D=d.config.fill;d.config.fill=d.config.stroke.fill,I=g.fillPath({seriesNumber:o,i:c}),d.config.fill=D}for(var m=0;m<u.linePaths.length;m++){var k=I;s==="rangeArea"&&(k=g.fillPath({seriesNumber:o}));var L=P(P({},C),{},{pathFrom:u.pathFromLine,pathTo:u.linePaths[m],stroke:I,strokeWidth:this.strokeWidth,strokeLineCap:d.config.stroke.lineCap,fill:s==="rangeArea"?k:"none"}),B=f.renderPaths(L);if(this.elSeries.add(B),B.attr("fill-rule","evenodd"),b.count>0&&s!=="rangeArea"){var F=f.renderPaths(L);F.node.setAttribute("stroke-dasharray",b.dashArray),b.strokeWidth&&F.node.setAttribute("stroke-width",b.strokeWidth),this.elSeries.add(F),F.attr("clip-path","url(#forecastMask".concat(d.globals.cuid,")")),B.attr("clip-path","url(#nonForecastMask".concat(d.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(n){var s,o,c=this,u=n.type,d=n.series,f=n.iterations,g=n.realIndex,b=n.translationsIndex,v=n.i,y=n.x,S=n.y,C=n.pX,T=n.pY,E=n.pathsFrom,O=n.linePaths,I=n.areaPaths,D=n.seriesIndex,m=n.lineYPosition,k=n.xArrj,L=n.yArrj,B=n.y2Arrj,F=n.isRangeStart,_=n.seriesRangeEnd,G=this.w,q=new V(this.ctx),Z=this.yRatio,ie=E.prevY,te=E.linePath,ne=E.areaPath,oe=E.pathFromLine,le=E.pathFromArea,he=H.isNumber(G.globals.minYArr[g])?G.globals.minYArr[g]:G.globals.minY;f||(f=G.globals.dataPoints>1?G.globals.dataPoints-1:G.globals.dataPoints);var pe=function(rt,st){return st-rt/Z[b]+2*(c.isReversed?rt/Z[b]:0)},be=S,ge=G.config.chart.stacked&&!G.globals.comboCharts||G.config.chart.stacked&&G.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((s=this.w.config.series[g])===null||s===void 0?void 0:s.type)==="bar"||((o=this.w.config.series[g])===null||o===void 0?void 0:o.type)==="column"),Ce=G.config.stroke.curve;Array.isArray(Ce)&&(Ce=Array.isArray(D)?Ce[D[v]]:Ce[v]);for(var Ne,De=0,Le=0;Le<f;Le++){var wt=d[v][Le+1]===void 0||d[v][Le+1]===null;if(G.globals.isXNumeric){var Te=G.globals.seriesX[g][Le+1];G.globals.seriesX[g][Le+1]===void 0&&(Te=G.globals.seriesX[g][f-1]),y=(Te-G.globals.minX)/this.xRatio}else y+=this.xDivision;ge?v>0&&G.globals.collapsedSeries.length<G.config.series.length-1?m=this.prevSeriesY[(function(rt){for(var st=rt;st>0;st--){if(!(G.globals.collapsedSeriesIndices.indexOf(D?.[st]||st)>-1))return st;st--}return 0})(v-1)][Le+1]:m=this.zeroY:m=this.zeroY,wt?S=pe(he,m):(S=pe(d[v][Le+1],m),u==="rangeArea"&&(be=pe(_[v][Le+1],m))),k.push(y),!wt||G.config.stroke.curve!=="smooth"&&G.config.stroke.curve!=="monotoneCubic"?(L.push(S),B.push(be)):(L.push(null),B.push(null));var Ee=this.lineHelpers.calculatePoints({series:d,x:y,y:S,realIndex:g,i:v,j:Le,prevY:ie}),Me=this._createPaths({type:u,series:d,i:v,realIndex:g,j:Le,x:y,y:S,y2:be,xArrj:k,yArrj:L,y2Arrj:B,pX:C,pY:T,pathState:De,segmentStartX:Ne,linePath:te,areaPath:ne,linePaths:O,areaPaths:I,curve:Ce,isRangeStart:F});I=Me.areaPaths,O=Me.linePaths,C=Me.pX,T=Me.pY,De=Me.pathState,Ne=Me.segmentStartX,ne=Me.areaPath,te=Me.linePath,!this.appendPathFrom||Ce==="monotoneCubic"&&u==="rangeArea"||(oe+=q.line(y,this.zeroY),le+=q.line(y,this.zeroY)),this.handleNullDataPoints(d,Ee,v,Le,g),this._handleMarkersAndLabels({type:u,pointsPos:Ee,i:v,j:Le,realIndex:g,isRangeStart:F})}return{yArrj:L,xArrj:k,pathFromArea:le,areaPaths:I,pathFromLine:oe,linePaths:O,linePath:te,areaPath:ne}}},{key:"_handleMarkersAndLabels",value:function(n){var s=n.type,o=n.pointsPos,c=n.isRangeStart,u=n.i,d=n.j,f=n.realIndex,g=this.w,b=new Cn(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,d,{realIndex:f,pointsPos:o,zRatio:this.zRatio,elParent:this.elPointsMain});else{g.globals.series[u].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var v=this.markers.plotChartMarkers(o,f,d+1);v!==null&&this.elPointsMain.add(v)}var y=b.drawDataLabel({type:s,isRangeStart:c,pos:o,i:f,j:d+1});y!==null&&this.elDataLabelsWrap.add(y)}},{key:"_createPaths",value:function(n){var s=n.type,o=n.series,c=n.i;n.realIndex;var u,d=n.j,f=n.x,g=n.y,b=n.xArrj,v=n.yArrj,y=n.y2,S=n.y2Arrj,C=n.pX,T=n.pY,E=n.pathState,O=n.segmentStartX,I=n.linePath,D=n.areaPath,m=n.linePaths,k=n.areaPaths,L=n.curve,B=n.isRangeStart,F=new V(this.ctx),_=this.areaBottomY,G=s==="rangeArea",q=s==="rangeArea"&&B;switch(L){case"monotoneCubic":var Z=B?v:S;switch(E){case 0:if(Z[d+1]===null)break;E=1;case 1:if(!(G?b.length===o[c].length:d===o[c].length-2))break;case 2:var ie=B?b:b.slice().reverse(),te=B?Z:Z.slice().reverse(),ne=(u=te,ie.map((function(Te,Ee){return[Te,u[Ee]]})).filter((function(Te){return Te[1]!==null}))),oe=ne.length>1?Ub(ne):ne,le=[];G&&(q?k=ne:le=k.reverse());var he=0,pe=0;if((function(Te,Ee){for(var Me=(function(sr){var ut=[],ii=0;return sr.forEach((function(ix){ix!==null?ii++:ii>0&&(ut.push(ii),ii=0)})),ii>0&&ut.push(ii),ut})(Te),rt=[],st=0,Gt=0;st<Me.length;Gt+=Me[st++])rt[st]=$b(Ee,Gt,Gt+Me[st]);return rt})(te,oe).forEach((function(Te){he++;var Ee=(function(st){for(var Gt="",sr=0;sr<st.length;sr++){var ut=st[sr],ii=ut.length;ii>4?(Gt+="C".concat(ut[0],", ").concat(ut[1]),Gt+=", ".concat(ut[2],", ").concat(ut[3]),Gt+=", ".concat(ut[4],", ").concat(ut[5])):ii>2&&(Gt+="S".concat(ut[0],", ").concat(ut[1]),Gt+=", ".concat(ut[2],", ").concat(ut[3]))}return Gt})(Te),Me=pe,rt=(pe+=Te.length)-1;q?I=F.move(ne[Me][0],ne[Me][1])+Ee:G?I=F.move(le[Me][0],le[Me][1])+F.line(ne[Me][0],ne[Me][1])+Ee+F.line(le[rt][0],le[rt][1]):(I=F.move(ne[Me][0],ne[Me][1])+Ee,D=I+F.line(ne[rt][0],_)+F.line(ne[Me][0],_)+"z",k.push(D)),m.push(I)})),G&&he>1&&!q){var be=m.slice(he).reverse();m.splice(he),be.forEach((function(Te){return m.push(Te)}))}E=0}break;case"smooth":var ge=.35*(f-C);if(o[c][d]===null)E=0;else switch(E){case 0:if(O=C,I=q?F.move(C,S[d])+F.line(C,T):F.move(C,T),D=F.move(C,T),o[c][d+1]===null){m.push(I),k.push(D);break}if(E=1,d<o[c].length-2){var Ce=F.curve(C+ge,T,f-ge,g,f,g);I+=Ce,D+=Ce;break}case 1:if(o[c][d+1]===null)I+=q?F.line(C,y):F.move(C,T),D+=F.line(C,_)+F.line(O,_)+"z",m.push(I),k.push(D),E=-1;else{var Ne=F.curve(C+ge,T,f-ge,g,f,g);I+=Ne,D+=Ne,d>=o[c].length-2&&(q&&(I+=F.curve(f,g,f,g,f,y)+F.move(f,y)),D+=F.curve(f,g,f,g,f,_)+F.line(O,_)+"z",m.push(I),k.push(D),E=-1)}}C=f,T=g;break;default:var De=function(Te,Ee,Me){var rt=[];switch(Te){case"stepline":rt=F.line(Ee,null,"H")+F.line(null,Me,"V");break;case"linestep":rt=F.line(null,Me,"V")+F.line(Ee,null,"H");break;case"straight":rt=F.line(Ee,Me)}return rt};if(o[c][d]===null)E=0;else switch(E){case 0:if(O=C,I=q?F.move(C,S[d])+F.line(C,T):F.move(C,T),D=F.move(C,T),o[c][d+1]===null){m.push(I),k.push(D);break}if(E=1,d<o[c].length-2){var Le=De(L,f,g);I+=Le,D+=Le;break}case 1:if(o[c][d+1]===null)I+=q?F.line(C,y):F.move(C,T),D+=F.line(C,_)+F.line(O,_)+"z",m.push(I),k.push(D),E=-1;else{var wt=De(L,f,g);I+=wt,D+=wt,d>=o[c].length-2&&(q&&(I+=F.line(f,y)),D+=F.line(f,_)+F.line(O,_)+"z",m.push(I),k.push(D),E=-1)}}C=f,T=g}return{linePaths:m,areaPaths:k,pX:C,pY:T,pathState:E,segmentStartX:O,linePath:I,areaPath:D}}},{key:"handleNullDataPoints",value:function(n,s,o,c,u){var d=this.w;if(n[o][c]===null&&d.config.markers.showNullDataPoints||n[o].length===1){var f=this.strokeWidth-d.config.markers.strokeWidth/2;f>0||(f=0);var g=this.markers.plotChartMarkers(s,u,c+1,f,!0);g!==null&&this.elPointsMain.add(g)}}}]),N})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function N(f,g,b,v){this.xoffset=f,this.yoffset=g,this.height=v,this.width=b,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(y){var S,C=[],T=this.xoffset,E=this.yoffset,O=u(y)/this.height,I=u(y)/this.width;if(this.width>=this.height)for(S=0;S<y.length;S++)C.push([T,E,T+O,E+y[S]/O]),E+=y[S]/O;else for(S=0;S<y.length;S++)C.push([T,E,T+y[S]/I,E+I]),T+=y[S]/I;return C},this.cutArea=function(y){var S;if(this.width>=this.height){var C=y/this.height,T=this.width-C;S=new N(this.xoffset+C,this.yoffset,T,this.height)}else{var E=y/this.width,O=this.height-E;S=new N(this.xoffset,this.yoffset+E,this.width,O)}return S}}function n(f,g,b,v,y){v=v===void 0?0:v,y=y===void 0?0:y;var S=s((function(C,T){var E,O=[],I=T/u(C);for(E=0;E<C.length;E++)O[E]=C[E]*I;return O})(f,g*b),[],new N(v,y,g,b),[]);return(function(C){var T,E,O=[];for(T=0;T<C.length;T++)for(E=0;E<C[T].length;E++)O.push(C[T][E]);return O})(S)}function s(f,g,b,v){var y,S,C;if(f.length!==0)return y=b.shortestEdge(),(function(T,E,O){var I;if(T.length===0)return!0;(I=T.slice()).push(E);var D=o(T,O),m=o(I,O);return D>=m})(g,S=f[0],y)?(g.push(S),s(f.slice(1),g,b,v)):(C=b.cutArea(u(g),v),v.push(b.getCoordinates(g)),s(f,[],C,v)),v;v.push(b.getCoordinates(g))}function o(f,g){var b=Math.min.apply(Math,f),v=Math.max.apply(Math,f),y=u(f);return Math.max(Math.pow(g,2)*v/Math.pow(y,2),Math.pow(y,2)/(Math.pow(g,2)*b))}function c(f){return f&&f.constructor===Array}function u(f){var g,b=0;for(g=0;g<f.length;g++)b+=f[g];return b}function d(f){var g,b=0;if(c(f[0]))for(g=0;g<f.length;g++)b+=d(f[g]);else b=u(f);return b}return function f(g,b,v,y,S){y=y===void 0?0:y,S=S===void 0?0:S;var C,T,E=[],O=[];if(c(g[0])){for(T=0;T<g.length;T++)E[T]=d(g[T]);for(C=n(E,b,v,y,S),T=0;T<g.length;T++)O.push(f(g[T],C[T][2]-C[T][0],C[T][3]-C[T][1],C[T][0],C[T][1]))}else O=n(g,b,v,y,S);return O}})();var Xi,ls,Kb=(function(){function N(n,s){a(this,N),this.ctx=n,this.w=n.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Nh(n),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return h(N,[{key:"draw",value:function(n){var s=this,o=this.w,c=new V(this.ctx),u=new Wt(this.ctx),d=c.group({class:"apexcharts-treemap"});if(o.globals.noData)return d;var f=[];return n.forEach((function(g){var b=g.map((function(v){return Math.abs(v)}));f.push(b)})),this.negRange=this.helpers.checkColorRange(),o.config.series.forEach((function(g,b){g.data.forEach((function(v){Array.isArray(s.labels[b])||(s.labels[b]=[]),s.labels[b].push(v.x)}))})),window.TreemapSquared.generate(f,o.globals.gridWidth,o.globals.gridHeight).forEach((function(g,b){var v=c.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:H.escapeString(o.globals.seriesNames[b]),rel:b+1,"data:realIndex":b});if(o.config.chart.dropShadow.enabled){var y=o.config.chart.dropShadow;new U(s.ctx).dropShadow(d,y,b)}var S=c.group({class:"apexcharts-data-labels"});g.forEach((function(C,T){var E=C[0],O=C[1],I=C[2],D=C[3],m=c.drawRect(E,O,I-E,D-O,o.config.plotOptions.treemap.borderRadius,"#fff",1,s.strokeWidth,o.config.plotOptions.treemap.useFillColorAsStroke?L:o.globals.stroke.colors[b]);m.attr({cx:E,cy:O,index:b,i:b,j:T,width:I-E,height:D-O});var k=s.helpers.getShadeColor(o.config.chart.type,b,T,s.negRange),L=k.color;o.config.series[b].data[T]!==void 0&&o.config.series[b].data[T].fillColor&&(L=o.config.series[b].data[T].fillColor);var B=u.fillPath({color:L,seriesNumber:b,dataPointIndex:T});m.node.classList.add("apexcharts-treemap-rect"),m.attr({fill:B}),s.helpers.addListeners(m);var F={x:E+(I-E)/2,y:O+(D-O)/2,width:0,height:0},_={x:E,y:O,width:I-E,height:D-O};if(o.config.chart.animations.enabled&&!o.globals.dataChanged){var G=1;o.globals.resized||(G=o.config.chart.animations.speed),s.animateTreemap(m,F,_,G)}if(o.globals.dataChanged){var q=1;s.dynamicAnim.enabled&&o.globals.shouldAnimate&&(q=s.dynamicAnim.speed,o.globals.previousPaths[b]&&o.globals.previousPaths[b][T]&&o.globals.previousPaths[b][T].rect&&(F=o.globals.previousPaths[b][T].rect),s.animateTreemap(m,F,_,q))}var Z=s.getFontSize(C),ie=o.config.dataLabels.formatter(s.labels[b][T],{value:o.globals.series[b][T],seriesIndex:b,dataPointIndex:T,w:o});o.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Z=parseInt(o.config.dataLabels.style.fontSize,10),ie=s.truncateLabels(ie,Z,E,O,I,D));var te=null;o.globals.series[b][T]&&(te=s.helpers.calculateDataLabels({text:ie,x:(E+I)/2,y:(O+D)/2+s.strokeWidth/2+Z/3,i:b,j:T,colorProps:k,fontSize:Z,series:n})),o.config.dataLabels.enabled&&te&&s.rotateToFitLabel(te,Z,ie,E,O,I,D),v.add(m),te!==null&&v.add(te)})),v.add(S),d.add(v)})),d}},{key:"getFontSize",value:function(n){var s=this.w,o,c,u,d,f=(function g(b){var v,y=0;if(Array.isArray(b[0]))for(v=0;v<b.length;v++)y+=g(b[v]);else for(v=0;v<b.length;v++)y+=b[v].length;return y})(this.labels)/(function g(b){var v,y=0;if(Array.isArray(b[0]))for(v=0;v<b.length;v++)y+=g(b[v]);else for(v=0;v<b.length;v++)y+=1;return y})(this.labels);return o=n[2]-n[0],c=n[3]-n[1],u=o*c,d=Math.pow(u,.5),Math.min(d/f,parseInt(s.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(n,s,o,c,u,d,f){var g=new V(this.ctx),b=g.getTextRects(o,s);if(b.width+this.w.config.stroke.width+5>d-c&&b.width<=f-u){var v=g.rotateAroundCenter(n.node);n.node.setAttribute("transform","rotate(-90 ".concat(v.x," ").concat(v.y,") translate(").concat(b.height/3,")"))}}},{key:"truncateLabels",value:function(n,s,o,c,u,d){var f=new V(this.ctx),g=f.getTextRects(n,s).width+this.w.config.stroke.width+5>u-o&&d-c>u-o?d-c:u-o,b=f.getTextBasedOnMaxWidth({text:n,maxWidth:g,fontSize:s});return n.length!==b.length&&g/s<5?"":b}},{key:"animateTreemap",value:function(n,s,o,c){var u=new J(this.ctx);u.animateRect(n,{x:s.x,y:s.y,width:s.width,height:s.height},{x:o.x,y:o.y,width:o.width,height:o.height},c,(function(){u.animationCompleted(n)}))}}]),N})(),zh=86400,Jb=10/zh,Zb=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return h(N,[{key:"calculateTimeScaleTicks",value:function(n,s){var o=this,c=this.w;if(c.globals.allSeriesCollapsed)return c.globals.labels=[],c.globals.timescaleLabels=[],[];var u=new ye(this.ctx),d=(s-n)/864e5;this.determineInterval(d),c.globals.disableZoomIn=!1,c.globals.disableZoomOut=!1,d<Jb?c.globals.disableZoomIn=!0:d>5e4&&(c.globals.disableZoomOut=!0);var f=u.getTimeUnitsfromTimestamp(n,s,this.utc),g=c.globals.gridWidth/d,b=g/24,v=b/60,y=v/60,S=Math.floor(24*d),C=Math.floor(1440*d),T=Math.floor(d*zh),E=Math.floor(d),O=Math.floor(d/30),I=Math.floor(d/365),D={minMillisecond:f.minMillisecond,minSecond:f.minSecond,minMinute:f.minMinute,minHour:f.minHour,minDate:f.minDate,minMonth:f.minMonth,minYear:f.minYear},m={firstVal:D,currentMillisecond:D.minMillisecond,currentSecond:D.minSecond,currentMinute:D.minMinute,currentHour:D.minHour,currentMonthDate:D.minDate,currentDate:D.minDate,currentMonth:D.minMonth,currentYear:D.minYear,daysWidthOnXAxis:g,hoursWidthOnXAxis:b,minutesWidthOnXAxis:v,secondsWidthOnXAxis:y,numberOfSeconds:T,numberOfMinutes:C,numberOfHours:S,numberOfDays:E,numberOfMonths:O,numberOfYears:I};switch(this.tickInterval){case"years":this.generateYearScale(m);break;case"months":case"half_year":this.generateMonthScale(m);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(m);break;case"hours":this.generateHourScale(m);break;case"minutes_fives":case"minutes":this.generateMinuteScale(m);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(m)}var k=this.timeScaleArray.map((function(L){var B={position:L.position,unit:L.unit,year:L.year,day:L.day?L.day:1,hour:L.hour?L.hour:0,month:L.month+1};return L.unit==="month"?P(P({},B),{},{day:1,value:L.value+1}):L.unit==="day"||L.unit==="hour"?P(P({},B),{},{value:L.value}):L.unit==="minute"?P(P({},B),{},{value:L.value,minute:L.value}):L.unit==="second"?P(P({},B),{},{value:L.value,minute:L.minute,second:L.second}):L}));return k.filter((function(L){var B=1,F=Math.ceil(c.globals.gridWidth/120),_=L.value;c.config.xaxis.tickAmount!==void 0&&(F=c.config.xaxis.tickAmount),k.length>F&&(B=Math.floor(k.length/F));var G=!1,q=!1;switch(o.tickInterval){case"years":L.unit==="year"&&(G=!0);break;case"half_year":B=7,L.unit==="year"&&(G=!0);break;case"months":B=1,L.unit==="year"&&(G=!0);break;case"months_fortnight":B=15,L.unit!=="year"&&L.unit!=="month"||(G=!0),_===30&&(q=!0);break;case"months_days":B=10,L.unit==="month"&&(G=!0),_===30&&(q=!0);break;case"week_days":B=8,L.unit==="month"&&(G=!0);break;case"days":B=1,L.unit==="month"&&(G=!0);break;case"hours":L.unit==="day"&&(G=!0);break;case"minutes_fives":case"seconds_fives":_%5!=0&&(q=!0);break;case"seconds_tens":_%10!=0&&(q=!0)}if(o.tickInterval==="hours"||o.tickInterval==="minutes_fives"||o.tickInterval==="seconds_tens"||o.tickInterval==="seconds_fives"){if(!q)return!0}else if((_%B==0||G)&&!q)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(n,s){var o=this.w,c=this.formatDates(n),u=this.removeOverlappingTS(c);o.globals.timescaleLabels=u.slice(),new as(this.ctx).plotCoords()}},{key:"determineInterval",value:function(n){var s=24*n,o=60*s;switch(!0){case n/365>5:this.tickInterval="years";break;case n>800:this.tickInterval="half_year";break;case n>180:this.tickInterval="months";break;case n>90:this.tickInterval="months_fortnight";break;case n>60:this.tickInterval="months_days";break;case n>30:this.tickInterval="week_days";break;case n>2:this.tickInterval="days";break;case s>2.4:this.tickInterval="hours";break;case o>15:this.tickInterval="minutes_fives";break;case o>5:this.tickInterval="minutes";break;case o>1:this.tickInterval="seconds_tens";break;case 60*o>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(n){var s=n.firstVal,o=n.currentMonth,c=n.currentYear,u=n.daysWidthOnXAxis,d=n.numberOfYears,f=s.minYear,g=0,b=new ye(this.ctx),v="year";if(s.minDate>1||s.minMonth>0){var y=b.determineRemainingDaysOfYear(s.minYear,s.minMonth,s.minDate);g=(b.determineDaysOfYear(s.minYear)-y+1)*u,f=s.minYear+1,this.timeScaleArray.push({position:g,value:f,unit:v,year:f,month:H.monthMod(o+1)})}else s.minDate===1&&s.minMonth===0&&this.timeScaleArray.push({position:g,value:f,unit:v,year:c,month:H.monthMod(o+1)});for(var S=f,C=g,T=0;T<d;T++)S++,C=b.determineDaysOfYear(S-1)*u+C,this.timeScaleArray.push({position:C,value:S,unit:v,year:S,month:1})}},{key:"generateMonthScale",value:function(n){var s=n.firstVal,o=n.currentMonthDate,c=n.currentMonth,u=n.currentYear,d=n.daysWidthOnXAxis,f=n.numberOfMonths,g=c,b=0,v=new ye(this.ctx),y="month",S=0;if(s.minDate>1){b=(v.determineDaysOfMonths(c+1,s.minYear)-o+1)*d,g=H.monthMod(c+1);var C=u+S,T=H.monthMod(g),E=g;g===0&&(y="year",E=C,T=1,C+=S+=1),this.timeScaleArray.push({position:b,value:E,unit:y,year:C,month:T})}else this.timeScaleArray.push({position:b,value:g,unit:y,year:u,month:H.monthMod(c)});for(var O=g+1,I=b,D=0,m=1;D<f;D++,m++){(O=H.monthMod(O))===0?(y="year",S+=1):y="month";var k=this._getYear(u,O,S);I=v.determineDaysOfMonths(O,k)*d+I;var L=O===0?k:O;this.timeScaleArray.push({position:I,value:L,unit:y,year:k,month:O===0?1:O}),O++}}},{key:"generateDayScale",value:function(n){var s=n.firstVal,o=n.currentMonth,c=n.currentYear,u=n.hoursWidthOnXAxis,d=n.numberOfDays,f=new ye(this.ctx),g="day",b=s.minDate+1,v=b,y=function(m,k,L){return m>f.determineDaysOfMonths(k+1,L)&&(v=1,g="month",C=k+=1),k},S=(24-s.minHour)*u,C=b,T=y(v,o,c);s.minHour===0&&s.minDate===1?(S=0,C=H.monthMod(s.minMonth),g="month",v=s.minDate):s.minDate!==1&&s.minHour===0&&s.minMinute===0&&(S=0,b=s.minDate,C=b,T=y(v=b,o,c)),this.timeScaleArray.push({position:S,value:C,unit:g,year:this._getYear(c,T,0),month:H.monthMod(T),day:v});for(var E=S,O=0;O<d;O++){g="day",T=y(v+=1,T,this._getYear(c,T,0));var I=this._getYear(c,T,0);E=24*u+E;var D=v===1?H.monthMod(T):v;this.timeScaleArray.push({position:E,value:D,unit:g,year:I,month:H.monthMod(T),day:D})}}},{key:"generateHourScale",value:function(n){var s=n.firstVal,o=n.currentDate,c=n.currentMonth,u=n.currentYear,d=n.minutesWidthOnXAxis,f=n.numberOfHours,g=new ye(this.ctx),b="hour",v=function(B,F){return B>g.determineDaysOfMonths(F+1,u)&&(O=1,F+=1),{month:F,date:O}},y=function(B,F){return B>g.determineDaysOfMonths(F+1,u)?F+=1:F},S=60-(s.minMinute+s.minSecond/60),C=S*d,T=s.minHour+1,E=T;S===60&&(C=0,E=T=s.minHour);var O=o;E>=24&&(E=0,O+=1,b="day");var I=v(O,c).month;I=y(O,I),this.timeScaleArray.push({position:C,value:T,unit:b,day:O,hour:E,year:u,month:H.monthMod(I)}),E++;for(var D=C,m=0;m<f;m++){b="hour",E>=24&&(E=0,b="day",I=v(O+=1,I).month,I=y(O,I));var k=this._getYear(u,I,0);D=60*d+D;var L=E===0?O:E;this.timeScaleArray.push({position:D,value:L,unit:b,hour:E,day:O,year:k,month:H.monthMod(I)}),E++}}},{key:"generateMinuteScale",value:function(n){for(var s=n.currentMillisecond,o=n.currentSecond,c=n.currentMinute,u=n.currentHour,d=n.currentDate,f=n.currentMonth,g=n.currentYear,b=n.minutesWidthOnXAxis,v=n.secondsWidthOnXAxis,y=n.numberOfMinutes,S=c+1,C=d,T=f,E=g,O=u,I=(60-o-s/1e3)*v,D=0;D<y;D++)S>=60&&(S=0,(O+=1)===24&&(O=0)),this.timeScaleArray.push({position:I,value:S,unit:"minute",hour:O,minute:S,day:C,year:this._getYear(E,T,0),month:H.monthMod(T)}),I+=b,S++}},{key:"generateSecondScale",value:function(n){for(var s=n.currentMillisecond,o=n.currentSecond,c=n.currentMinute,u=n.currentHour,d=n.currentDate,f=n.currentMonth,g=n.currentYear,b=n.secondsWidthOnXAxis,v=n.numberOfSeconds,y=o+1,S=c,C=d,T=f,E=g,O=u,I=(1e3-s)/1e3*b,D=0;D<v;D++)y>=60&&(y=0,++S>=60&&(S=0,++O===24&&(O=0))),this.timeScaleArray.push({position:I,value:y,unit:"second",hour:O,minute:S,second:y,day:C,year:this._getYear(E,T,0),month:H.monthMod(T)}),I+=b,y++}},{key:"createRawDateString",value:function(n,s){var o=n.year;return n.month===0&&(n.month=1),o+="-"+("0"+n.month.toString()).slice(-2),n.unit==="day"?o+=n.unit==="day"?"-"+("0"+s).slice(-2):"-01":o+="-"+("0"+(n.day?n.day:"1")).slice(-2),n.unit==="hour"?o+=n.unit==="hour"?"T"+("0"+s).slice(-2):"T00":o+="T"+("0"+(n.hour?n.hour:"0")).slice(-2),n.unit==="minute"?o+=":"+("0"+s).slice(-2):o+=":"+(n.minute?("0"+n.minute).slice(-2):"00"),n.unit==="second"?o+=":"+("0"+s).slice(-2):o+=":00",this.utc&&(o+=".000Z"),o}},{key:"formatDates",value:function(n){var s=this,o=this.w;return n.map((function(c){var u=c.value.toString(),d=new ye(s.ctx),f=s.createRawDateString(c,u),g=d.getDate(d.parseDate(f));if(s.utc||(g=d.getDate(d.parseDateWithTimezone(f))),o.config.xaxis.labels.format===void 0){var b="dd MMM",v=o.config.xaxis.labels.datetimeFormatter;c.unit==="year"&&(b=v.year),c.unit==="month"&&(b=v.month),c.unit==="day"&&(b=v.day),c.unit==="hour"&&(b=v.hour),c.unit==="minute"&&(b=v.minute),c.unit==="second"&&(b=v.second),u=d.formatDate(g,b)}else u=d.formatDate(g,o.config.xaxis.labels.format);return{dateString:f,position:c.position,value:u,unit:c.unit,year:c.year,month:c.month}}))}},{key:"removeOverlappingTS",value:function(n){var s,o=this,c=new V(this.ctx),u=!1;n.length>0&&n[0].value&&n.every((function(g){return g.value.length===n[0].value.length}))&&(u=!0,s=c.getTextRects(n[0].value).width);var d=0,f=n.map((function(g,b){if(b>0&&o.w.config.xaxis.labels.hideOverlappingLabels){var v=u?s:c.getTextRects(n[d].value).width,y=n[d].position;return g.position>y+v+10?(d=b,g):null}return g}));return f=f.filter((function(g){return g!==null}))}},{key:"_getYear",value:function(n,s,o){return n+Math.floor(s/12)+o}}]),N})(),Qb=(function(){function N(n,s){a(this,N),this.ctx=s,this.w=s.w,this.el=n}return h(N,[{key:"setupElements",value:function(){var n=this.w,s=n.globals,o=n.config,c=o.chart.type;s.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(c),s.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(c),s.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(c)&&o.plotOptions.bar.horizontal,s.chartClass=".apexcharts".concat(s.chartID),s.dom.baseEl=this.el,s.dom.elWrap=document.createElement("div"),V.setAttrs(s.dom.elWrap,{id:s.chartClass.substring(1),class:"apexcharts-canvas ".concat(s.chartClass.substring(1))}),this.el.appendChild(s.dom.elWrap),s.dom.Paper=new window.SVG.Doc(s.dom.elWrap),s.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(o.chart.offsetX,", ").concat(o.chart.offsetY,")")}),s.dom.Paper.node.style.background=o.theme.mode!=="dark"||o.chart.background?o.theme.mode!=="light"||o.chart.background?o.chart.background:"#fff":"#424242",this.setSVGDimensions(),s.dom.elLegendForeign=document.createElementNS(s.SVGNS,"foreignObject"),V.setAttrs(s.dom.elLegendForeign,{x:0,y:0,width:s.svgWidth,height:s.svgHeight}),s.dom.elLegendWrap=document.createElement("div"),s.dom.elLegendWrap.classList.add("apexcharts-legend"),s.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),s.dom.elLegendForeign.appendChild(s.dom.elLegendWrap),s.dom.Paper.node.appendChild(s.dom.elLegendForeign),s.dom.elGraphical=s.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),s.dom.elDefs=s.dom.Paper.defs(),s.dom.Paper.add(s.dom.elGraphical),s.dom.elGraphical.add(s.dom.elDefs)}},{key:"plotChartType",value:function(n,s){var o=this.w,c=this.ctx,u=o.config,d=o.globals,f={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},g=u.chart.type||"line",b=null,v=0;d.series.forEach((function(B,F){var _=n[F].type||g;f[_]?(_==="rangeArea"?(f[_].series.push(d.seriesRangeStart[F]),f[_].seriesRangeEnd.push(d.seriesRangeEnd[F])):f[_].series.push(B),f[_].i.push(F),_!=="column"&&_!=="bar"||(o.globals.columnSeries=f.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(_)?b=_:_==="bar"?(f.column.series.push(B),f.column.i.push(F)):console.warn("You have specified an unrecognized series type (".concat(_,").")),g!==_&&_!=="scatter"&&v++})),v>0&&(b&&console.warn("Chart or series type ".concat(b," cannot appear with other chart or series types.")),f.column.series.length>0&&u.plotOptions.bar.horizontal&&(v-=f.column.series.length,f.column={series:[],i:[]},o.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),d.comboCharts||(d.comboCharts=v>0);var y=new To(c,s),S=new Co(c,s);c.pie=new Fh(c);var C=new Vb(c);c.rangeBar=new jb(c,s);var T=new Yb(c),E=[];if(d.comboCharts){var O,I,D=new re(c);if(f.area.series.length>0&&(O=E).push.apply(O,Y(D.drawSeriesByGroup(f.area,d.areaGroups,"area",y))),f.column.series.length>0)if(u.chart.stacked){var m=new Ih(c,s);E.push(m.draw(f.column.series,f.column.i))}else c.bar=new En(c,s),E.push(c.bar.draw(f.column.series,f.column.i));if(f.rangeArea.series.length>0&&E.push(y.draw(f.rangeArea.series,"rangeArea",f.rangeArea.i,f.rangeArea.seriesRangeEnd)),f.line.series.length>0&&(I=E).push.apply(I,Y(D.drawSeriesByGroup(f.line,d.lineGroups,"line",y))),f.candlestick.series.length>0&&E.push(S.draw(f.candlestick.series,"candlestick",f.candlestick.i)),f.boxPlot.series.length>0&&E.push(S.draw(f.boxPlot.series,"boxPlot",f.boxPlot.i)),f.rangeBar.series.length>0&&E.push(c.rangeBar.draw(f.rangeBar.series,f.rangeBar.i)),f.scatter.series.length>0){var k=new To(c,s,!0);E.push(k.draw(f.scatter.series,"scatter",f.scatter.i))}if(f.bubble.series.length>0){var L=new To(c,s,!0);E.push(L.draw(f.bubble.series,"bubble",f.bubble.i))}}else switch(u.chart.type){case"line":E=y.draw(d.series,"line");break;case"area":E=y.draw(d.series,"area");break;case"bar":u.chart.stacked?E=new Ih(c,s).draw(d.series):(c.bar=new En(c,s),E=c.bar.draw(d.series));break;case"candlestick":E=new Co(c,s).draw(d.series,"candlestick");break;case"boxPlot":E=new Co(c,s).draw(d.series,u.chart.type);break;case"rangeBar":E=c.rangeBar.draw(d.series);break;case"rangeArea":E=y.draw(d.seriesRangeStart,"rangeArea",void 0,d.seriesRangeEnd);break;case"heatmap":E=new Xb(c,s).draw(d.series);break;case"treemap":E=new Kb(c,s).draw(d.series);break;case"pie":case"donut":case"polarArea":E=c.pie.draw(d.series);break;case"radialBar":E=C.draw(d.series);break;case"radar":E=T.draw(d.series);break;default:E=y.draw(d.series)}return E}},{key:"setSVGDimensions",value:function(){var n=this.w,s=n.globals,o=n.config;o.chart.width=o.chart.width||"100%",o.chart.height=o.chart.height||"auto",s.svgWidth=o.chart.width,s.svgHeight=o.chart.height;var c=H.getDimensions(this.el),u=o.chart.width.toString().split(/[0-9]+/g).pop();u==="%"?H.isNumber(c[0])&&(c[0].width===0&&(c=H.getDimensions(this.el.parentNode)),s.svgWidth=c[0]*parseInt(o.chart.width,10)/100):u!=="px"&&u!==""||(s.svgWidth=parseInt(o.chart.width,10));var d=String(o.chart.height).toString().split(/[0-9]+/g).pop();if(s.svgHeight!=="auto"&&s.svgHeight!=="")if(d==="%"){var f=H.getDimensions(this.el.parentNode);s.svgHeight=f[1]*parseInt(o.chart.height,10)/100}else s.svgHeight=parseInt(o.chart.height,10);else s.svgHeight=s.axisCharts?s.svgWidth/1.61:s.svgWidth/1.2;if(s.svgWidth=Math.max(s.svgWidth,0),s.svgHeight=Math.max(s.svgHeight,0),V.setAttrs(s.dom.Paper.node,{width:s.svgWidth,height:s.svgHeight}),d!=="%"){var g=o.chart.sparkline.enabled?0:s.axisCharts?o.chart.parentHeightOffset:0;s.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(s.svgHeight+g,"px")}s.dom.elWrap.style.width="".concat(s.svgWidth,"px"),s.dom.elWrap.style.height="".concat(s.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var n=this.w.globals,s=n.translateY,o=n.translateX;V.setAttrs(n.dom.elGraphical.node,{transform:"translate(".concat(o,", ").concat(s,")")})}},{key:"resizeNonAxisCharts",value:function(){var n=this.w,s=n.globals,o=0,c=n.config.chart.sparkline.enabled?1:15;c+=n.config.grid.padding.bottom,["top","bottom"].includes(n.config.legend.position)&&n.config.legend.show&&!n.config.legend.floating&&(o=new Mh(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var u=n.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),d=2.05*n.globals.radialSize;if(u&&!n.config.chart.sparkline.enabled&&n.config.plotOptions.radialBar.startAngle!==0){var f=H.getBoundingClientRect(u);d=f.bottom;var g=f.bottom-f.top;d=Math.max(2.05*n.globals.radialSize,g)}var b=Math.ceil(d+s.translateY+o+c);s.dom.elLegendForeign&&s.dom.elLegendForeign.setAttribute("height",b),n.config.chart.height&&String(n.config.chart.height).includes("%")||(s.dom.elWrap.style.height="".concat(b,"px"),V.setAttrs(s.dom.Paper.node,{height:b}),s.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(b,"px"))}},{key:"coreCalculations",value:function(){new So(this.ctx).init()}},{key:"resetGlobals",value:function(){var n=this,s=function(){return n.w.config.series.map((function(){return[]}))},o=new Wi,c=this.w.globals;o.initGlobalVars(c),c.seriesXvalues=s(),c.seriesYvalues=s()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var n=this.w,s=null;if(n.globals.axisCharts){if(n.config.xaxis.crosshairs.position==="back"&&new Ao(this.ctx).drawXCrosshairs(),n.config.yaxis[0].crosshairs.position==="back"&&new Ao(this.ctx).drawYCrosshairs(),n.config.xaxis.type==="datetime"&&n.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Zb(this.ctx);var o=[];isFinite(n.globals.minX)&&isFinite(n.globals.maxX)&&!n.globals.isBarHorizontal?o=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minX,n.globals.maxX):n.globals.isBarHorizontal&&(o=this.ctx.timeScale.calculateTimeScaleTicks(n.globals.minY,n.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(o)}s=new re(this.ctx).getCalculatedRatios()}return s}},{key:"updateSourceChart",value:function(n){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:n.w.globals.minX,max:n.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var n=this,s=this.w;if(s.config.chart.brush.enabled&&typeof s.config.chart.events.selection!="function"){var o=Array.isArray(s.config.chart.brush.targets)?s.config.chart.brush.targets:[s.config.chart.brush.target];o.forEach((function(c){var u=ApexCharts.getChartByID(c);u.w.globals.brushSource=n.ctx,typeof u.w.config.chart.events.zoomed!="function"&&(u.w.config.chart.events.zoomed=function(){return n.updateSourceChart(u)}),typeof u.w.config.chart.events.scrolled!="function"&&(u.w.config.chart.events.scrolled=function(){return n.updateSourceChart(u)})})),s.config.chart.events.selection=function(c,u){o.forEach((function(d){ApexCharts.getChartByID(d).ctx.updateHelpers._updateOptions({xaxis:{min:u.xaxis.min,max:u.xaxis.max}},!1,!1,!1,!1)}))}}}}]),N})(),ex=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"_updateOptions",value:function(n){var s=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(f){var g=[s.ctx];u&&(g=s.ctx.getSyncedCharts()),s.ctx.w.globals.isExecCalled&&(g=[s.ctx],s.ctx.w.globals.isExecCalled=!1),g.forEach((function(b,v){var y=b.w;if(y.globals.shouldAnimate=c,o||(y.globals.resized=!0,y.globals.dataChanged=!0,c&&b.series.getPreviousPaths()),n&&K(n)==="object"&&(b.config=new ti(n),n=re.extendArrayProps(b.config,n,y),b.w.globals.chartID!==s.ctx.w.globals.chartID&&delete n.series,y.config=H.extend(y.config,n),d&&(y.globals.lastXAxis=n.xaxis?H.clone(n.xaxis):[],y.globals.lastYAxis=n.yaxis?H.clone(n.yaxis):[],y.globals.initialConfig=H.extend({},y.config),y.globals.initialSeries=H.clone(y.config.series),n.series))){for(var S=0;S<y.globals.collapsedSeriesIndices.length;S++){var C=y.config.series[y.globals.collapsedSeriesIndices[S]];y.globals.collapsedSeries[S].data=y.globals.axisCharts?C.data.slice():C}for(var T=0;T<y.globals.ancillaryCollapsedSeriesIndices.length;T++){var E=y.config.series[y.globals.ancillaryCollapsedSeriesIndices[T]];y.globals.ancillaryCollapsedSeries[T].data=y.globals.axisCharts?E.data.slice():E}b.series.emptyCollapsedSeries(y.config.series)}return b.update(n).then((function(){v===g.length-1&&f(b)}))}))}))}},{key:"_updateSeries",value:function(n,s){var o=this,c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(u){var d,f=o.w;return f.globals.shouldAnimate=s,f.globals.dataChanged=!0,s&&o.ctx.series.getPreviousPaths(),f.globals.axisCharts?((d=n.map((function(g,b){return o._extendSeries(g,b)}))).length===0&&(d=[{data:[]}]),f.config.series=d):f.config.series=n.slice(),c&&(f.globals.initialConfig.series=H.clone(f.config.series),f.globals.initialSeries=H.clone(f.config.series)),o.ctx.update().then((function(){u(o.ctx)}))}))}},{key:"_extendSeries",value:function(n,s){var o=this.w,c=o.config.series[s];return P(P({},o.config.series[s]),{},{name:n.name?n.name:c?.name,color:n.color?n.color:c?.color,type:n.type?n.type:c?.type,group:n.group?n.group:c?.group,hidden:n.hidden!==void 0?n.hidden:c?.hidden,data:n.data?n.data:c?.data,zIndex:n.zIndex!==void 0?n.zIndex:s})}},{key:"toggleDataPointSelection",value:function(n,s){var o=this.w,c=null,u=".apexcharts-series[data\\:realIndex='".concat(n,"']");return o.globals.axisCharts?c=o.globals.dom.Paper.select("".concat(u," path[j='").concat(s,"'], ").concat(u," circle[j='").concat(s,"'], ").concat(u," rect[j='").concat(s,"']")).members[0]:s===void 0&&(c=o.globals.dom.Paper.select("".concat(u," path[j='").concat(n,"']")).members[0],o.config.chart.type!=="pie"&&o.config.chart.type!=="polarArea"&&o.config.chart.type!=="donut"||this.ctx.pie.pieClicked(n)),c?(new V(this.ctx).pathMouseDown(c,null),c.node?c.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(n){var s=this.w;if(["min","max"].forEach((function(c){n.xaxis[c]!==void 0&&(s.config.xaxis[c]=n.xaxis[c],s.globals.lastXAxis[c]=n.xaxis[c])})),n.xaxis.categories&&n.xaxis.categories.length&&(s.config.xaxis.categories=n.xaxis.categories),s.config.xaxis.convertedCatToNumeric){var o=new Tt(n);n=o.convertCatToNumericXaxis(n,this.ctx)}return n}},{key:"forceYAxisUpdate",value:function(n){return n.chart&&n.chart.stacked&&n.chart.stackType==="100%"&&(Array.isArray(n.yaxis)?n.yaxis.forEach((function(s,o){n.yaxis[o].min=0,n.yaxis[o].max=100})):(n.yaxis.min=0,n.yaxis.max=100)),n}},{key:"revertDefaultAxisMinMax",value:function(n){var s=this,o=this.w,c=o.globals.lastXAxis,u=o.globals.lastYAxis;n&&n.xaxis&&(c=n.xaxis),n&&n.yaxis&&(u=n.yaxis),o.config.xaxis.min=c.min,o.config.xaxis.max=c.max;var d=function(f){u[f]!==void 0&&(o.config.yaxis[f].min=u[f].min,o.config.yaxis[f].max=u[f].max)};o.config.yaxis.map((function(f,g){o.globals.zoomed||u[g]!==void 0?d(g):s.ctx.opts.yaxis[g]!==void 0&&(f.min=s.ctx.opts.yaxis[g].min,f.max=s.ctx.opts.yaxis[g].max)}))}}]),N})();Xi=typeof window<"u"?window:void 0,ls=function(N,n){var s=(this!==void 0?this:N).SVG=function(m){if(s.supported)return m=new s.Doc(m),s.parser.draw||s.prepare(),m};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.dev",s.supported=!0,!s.supported)return!1;s.did=1e3,s.eid=function(m){return"Svgjs"+v(m)+s.did++},s.create=function(m){var k=n.createElementNS(this.ns,m);return k.setAttribute("id",this.eid(m)),k},s.extend=function(){var m,k;k=(m=[].slice.call(arguments)).pop();for(var L=m.length-1;L>=0;L--)if(m[L])for(var B in k)m[L].prototype[B]=k[B];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(m){var k=typeof m.create=="function"?m.create:function(){this.constructor.call(this,s.create(m.create))};return m.inherit&&(k.prototype=new m.inherit),m.extend&&s.extend(k,m.extend),m.construct&&s.extend(m.parent||s.Container,m.construct),k},s.adopt=function(m){return m?m.instance?m.instance:((k=m.nodeName=="svg"?m.parentNode instanceof N.SVGElement?new s.Nested:new s.Doc:m.nodeName=="linearGradient"?new s.Gradient("linear"):m.nodeName=="radialGradient"?new s.Gradient("radial"):s[v(m.nodeName)]?new s[v(m.nodeName)]:new s.Element(m)).type=m.nodeName,k.node=m,m.instance=k,k instanceof s.Doc&&k.namespace().defs(),k.setData(JSON.parse(m.getAttribute("svgjs:data"))||{}),k):null;var k},s.prepare=function(){var m=n.getElementsByTagName("body")[0],k=(m?new s.Doc(m):s.adopt(n.documentElement).nested()).size(2,0);s.parser={body:m||n.documentElement,draw:k.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:k.polyline().node,path:k.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},n.addEventListener("DOMContentLoaded",(function(){s.parser.draw||s.prepare()}),!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(m,k){for(var L=m.length,B=[],F=0;F<L;F++)B.push(k(m[F]));return B},filter:function(m,k){for(var L=m.length,B=[],F=0;F<L;F++)k(m[F])&&B.push(m[F]);return B},filterSVGElements:function(m){return this.filter(m,(function(k){return k instanceof N.SVGElement}))}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(m){var k,L;this.r=0,this.g=0,this.b=0,m&&(typeof m=="string"?s.regex.isRgb.test(m)?(k=s.regex.rgb.exec(m.replace(s.regex.whitespace,"")),this.r=parseInt(k[1]),this.g=parseInt(k[2]),this.b=parseInt(k[3])):s.regex.isHex.test(m)&&(k=s.regex.hex.exec((L=m).length==4?["#",L.substring(1,2),L.substring(1,2),L.substring(2,3),L.substring(2,3),L.substring(3,4),L.substring(3,4)].join(""):L),this.r=parseInt(k[1],16),this.g=parseInt(k[2],16),this.b=parseInt(k[3],16)):K(m)==="object"&&(this.r=m.r,this.g=m.g,this.b=m.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+y(this.r)+y(this.g)+y(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(m){return this.destination=new s.Color(m),this},at:function(m){return this.destination?(m=m<0?0:m>1?1:m,new s.Color({r:~~(this.r+(this.destination.r-this.r)*m),g:~~(this.g+(this.destination.g-this.g)*m),b:~~(this.b+(this.destination.b-this.b)*m)})):this}}),s.Color.test=function(m){return m+="",s.regex.isHex.test(m)||s.regex.isRgb.test(m)},s.Color.isRgb=function(m){return m&&typeof m.r=="number"&&typeof m.g=="number"&&typeof m.b=="number"},s.Color.isColor=function(m){return s.Color.isRgb(m)||s.Color.test(m)},s.Array=function(m,k){(m=(m||[]).valueOf()).length==0&&k&&(m=k.valueOf()),this.value=this.parse(m)},s.extend(s.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(m){return m=m.valueOf(),Array.isArray(m)?m:this.split(m)}}),s.PointArray=function(m,k){s.Array.call(this,m,k||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray;for(var o={M:function(m,k,L){return k.x=L.x=m[0],k.y=L.y=m[1],["M",k.x,k.y]},L:function(m,k){return k.x=m[0],k.y=m[1],["L",m[0],m[1]]},H:function(m,k){return k.x=m[0],["H",m[0]]},V:function(m,k){return k.y=m[0],["V",m[0]]},C:function(m,k){return k.x=m[4],k.y=m[5],["C",m[0],m[1],m[2],m[3],m[4],m[5]]},Q:function(m,k){return k.x=m[2],k.y=m[3],["Q",m[0],m[1],m[2],m[3]]},S:function(m,k){return k.x=m[2],k.y=m[3],["S",m[0],m[1],m[2],m[3]]},Z:function(m,k,L){return k.x=L.x,k.y=L.y,["Z"]}},c="mlhvqtcsaz".split(""),u=0,d=c.length;u<d;++u)o[c[u]]=(function(m){return function(k,L,B){if(m=="H")k[0]=k[0]+L.x;else if(m=="V")k[0]=k[0]+L.y;else if(m=="A")k[5]=k[5]+L.x,k[6]=k[6]+L.y;else for(var F=0,_=k.length;F<_;++F)k[F]=k[F]+(F%2?L.y:L.x);if(o&&typeof o[m]=="function")return o[m](k,L,B)}})(c[u].toUpperCase());s.PathArray=function(m,k){s.Array.call(this,m,k||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return(function(m){for(var k=0,L=m.length,B="";k<L;k++)B+=m[k][0],m[k][1]!=null&&(B+=m[k][1],m[k][2]!=null&&(B+=" ",B+=m[k][2],m[k][3]!=null&&(B+=" ",B+=m[k][3],B+=" ",B+=m[k][4],m[k][5]!=null&&(B+=" ",B+=m[k][5],B+=" ",B+=m[k][6],m[k][7]!=null&&(B+=" ",B+=m[k][7])))));return B+" "})(this.value)},move:function(m,k){var L=this.bbox();return L.x,L.y,this},at:function(m){if(!this.destination)return this;for(var k=this.value,L=this.destination.value,B=[],F=new s.PathArray,_=0,G=k.length;_<G;_++){B[_]=[k[_][0]];for(var q=1,Z=k[_].length;q<Z;q++)B[_][q]=k[_][q]+(L[_][q]-k[_][q])*m;B[_][0]==="A"&&(B[_][4]=+(B[_][4]!=0),B[_][5]=+(B[_][5]!=0))}return F.value=B,F},parse:function(m){if(m instanceof s.PathArray)return m.valueOf();var k,L={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};m=typeof m=="string"?m.replace(s.regex.numbersWithDots,g).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):m.reduce((function(Z,ie){return[].concat.call(Z,ie)}),[]);var B=[],F=new s.Point,_=new s.Point,G=0,q=m.length;do s.regex.isPathLetter.test(m[G])?(k=m[G],++G):k=="M"?k="L":k=="m"&&(k="l"),B.push(o[k].call(null,m.slice(G,G+=L[k.toUpperCase()]).map(parseFloat),F,_));while(q>G);return B},bbox:function(){return s.parser.draw||s.prepare(),s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(m,k){this.value=0,this.unit=k||"",typeof m=="number"?this.value=isNaN(m)?0:isFinite(m)?m:m<0?-34e37:34e37:typeof m=="string"?(k=m.match(s.regex.numberAndUnit))&&(this.value=parseFloat(k[1]),k[5]=="%"?this.value/=100:k[5]=="s"&&(this.value*=1e3),this.unit=k[5]):m instanceof s.Number&&(this.value=m.valueOf(),this.unit=m.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(m){return m=new s.Number(m),new s.Number(this+m,this.unit||m.unit)},minus:function(m){return m=new s.Number(m),new s.Number(this-m,this.unit||m.unit)},times:function(m){return m=new s.Number(m),new s.Number(this*m,this.unit||m.unit)},divide:function(m){return m=new s.Number(m),new s.Number(this/m,this.unit||m.unit)},to:function(m){var k=new s.Number(this);return typeof m=="string"&&(k.unit=m),k},morph:function(m){return this.destination=new s.Number(m),m.relative&&(this.destination.value+=this.value),this},at:function(m){return this.destination?new s.Number(this.destination).minus(this).times(m).plus(this):this}}}),s.Element=s.invent({create:function(m){this._stroke=s.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=m)&&(this.type=m.nodeName,this.node.instance=this,this._stroke=m.getAttribute("stroke")||this._stroke)},extend:{x:function(m){return this.attr("x",m)},y:function(m){return this.attr("y",m)},cx:function(m){return m==null?this.x()+this.width()/2:this.x(m-this.width()/2)},cy:function(m){return m==null?this.y()+this.height()/2:this.y(m-this.height()/2)},move:function(m,k){return this.x(m).y(k)},center:function(m,k){return this.cx(m).cy(k)},width:function(m){return this.attr("width",m)},height:function(m){return this.attr("height",m)},size:function(m,k){var L=S(this,m,k);return this.width(new s.Number(L.width)).height(new s.Number(L.height))},clone:function(m){this.writeDataToDom();var k=E(this.node.cloneNode(!0));return m?m.add(k):this.after(k),k},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(m){return this.after(m).remove(),m},addTo:function(m){return m.put(this)},putIn:function(m){return m.add(this)},id:function(m){return this.attr("id",m)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var m=this.attr("class");return m==null?[]:m.trim().split(s.regex.delimiter)},hasClass:function(m){return this.classes().indexOf(m)!=-1},addClass:function(m){if(!this.hasClass(m)){var k=this.classes();k.push(m),this.attr("class",k.join(" "))}return this},removeClass:function(m){return this.hasClass(m)&&this.attr("class",this.classes().filter((function(k){return k!=m})).join(" ")),this},toggleClass:function(m){return this.hasClass(m)?this.removeClass(m):this.addClass(m)},reference:function(m){return s.get(this.attr(m))},parent:function(m){var k=this;if(!k.node.parentNode)return null;if(k=s.adopt(k.node.parentNode),!m)return k;for(;k&&k.node instanceof N.SVGElement;){if(typeof m=="string"?k.matches(m):k instanceof m)return k;if(!k.node.parentNode||k.node.parentNode.nodeName=="#document")return null;k=s.adopt(k.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(m){var k=[],L=this;do{if(!(L=L.parent(m))||!L.node)break;k.push(L)}while(L.parent);return k},matches:function(m){return(function(k,L){return(k.matches||k.matchesSelector||k.msMatchesSelector||k.mozMatchesSelector||k.webkitMatchesSelector||k.oMatchesSelector).call(k,L)})(this.node,m)},native:function(){return this.node},svg:function(m){var k=n.createElementNS("http://www.w3.org/2000/svg","svg");if(!(m&&this instanceof s.Parent))return k.appendChild(m=n.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),m.appendChild(this.node.cloneNode(!0)),k.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");k.innerHTML="<svg>"+m.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var L=0,B=k.firstChild.childNodes.length;L<B;L++)this.node.appendChild(k.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(m){return this.dom=m,this},is:function(m){return(function(k,L){return k instanceof L})(this,m)}}}),s.easing={"-":function(m){return m},"<>":function(m){return-Math.cos(m*Math.PI)/2+.5},">":function(m){return Math.sin(m*Math.PI/2)},"<":function(m){return 1-Math.cos(m*Math.PI/2)}},s.morph=function(m){return function(k,L){return new s.MorphObj(k,L).at(m)}},s.Situation=s.invent({create:function(m){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(m.duration).valueOf(),this.delay=new s.Number(m.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=m.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(m){this._target=m,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(m,k,L){K(m)==="object"&&(k=m.ease,L=m.delay,m=m.duration);var B=new s.Situation({duration:m||1e3,delay:L||0,ease:s.easing[k||"-"]||k});return this.queue(B),this},target:function(m){return m&&m instanceof s.Element?(this._target=m,this):this._target},timeToAbsPos:function(m){return(m-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(m){return this.situation.duration/this._speed*m+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=N.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){N.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(m){return(typeof m=="function"||m instanceof s.Situation)&&this.situations.push(m),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var m,k=this.situation;if(k.init)return this;for(var L in k.animations){m=this.target()[L](),Array.isArray(m)||(m=[m]),Array.isArray(k.animations[L])||(k.animations[L]=[k.animations[L]]);for(var B=m.length;B--;)k.animations[L][B]instanceof s.Number&&(m[B]=new s.Number(m[B])),k.animations[L][B]=m[B].morph(k.animations[L][B])}for(var L in k.attrs)k.attrs[L]=new s.MorphObj(this.target().attr(L),k.attrs[L]);for(var L in k.styles)k.styles[L]=new s.MorphObj(this.target().style(L),k.styles[L]);return k.initialTransformation=this.target().matrixify(),k.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(m,k){var L=this.active;return this.active=!1,k&&this.clearQueue(),m&&this.situation&&(!L&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(m){var k=this.last();return this.target().on("finished.fx",(function L(B){B.detail.situation==k&&(m.call(this,k),this.off("finished.fx",L))})),this._callStart()},during:function(m){var k=this.last(),L=function(B){B.detail.situation==k&&m.call(this,B.detail.pos,s.morph(B.detail.pos),B.detail.eased,k)};return this.target().off("during.fx",L).on("during.fx",L),this.after((function(){this.off("during.fx",L)})),this._callStart()},afterAll:function(m){var k=function L(B){m.call(this),this.off("allfinished.fx",L)};return this.target().off("allfinished.fx",k).on("allfinished.fx",k),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(m,k,L){return this.last()[L||"animations"][m]=k,this._callStart()},step:function(m){var k,L,B;m||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(k=Math.max(this.absPos,0),L=Math.floor(k),this.situation.loops===!0||L<this.situation.loops?(this.pos=k-L,B=this.situation.loop,this.situation.loop=L):(this.absPos=this.situation.loops,this.pos=1,B=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-B)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var F=this.situation.ease(this.pos);for(var _ in this.situation.once)_>this.lastPos&&_<=F&&(this.situation.once[_].call(this.target(),this.pos,F),delete this.situation.once[_]);return this.active&&this.target().fire("during",{pos:this.pos,eased:F,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=F,this):this},eachAt:function(){var m,k=this,L=this.target(),B=this.situation;for(var F in B.animations)m=[].concat(B.animations[F]).map((function(q){return typeof q!="string"&&q.at?q.at(B.ease(k.pos),k.pos):q})),L[F].apply(L,m);for(var F in B.attrs)m=[F].concat(B.attrs[F]).map((function(Z){return typeof Z!="string"&&Z.at?Z.at(B.ease(k.pos),k.pos):Z})),L.attr.apply(L,m);for(var F in B.styles)m=[F].concat(B.styles[F]).map((function(Z){return typeof Z!="string"&&Z.at?Z.at(B.ease(k.pos),k.pos):Z})),L.style.apply(L,m);if(B.transforms.length){m=B.initialTransformation,F=0;for(var _=B.transforms.length;F<_;F++){var G=B.transforms[F];G instanceof s.Matrix?m=G.relative?m.multiply(new s.Matrix().morph(G).at(B.ease(this.pos))):m.morph(G).at(B.ease(this.pos)):(G.relative||G.undo(m.extract()),m=m.multiply(G.at(B.ease(this.pos))))}L.matrix(m)}return this},once:function(m,k,L){var B=this.last();return L||(m=B.ease(m)),B.once[m]=k,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:s.Element,construct:{animate:function(m,k,L){return(this.fx||(this.fx=new s.FX(this))).animate(m,k,L)},delay:function(m){return(this.fx||(this.fx=new s.FX(this))).delay(m)},stop:function(m,k){return this.fx&&this.fx.stop(m,k),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),s.MorphObj=s.invent({create:function(m,k){return s.Color.isColor(k)?new s.Color(m).morph(k):s.regex.delimiter.test(m)?s.regex.pathLetters.test(m)?new s.PathArray(m).morph(k):new s.Array(m).morph(k):s.regex.numberAndUnit.test(k)?new s.Number(m).morph(k):(this.value=m,void(this.destination=k))},extend:{at:function(m,k){return k<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(m,k,L){if(K(m)==="object")for(var B in m)this.attr(B,m[B]);else this.add(m,k,"attrs");return this},plot:function(m,k,L,B){return arguments.length==4?this.plot([m,k,L,B]):this.add("plot",new(this.target()).morphArray(m))}}),s.Box=s.invent({create:function(m,k,L,B){if(!(K(m)!=="object"||m instanceof s.Element))return s.Box.call(this,m.left!=null?m.left:m.x,m.top!=null?m.top:m.y,m.width,m.height);var F;arguments.length==4&&(this.x=m,this.y=k,this.width=L,this.height=B),(F=this).x==null&&(F.x=0,F.y=0,F.width=0,F.height=0),F.w=F.width,F.h=F.height,F.x2=F.x+F.width,F.y2=F.y+F.height,F.cx=F.x+F.width/2,F.cy=F.y+F.height/2}}),s.BBox=s.invent({create:function(m){if(s.Box.apply(this,[].slice.call(arguments)),m instanceof s.Element){var k;try{if(!n.documentElement.contains){for(var L=m.node;L.parentNode;)L=L.parentNode;if(L!=n)throw new Error("Element not in the dom")}k=m.node.getBBox()}catch{if(m instanceof s.Shape){s.parser.draw||s.prepare();var B=m.clone(s.parser.draw.instance).show();B&&B.node&&typeof B.node.getBBox=="function"&&(k=B.node.getBBox()),B&&typeof B.remove=="function"&&B.remove()}else k={x:m.node.clientLeft,y:m.node.clientTop,width:m.node.clientWidth,height:m.node.clientHeight}}s.Box.call(this,k)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.Matrix=s.invent({create:function(m){var k=T([1,0,0,1,0,0]);m=m===null?k:m instanceof s.Element?m.matrixify():typeof m=="string"?T(m.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?T([].slice.call(arguments)):Array.isArray(m)?T(m):m&&K(m)==="object"?m:k;for(var L=I.length-1;L>=0;--L)this[I[L]]=m[I[L]]!=null?m[I[L]]:k[I[L]]},extend:{extract:function(){var m=C(this,0,1);C(this,1,0);var k=180/Math.PI*Math.atan2(m.y,m.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(k*Math.PI/180)+this.f*Math.sin(k*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(k*Math.PI/180)+this.e*Math.sin(-k*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:k,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(m){return this.destination=new s.Matrix(m),this},multiply:function(m){return new s.Matrix(this.native().multiply((function(k){return k instanceof s.Matrix||(k=new s.Matrix(k)),k})(m).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(m,k){return new s.Matrix(this.native().translate(m||0,k||0))},native:function(){for(var m=s.parser.native.createSVGMatrix(),k=I.length-1;k>=0;k--)m[I[k]]=this[I[k]];return m},toString:function(){return"matrix("+O(this.a)+","+O(this.b)+","+O(this.c)+","+O(this.d)+","+O(this.e)+","+O(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var m=this.rect(1,1),k=m.node.getScreenCTM();return m.remove(),new s.Matrix(k)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(m,k){var L;L=Array.isArray(m)?{x:m[0],y:m[1]}:K(m)==="object"?{x:m.x,y:m.y}:m!=null?{x:m,y:k??m}:{x:0,y:0},this.x=L.x,this.y=L.y},extend:{clone:function(){return new s.Point(this)},morph:function(m,k){return this.destination=new s.Point(m,k),this}}}),s.extend(s.Element,{point:function(m,k){return new s.Point(m,k).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(m,k,L){if(m==null){for(m={},L=(k=this.node.attributes).length-1;L>=0;L--)m[k[L].nodeName]=s.regex.isNumber.test(k[L].nodeValue)?parseFloat(k[L].nodeValue):k[L].nodeValue;return m}if(K(m)==="object")for(var B in m)this.attr(B,m[B]);else if(k===null)this.node.removeAttribute(m);else{if(k==null)return(k=this.node.getAttribute(m))==null?s.defaults.attrs[m]:s.regex.isNumber.test(k)?parseFloat(k):k;m=="stroke-width"?this.attr("stroke",parseFloat(k)>0?this._stroke:null):m=="stroke"&&(this._stroke=k),m!="fill"&&m!="stroke"||(s.regex.isImage.test(k)&&(k=this.doc().defs().image(k,0,0)),k instanceof s.Image&&(k=this.doc().defs().pattern(0,0,(function(){this.add(k)})))),typeof k=="number"?k=new s.Number(k):s.Color.isColor(k)?k=new s.Color(k):Array.isArray(k)&&(k=new s.Array(k)),m=="leading"?this.leading&&this.leading(k):typeof L=="string"?this.node.setAttributeNS(L,m,k.toString()):this.node.setAttribute(m,k.toString()),!this.rebuild||m!="font-size"&&m!="x"||this.rebuild(m,k)}return this}}),s.extend(s.Element,{transform:function(m,k){var L;return K(m)!=="object"?(L=new s.Matrix(this).extract(),typeof m=="string"?L[m]:L):(L=new s.Matrix(this),k=!!k||!!m.relative,m.a!=null&&(L=k?L.multiply(new s.Matrix(m)):new s.Matrix(m)),this.attr("transform",L))}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map((function(m){var k=m.trim().split("(");return[k[0],k[1].split(s.regex.delimiter).map((function(L){return parseFloat(L)}))]})).reduce((function(m,k){return k[0]=="matrix"?m.multiply(T(k[1])):m[k[0]].apply(m,k[1])}),new s.Matrix)},toParent:function(m){if(this==m)return this;var k=this.screenCTM(),L=m.screenCTM().inverse();return this.addTo(m).untransform().transform(L.multiply(k)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(m,k){if(arguments.length>1&&typeof k!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(m))for(var L=0,B=this.arguments.length;L<B;++L)this[this.arguments[L]]=m[L];else if(m&&K(m)==="object")for(L=0,B=this.arguments.length;L<B;++L)this[this.arguments[L]]=m[this.arguments[L]];this.inversed=!1,k===!0&&(this.inversed=!0)}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(m,k){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.extend(s.Element,{style:function(m,k){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(K(m)==="object")for(var L in m)this.style(L,m[L]);else{if(!s.regex.isCss.test(m))return this.node.style[b(m)];for(m=m.split(/\s*;\s*/).filter((function(B){return!!B})).map((function(B){return B.split(/\s*:\s*/)}));k=m.pop();)this.style(k[0],k[1])}else this.node.style[b(m)]=k===null||s.regex.isBlank.test(k)?"":k;return this}}),s.Parent=s.invent({create:function(m){this.constructor.call(this,m)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),(function(m){return s.adopt(m)}))},add:function(m,k){return k==null?this.node.appendChild(m.node):m.node!=this.node.childNodes[k]&&this.node.insertBefore(m.node,this.node.childNodes[k]),this},put:function(m,k){return this.add(m,k),m},has:function(m){return this.index(m)>=0},index:function(m){return[].slice.call(this.node.childNodes).indexOf(m.node)},get:function(m){return s.adopt(this.node.childNodes[m])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(m,k){for(var L=this.children(),B=0,F=L.length;B<F;B++)L[B]instanceof s.Element&&m.apply(L[B],[B,L]),k&&L[B]instanceof s.Container&&L[B].each(m,k);return this},removeElement:function(m){return this.node.removeChild(m.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(m,k){return k===0||this instanceof s.Defs||this.node==s.parser.draw||(m=m||(this instanceof s.Doc?this:this.parent(s.Parent)),k=k||1/0,this.each((function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(m,k-1):this.toParent(m)})),this.node.firstChild||this.remove()),this},flatten:function(m,k){return this.ungroup(m,k)}}),s.Container=s.invent({create:function(m){this.constructor.call(this,m)},inherit:s.Parent}),s.ViewBox=s.invent({parent:s.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(m){s.Element.prototype[m]=function(k){return s.on(this.node,m,k),this}})),s.listeners=[],s.handlerMap=[],s.listenerId=0,s.on=function(m,k,L,B,F){var _=L.bind(B||m.instance||m),G=(s.handlerMap.indexOf(m)+1||s.handlerMap.push(m))-1,q=k.split(".")[0],Z=k.split(".")[1]||"*";s.listeners[G]=s.listeners[G]||{},s.listeners[G][q]=s.listeners[G][q]||{},s.listeners[G][q][Z]=s.listeners[G][q][Z]||{},L._svgjsListenerId||(L._svgjsListenerId=++s.listenerId),s.listeners[G][q][Z][L._svgjsListenerId]=_,m.addEventListener(q,_,F||{passive:!1})},s.off=function(m,k,L){var B=s.handlerMap.indexOf(m),F=k&&k.split(".")[0],_=k&&k.split(".")[1],G="";if(B!=-1)if(L){if(typeof L=="function"&&(L=L._svgjsListenerId),!L)return;s.listeners[B][F]&&s.listeners[B][F][_||"*"]&&(m.removeEventListener(F,s.listeners[B][F][_||"*"][L],!1),delete s.listeners[B][F][_||"*"][L])}else if(_&&F){if(s.listeners[B][F]&&s.listeners[B][F][_]){for(var q in s.listeners[B][F][_])s.off(m,[F,_].join("."),q);delete s.listeners[B][F][_]}}else if(_)for(var Z in s.listeners[B])for(var G in s.listeners[B][Z])_===G&&s.off(m,[Z,_].join("."));else if(F){if(s.listeners[B][F]){for(var G in s.listeners[B][F])s.off(m,[F,G].join("."));delete s.listeners[B][F]}}else{for(var Z in s.listeners[B])s.off(m,Z);delete s.listeners[B],delete s.handlerMap[B]}},s.extend(s.Element,{on:function(m,k,L,B){return s.on(this.node,m,k,L,B),this},off:function(m,k){return s.off(this.node,m,k),this},fire:function(m,k){return m instanceof N.Event?this.node.dispatchEvent(m):this.node.dispatchEvent(m=new s.CustomEvent(m,{detail:k,cancelable:!0})),this._event=m,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(m){return m==null?this.transform("x"):this.transform({x:m-this.x()},!0)}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(m){m&&((m=typeof m=="string"?n.getElementById(m):m).nodeName=="svg"?this.constructor.call(this,m):(this.constructor.call(this,s.create("svg")),m.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){var m;return this._defs||((m=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(m):this._defs=new s.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw&&!s.parser.draw.parentNode&&this.node.appendChild(s.parser.draw),this},clone:function(m){this.writeDataToDom();var k=this.node,L=E(k.cloneNode(!0));return m?(m.node||m).appendChild(L.node):k.parentNode.insertBefore(L.node,k.nextSibling),L}}}),s.extend(s.Element,{}),s.Gradient=s.invent({create:function(m){this.constructor.call(this,s.create(m+"Gradient")),this.type=m},inherit:s.Container,extend:{at:function(m,k,L){return this.put(new s.Stop).update(m,k,L)},update:function(m){return this.clear(),typeof m=="function"&&m.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(m,k,L){return m=="transform"&&(m="gradientTransform"),s.Container.prototype.attr.call(this,m,k,L)}},construct:{gradient:function(m,k){return this.defs().gradient(m,k)}}}),s.extend(s.Gradient,s.FX,{from:function(m,k){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(m),fy:new s.Number(k)}):this.attr({x1:new s.Number(m),y1:new s.Number(k)})},to:function(m,k){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(m),cy:new s.Number(k)}):this.attr({x2:new s.Number(m),y2:new s.Number(k)})}}),s.extend(s.Defs,{gradient:function(m,k){return this.put(new s.Gradient(m)).update(k)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(m){return(typeof m=="number"||m instanceof s.Number)&&(m={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),m.opacity!=null&&this.attr("stop-opacity",m.opacity),m.color!=null&&this.attr("stop-color",m.color),m.offset!=null&&this.attr("offset",new s.Number(m.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(m){return this.clear(),typeof m=="function"&&m.call(this,this),this},toString:function(){return this.fill()},attr:function(m,k,L){return m=="transform"&&(m="patternTransform"),s.Container.prototype.attr.call(this,m,k,L)}},construct:{pattern:function(m,k,L){return this.defs().pattern(m,k,L)}}}),s.extend(s.Defs,{pattern:function(m,k,L){return this.put(new s.Pattern).update(L).attr({x:0,y:0,width:m,height:k,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(m){this.constructor.call(this,m)},inherit:s.Element}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(m,k){return this.attr("href",(k||"")+"#"+m,s.xlink)}},construct:{use:function(m,k){return this.put(new s.Use).element(m,k)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(m,k){return this.put(new s.Rect).size(m,k)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(m){return this.put(new s.Circle).rx(new s.Number(m).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(m){return this.attr("r",m)},ry:function(m){return this.rx(m)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(m,k){return this.put(new s.Ellipse).size(m,k).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(m){return this.attr("rx",m)},ry:function(m){return this.attr("ry",m)}}),s.extend(s.Circle,s.Ellipse,{x:function(m){return m==null?this.cx()-this.rx():this.cx(m+this.rx())},y:function(m){return m==null?this.cy()-this.ry():this.cy(m+this.ry())},cx:function(m){return m==null?this.attr("cx"):this.attr("cx",m)},cy:function(m){return m==null?this.attr("cy"):this.attr("cy",m)},width:function(m){return m==null?2*this.rx():this.rx(new s.Number(m).divide(2))},height:function(m){return m==null?2*this.ry():this.ry(new s.Number(m).divide(2))},size:function(m,k){var L=S(this,m,k);return this.rx(new s.Number(L.width).divide(2)).ry(new s.Number(L.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(m,k,L,B){return m==null?this.array():(m=k!==void 0?{x1:m,y1:k,x2:L,y2:B}:new s.PointArray(m).toLine(),this.attr(m))},move:function(m,k){return this.attr(this.array().move(m,k).toLine())},size:function(m,k){var L=S(this,m,k);return this.attr(this.array().size(L.width,L.height).toLine())}},construct:{line:function(m,k,L,B){return s.Line.prototype.plot.apply(this.put(new s.Line),m!=null?[m,k,L,B]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(m){return this.put(new s.Polyline).plot(m||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(m){return this.put(new s.Polygon).plot(m||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(m){return m==null?this.array():this.clear().attr("points",typeof m=="string"?m:this._array=new s.PointArray(m))},clear:function(){return delete this._array,this},move:function(m,k){return this.attr("points",this.array().move(m,k))},size:function(m,k){var L=S(this,m,k);return this.attr("points",this.array().size(L.width,L.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(m){return m==null?this.bbox().x:this.move(m,this.bbox().y)},y:function(m){return m==null?this.bbox().y:this.move(this.bbox().x,m)},width:function(m){var k=this.bbox();return m==null?k.width:this.size(m,k.height)},height:function(m){var k=this.bbox();return m==null?k.height:this.size(k.width,m)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(m){return m==null?this.array():this.clear().attr("d",typeof m=="string"?m:this._array=new s.PathArray(m))},clear:function(){return delete this._array,this}},construct:{path:function(m){return this.put(new s.Path).plot(m||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(m){if(!m)return this;var k=this,L=new N.Image;return s.on(L,"load",(function(){s.off(L);var B=k.parent(s.Pattern);B!==null&&(k.width()==0&&k.height()==0&&k.size(L.width,L.height),B&&B.width()==0&&B.height()==0&&B.size(k.width(),k.height()),typeof k._loaded=="function"&&k._loaded.call(k,{width:L.width,height:L.height,ratio:L.width/L.height,url:m}))})),s.on(L,"error",(function(B){s.off(L),typeof k._error=="function"&&k._error.call(k,B)})),this.attr("href",L.src=this.src=m,s.xlink)},loaded:function(m){return this._loaded=m,this},error:function(m){return this._error=m,this}},construct:{image:function(m,k,L){return this.put(new s.Image).load(m).size(k||0,L||k||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(m){return m==null?this.attr("x"):this.attr("x",m)},text:function(m){if(m===void 0){m="";for(var k=this.node.childNodes,L=0,B=k.length;L<B;++L)L!=0&&k[L].nodeType!=3&&s.adopt(k[L]).dom.newLined==1&&(m+=`
`),m+=k[L].textContent;return m}if(this.clear().build(!0),typeof m=="function")m.call(this,this);else{L=0;for(var F=(m=m.split(`
`)).length;L<F;L++)this.tspan(m[L]).newLine()}return this.build(!1).rebuild()},size:function(m){return this.attr("font-size",m).rebuild()},leading:function(m){return m==null?this.dom.leading:(this.dom.leading=new s.Number(m),this.rebuild())},lines:function(){var m=(this.textPath&&this.textPath()||this).node,k=s.utils.map(s.utils.filterSVGElements(m.childNodes),(function(L){return s.adopt(L)}));return new s.Set(k)},rebuild:function(m){if(typeof m=="boolean"&&(this._rebuild=m),this._rebuild){var k=this,L=0,B=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(k.textPath()||this.attr("x",k.attr("x")),this.text()==`
`?L+=B:(this.attr("dy",B+L),L=0))})),this.fire("rebuild")}return this},build:function(m){return this._build=!!m,this},setData:function(m){return this.dom=m,this.dom.leading=new s.Number(m.leading||1.3),this}},construct:{text:function(m){return this.put(new s.Text).text(m)},plain:function(m){return this.put(new s.Text).plain(m)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(m){return m==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof m=="function"?m.call(this,this):this.plain(m),this)},dx:function(m){return this.attr("dx",m)},dy:function(m){return this.attr("dy",m)},newLine:function(){var m=this.parent(s.Text);return this.dom.newLined=!0,this.dy(m.dom.leading*m.attr("font-size")).attr("x",m.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(m){return this._build===!1&&this.clear(),this.node.appendChild(n.createTextNode(m)),this},tspan:function(m){var k=(this.textPath&&this.textPath()||this).node,L=new s.Tspan;return this._build===!1&&this.clear(),k.appendChild(L.node),L.text(m)},clear:function(){for(var m=(this.textPath&&this.textPath()||this).node;m.hasChildNodes();)m.removeChild(m.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,array:function(){var m=this.track();return m?m.array():null},plot:function(m){var k=this.track(),L=null;return k&&(L=k.plot(m)),m==null?L:this},track:function(){var m=this.textPath();if(m)return m.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(m,k){return k=="color"?m:m+"-"+k}};function g(m,k,L,B){return L+B.replace(s.regex.dots," .")}function b(m){return m.toLowerCase().replace(/-(.)/g,(function(k,L){return L.toUpperCase()}))}function v(m){return m.charAt(0).toUpperCase()+m.slice(1)}function y(m){var k=m.toString(16);return k.length==1?"0"+k:k}function S(m,k,L){if(k==null||L==null){var B=m.bbox();k==null?k=B.width/B.height*L:L==null&&(L=B.height/B.width*k)}return{width:k,height:L}}function C(m,k,L){return{x:k*m.a+L*m.c+0,y:k*m.b+L*m.d+0}}function T(m){return{a:m[0],b:m[1],c:m[2],d:m[3],e:m[4],f:m[5]}}function E(m){for(var k=m.childNodes.length-1;k>=0;k--)m.childNodes[k]instanceof N.SVGElement&&E(m.childNodes[k]);return s.adopt(m).id(s.eid(m.nodeName))}function O(m){return Math.abs(m)>1e-37?m:0}["fill","stroke"].forEach((function(m){var k={};k[m]=function(L){if(L===void 0)return this;if(typeof L=="string"||s.Color.isRgb(L)||L&&typeof L.fill=="function")this.attr(m,L);else for(var B=f[m].length-1;B>=0;B--)L[f[m][B]]!=null&&this.attr(f.prefix(m,f[m][B]),L[f[m][B]]);return this},s.extend(s.Element,s.FX,k)})),s.extend(s.Element,s.FX,{translate:function(m,k){return this.transform({x:m,y:k})},matrix:function(m){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):m))},opacity:function(m){return this.attr("opacity",m)},dx:function(m){return this.x(new s.Number(m).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(m){return this.y(new s.Number(m).plus(this instanceof s.FX?0:this.y()),!0)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(m){return this.node.getPointAtLength(m)}}),s.Set=s.invent({create:function(m){Array.isArray(m)?this.members=m:this.clear()},extend:{add:function(){for(var m=[].slice.call(arguments),k=0,L=m.length;k<L;k++)this.members.push(m[k]);return this},remove:function(m){var k=this.index(m);return k>-1&&this.members.splice(k,1),this},each:function(m){for(var k=0,L=this.members.length;k<L;k++)m.apply(this.members[k],[k,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(m){return this.index(m)>=0},index:function(m){return this.members.indexOf(m)},get:function(m){return this.members[m]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(m){return new s.Set(m)}}}),s.FX.Set=s.invent({create:function(m){this.set=m}}),s.Set.inherit=function(){var m=[];for(var k in s.Shape.prototype)typeof s.Shape.prototype[k]=="function"&&typeof s.Set.prototype[k]!="function"&&m.push(k);for(var k in m.forEach((function(B){s.Set.prototype[B]=function(){for(var F=0,_=this.members.length;F<_;F++)this.members[F]&&typeof this.members[F][B]=="function"&&this.members[F][B].apply(this.members[F],arguments);return B=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}})),m=[],s.FX.prototype)typeof s.FX.prototype[k]=="function"&&typeof s.FX.Set.prototype[k]!="function"&&m.push(k);m.forEach((function(L){s.FX.Set.prototype[L]=function(){for(var B=0,F=this.set.members.length;B<F;B++)this.set.members[B].fx[L].apply(this.set.members[B].fx,arguments);return this}}))},s.extend(s.Element,{}),s.extend(s.Element,{remember:function(m,k){if(K(arguments[0])==="object")for(var L in m)this.remember(L,m[L]);else{if(arguments.length==1)return this.memory()[m];this.memory()[m]=k}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var m=arguments.length-1;m>=0;m--)delete this.memory()[arguments[m]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(m){var k=n.getElementById((function(L){var B=(L||"").toString().match(s.regex.reference);if(B)return B[1]})(m)||m);return s.adopt(k)},s.select=function(m,k){return new s.Set(s.utils.map((k||n).querySelectorAll(m),(function(L){return s.adopt(L)})))},s.extend(s.Parent,{select:function(m){return s.select(m,this.node)}});var I="abcdef".split("");if(typeof N.CustomEvent!="function"){var D=function(m,k){k=k||{bubbles:!1,cancelable:!1,detail:void 0};var L=n.createEvent("CustomEvent");return L.initCustomEvent(m,k.bubbles,k.cancelable,k.detail),L};D.prototype=N.Event.prototype,s.CustomEvent=D}else s.CustomEvent=N.CustomEvent;return s},K(e)==="object"?i.exports=Xi.document?ls(Xi,Xi.document):function(N){return ls(N,N.document)}:Xi.SVG=ls(Xi,Xi.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(d,f){return this.add(d,f),!d.attr("in")&&this.autoSetIn&&d.attr("in",this.source),d.attr("result")||d.attr("result",d),d},blend:function(d,f,g){return this.put(new SVG.BlendEffect(d,f,g))},colorMatrix:function(d,f){return this.put(new SVG.ColorMatrixEffect(d,f))},convolveMatrix:function(d){return this.put(new SVG.ConvolveMatrixEffect(d))},componentTransfer:function(d){return this.put(new SVG.ComponentTransferEffect(d))},composite:function(d,f,g){return this.put(new SVG.CompositeEffect(d,f,g))},flood:function(d,f){return this.put(new SVG.FloodEffect(d,f))},offset:function(d,f){return this.put(new SVG.OffsetEffect(d,f))},image:function(d){return this.put(new SVG.ImageEffect(d))},merge:function(){var d=[void 0];for(var f in arguments)d.push(arguments[f]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,d)))},gaussianBlur:function(d,f){return this.put(new SVG.GaussianBlurEffect(d,f))},morphology:function(d,f){return this.put(new SVG.MorphologyEffect(d,f))},diffuseLighting:function(d,f,g){return this.put(new SVG.DiffuseLightingEffect(d,f,g))},displacementMap:function(d,f,g,b,v){return this.put(new SVG.DisplacementMapEffect(d,f,g,b,v))},specularLighting:function(d,f,g,b){return this.put(new SVG.SpecularLightingEffect(d,f,g,b))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(d,f,g,b,v){return this.put(new SVG.TurbulenceEffect(d,f,g,b,v))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(d){var f=this.put(new SVG.Filter);return typeof d=="function"&&d.call(f,f),f}}),SVG.extend(SVG.Container,{filter:function(d){return this.defs().filter(d)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(d){return this.filterer=d instanceof SVG.Element?d:this.doc().filter(d),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(d){return this.filterer&&d===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(d){return d==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",d)},result:function(d){return d==null?this.attr("result"):this.attr("result",d)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(d){return d==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",d)},result:function(d){return d==null?this.attr("result"):this.attr("result",d)},toString:function(){return this.result()}}});var N={blend:function(d,f){return this.parent()&&this.parent().blend(this,d,f)},colorMatrix:function(d,f){return this.parent()&&this.parent().colorMatrix(d,f).in(this)},convolveMatrix:function(d){return this.parent()&&this.parent().convolveMatrix(d).in(this)},componentTransfer:function(d){return this.parent()&&this.parent().componentTransfer(d).in(this)},composite:function(d,f){return this.parent()&&this.parent().composite(this,d,f)},flood:function(d,f){return this.parent()&&this.parent().flood(d,f)},offset:function(d,f){return this.parent()&&this.parent().offset(d,f).in(this)},image:function(d){return this.parent()&&this.parent().image(d)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(d,f){return this.parent()&&this.parent().gaussianBlur(d,f).in(this)},morphology:function(d,f){return this.parent()&&this.parent().morphology(d,f).in(this)},diffuseLighting:function(d,f,g){return this.parent()&&this.parent().diffuseLighting(d,f,g).in(this)},displacementMap:function(d,f,g,b){return this.parent()&&this.parent().displacementMap(this,d,f,g,b)},specularLighting:function(d,f,g,b){return this.parent()&&this.parent().specularLighting(d,f,g,b).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(d,f,g,b,v){return this.parent()&&this.parent().turbulence(d,f,g,b,v).in(this)}};SVG.extend(SVG.Effect,N),SVG.extend(SVG.ParentEffect,N),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(d){this.attr("in",d)}}});var n={blend:function(d,f,g){this.attr({in:d,in2:f,mode:g||"normal"})},colorMatrix:function(d,f){d=="matrix"&&(f=c(f)),this.attr({type:d,values:f===void 0?null:f})},convolveMatrix:function(d){d=c(d),this.attr({order:Math.sqrt(d.split(" ").length),kernelMatrix:d})},composite:function(d,f,g){this.attr({in:d,in2:f,operator:g})},flood:function(d,f){this.attr("flood-color",d),f!=null&&this.attr("flood-opacity",f)},offset:function(d,f){this.attr({dx:d,dy:f})},image:function(d){this.attr("href",d,SVG.xlink)},displacementMap:function(d,f,g,b,v){this.attr({in:d,in2:f,scale:g,xChannelSelector:b,yChannelSelector:v})},gaussianBlur:function(d,f){d!=null||f!=null?this.attr("stdDeviation",(function(g){if(!Array.isArray(g))return g;for(var b=0,v=g.length,y=[];b<v;b++)y.push(g[b]);return y.join(" ")})(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(d,f){this.attr({operator:d,radius:f})},tile:function(){},turbulence:function(d,f,g,b,v){this.attr({numOctaves:f,seed:g,stitchTiles:b,baseFrequency:d,type:v})}},s={merge:function(){var d;if(arguments[0]instanceof SVG.Set){var f=this;arguments[0].each((function(b){this instanceof SVG.MergeNode?f.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&f.put(new SVG.MergeNode(this))}))}else{d=Array.isArray(arguments[0])?arguments[0]:arguments;for(var g=0;g<d.length;g++)d[g]instanceof SVG.MergeNode?this.put(d[g]):this.put(new SVG.MergeNode(d[g]))}},componentTransfer:function(d){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(g){this[g]=new SVG["Func"+g.toUpperCase()]("identity"),this.rgb.add(this[g]),this.node.appendChild(this[g].node)}).bind(this)),d)for(var f in d.rgb&&(["r","g","b"].forEach((function(g){this[g].attr(d.rgb)}).bind(this)),delete d.rgb),d)this[f].attr(d[f])},diffuseLighting:function(d,f,g){this.attr({surfaceScale:d,diffuseConstant:f,kernelUnitLength:g})},specularLighting:function(d,f,g,b){this.attr({surfaceScale:d,diffuseConstant:f,specularExponent:g,kernelUnitLength:b})}},o={distantLight:function(d,f){this.attr({azimuth:d,elevation:f})},pointLight:function(d,f,g){this.attr({x:d,y:f,z:g})},spotLight:function(d,f,g,b,v,y){this.attr({x:d,y:f,z:g,pointsAtX:b,pointsAtY:v,pointsAtZ:y})},mergeNode:function(d){this.attr("in",d)}};function c(d){return Array.isArray(d)&&(d=new SVG.Array(d)),d.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function u(){var d=function(){};for(var f in typeof arguments[arguments.length-1]=="function"&&(d=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var g in arguments[f])d(arguments[f][g],g,arguments[f])}["r","g","b","a"].forEach((function(d){o["Func"+d.toUpperCase()]=function(f){switch(this.attr("type",f),f){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),u(n,(function(d,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),d.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),u(s,(function(d,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),d.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),u(o,(function(d,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),d.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(d){return d instanceof SVG.MergeNode?this.add(d,0):this.add(new SVG.MergeNode(d),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(d){return d==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",d)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),(function(){function N(u,d,f,g,b,v,y){for(var S=u.slice(d,f||y),C=g.slice(b,v||y),T=0,E={pos:[0,0],start:[0,0]},O={pos:[0,0],start:[0,0]};S[T]=n.call(E,S[T]),C[T]=n.call(O,C[T]),S[T][0]!=C[T][0]||S[T][0]=="M"||S[T][0]=="A"&&(S[T][4]!=C[T][4]||S[T][5]!=C[T][5])?(Array.prototype.splice.apply(S,[T,1].concat(o.call(E,S[T]))),Array.prototype.splice.apply(C,[T,1].concat(o.call(O,C[T])))):(S[T]=s.call(E,S[T]),C[T]=s.call(O,C[T])),!(++T==S.length&&T==C.length);)T==S.length&&S.push(["C",E.pos[0],E.pos[1],E.pos[0],E.pos[1],E.pos[0],E.pos[1]]),T==C.length&&C.push(["C",O.pos[0],O.pos[1],O.pos[0],O.pos[1],O.pos[0],O.pos[1]]);return{start:S,dest:C}}function n(u){switch(u[0]){case"z":case"Z":u[0]="L",u[1]=this.start[0],u[2]=this.start[1];break;case"H":u[0]="L",u[2]=this.pos[1];break;case"V":u[0]="L",u[2]=u[1],u[1]=this.pos[0];break;case"T":u[0]="Q",u[3]=u[1],u[4]=u[2],u[1]=this.reflection[1],u[2]=this.reflection[0];break;case"S":u[0]="C",u[6]=u[4],u[5]=u[3],u[4]=u[2],u[3]=u[1],u[2]=this.reflection[1],u[1]=this.reflection[0]}return u}function s(u){var d=u.length;return this.pos=[u[d-2],u[d-1]],"SCQT".indexOf(u[0])!=-1&&(this.reflection=[2*this.pos[0]-u[d-4],2*this.pos[1]-u[d-3]]),u}function o(u){var d=[u];switch(u[0]){case"M":return this.pos=this.start=[u[1],u[2]],d;case"L":u[5]=u[3]=u[1],u[6]=u[4]=u[2],u[1]=this.pos[0],u[2]=this.pos[1];break;case"Q":u[6]=u[4],u[5]=u[3],u[4]=1*u[4]/3+2*u[2]/3,u[3]=1*u[3]/3+2*u[1]/3,u[2]=1*this.pos[1]/3+2*u[2]/3,u[1]=1*this.pos[0]/3+2*u[1]/3;break;case"A":d=(function(f,g){var b,v,y,S,C,T,E,O,I,D,m,k,L,B,F,_,G,q,Z,ie,te,ne,oe,le,he,pe,be=Math.abs(g[1]),ge=Math.abs(g[2]),Ce=g[3]%360,Ne=g[4],De=g[5],Le=g[6],wt=g[7],Te=new SVG.Point(f),Ee=new SVG.Point(Le,wt),Me=[];if(be===0||ge===0||Te.x===Ee.x&&Te.y===Ee.y)return[["C",Te.x,Te.y,Ee.x,Ee.y,Ee.x,Ee.y]];for(b=new SVG.Point((Te.x-Ee.x)/2,(Te.y-Ee.y)/2).transform(new SVG.Matrix().rotate(Ce)),(v=b.x*b.x/(be*be)+b.y*b.y/(ge*ge))>1&&(be*=v=Math.sqrt(v),ge*=v),y=new SVG.Matrix().rotate(Ce).scale(1/be,1/ge).rotate(-Ce),Te=Te.transform(y),Ee=Ee.transform(y),S=[Ee.x-Te.x,Ee.y-Te.y],T=S[0]*S[0]+S[1]*S[1],C=Math.sqrt(T),S[0]/=C,S[1]/=C,E=T<4?Math.sqrt(1-T/4):0,Ne===De&&(E*=-1),O=new SVG.Point((Ee.x+Te.x)/2+E*-S[1],(Ee.y+Te.y)/2+E*S[0]),I=new SVG.Point(Te.x-O.x,Te.y-O.y),D=new SVG.Point(Ee.x-O.x,Ee.y-O.y),m=Math.acos(I.x/Math.sqrt(I.x*I.x+I.y*I.y)),I.y<0&&(m*=-1),k=Math.acos(D.x/Math.sqrt(D.x*D.x+D.y*D.y)),D.y<0&&(k*=-1),De&&m>k&&(k+=2*Math.PI),!De&&m<k&&(k-=2*Math.PI),B=Math.ceil(2*Math.abs(m-k)/Math.PI),_=[],G=m,L=(k-m)/B,F=4*Math.tan(L/4)/3,te=0;te<=B;te++)Z=Math.cos(G),q=Math.sin(G),ie=new SVG.Point(O.x+Z,O.y+q),_[te]=[new SVG.Point(ie.x+F*q,ie.y-F*Z),ie,new SVG.Point(ie.x-F*q,ie.y+F*Z)],G+=L;for(_[0][0]=_[0][1].clone(),_[_.length-1][2]=_[_.length-1][1].clone(),y=new SVG.Matrix().rotate(Ce).scale(be,ge).rotate(-Ce),te=0,ne=_.length;te<ne;te++)_[te][0]=_[te][0].transform(y),_[te][1]=_[te][1].transform(y),_[te][2]=_[te][2].transform(y);for(te=1,ne=_.length;te<ne;te++)oe=(ie=_[te-1][2]).x,le=ie.y,he=(ie=_[te][0]).x,pe=ie.y,Le=(ie=_[te][1]).x,wt=ie.y,Me.push(["C",oe,le,he,pe,Le,wt]);return Me})(this.pos,u),u=d[0]}return u[0]="C",this.pos=[u[5],u[6]],this.reflection=[2*u[5]-u[3],2*u[6]-u[4]],d}function c(u,d){if(d===!1)return!1;for(var f=d,g=u.length;f<g;++f)if(u[f][0]=="M")return f;return!1}SVG.extend(SVG.PathArray,{morph:function(u){for(var d=this.value,f=this.parse(u),g=0,b=0,v=!1,y=!1;g!==!1||b!==!1;){var S;v=c(d,g!==!1&&g+1),y=c(f,b!==!1&&b+1),g===!1&&(g=(S=new SVG.PathArray(C.start).bbox()).height==0||S.width==0?d.push(d[0])-1:d.push(["M",S.x+S.width/2,S.y+S.height/2])-1),b===!1&&(b=(S=new SVG.PathArray(C.dest).bbox()).height==0||S.width==0?f.push(f[0])-1:f.push(["M",S.x+S.width/2,S.y+S.height/2])-1);var C=N(d,g,v,f,b,y);d=d.slice(0,g).concat(C.start,v===!1?[]:d.slice(v)),f=f.slice(0,b).concat(C.dest,y===!1?[]:f.slice(y)),g=v!==!1&&g+C.start.length,b=y!==!1&&b+C.dest.length}return this.value=d,this.destination=new SVG.PathArray,this.destination.value=f,this}})})(),(function(){function N(n){n.remember("_draggable",this),this.el=n}N.prototype.init=function(n,s){var o=this;this.constraint=n,this.value=s,this.el.on("mousedown.drag",(function(c){o.start(c)})),this.el.on("touchstart.drag",(function(c){o.start(c)}))},N.prototype.transformPoint=function(n,s){var o=(n=n||window.event).changedTouches&&n.changedTouches[0]||n;return this.p.x=o.clientX-(s||0),this.p.y=o.clientY,this.p.matrixTransform(this.m)},N.prototype.getBBox=function(){var n=this.el.bbox();return this.el instanceof SVG.Nested&&(n=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(n.x=this.el.x(),n.y=this.el.y()),n},N.prototype.start=function(n){if(n.type!="click"&&n.type!="mousedown"&&n.type!="mousemove"||(n.which||n.buttons)==1){var s=this;if(this.el.fire("beforedrag",{event:n,handler:this}),!this.el.event().defaultPrevented){n.preventDefault(),n.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var o,c=this.getBBox();if(this.el instanceof SVG.Text)switch(o=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":o/=2;break;case"start":o=0}this.startPoints={point:this.transformPoint(n,o),box:c,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(u){s.drag(u)})),SVG.on(window,"touchmove.drag",(function(u){s.drag(u)})),SVG.on(window,"mouseup.drag",(function(u){s.end(u)})),SVG.on(window,"touchend.drag",(function(u){s.end(u)})),this.el.fire("dragstart",{event:n,p:this.startPoints.point,m:this.m,handler:this})}}},N.prototype.drag=function(n){var s=this.getBBox(),o=this.transformPoint(n),c=this.startPoints.box.x+o.x-this.startPoints.point.x,u=this.startPoints.box.y+o.y-this.startPoints.point.y,d=this.constraint,f=o.x-this.startPoints.point.x,g=o.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:n,p:o,m:this.m,handler:this}),this.el.event().defaultPrevented)return o;if(typeof d=="function"){var b=d.call(this.el,c,u,this.m);typeof b=="boolean"&&(b={x:b,y:b}),b.x===!0?this.el.x(c):b.x!==!1&&this.el.x(b.x),b.y===!0?this.el.y(u):b.y!==!1&&this.el.y(b.y)}else typeof d=="object"&&(d.minX!=null&&c<d.minX?f=(c=d.minX)-this.startPoints.box.x:d.maxX!=null&&c>d.maxX-s.width&&(f=(c=d.maxX-s.width)-this.startPoints.box.x),d.minY!=null&&u<d.minY?g=(u=d.minY)-this.startPoints.box.y:d.maxY!=null&&u>d.maxY-s.height&&(g=(u=d.maxY-s.height)-this.startPoints.box.y),d.snapToGrid!=null&&(c-=c%d.snapToGrid,u-=u%d.snapToGrid,f-=f%d.snapToGrid,g-=g%d.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:f,y:g},!0):this.el.move(c,u));return o},N.prototype.end=function(n){var s=this.drag(n);this.el.fire("dragend",{event:n,p:s,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(n,s){typeof n!="function"&&typeof n!="object"||(s=n,n=!0);var o=this.remember("_draggable")||new N(this);return(n=n===void 0||n)?o.init(s||{},n):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),(function(){function N(n){this.el=n,n.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(s,o,c){var u=typeof s!="string"?s:o[s];return c?u/2:u},this.pointCoords=function(s,o){var c=this.pointsList[s];return{x:this.pointCoord(c[0],o,s==="t"||s==="b"),y:this.pointCoord(c[1],o,s==="r"||s==="l")}}}N.prototype.init=function(n,s){var o=this.el.bbox();this.options={};var c=this.el.selectize.defaults.points;for(var u in this.el.selectize.defaults)this.options[u]=this.el.selectize.defaults[u],s[u]!==void 0&&(this.options[u]=s[u]);var d=["points","pointsExclude"];for(var u in d){var f=this.options[d[u]];typeof f=="string"?f=f.length>0?f.split(/\s*,\s*/i):[]:typeof f=="boolean"&&d[u]==="points"&&(f=f?c:[]),this.options[d[u]]=f}this.options.points=[c,this.options.points].reduce((function(g,b){return g.filter((function(v){return b.indexOf(v)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(g,b){return g.filter((function(v){return b.indexOf(v)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(o.x,o.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(n):this.selectRect(n),this.observe(),this.cleanup()},N.prototype.selectPoints=function(n){return this.pointSelection.isSelected=n,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},N.prototype.getPointArray=function(){var n=this.el.bbox();return this.el.array().valueOf().map((function(s){return[s[0]-n.x,s[1]-n.y]}))},N.prototype.drawPoints=function(){for(var n=this,s=this.getPointArray(),o=0,c=s.length;o<c;++o){var u=(function(f){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var b=g.pageX||g.touches[0].pageX,v=g.pageY||g.touches[0].pageY;n.el.fire("point",{x:b,y:v,i:f,event:g})}})(o),d=this.drawPoint(s[o][0],s[o][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",u).on("mousedown",u);this.pointSelection.set.add(d)}},N.prototype.drawPoint=function(n,s){var o=this.options.pointType;switch(o){case"circle":return this.drawCircle(n,s);case"rect":return this.drawRect(n,s);default:if(typeof o=="function")return o.call(this,n,s);throw new Error("Unknown "+o+" point type!")}},N.prototype.drawCircle=function(n,s){return this.nested.circle(this.options.pointSize).center(n,s)},N.prototype.drawRect=function(n,s){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(n,s)},N.prototype.updatePointSelection=function(){var n=this.getPointArray();this.pointSelection.set.each((function(s){this.cx()===n[s][0]&&this.cy()===n[s][1]||this.center(n[s][0],n[s][1])}))},N.prototype.updateRectSelection=function(){var n=this,s=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:s.width,height:s.height}),this.options.points.length&&this.options.points.map((function(c,u){var d=n.pointCoords(c,s);n.rectSelection.set.get(u+1).center(d.x,d.y)})),this.options.rotationPoint){var o=this.rectSelection.set.length();this.rectSelection.set.get(o-1).center(s.width/2,20)}},N.prototype.selectRect=function(n){var s=this,o=this.el.bbox();function c(f){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var b=g.pageX||g.touches[0].pageX,v=g.pageY||g.touches[0].pageY;s.el.fire(f,{x:b,y:v,event:g})}}if(this.rectSelection.isSelected=n,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(o.width,o.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(f,g){var b=s.pointCoords(f,o),v=s.drawPoint(b.x,b.y).attr("class",s.options.classPoints+"_"+f).on("mousedown",c(f)).on("touchstart",c(f));s.rectSelection.set.add(v)})),this.rectSelection.set.each((function(){this.addClass(s.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var u=function(f){(f=f||window.event).preventDefault?f.preventDefault():f.returnValue=!1,f.stopPropagation();var g=f.pageX||f.touches[0].pageX,b=f.pageY||f.touches[0].pageY;s.el.fire("rot",{x:g,y:b,event:f})},d=this.drawPoint(o.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",u).on("mousedown",u);this.rectSelection.set.add(d)}},N.prototype.handler=function(){var n=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},N.prototype.observe=function(){var n=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){n.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){n.handler()}))},N.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(n,s){return typeof n=="object"&&(s=n,n=!0),(this.remember("_selectHandler")||new N(this)).init(n===void 0||n,s||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}})(),(function(){(function(){function N(n){n.remember("_resizeHandler",this),this.el=n,this.parameters={},this.lastUpdateCall=null,this.p=n.doc().node.createSVGPoint()}N.prototype.transformPoint=function(n,s,o){return this.p.x=n-(this.offset.x-window.pageXOffset),this.p.y=s-(this.offset.y-window.pageYOffset),this.p.matrixTransform(o||this.m)},N.prototype._extractPosition=function(n){return{x:n.clientX!=null?n.clientX:n.touches[0].clientX,y:n.clientY!=null?n.clientY:n.touches[0].clientY}},N.prototype.init=function(n){var s=this;if(this.stop(),n!=="stop"){for(var o in this.options={},this.el.resize.defaults)this.options[o]=this.el.resize.defaults[o],n[o]!==void 0&&(this.options[o]=n[o]);this.el.on("lt.resize",(function(c){s.resize(c||window.event)})),this.el.on("rt.resize",(function(c){s.resize(c||window.event)})),this.el.on("rb.resize",(function(c){s.resize(c||window.event)})),this.el.on("lb.resize",(function(c){s.resize(c||window.event)})),this.el.on("t.resize",(function(c){s.resize(c||window.event)})),this.el.on("r.resize",(function(c){s.resize(c||window.event)})),this.el.on("b.resize",(function(c){s.resize(c||window.event)})),this.el.on("l.resize",(function(c){s.resize(c||window.event)})),this.el.on("rot.resize",(function(c){s.resize(c||window.event)})),this.el.on("point.resize",(function(c){s.resize(c||window.event)})),this.update()}},N.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},N.prototype.resize=function(n){var s=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var o=this._extractPosition(n.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(o.x,o.y),x:n.detail.x,y:n.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),n.detail.i!==void 0){var c=this.el.array().valueOf();this.parameters.i=n.detail.i,this.parameters.pointCoords=[c[n.detail.i][0],c[n.detail.i][1]]}switch(n.type){case"lt":this.calc=function(u,d){var f=this.snapToGrid(u,d);if(this.parameters.box.width-f[0]>0&&this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-f[0]);f=this.checkAspectRatio(f),this.el.move(this.parameters.box.x+f[0],this.parameters.box.y+f[1]).size(this.parameters.box.width-f[0],this.parameters.box.height-f[1])}};break;case"rt":this.calc=function(u,d){var f=this.snapToGrid(u,d,2);if(this.parameters.box.width+f[0]>0&&this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+f[0]);f=this.checkAspectRatio(f,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+f[1]).size(this.parameters.box.width+f[0],this.parameters.box.height-f[1])}};break;case"rb":this.calc=function(u,d){var f=this.snapToGrid(u,d,0);if(this.parameters.box.width+f[0]>0&&this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+f[0]);f=this.checkAspectRatio(f),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+f[0],this.parameters.box.height+f[1])}};break;case"lb":this.calc=function(u,d){var f=this.snapToGrid(u,d,1);if(this.parameters.box.width-f[0]>0&&this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-f[0]);f=this.checkAspectRatio(f,!0),this.el.move(this.parameters.box.x+f[0],this.parameters.box.y).size(this.parameters.box.width-f[0],this.parameters.box.height+f[1])}};break;case"t":this.calc=function(u,d){var f=this.snapToGrid(u,d,2);if(this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+f[1]).height(this.parameters.box.height-f[1])}};break;case"r":this.calc=function(u,d){var f=this.snapToGrid(u,d,0);if(this.parameters.box.width+f[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+f[0])}};break;case"b":this.calc=function(u,d){var f=this.snapToGrid(u,d,0);if(this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+f[1])}};break;case"l":this.calc=function(u,d){var f=this.snapToGrid(u,d,1);if(this.parameters.box.width-f[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+f[0],this.parameters.box.y).width(this.parameters.box.width-f[0])}};break;case"rot":this.calc=function(u,d){var f=u+this.parameters.p.x,g=d+this.parameters.p.y,b=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),v=Math.atan2(g-this.parameters.box.y-this.parameters.box.height/2,f-this.parameters.box.x-this.parameters.box.width/2),y=this.parameters.rotation+180*(v-b)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(y-y%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(u,d){var f=this.snapToGrid(u,d,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),g=this.el.array().valueOf();g[this.parameters.i][0]=this.parameters.pointCoords[0]+f[0],g[this.parameters.i][1]=this.parameters.pointCoords[1]+f[1],this.el.plot(g)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:n}),SVG.on(window,"touchmove.resize",(function(u){s.update(u||window.event)})),SVG.on(window,"touchend.resize",(function(){s.done()})),SVG.on(window,"mousemove.resize",(function(u){s.update(u||window.event)})),SVG.on(window,"mouseup.resize",(function(){s.done()}))},N.prototype.update=function(n){if(n){var s=this._extractPosition(n),o=this.transformPoint(s.x,s.y),c=o.x-this.parameters.p.x,u=o.y-this.parameters.p.y;this.lastUpdateCall=[c,u],this.calc(c,u),this.el.fire("resizing",{dx:c,dy:u,event:n})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},N.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},N.prototype.snapToGrid=function(n,s,o,c){var u;return c!==void 0?u=[(o+n)%this.options.snapToGrid,(c+s)%this.options.snapToGrid]:(o=o??3,u=[(this.parameters.box.x+n+(1&o?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+s+(2&o?0:this.parameters.box.height))%this.options.snapToGrid]),n<0&&(u[0]-=this.options.snapToGrid),s<0&&(u[1]-=this.options.snapToGrid),n-=Math.abs(u[0])<this.options.snapToGrid/2?u[0]:u[0]-(n<0?-this.options.snapToGrid:this.options.snapToGrid),s-=Math.abs(u[1])<this.options.snapToGrid/2?u[1]:u[1]-(s<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(n,s,o,c)},N.prototype.constraintToBox=function(n,s,o,c){var u,d,f=this.options.constraint||{};return c!==void 0?(u=o,d=c):(u=this.parameters.box.x+(1&o?0:this.parameters.box.width),d=this.parameters.box.y+(2&o?0:this.parameters.box.height)),f.minX!==void 0&&u+n<f.minX&&(n=f.minX-u),f.maxX!==void 0&&u+n>f.maxX&&(n=f.maxX-u),f.minY!==void 0&&d+s<f.minY&&(s=f.minY-d),f.maxY!==void 0&&d+s>f.maxY&&(s=f.maxY-d),[n,s]},N.prototype.checkAspectRatio=function(n,s){if(!this.options.saveAspectRatio)return n;var o=n.slice(),c=this.parameters.box.width/this.parameters.box.height,u=this.parameters.box.width+n[0],d=this.parameters.box.height-n[1],f=u/d;return f<c?(o[1]=u/c-this.parameters.box.height,s&&(o[1]=-o[1])):f>c&&(o[0]=this.parameters.box.width-d*c,s&&(o[0]=-o[0])),o},SVG.extend(SVG.Element,{resize:function(n){return(this.remember("_resizeHandler")||new N(this)).init(n||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)})(),window.Apex===void 0&&(window.Apex={});var Bh=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new J(this.ctx),this.ctx.axes=new Eb(this.ctx),this.ctx.core=new Qb(this.ctx.el,this.ctx),this.ctx.config=new ti({}),this.ctx.data=new wo(this.ctx),this.ctx.grid=new Eh(this.ctx),this.ctx.graphics=new V(this.ctx),this.ctx.coreUtils=new re(this.ctx),this.ctx.crosshairs=new Ao(this.ctx),this.ctx.events=new Ab(this.ctx),this.ctx.exports=new ss(this.ctx),this.ctx.fill=new Wt(this.ctx),this.ctx.localization=new Cb(this.ctx),this.ctx.options=new Ye,this.ctx.responsive=new Tb(this.ctx),this.ctx.series=new Mt(this.ctx),this.ctx.theme=new Mb(this.ctx),this.ctx.formatters=new Re(this.ctx),this.ctx.titleSubtitle=new Lb(this.ctx),this.ctx.legend=new Mh(this.ctx),this.ctx.toolbar=new Lh(this.ctx),this.ctx.tooltip=new Oh(this.ctx),this.ctx.dimensions=new as(this.ctx),this.ctx.updateHelpers=new ex(this.ctx),this.ctx.zoomPanSelection=new Db(this.ctx),this.ctx.w.globals.tooltip=new Oh(this.ctx)}}]),N})(),Hh=(function(){function N(n){a(this,N),this.ctx=n,this.w=n.w}return h(N,[{key:"clear",value:function(n){var s=n.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:s})}},{key:"killSVG",value:function(n){n.each((function(){this.removeClass("*"),this.off(),this.stop()}),!0),n.ungroup(),n.clear()}},{key:"clearDomElements",value:function(n){var s=this,o=n.isUpdating,c=this.w.globals.dom.Paper.node;c.parentNode&&c.parentNode.parentNode&&!o&&(c.parentNode.parentNode.style.minHeight="unset");var u=this.w.globals.dom.baseEl;u&&this.ctx.eventList.forEach((function(f){u.removeEventListener(f,s.ctx.events.documentEvent)}));var d=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(d.Paper),d.Paper.remove(),d.elWrap=null,d.elGraphical=null,d.elLegendWrap=null,d.elLegendForeign=null,d.baseEl=null,d.elGridRect=null,d.elGridRectMask=null,d.elGridRectBarMask=null,d.elGridRectMarkerMask=null,d.elForecastMask=null,d.elNonForecastMask=null,d.elDefs=null}}]),N})(),Mo=new WeakMap,tx=(function(){function N(n,s){a(this,N),this.opts=s,this.ctx=this,this.w=new rs(s).init(),this.el=n,this.w.globals.cuid=H.randomId(),this.w.globals.chartID=this.w.config.chart.id?H.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Bh(this).initModules(),this.create=H.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return h(N,[{key:"render",value:function(){var n=this;return new Promise((function(s,o){if(n.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),n.w.config.chart.id&&Apex._chartInstances.push({id:n.w.globals.chartID,group:n.w.config.chart.group,chart:n}),n.setLocale(n.w.config.chart.defaultLocale);var c=n.w.config.chart.events.beforeMount;typeof c=="function"&&c(n,n.w),n.events.fireEvent("beforeMount",[n,n.w]),window.addEventListener("resize",n.windowResizeHandler),(function(S,C){var T=!1;if(S.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var E=S.getBoundingClientRect();S.style.display!=="none"&&E.width!==0||(T=!0)}var O=new ResizeObserver((function(I){T&&C.call(S,I),T=!0}));S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(S.children).forEach((function(I){return O.observe(I)})):O.observe(S),Mo.set(C,O)})(n.el.parentNode,n.parentResizeHandler);var u=n.el.getRootNode&&n.el.getRootNode(),d=H.is("ShadowRoot",u),f=n.el.ownerDocument,g=d?u.getElementById("apexcharts-css"):f.getElementById("apexcharts-css");if(!g){var b;(g=document.createElement("style")).id="apexcharts-css",g.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,
.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,
.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,
.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}
`;var v=((b=n.opts.chart)===null||b===void 0?void 0:b.nonce)||n.w.config.chart.nonce;v&&g.setAttribute("nonce",v),d?u.prepend(g):f.head.appendChild(g)}var y=n.create(n.w.config.series,{});if(!y)return s(n);n.mount(y).then((function(){typeof n.w.config.chart.events.mounted=="function"&&n.w.config.chart.events.mounted(n,n.w),n.events.fireEvent("mounted",[n,n.w]),s(y)})).catch((function(S){o(S)}))}else o(new Error("Element not found"))}))}},{key:"create",value:function(n,s){var o=this,c=this.w;new Bh(this).initModules();var u=this.w.globals;if(u.noData=!1,u.animationEnded=!1,this.responsive.checkResponsiveConfig(s),c.config.xaxis.convertedCatToNumeric&&new Tt(c.config).convertCatToNumericXaxis(c.config,this.ctx),this.el===null||(this.core.setupElements(),c.config.chart.type==="treemap"&&(c.config.grid.show=!1,c.config.yaxis[0].show=!1),u.svgWidth===0))return u.animationEnded=!0,null;var d=n;n.forEach((function(S,C){S.hidden&&(d=o.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:C}))}));var f=re.checkComboSeries(d,c.config.chart.type);u.comboCharts=f.comboCharts,u.comboBarCount=f.comboBarCount;var g=d.every((function(S){return S.data&&S.data.length===0}));(d.length===0||g&&u.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(d),this.theme.init(),new An(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),u.noData&&u.collapsedSeries.length!==u.series.length&&!c.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),u.axisCharts&&(this.core.coreCalculations(),c.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=c.globals.minX,this.ctx.toolbar.maxX=c.globals.maxX),this.formatters.heatmapLabelFormatters(),new re(this).getLargestMarkerSize(),this.dimensions.plotCoords();var b=this.core.xySettings();this.grid.createGridMask();var v=this.core.plotChartType(d,b),y=new Cn(this);return y.bringForward(),c.config.dataLabels.background.enabled&&y.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:v,xyRatios:b,dimensions:{plot:{left:c.globals.translateX,top:c.globals.translateY,width:c.globals.gridWidth,height:c.globals.gridHeight}}}}},{key:"mount",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=this,c=o.w;return new Promise((function(u,d){if(o.el===null)return d(new Error("Not enough data to display or target element not found"));(s===null||c.globals.allSeriesCollapsed)&&o.series.handleNoData(),o.grid=new Eh(o);var f,g,b=o.grid.drawGrid();if(o.annotations=new ns(o),o.annotations.drawImageAnnos(),o.annotations.drawTextAnnos(),c.config.grid.position==="back"&&(b&&c.globals.dom.elGraphical.add(b.el),b!=null&&(f=b.elGridBorders)!==null&&f!==void 0&&f.node&&c.globals.dom.elGraphical.add(b.elGridBorders)),Array.isArray(s.elGraph))for(var v=0;v<s.elGraph.length;v++)c.globals.dom.elGraphical.add(s.elGraph[v]);else c.globals.dom.elGraphical.add(s.elGraph);c.config.grid.position==="front"&&(b&&c.globals.dom.elGraphical.add(b.el),b!=null&&(g=b.elGridBorders)!==null&&g!==void 0&&g.node&&c.globals.dom.elGraphical.add(b.elGridBorders)),c.config.xaxis.crosshairs.position==="front"&&o.crosshairs.drawXCrosshairs(),c.config.yaxis[0].crosshairs.position==="front"&&o.crosshairs.drawYCrosshairs(),c.config.chart.type!=="treemap"&&o.axes.drawAxis(c.config.chart.type,b);var y=new rr(n.ctx,b),S=new ko(n.ctx,b);if(b!==null&&(y.xAxisLabelCorrections(b.xAxisTickWidth),S.setYAxisTextAlignments(),c.config.yaxis.map((function(T,E){c.globals.ignoreYAxisIndexes.indexOf(E)===-1&&S.yAxisTitleRotate(E,T.opposite)}))),o.annotations.drawAxesAnnotations(),!c.globals.noData){if(c.config.tooltip.enabled&&!c.globals.noData&&o.w.globals.tooltip.drawTooltip(s.xyRatios),c.globals.axisCharts&&(c.globals.isXNumeric||c.config.xaxis.convertedCatToNumeric||c.globals.isRangeBar))(c.config.chart.zoom.enabled||c.config.chart.selection&&c.config.chart.selection.enabled||c.config.chart.pan&&c.config.chart.pan.enabled)&&o.zoomPanSelection.init({xyRatios:s.xyRatios});else{var C=c.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(T){C[T]=!1}))}c.config.chart.toolbar.show&&!c.globals.allSeriesCollapsed&&o.toolbar.createToolbar()}c.globals.memory.methodsToExec.length>0&&c.globals.memory.methodsToExec.forEach((function(T){T.method(T.params,!1,T.context)})),c.globals.axisCharts||c.globals.noData||o.core.resizeNonAxisCharts(),u(o)}))}},{key:"destroy",value:function(){var n,s;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,n=this.parentResizeHandler,(s=Mo.get(n))&&(s.disconnect(),Mo.delete(n));var o=this.w.config.chart.id;o&&Apex._chartInstances.forEach((function(c,u){c.id===H.escapeString(o)&&Apex._chartInstances.splice(u,1)})),new Hh(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(n){var s=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],f=this.w;return f.globals.selection=void 0,n.series&&(this.series.resetSeries(!1,!0,!1),n.series.length&&n.series[0].data&&(n.series=n.series.map((function(g,b){return s.updateHelpers._extendSeries(g,b)}))),this.updateHelpers.revertDefaultAxisMinMax()),n.xaxis&&(n=this.updateHelpers.forceXAxisUpdate(n)),n.yaxis&&(n=this.updateHelpers.forceYAxisUpdate(n)),f.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),n.theme&&(n=this.theme.updateThemeOptions(n)),this.updateHelpers._updateOptions(n,o,c,u,d)}},{key:"updateSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,s,o)}},{key:"appendSeries",value:function(n){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],c=this.w.config.series.slice();return c.push(n),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(c,s,o)}},{key:"appendData",value:function(n){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=this;o.w.globals.dataChanged=!0,o.series.getPreviousPaths();for(var c=o.w.config.series.slice(),u=0;u<c.length;u++)if(n[u]!==null&&n[u]!==void 0)for(var d=0;d<n[u].data.length;d++)c[u].data.push(n[u].data[d]);return o.w.config.series=c,s&&(o.w.globals.initialSeries=H.clone(o.w.config.series)),this.update()}},{key:"update",value:function(n){var s=this;return new Promise((function(o,c){new Hh(s.ctx).clear({isUpdating:!0});var u=s.create(s.w.config.series,n);if(!u)return o(s);s.mount(u).then((function(){typeof s.w.config.chart.events.updated=="function"&&s.w.config.chart.events.updated(s,s.w),s.events.fireEvent("updated",[s,s.w]),s.w.globals.isDirty=!0,o(s)})).catch((function(d){c(d)}))}))}},{key:"getSyncedCharts",value:function(){var n=this.getGroupedCharts(),s=[this];return n.length&&(s=[],n.forEach((function(o){s.push(o)}))),s}},{key:"getGroupedCharts",value:function(){var n=this;return Apex._chartInstances.filter((function(s){if(s.group)return!0})).map((function(s){return n.w.config.chart.group===s.group?s.chart:n}))}},{key:"toggleSeries",value:function(n){return this.series.toggleSeries(n)}},{key:"highlightSeriesOnLegendHover",value:function(n,s){return this.series.toggleSeriesOnHover(n,s)}},{key:"showSeries",value:function(n){this.series.showSeries(n)}},{key:"hideSeries",value:function(n){this.series.hideSeries(n)}},{key:"highlightSeries",value:function(n){this.series.highlightSeries(n)}},{key:"isSeriesHidden",value:function(n){this.series.isSeriesHidden(n)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(n,s)}},{key:"addEventListener",value:function(n,s){this.events.addEventListener(n,s)}},{key:"removeEventListener",value:function(n,s){this.events.removeEventListener(n,s)}},{key:"addXaxisAnnotation",value:function(n){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addXaxisAnnotationExternal(n,s,c)}},{key:"addYaxisAnnotation",value:function(n){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addYaxisAnnotationExternal(n,s,c)}},{key:"addPointAnnotation",value:function(n){var s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,c=this;o&&(c=o),c.annotations.addPointAnnotationExternal(n,s,c)}},{key:"clearAnnotations",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,s=this;n&&(s=n),s.annotations.clearAnnotations(s)}},{key:"removeAnnotation",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=this;s&&(o=s),o.annotations.removeAnnotation(o,n)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(n,s){return this.coreUtils.getSeriesTotalsXRange(n,s)}},{key:"getHighestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new So(this.ctx).getMinYMaxY(n).highestY}},{key:"getLowestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new So(this.ctx).getMinYMaxY(n).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(n,s){return this.updateHelpers.toggleDataPointSelection(n,s)}},{key:"zoomX",value:function(n,s){this.ctx.toolbar.zoomUpdateOptions(n,s)}},{key:"setLocale",value:function(n){this.localization.setCurrentLocaleValues(n)}},{key:"dataURI",value:function(n){return new ss(this.ctx).dataURI(n)}},{key:"exportToCSV",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new ss(this.ctx).exportToCSV(n)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var n=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){n.w.globals.resized=!0,n.w.globals.dataChanged=!1,n.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var n=this.w.config.chart.redrawOnWindowResize;typeof n=="function"&&(n=n()),n&&this._windowResize()}}],[{key:"getChartByID",value:function(n){var s=H.escapeString(n);if(Apex._chartInstances){var o=Apex._chartInstances.filter((function(c){return c.id===s}))[0];return o&&o.chart}}},{key:"initOnLoad",value:function(){for(var n=document.querySelectorAll("[data-apexcharts]"),s=0;s<n.length;s++)new N(n[s],JSON.parse(n[s].getAttribute("data-options"))).render()}},{key:"exec",value:function(n,s){var o=this.getChartByID(n);if(o){o.w.globals.isExecCalled=!0;var c=null;if(o.publicMethods.indexOf(s)!==-1){for(var u=arguments.length,d=new Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];c=o[s].apply(o,d)}return c}}},{key:"merge",value:function(n,s){return H.extend(n,s)}}]),N})();i.exports=tx})(ys,ys.exports)),ys.exports}var VS=YS();const jS=XS(VS);Alpine.data("chart",i=>({init(){new jS(this.$el,i).render()}}));document.addEventListener("alpine:init",()=>{window.Alpine.data("dropdown",(i,e,t)=>({selection:e,options:i,search:null,open:!1,highlighted:0,highlight(r){this.open=!0,this.options.length===0?this.highlighted=null:r>=this.options.length?this.highlighted=0:r<0?this.highlighted=this.options.length-1:this.highlighted=r,this.$refs.listbox.children[this.highlighted+1].scrollIntoView({behavior:"smooth",block:"nearest"})},highlightNext(){this.highlight(this.highlighted+1)},highlightPrev(){this.highlight(this.highlighted-1)},select(r){t.multiple?this.selection.push(r):this.selection=[r]},deselect(r){this.selection.splice(this.selection.findIndex(a=>a.value===r.value),1)},toggle(r){this.selected(r)?this.deselect(r):this.select(r)},selected(r){return this.selection.findIndex(a=>a.value===r.value)>-1},filter(r){return r?this.options.filter(a=>a.value.includes(r)||a.label.replace(/<[^>]+>/g,"").includes(r)):this.options}}))});function Qe(i){this.content=i}Qe.prototype={constructor:Qe,find:function(i){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===i)return e;return-1},get:function(i){var e=this.find(i);return e==-1?void 0:this.content[e+1]},update:function(i,e,t){var r=t&&t!=i?this.remove(t):this,a=r.find(i),l=r.content.slice();return a==-1?l.push(t||i,e):(l[a+1]=e,t&&(l[a]=t)),new Qe(l)},remove:function(i){var e=this.find(i);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Qe(t)},addToStart:function(i,e){return new Qe([i,e].concat(this.remove(i).content))},addToEnd:function(i,e){var t=this.remove(i).content.slice();return t.push(i,e),new Qe(t)},addBefore:function(i,e,t){var r=this.remove(e),a=r.content.slice(),l=r.find(i);return a.splice(l==-1?a.length:l,0,e,t),new Qe(a)},forEach:function(i){for(var e=0;e<this.content.length;e+=2)i(this.content[e],this.content[e+1])},prepend:function(i){return i=Qe.from(i),i.size?new Qe(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=Qe.from(i),i.size?new Qe(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var e=this;i=Qe.from(i);for(var t=0;t<i.content.length;t+=2)e=e.remove(i.content[t]);return e},toObject:function(){var i={};return this.forEach(function(e,t){i[e]=t}),i},get size(){return this.content.length>>1}};Qe.from=function(i){if(i instanceof Qe)return i;var e=[];if(i)for(var t in i)e.push(t,i[t]);return new Qe(e)};function Cg(i,e,t){for(let r=0;;r++){if(r==i.childCount||r==e.childCount)return i.childCount==e.childCount?null:t;let a=i.child(r),l=e.child(r);if(a==l){t+=a.nodeSize;continue}if(!a.sameMarkup(l))return t;if(a.isText&&a.text!=l.text){for(let h=0;a.text[h]==l.text[h];h++)t++;return t}if(a.content.size||l.content.size){let h=Cg(a.content,l.content,t+1);if(h!=null)return h}t+=a.nodeSize}}function Eg(i,e,t,r){for(let a=i.childCount,l=e.childCount;;){if(a==0||l==0)return a==l?null:{a:t,b:r};let h=i.child(--a),p=e.child(--l),x=h.nodeSize;if(h==p){t-=x,r-=x;continue}if(!h.sameMarkup(p))return{a:t,b:r};if(h.isText&&h.text!=p.text){let w=0,A=Math.min(h.text.length,p.text.length);for(;w<A&&h.text[h.text.length-w-1]==p.text[p.text.length-w-1];)w++,t--,r--;return{a:t,b:r}}if(h.content.size||p.content.size){let w=Eg(h.content,p.content,t-1,r-1);if(w)return w}t-=x,r-=x}}class se{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,a=0,l){for(let h=0,p=0;p<t;h++){let x=this.content[h],w=p+x.nodeSize;if(w>e&&r(x,a+p,l||null,h)!==!1&&x.content.size){let A=p+1;x.nodesBetween(Math.max(0,e-A),Math.min(x.content.size,t-A),r,a+A)}p=w}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,a){let l="",h=!0;return this.nodesBetween(e,t,(p,x)=>{let w=p.isText?p.text.slice(Math.max(e,x)-x,t-x):p.isLeaf?a?typeof a=="function"?a(p):a:p.type.spec.leafText?p.type.spec.leafText(p):"":"";p.isBlock&&(p.isLeaf&&w||p.isTextblock)&&r&&(h?h=!1:l+=r),l+=w},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,a=this.content.slice(),l=0;for(t.isText&&t.sameMarkup(r)&&(a[a.length-1]=t.withText(t.text+r.text),l=1);l<e.content.length;l++)a.push(e.content[l]);return new se(a,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],a=0;if(t>e)for(let l=0,h=0;h<t;l++){let p=this.content[l],x=h+p.nodeSize;x>e&&((h<e||x>t)&&(p.isText?p=p.cut(Math.max(0,e-h),Math.min(p.text.length,t-h)):p=p.cut(Math.max(0,e-h-1),Math.min(p.content.size,t-h-1))),r.push(p),a+=p.nodeSize),h=x}return new se(r,a)}cutByIndex(e,t){return e==t?se.empty:e==0&&t==this.content.length?this:new se(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let a=this.content.slice(),l=this.size+t.nodeSize-r.nodeSize;return a[e]=t,new se(a,l)}addToStart(e){return new se([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new se(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let a=this.content[t];e(a,r,t),r+=a.nodeSize}}findDiffStart(e,t=0){return Cg(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Eg(this,e,t,r)}findIndex(e){if(e==0)return vs(0,e);if(e==this.size)return vs(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let a=this.child(t),l=r+a.nodeSize;if(l>=e)return l==e?vs(t+1,l):vs(t,r);r=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return se.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new se(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return se.empty;let t,r=0;for(let a=0;a<e.length;a++){let l=e[a];r+=l.nodeSize,a&&l.isText&&e[a-1].sameMarkup(l)?(t||(t=e.slice(0,a)),t[t.length-1]=l.withText(t[t.length-1].text+l.text)):t&&t.push(l)}return new se(t||e,r)}static from(e){if(!e)return se.empty;if(e instanceof se)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new se([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}se.empty=new se([],0);const zo={index:0,offset:0};function vs(i,e){return zo.index=i,zo.offset=e,zo}function Qs(i,e){if(i===e)return!0;if(!(i&&typeof i=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(i);if(Array.isArray(e)!=t)return!1;if(t){if(i.length!=e.length)return!1;for(let r=0;r<i.length;r++)if(!Qs(i[r],e[r]))return!1}else{for(let r in i)if(!(r in e)||!Qs(i[r],e[r]))return!1;for(let r in e)if(!(r in i))return!1}return!0}let Pe=class Nl{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let a=0;a<e.length;a++){let l=e[a];if(this.eq(l))return e;if(this.type.excludes(l.type))t||(t=e.slice(0,a));else{if(l.type.excludes(this.type))return e;!r&&l.type.rank>this.type.rank&&(t||(t=e.slice(0,a)),t.push(this),r=!0),t&&t.push(l)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Qs(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let a=r.create(t.attrs);return r.checkAttrs(a.attrs),a}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Nl.none;if(e instanceof Nl)return[e];let t=e.slice();return t.sort((r,a)=>r.type.rank-a.type.rank),t}};Pe.none=[];class ea extends Error{}class ce{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Mg(this.content,e+this.openStart,t);return r&&new ce(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ce(Tg(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ce.empty;let r=t.openStart||0,a=t.openEnd||0;if(typeof r!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ce(se.fromJSON(e,t.content),r,a)}static maxOpen(e,t=!0){let r=0,a=0;for(let l=e.firstChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.firstChild)r++;for(let l=e.lastChild;l&&!l.isLeaf&&(t||!l.type.spec.isolating);l=l.lastChild)a++;return new ce(e,r,a)}}ce.empty=new ce(se.empty,0,0);function Tg(i,e,t){let{index:r,offset:a}=i.findIndex(e),l=i.maybeChild(r),{index:h,offset:p}=i.findIndex(t);if(a==e||l.isText){if(p!=t&&!i.child(h).isText)throw new RangeError("Removing non-flat range");return i.cut(0,e).append(i.cut(t))}if(r!=h)throw new RangeError("Removing non-flat range");return i.replaceChild(r,l.copy(Tg(l.content,e-a-1,t-a-1)))}function Mg(i,e,t,r){let{index:a,offset:l}=i.findIndex(e),h=i.maybeChild(a);if(l==e||h.isText)return r&&!r.canReplace(a,a,t)?null:i.cut(0,e).append(t).append(i.cut(e));let p=Mg(h.content,e-l-1,t,h);return p&&i.replaceChild(a,h.copy(p))}function GS(i,e,t){if(t.openStart>i.depth)throw new ea("Inserted content deeper than insertion position");if(i.depth-t.openStart!=e.depth-t.openEnd)throw new ea("Inconsistent open depths");return Lg(i,e,t,0)}function Lg(i,e,t,r){let a=i.index(r),l=i.node(r);if(a==e.index(r)&&r<i.depth-t.openStart){let h=Lg(i,e,t,r+1);return l.copy(l.content.replaceChild(a,h))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&i.depth==r&&e.depth==r){let h=i.parent,p=h.content;return hn(h,p.cut(0,i.parentOffset).append(t.content).append(p.cut(e.parentOffset)))}else{let{start:h,end:p}=qS(t,i);return hn(l,Rg(i,h,p,e,r))}else return hn(l,ta(i,e,r))}function Pg(i,e){if(!e.type.compatibleContent(i.type))throw new ea("Cannot join "+e.type.name+" onto "+i.type.name)}function Dl(i,e,t){let r=i.node(t);return Pg(r,e.node(t)),r}function cn(i,e){let t=e.length-1;t>=0&&i.isText&&i.sameMarkup(e[t])?e[t]=i.withText(e[t].text+i.text):e.push(i)}function wr(i,e,t,r){let a=(e||i).node(t),l=0,h=e?e.index(t):a.childCount;i&&(l=i.index(t),i.depth>t?l++:i.textOffset&&(cn(i.nodeAfter,r),l++));for(let p=l;p<h;p++)cn(a.child(p),r);e&&e.depth==t&&e.textOffset&&cn(e.nodeBefore,r)}function hn(i,e){return i.type.checkContent(e),i.copy(e)}function Rg(i,e,t,r,a){let l=i.depth>a&&Dl(i,e,a+1),h=r.depth>a&&Dl(t,r,a+1),p=[];return wr(null,i,a,p),l&&h&&e.index(a)==t.index(a)?(Pg(l,h),cn(hn(l,Rg(i,e,t,r,a+1)),p)):(l&&cn(hn(l,ta(i,e,a+1)),p),wr(e,t,a,p),h&&cn(hn(h,ta(t,r,a+1)),p)),wr(r,null,a,p),new se(p)}function ta(i,e,t){let r=[];if(wr(null,i,t,r),i.depth>t){let a=Dl(i,e,t+1);cn(hn(a,ta(i,e,t+1)),r)}return wr(e,null,t,r),new se(r)}function qS(i,e){let t=e.depth-i.openStart,a=e.node(t).copy(i.content);for(let l=t-1;l>=0;l--)a=e.node(l).copy(se.from(a));return{start:a.resolveNoCache(i.openStart+t),end:a.resolveNoCache(a.content.size-i.openEnd-t)}}class Nr{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],a=e.child(t);return r?e.child(t).cut(r):a}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],a=t==0?0:this.path[t*3-1]+1;for(let l=0;l<e;l++)a+=r.child(l).nodeSize;return a}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Pe.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),a=e.maybeChild(t);if(!r){let p=r;r=a,a=p}let l=r.marks;for(var h=0;h<l.length;h++)l[h].type.spec.inclusive===!1&&(!a||!l[h].isInSet(a.marks))&&(l=l[h--].removeFromSet(l));return l}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,a=e.parent.maybeChild(e.index());for(var l=0;l<r.length;l++)r[l].type.spec.inclusive===!1&&(!a||!r[l].isInSet(a.marks))&&(r=r[l--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new ia(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],a=0,l=t;for(let h=e;;){let{index:p,offset:x}=h.content.findIndex(l),w=l-x;if(r.push(h,p,a+x),!w||(h=h.child(p),h.isText))break;l=w-1,a+=x+1}return new Nr(t,r,l)}static resolveCached(e,t){let r=Rd.get(e);if(r)for(let l=0;l<r.elts.length;l++){let h=r.elts[l];if(h.pos==t)return h}else Rd.set(e,r=new US);let a=r.elts[r.i]=Nr.resolve(e,t);return r.i=(r.i+1)%$S,a}}class US{constructor(){this.elts=[],this.i=0}}const $S=12,Rd=new WeakMap;class ia{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const KS=Object.create(null);let Mi=class Fl{constructor(e,t,r,a=Pe.none){this.type=e,this.attrs=t,this.marks=a,this.content=r||se.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,a=0){this.content.nodesBetween(e,t,r,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,a){return this.content.textBetween(e,t,r,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Qs(this.attrs,t||e.defaultAttrs||KS)&&Pe.sameSet(this.marks,r||Pe.none)}copy(e=null){return e==this.content?this:new Fl(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Fl(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ce.empty;let a=this.resolve(e),l=this.resolve(t),h=r?0:a.sharedDepth(t),p=a.start(h),w=a.node(h).content.cut(a.pos-p,l.pos-p);return new ce(w,a.depth-h,l.depth-h)}replace(e,t,r){return GS(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:a}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(a==e||t.isText)return t;e-=a+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let a=this.content.child(t-1);return{node:a,index:t-1,offset:r-a.nodeSize}}resolve(e){return Nr.resolveCached(this,e)}resolveNoCache(e){return Nr.resolve(this,e)}rangeHasMark(e,t,r){let a=!1;return t>e&&this.nodesBetween(e,t,l=>(r.isInSet(l.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Og(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=se.empty,a=0,l=r.childCount){let h=this.contentMatchAt(e).matchFragment(r,a,l),p=h&&h.matchFragment(this.content,t);if(!p||!p.validEnd)return!1;for(let x=a;x<l;x++)if(!this.type.allowsMarks(r.child(x).marks))return!1;return!0}canReplaceWith(e,t,r,a){if(a&&!this.type.allowsMarks(a))return!1;let l=this.contentMatchAt(e).matchType(r),h=l&&l.matchFragment(this.content,t);return h?h.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pe.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let a=se.fromJSON(e,t.content),l=e.nodeType(t.type).create(t.attrs,a,r);return l.type.checkAttrs(l.attrs),l}};Mi.prototype.text=void 0;class na extends Mi{constructor(e,t,r,a){if(super(e,t,null,a),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Og(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new na(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new na(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Og(i,e){for(let t=i.length-1;t>=0;t--)e=i[t].type.name+"("+e+")";return e}class bn{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new JS(e,t);if(r.next==null)return bn.empty;let a=Ig(r);r.next&&r.err("Unexpected trailing text");let l=rk(nk(a));return sk(l,r),l}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let a=this;for(let l=t;a&&l<r;l++)a=a.matchType(e.child(l).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let a=[this];function l(h,p){let x=h.matchFragment(e,r);if(x&&(!t||x.validEnd))return se.from(p.map(w=>w.createAndFill()));for(let w=0;w<h.next.length;w++){let{type:A,next:M}=h.next[w];if(!(A.isText||A.hasRequiredAttrs())&&a.indexOf(M)==-1){a.push(M);let R=l(M,p.concat(A));if(R)return R}}return null}return l(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let a=r.shift(),l=a.match;if(l.matchType(e)){let h=[];for(let p=a;p.type;p=p.via)h.push(p.type);return h.reverse()}for(let h=0;h<l.next.length;h++){let{type:p,next:x}=l.next[h];!p.isLeaf&&!p.hasRequiredAttrs()&&!(p.name in t)&&(!a.type||x.validEnd)&&(r.push({match:p.contentMatch,type:p,via:a}),t[p.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let a=0;a<r.next.length;a++)e.indexOf(r.next[a].next)==-1&&t(r.next[a].next)}return t(this),e.map((r,a)=>{let l=a+(r.validEnd?"*":" ")+" ";for(let h=0;h<r.next.length;h++)l+=(h?", ":"")+r.next[h].type.name+"->"+e.indexOf(r.next[h].next);return l}).join(`
`)}}bn.empty=new bn(!0);class JS{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Ig(i){let e=[];do e.push(ZS(i));while(i.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function ZS(i){let e=[];do e.push(QS(i));while(i.next&&i.next!=")"&&i.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function QS(i){let e=ik(i);for(;;)if(i.eat("+"))e={type:"plus",expr:e};else if(i.eat("*"))e={type:"star",expr:e};else if(i.eat("?"))e={type:"opt",expr:e};else if(i.eat("{"))e=ek(i,e);else break;return e}function Od(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let e=Number(i.next);return i.pos++,e}function ek(i,e){let t=Od(i),r=t;return i.eat(",")&&(i.next!="}"?r=Od(i):r=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function tk(i,e){let t=i.nodeTypes,r=t[e];if(r)return[r];let a=[];for(let l in t){let h=t[l];h.isInGroup(e)&&a.push(h)}return a.length==0&&i.err("No node type or group '"+e+"' found"),a}function ik(i){if(i.eat("(")){let e=Ig(i);return i.eat(")")||i.err("Missing closing paren"),e}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let e=tk(i,i.next).map(t=>(i.inline==null?i.inline=t.isInline:i.inline!=t.isInline&&i.err("Mixing inline and block content"),{type:"name",value:t}));return i.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function nk(i){let e=[[]];return a(l(i,0),t()),e;function t(){return e.push([])-1}function r(h,p,x){let w={term:x,to:p};return e[h].push(w),w}function a(h,p){h.forEach(x=>x.to=p)}function l(h,p){if(h.type=="choice")return h.exprs.reduce((x,w)=>x.concat(l(w,p)),[]);if(h.type=="seq")for(let x=0;;x++){let w=l(h.exprs[x],p);if(x==h.exprs.length-1)return w;a(w,p=t())}else if(h.type=="star"){let x=t();return r(p,x),a(l(h.expr,x),x),[r(x)]}else if(h.type=="plus"){let x=t();return a(l(h.expr,p),x),a(l(h.expr,x),x),[r(x)]}else{if(h.type=="opt")return[r(p)].concat(l(h.expr,p));if(h.type=="range"){let x=p;for(let w=0;w<h.min;w++){let A=t();a(l(h.expr,x),A),x=A}if(h.max==-1)a(l(h.expr,x),x);else for(let w=h.min;w<h.max;w++){let A=t();r(x,A),a(l(h.expr,x),A),x=A}return[r(x)]}else{if(h.type=="name")return[r(p,void 0,h.value)];throw new Error("Unknown expr type")}}}}function Ng(i,e){return e-i}function Id(i,e){let t=[];return r(e),t.sort(Ng);function r(a){let l=i[a];if(l.length==1&&!l[0].term)return r(l[0].to);t.push(a);for(let h=0;h<l.length;h++){let{term:p,to:x}=l[h];!p&&t.indexOf(x)==-1&&r(x)}}}function rk(i){let e=Object.create(null);return t(Id(i,0));function t(r){let a=[];r.forEach(h=>{i[h].forEach(({term:p,to:x})=>{if(!p)return;let w;for(let A=0;A<a.length;A++)a[A][0]==p&&(w=a[A][1]);Id(i,x).forEach(A=>{w||a.push([p,w=[]]),w.indexOf(A)==-1&&w.push(A)})})});let l=e[r.join(",")]=new bn(r.indexOf(i.length-1)>-1);for(let h=0;h<a.length;h++){let p=a[h][1].sort(Ng);l.next.push({type:a[h][0],next:e[p.join(",")]||t(p)})}return l}}function sk(i,e){for(let t=0,r=[i];t<r.length;t++){let a=r[t],l=!a.validEnd,h=[];for(let p=0;p<a.next.length;p++){let{type:x,next:w}=a.next[p];h.push(x.name),l&&!(x.isText||x.hasRequiredAttrs())&&(l=!1),r.indexOf(w)==-1&&r.push(w)}l&&e.err("Only non-generatable nodes ("+h.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Dg(i){let e=Object.create(null);for(let t in i){let r=i[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Fg(i,e){let t=Object.create(null);for(let r in i){let a=e&&e[r];if(a===void 0){let l=i[r];if(l.hasDefault)a=l.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=a}return t}function zg(i,e,t,r){for(let a in e)if(!(a in i))throw new RangeError(`Unsupported attribute ${a} for ${t} of type ${a}`);for(let a in i){let l=i[a];l.validate&&l.validate(e[a])}}function Bg(i,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new ok(i,r,e[r]);return t}let Nd=class Hg{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Bg(e,r.attrs),this.defaultAttrs=Dg(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==bn.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Fg(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Mi(this,this.computeAttrs(e),se.from(t),Pe.setFrom(r))}createChecked(e=null,t,r){return t=se.from(t),this.checkContent(t),new Mi(this,this.computeAttrs(e),t,Pe.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=se.from(t),t.size){let h=this.contentMatch.fillBefore(t);if(!h)return null;t=h.append(t)}let a=this.contentMatch.matchFragment(t),l=a&&a.fillBefore(se.empty,!0);return l?new Mi(this,e,t.append(l),Pe.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){zg(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Pe.none:e}static compile(e,t){let r=Object.create(null);e.forEach((l,h)=>r[l]=new Hg(l,t,h));let a=t.spec.topNode||"doc";if(!r[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let l in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ak(i,e,t){let r=t.split("|");return a=>{let l=a===null?"null":typeof a;if(r.indexOf(l)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${i}, got ${l}`)}}class ok{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ak(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class ao{constructor(e,t,r,a){this.name=e,this.rank=t,this.schema=r,this.spec=a,this.attrs=Bg(e,a.attrs),this.excluded=null;let l=Dg(this.attrs);this.instance=l?new Pe(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Pe(this,Fg(this.attrs,e))}static compile(e,t){let r=Object.create(null),a=0;return e.forEach((l,h)=>r[l]=new ao(l,a++,t,h)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){zg(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class _g{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let a in e)t[a]=e[a];t.nodes=Qe.from(e.nodes),t.marks=Qe.from(e.marks||{}),this.nodes=Nd.compile(this.spec.nodes,this),this.marks=ao.compile(this.spec.marks,this);let r=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let l=this.nodes[a],h=l.spec.content||"",p=l.spec.marks;if(l.contentMatch=r[h]||(r[h]=bn.parse(h,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=p=="_"?null:p?Dd(this,p.split(" ")):p==""||!l.inlineContent?[]:null}for(let a in this.marks){let l=this.marks[a],h=l.spec.excludes;l.excluded=h==null?[l]:h==""?[]:Dd(this,h.split(" "))}this.nodeFromJSON=a=>Mi.fromJSON(this,a),this.markFromJSON=a=>Pe.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Nd){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,a)}text(e,t){let r=this.nodes.text;return new na(r,r.defaultAttrs,e,Pe.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Dd(i,e){let t=[];for(let r=0;r<e.length;r++){let a=e[r],l=i.marks[a],h=l;if(l)t.push(l);else for(let p in i.marks){let x=i.marks[p];(a=="_"||x.spec.group&&x.spec.group.split(" ").indexOf(a)>-1)&&t.push(h=x)}if(!h)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function lk(i){return i.tag!=null}function ck(i){return i.style!=null}let Sr=class zl{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(a=>{if(lk(a))this.tags.push(a);else if(ck(a)){let l=/[^=]*/.exec(a.style)[0];r.indexOf(l)<0&&r.push(l),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let l=e.nodes[a.node];return l.contentMatch.matchType(l)})}parse(e,t={}){let r=new zd(this,t,!1);return r.addAll(e,Pe.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new zd(this,t,!0);return r.addAll(e,Pe.none,t.from,t.to),ce.maxOpen(r.finish())}matchTag(e,t,r){for(let a=r?this.tags.indexOf(r)+1:0;a<this.tags.length;a++){let l=this.tags[a];if(uk(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||t.matchesContext(l.context))){if(l.getAttrs){let h=l.getAttrs(e);if(h===!1)continue;l.attrs=h||void 0}return l}}}matchStyle(e,t,r,a){for(let l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){let h=this.styles[l],p=h.style;if(!(p.indexOf(e)!=0||h.context&&!r.matchesContext(h.context)||p.length>e.length&&(p.charCodeAt(e.length)!=61||p.slice(e.length+1)!=t))){if(h.getAttrs){let x=h.getAttrs(t);if(x===!1)continue;h.attrs=x||void 0}return h}}}static schemaRules(e){let t=[];function r(a){let l=a.priority==null?50:a.priority,h=0;for(;h<t.length;h++){let p=t[h];if((p.priority==null?50:p.priority)<l)break}t.splice(h,0,a)}for(let a in e.marks){let l=e.marks[a].spec.parseDOM;l&&l.forEach(h=>{r(h=Bd(h)),h.mark||h.ignore||h.clearMark||(h.mark=a)})}for(let a in e.nodes){let l=e.nodes[a].spec.parseDOM;l&&l.forEach(h=>{r(h=Bd(h)),h.node||h.ignore||h.mark||(h.node=a)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new zl(e,zl.schemaRules(e)))}};const Wg={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},hk={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Xg={ol:!0,ul:!0},Dr=1,Bl=2,kr=4;function Fd(i,e,t){return e!=null?(e?Dr:0)|(e==="full"?Bl:0):i&&i.whitespace=="pre"?Dr|Bl:t&~kr}class ws{constructor(e,t,r,a,l,h){this.type=e,this.attrs=t,this.marks=r,this.solid=a,this.options=h,this.content=[],this.activeMarks=Pe.none,this.match=l||(h&kr?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(se.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,a;return(a=r.findWrapping(e.type))?(this.match=r,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Dr)){let r=this.content[this.content.length-1],a;if(r&&r.isText&&(a=/[ \t\r\n\u000c]+$/.exec(r.text))){let l=r;r.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-a[0].length))}}let t=se.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(se.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Wg.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class zd{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let a=t.topNode,l,h=Fd(null,t.preserveWhitespace,0)|(r?kr:0);a?l=new ws(a.type,a.attrs,Pe.none,!0,t.topMatch||a.type.contentMatch,h):r?l=new ws(null,null,Pe.none,!0,null,h):l=new ws(e.schema.topNodeType,null,Pe.none,!0,null,h),this.nodes=[l],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,a=this.top,l=a.options&Bl?"full":this.localPreserveWS||(a.options&Dr)>0;if(l==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(l)l!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let h=a.content[a.content.length-1],p=e.previousSibling;(!h||p&&p.nodeName=="BR"||h.isText&&/[ \t\r\n\u000c]$/.test(h.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let a=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let h=e.nodeName.toLowerCase(),p;Xg.hasOwnProperty(h)&&this.parser.normalizeLists&&dk(e);let x=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(p=this.parser.matchTag(e,this,r));e:if(x?x.ignore:hk.hasOwnProperty(h))this.findInside(e),this.ignoreFallback(e,t);else if(!x||x.skip||x.closeParent){x&&x.closeParent?this.open=Math.max(0,this.open-1):x&&x.skip.nodeType&&(e=x.skip);let w,A=this.needsBlock;if(Wg.hasOwnProperty(h))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),w=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let M=x&&x.skip?t:this.readStyles(e,t);M&&this.addAll(e,M),w&&this.sync(l),this.needsBlock=A}else{let w=this.readStyles(e,t);w&&this.addElementByRule(e,x,w,x.consuming===!1?p:void 0)}this.localPreserveWS=a}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let l=this.parser.matchedStyles[a],h=r.getPropertyValue(l);if(h)for(let p=void 0;;){let x=this.parser.matchStyle(l,h,this,p);if(!x)break;if(x.ignore)return null;if(x.clearMark?t=t.filter(w=>!x.clearMark(w)):t=t.concat(this.parser.schema.marks[x.mark].create(x.attrs)),x.consuming===!1)p=x;else break}}return t}addElementByRule(e,t,r,a){let l,h;if(t.node)if(h=this.parser.schema.nodes[t.node],h.isLeaf)this.insertNode(h.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let x=this.enter(h,t.attrs||null,r,t.preserveWhitespace);x&&(l=!0,r=x)}else{let x=this.parser.schema.marks[t.mark];r=r.concat(x.create(t.attrs))}let p=this.top;if(h&&h.isLeaf)this.findInside(e);else if(a)this.addElement(e,r,a);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(x=>this.insertNode(x,r,!1));else{let x=e;typeof t.contentElement=="string"?x=e.querySelector(t.contentElement):typeof t.contentElement=="function"?x=t.contentElement(e):t.contentElement&&(x=t.contentElement),this.findAround(e,x,!0),this.addAll(x,r),this.findAround(e,x,!1)}l&&this.sync(p)&&this.open--}addAll(e,t,r,a){let l=r||0;for(let h=r?e.childNodes[r]:e.firstChild,p=a==null?null:e.childNodes[a];h!=p;h=h.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(h,t);this.findAtPoint(e,l)}findPlace(e,t,r){let a,l;for(let h=this.open,p=0;h>=0;h--){let x=this.nodes[h],w=x.findWrapping(e);if(w&&(!a||a.length>w.length+p)&&(a=w,l=x,!w.length))break;if(x.solid){if(r)break;p+=2}}if(!a)return null;this.sync(l);for(let h=0;h<a.length;h++)t=this.enterInner(a[h],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(t=this.enterInner(l,null,t))}let a=this.findPlace(e,t,r);if(a){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let h=Pe.none;for(let p of a.concat(e.marks))(l.type?l.type.allowsMarkType(p.type):Hd(p.type,e.type))&&(h=p.addToSet(h));return l.content.push(e.mark(h)),!0}return!1}enter(e,t,r,a){let l=this.findPlace(e.create(t),r,!1);return l&&(l=this.enterInner(e,t,r,!0,a)),l}enterInner(e,t,r,a=!1,l){this.closeExtra();let h=this.top;h.match=h.match&&h.match.matchType(e);let p=Fd(e,l,h.options);h.options&kr&&h.content.length==0&&(p|=kr);let x=Pe.none;return r=r.filter(w=>(h.type?h.type.allowsMarkType(w.type):Hd(w.type,e))?(x=w.addToSet(x),!1):!0),this.nodes.push(new ws(e,t,x,a,null,p)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Dr)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let a=r.length-1;a>=0;a--)e+=r[a].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&t.compareDocumentPosition(this.find[a].node)&(r?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,a=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),l=-(r?r.depth+1:0)+(a?0:1),h=(p,x)=>{for(;p>=0;p--){let w=t[p];if(w==""){if(p==t.length-1||p==0)continue;for(;x>=l;x--)if(h(p-1,x))return!0;return!1}else{let A=x>0||x==0&&a?this.nodes[x].type:r&&x>=l?r.node(x-l).type:null;if(!A||A.name!=w&&!A.isInGroup(w))return!1;x--}}return!0};return h(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function dk(i){for(let e=i.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Xg.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function uk(i,e){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,e)}function Bd(i){let e={};for(let t in i)e[t]=i[t];return e}function Hd(i,e){let t=e.schema.nodes;for(let r in t){let a=t[r];if(!a.allowsMarkType(i))continue;let l=[],h=p=>{l.push(p);for(let x=0;x<p.edgeCount;x++){let{type:w,next:A}=p.edge(x);if(w==e||l.indexOf(A)<0&&h(A))return!0}};if(h(a.contentMatch))return!0}}class kn{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Bo(t).createDocumentFragment());let a=r,l=[];return e.forEach(h=>{if(l.length||h.marks.length){let p=0,x=0;for(;p<l.length&&x<h.marks.length;){let w=h.marks[x];if(!this.marks[w.type.name]){x++;continue}if(!w.eq(l[p][0])||w.type.spec.spanning===!1)break;p++,x++}for(;p<l.length;)a=l.pop()[1];for(;x<h.marks.length;){let w=h.marks[x++],A=this.serializeMark(w,h.isInline,t);A&&(l.push([w,a]),a.appendChild(A.dom),a=A.contentDOM||A.dom)}}a.appendChild(this.serializeNodeInner(h,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:a}=zs(Bo(t),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,a)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let a=e.marks.length-1;a>=0;a--){let l=this.serializeMark(e.marks[a],e.isInline,t);l&&((l.contentDOM||l.dom).appendChild(r),r=l.dom)}return r}serializeMark(e,t,r={}){let a=this.marks[e.type.name];return a&&zs(Bo(r),a(e,t),null,e.attrs)}static renderSpec(e,t,r=null,a){return zs(e,t,r,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new kn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=_d(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return _d(e.marks)}}function _d(i){let e={};for(let t in i){let r=i[t].spec.toDOM;r&&(e[t]=r)}return e}function Bo(i){return i.document||window.document}const Wd=new WeakMap;function fk(i){let e=Wd.get(i);return e===void 0&&Wd.set(i,e=pk(i)),e}function pk(i){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let a=0;a<r.length;a++)t(r[a]);else for(let a in r)t(r[a])}return t(i),e}function zs(i,e,t,r){if(typeof e=="string")return{dom:i.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],l;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(l=fk(r))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let h=a.indexOf(" ");h>0&&(t=a.slice(0,h),a=a.slice(h+1));let p,x=t?i.createElementNS(t,a):i.createElement(a),w=e[1],A=1;if(w&&typeof w=="object"&&w.nodeType==null&&!Array.isArray(w)){A=2;for(let M in w)if(w[M]!=null){let R=M.indexOf(" ");R>0?x.setAttributeNS(M.slice(0,R),M.slice(R+1),w[M]):M=="style"&&x.style?x.style.cssText=w[M]:x.setAttribute(M,w[M])}}for(let M=A;M<e.length;M++){let R=e[M];if(R===0){if(M<e.length-1||M>A)throw new RangeError("Content hole must be the only child of its parent node");return{dom:x,contentDOM:x}}else{let{dom:z,contentDOM:P}=zs(i,R,t,r);if(x.appendChild(z),P){if(p)throw new RangeError("Multiple content holes");p=P}}}return{dom:x,contentDOM:p}}const Yg=65535,Vg=Math.pow(2,16);function gk(i,e){return i+e*Vg}function Xd(i){return i&Yg}function mk(i){return(i-(i&Yg))/Vg}const jg=1,Gg=2,Bs=4,qg=8;class Hl{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&qg)>0}get deletedBefore(){return(this.delInfo&(jg|Bs))>0}get deletedAfter(){return(this.delInfo&(Gg|Bs))>0}get deletedAcross(){return(this.delInfo&Bs)>0}}class kt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&kt.empty)return kt.empty}recover(e){let t=0,r=Xd(e);if(!this.inverted)for(let a=0;a<r;a++)t+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[r*3]+t+mk(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let a=0,l=this.inverted?2:1,h=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let x=this.ranges[p]-(this.inverted?a:0);if(x>e)break;let w=this.ranges[p+l],A=this.ranges[p+h],M=x+w;if(e<=M){let R=w?e==x?-1:e==M?1:t:t,z=x+a+(R<0?0:A);if(r)return z;let P=e==(t<0?x:M)?null:gk(p/3,e-x),X=e==x?Gg:e==M?jg:Bs;return(t<0?e!=x:e!=M)&&(X|=qg),new Hl(z,X,P)}a+=A-w}return r?e+a:new Hl(e+a,0,null)}touches(e,t){let r=0,a=Xd(t),l=this.inverted?2:1,h=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let x=this.ranges[p]-(this.inverted?r:0);if(x>e)break;let w=this.ranges[p+l],A=x+w;if(e<=A&&p==a*3)return!0;r+=this.ranges[p+h]-w}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let a=0,l=0;a<this.ranges.length;a+=3){let h=this.ranges[a],p=h-(this.inverted?l:0),x=h+(this.inverted?0:l),w=this.ranges[a+t],A=this.ranges[a+r];e(p,p+w,x,x+A),l+=A-w}}invert(){return new kt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?kt.empty:new kt(e<0?[0,-e,0]:[0,0,e])}}kt.empty=new kt([]);class Fr{constructor(e,t,r=0,a=e?e.length:0){this.mirror=t,this.from=r,this.to=a,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Fr(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let a=e.getMirror(t);this.appendMap(e._maps[t],a!=null&&a<t?r+a:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let a=e.getMirror(t);this.appendMap(e._maps[t].invert(),a!=null&&a>t?r-a-1:void 0)}}invert(){let e=new Fr;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let a=0;for(let l=this.from;l<this.to;l++){let h=this._maps[l],p=h.mapResult(e,t);if(p.recover!=null){let x=this.getMirror(l);if(x!=null&&x>l&&x<this.to){l=x,e=this._maps[x].recover(p.recover);continue}}a|=p.delInfo,e=p.pos}return r?e:new Hl(e,a,null)}}const Ho=Object.create(null);class ht{getMap(){return kt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ho[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Ho)throw new RangeError("Duplicate use of step JSON ID "+e);return Ho[e]=t,t.prototype.jsonID=e,t}}class Ve{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ve(e,null)}static fail(e){return new Ve(null,e)}static fromReplace(e,t,r,a){try{return Ve.ok(e.replace(t,r,a))}catch(l){if(l instanceof ea)return Ve.fail(l.message);throw l}}}function Vc(i,e,t){let r=[];for(let a=0;a<i.childCount;a++){let l=i.child(a);l.content.size&&(l=l.copy(Vc(l.content,e,l))),l.isInline&&(l=e(l,t,a)),r.push(l)}return se.fromArray(r)}class Ci extends ht{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),a=r.node(r.sharedDepth(this.to)),l=new ce(Vc(t.content,(h,p)=>!h.isAtom||!p.type.allowsMarkType(this.mark.type)?h:h.mark(this.mark.addToSet(h.marks)),a),t.openStart,t.openEnd);return Ve.fromReplace(e,this.from,this.to,l)}invert(){return new Jt(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ci(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ci&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ci(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ci(t.from,t.to,e.markFromJSON(t.mark))}}ht.jsonID("addMark",Ci);class Jt extends ht{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ce(Vc(t.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),t.openStart,t.openEnd);return Ve.fromReplace(e,this.from,this.to,r)}invert(){return new Ci(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Jt(t.pos,r.pos,this.mark)}merge(e){return e instanceof Jt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Jt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Jt(t.from,t.to,e.markFromJSON(t.mark))}}ht.jsonID("removeMark",Jt);class Ei extends ht{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ve.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ve.fromReplace(e,this.pos,this.pos+1,new ce(se.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let a=0;a<t.marks.length;a++)if(!t.marks[a].isInSet(r))return new Ei(this.pos,t.marks[a]);return new Ei(this.pos,this.mark)}}return new xn(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ei(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ei(t.pos,e.markFromJSON(t.mark))}}ht.jsonID("addNodeMark",Ei);class xn extends ht{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ve.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ve.fromReplace(e,this.pos,this.pos+1,new ce(se.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ei(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new xn(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new xn(t.pos,e.markFromJSON(t.mark))}}ht.jsonID("removeNodeMark",xn);class $e extends ht{constructor(e,t,r,a=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=a}apply(e){return this.structure&&_l(e,this.from,this.to)?Ve.fail("Structure replace would overwrite content"):Ve.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new kt([this.from,this.to-this.from,this.slice.size])}invert(e){return new $e(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new $e(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof $e)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ce.empty:new ce(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new $e(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ce.empty:new ce(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new $e(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new $e(t.from,t.to,ce.fromJSON(e,t.slice),!!t.structure)}}ht.jsonID("replace",$e);class Ke extends ht{constructor(e,t,r,a,l,h,p=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=a,this.slice=l,this.insert=h,this.structure=p}apply(e){if(this.structure&&(_l(e,this.from,this.gapFrom)||_l(e,this.gapTo,this.to)))return Ve.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ve.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ve.fromReplace(e,this.from,this.to,r):Ve.fail("Content does not fit in gap")}getMap(){return new kt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ke(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),a=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||a<t.pos||l>r.pos?null:new Ke(t.pos,r.pos,a,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ke(t.from,t.to,t.gapFrom,t.gapTo,ce.fromJSON(e,t.slice),t.insert,!!t.structure)}}ht.jsonID("replaceAround",Ke);function _l(i,e,t){let r=i.resolve(e),a=t-e,l=r.depth;for(;a>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,a--;if(a>0){let h=r.node(l).maybeChild(r.indexAfter(l));for(;a>0;){if(!h||h.isLeaf)return!0;h=h.firstChild,a--}}return!1}function bk(i,e,t,r){let a=[],l=[],h,p;i.doc.nodesBetween(e,t,(x,w,A)=>{if(!x.isInline)return;let M=x.marks;if(!r.isInSet(M)&&A.type.allowsMarkType(r.type)){let R=Math.max(w,e),z=Math.min(w+x.nodeSize,t),P=r.addToSet(M);for(let X=0;X<M.length;X++)M[X].isInSet(P)||(h&&h.to==R&&h.mark.eq(M[X])?h.to=z:a.push(h=new Jt(R,z,M[X])));p&&p.to==R?p.to=z:l.push(p=new Ci(R,z,r))}}),a.forEach(x=>i.step(x)),l.forEach(x=>i.step(x))}function xk(i,e,t,r){let a=[],l=0;i.doc.nodesBetween(e,t,(h,p)=>{if(!h.isInline)return;l++;let x=null;if(r instanceof ao){let w=h.marks,A;for(;A=r.isInSet(w);)(x||(x=[])).push(A),w=A.removeFromSet(w)}else r?r.isInSet(h.marks)&&(x=[r]):x=h.marks;if(x&&x.length){let w=Math.min(p+h.nodeSize,t);for(let A=0;A<x.length;A++){let M=x[A],R;for(let z=0;z<a.length;z++){let P=a[z];P.step==l-1&&M.eq(a[z].style)&&(R=P)}R?(R.to=w,R.step=l):a.push({style:M,from:Math.max(p,e),to:w,step:l})}}}),a.forEach(h=>i.step(new Jt(h.from,h.to,h.style)))}function jc(i,e,t,r=t.contentMatch,a=!0){let l=i.doc.nodeAt(e),h=[],p=e+1;for(let x=0;x<l.childCount;x++){let w=l.child(x),A=p+w.nodeSize,M=r.matchType(w.type);if(!M)h.push(new $e(p,A,ce.empty));else{r=M;for(let R=0;R<w.marks.length;R++)t.allowsMarkType(w.marks[R].type)||i.step(new Jt(p,A,w.marks[R]));if(a&&w.isText&&t.whitespace!="pre"){let R,z=/\r?\n|\r/g,P;for(;R=z.exec(w.text);)P||(P=new ce(se.from(t.schema.text(" ",t.allowedMarks(w.marks))),0,0)),h.push(new $e(p+R.index,p+R.index+R[0].length,P))}}p=A}if(!r.validEnd){let x=r.fillBefore(se.empty,!0);i.replace(p,p,new ce(x,0,0))}for(let x=h.length-1;x>=0;x--)i.step(h[x])}function yk(i,e,t){return(e==0||i.canReplace(e,i.childCount))&&(t==i.childCount||i.canReplace(0,t))}function ir(i){let t=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let r=i.depth;;--r){let a=i.$from.node(r),l=i.$from.index(r),h=i.$to.indexAfter(r);if(r<i.depth&&a.canReplace(l,h,t))return r;if(r==0||a.type.spec.isolating||!yk(a,l,h))break}return null}function vk(i,e,t){let{$from:r,$to:a,depth:l}=e,h=r.before(l+1),p=a.after(l+1),x=h,w=p,A=se.empty,M=0;for(let P=l,X=!1;P>t;P--)X||r.index(P)>0?(X=!0,A=se.from(r.node(P).copy(A)),M++):x--;let R=se.empty,z=0;for(let P=l,X=!1;P>t;P--)X||a.after(P+1)<a.end(P)?(X=!0,R=se.from(a.node(P).copy(R)),z++):w++;i.step(new Ke(x,w,h,p,new ce(A.append(R),M,z),A.size-M,!0))}function Gc(i,e,t=null,r=i){let a=wk(i,e),l=a&&Sk(r,e);return l?a.map(Yd).concat({type:e,attrs:t}).concat(l.map(Yd)):null}function Yd(i){return{type:i,attrs:null}}function wk(i,e){let{parent:t,startIndex:r,endIndex:a}=i,l=t.contentMatchAt(r).findWrapping(e);if(!l)return null;let h=l.length?l[0]:e;return t.canReplaceWith(r,a,h)?l:null}function Sk(i,e){let{parent:t,startIndex:r,endIndex:a}=i,l=t.child(r),h=e.contentMatch.findWrapping(l.type);if(!h)return null;let x=(h.length?h[h.length-1]:e).contentMatch;for(let w=r;x&&w<a;w++)x=x.matchType(t.child(w).type);return!x||!x.validEnd?null:h}function kk(i,e,t){let r=se.empty;for(let h=t.length-1;h>=0;h--){if(r.size){let p=t[h].type.contentMatch.matchFragment(r);if(!p||!p.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=se.from(t[h].type.create(t[h].attrs,r))}let a=e.start,l=e.end;i.step(new Ke(a,l,a,l,new ce(r,0,0),t.length,!0))}function Ak(i,e,t,r,a){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=i.steps.length;i.doc.nodesBetween(e,t,(h,p)=>{let x=typeof a=="function"?a(h):a;if(h.isTextblock&&!h.hasMarkup(r,x)&&Ck(i.doc,i.mapping.slice(l).map(p),r)){let w=null;if(r.schema.linebreakReplacement){let z=r.whitespace=="pre",P=!!r.contentMatch.matchType(r.schema.linebreakReplacement);z&&!P?w=!1:!z&&P&&(w=!0)}w===!1&&$g(i,h,p,l),jc(i,i.mapping.slice(l).map(p,1),r,void 0,w===null);let A=i.mapping.slice(l),M=A.map(p,1),R=A.map(p+h.nodeSize,1);return i.step(new Ke(M,R,M+1,R-1,new ce(se.from(r.create(x,null,h.marks)),0,0),1,!0)),w===!0&&Ug(i,h,p,l),!1}})}function Ug(i,e,t,r){e.forEach((a,l)=>{if(a.isText){let h,p=/\r?\n|\r/g;for(;h=p.exec(a.text);){let x=i.mapping.slice(r).map(t+1+l+h.index);i.replaceWith(x,x+1,e.type.schema.linebreakReplacement.create())}}})}function $g(i,e,t,r){e.forEach((a,l)=>{if(a.type==a.type.schema.linebreakReplacement){let h=i.mapping.slice(r).map(t+1+l);i.replaceWith(h,h+1,e.type.schema.text(`
`))}})}function Ck(i,e,t){let r=i.resolve(e),a=r.index();return r.parent.canReplaceWith(a,a+1,t)}function Ek(i,e,t,r,a){let l=i.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");t||(t=l.type);let h=t.create(r,null,a||l.marks);if(l.isLeaf)return i.replaceWith(e,e+l.nodeSize,h);if(!t.validContent(l.content))throw new RangeError("Invalid content for node type "+t.name);i.step(new Ke(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new ce(se.from(h),0,0),1,!0))}function hi(i,e,t=1,r){let a=i.resolve(e),l=a.depth-t,h=r&&r[r.length-1]||a.parent;if(l<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!h.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let w=a.depth-1,A=t-2;w>l;w--,A--){let M=a.node(w),R=a.index(w);if(M.type.spec.isolating)return!1;let z=M.content.cutByIndex(R,M.childCount),P=r&&r[A+1];P&&(z=z.replaceChild(0,P.type.create(P.attrs)));let X=r&&r[A]||M;if(!M.canReplace(R+1,M.childCount)||!X.type.validContent(z))return!1}let p=a.indexAfter(l),x=r&&r[0];return a.node(l).canReplaceWith(p,p,x?x.type:a.node(l+1).type)}function Tk(i,e,t=1,r){let a=i.doc.resolve(e),l=se.empty,h=se.empty;for(let p=a.depth,x=a.depth-t,w=t-1;p>x;p--,w--){l=se.from(a.node(p).copy(l));let A=r&&r[w];h=se.from(A?A.type.create(A.attrs,h):a.node(p).copy(h))}i.step(new $e(e,e,new ce(l.append(h),t,t),!0))}function Bi(i,e){let t=i.resolve(e),r=t.index();return Kg(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function Mk(i,e){e.content.size||i.type.compatibleContent(e.type);let t=i.contentMatchAt(i.childCount),{linebreakReplacement:r}=i.type.schema;for(let a=0;a<e.childCount;a++){let l=e.child(a),h=l.type==r?i.type.schema.nodes.text:l.type;if(t=t.matchType(h),!t||!i.type.allowsMarks(l.marks))return!1}return t.validEnd}function Kg(i,e){return!!(i&&e&&!i.isLeaf&&Mk(i,e))}function oo(i,e,t=-1){let r=i.resolve(e);for(let a=r.depth;;a--){let l,h,p=r.index(a);if(a==r.depth?(l=r.nodeBefore,h=r.nodeAfter):t>0?(l=r.node(a+1),p++,h=r.node(a).maybeChild(p)):(l=r.node(a).maybeChild(p-1),h=r.node(a+1)),l&&!l.isTextblock&&Kg(l,h)&&r.node(a).canReplace(p,p+1))return e;if(a==0)break;e=t<0?r.before(a):r.after(a)}}function Lk(i,e,t){let r=null,{linebreakReplacement:a}=i.doc.type.schema,l=i.doc.resolve(e-t),h=l.node().type;if(a&&h.inlineContent){let A=h.whitespace=="pre",M=!!h.contentMatch.matchType(a);A&&!M?r=!1:!A&&M&&(r=!0)}let p=i.steps.length;if(r===!1){let A=i.doc.resolve(e+t);$g(i,A.node(),A.before(),p)}h.inlineContent&&jc(i,e+t-1,h,l.node().contentMatchAt(l.index()),r==null);let x=i.mapping.slice(p),w=x.map(e-t);if(i.step(new $e(w,x.map(e+t,-1),ce.empty,!0)),r===!0){let A=i.doc.resolve(w);Ug(i,A.node(),A.before(),i.steps.length)}return i}function Pk(i,e,t){let r=i.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let a=r.depth-1;a>=0;a--){let l=r.index(a);if(r.node(a).canReplaceWith(l,l,t))return r.before(a+1);if(l>0)return null}if(r.parentOffset==r.parent.content.size)for(let a=r.depth-1;a>=0;a--){let l=r.indexAfter(a);if(r.node(a).canReplaceWith(l,l,t))return r.after(a+1);if(l<r.node(a).childCount)return null}return null}function Jg(i,e,t){let r=i.resolve(e);if(!t.content.size)return e;let a=t.content;for(let l=0;l<t.openStart;l++)a=a.firstChild.content;for(let l=1;l<=(t.openStart==0&&t.size?2:1);l++)for(let h=r.depth;h>=0;h--){let p=h==r.depth?0:r.pos<=(r.start(h+1)+r.end(h+1))/2?-1:1,x=r.index(h)+(p>0?1:0),w=r.node(h),A=!1;if(l==1)A=w.canReplace(x,x,a);else{let M=w.contentMatchAt(x).findWrapping(a.firstChild.type);A=M&&w.canReplaceWith(x,x,M[0])}if(A)return p==0?r.pos:p<0?r.before(h+1):r.after(h+1)}return null}function lo(i,e,t=e,r=ce.empty){if(e==t&&!r.size)return null;let a=i.resolve(e),l=i.resolve(t);return Zg(a,l,r)?new $e(e,t,r):new Rk(a,l,r).fit()}function Zg(i,e,t){return!t.openStart&&!t.openEnd&&i.start()==e.start()&&i.parent.canReplace(i.index(),e.index(),t.content)}class Rk{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=se.empty;for(let a=0;a<=e.depth;a++){let l=e.node(a);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=se.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let w=this.findFittable();w?this.placeNodes(w):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,a=this.close(e<0?this.$to:r.doc.resolve(e));if(!a)return null;let l=this.placed,h=r.depth,p=a.depth;for(;h&&p&&l.childCount==1;)l=l.firstChild.content,h--,p--;let x=new ce(l,h,p);return e>-1?new Ke(r.pos,e,this.$to.pos,this.$to.end(),x,t):x.size||r.pos!=this.$to.pos?new $e(r.pos,a.pos,x):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,a=this.unplaced.openEnd;r<e;r++){let l=t.firstChild;if(t.childCount>1&&(a=0),l.type.spec.isolating&&a<=r){e=r;break}t=l.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let a,l=null;r?(l=_o(this.unplaced.content,r-1).firstChild,a=l.content):a=this.unplaced.content;let h=a.firstChild;for(let p=this.depth;p>=0;p--){let{type:x,match:w}=this.frontier[p],A,M=null;if(t==1&&(h?w.matchType(h.type)||(M=w.fillBefore(se.from(h),!1)):l&&x.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:p,parent:l,inject:M};if(t==2&&h&&(A=w.findWrapping(h.type)))return{sliceDepth:r,frontierDepth:p,parent:l,wrap:A};if(l&&w.matchType(l.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,a=_o(e,t);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new ce(e,t+1,Math.max(r,a.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,a=_o(e,t);if(a.childCount<=1&&t>0){let l=e.size-t<=t+a.size;this.unplaced=new ce(pr(e,t-1,1),t-1,l?t-1:r)}else this.unplaced=new ce(pr(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:a,wrap:l}){for(;this.depth>t;)this.closeFrontierNode();if(l)for(let X=0;X<l.length;X++)this.openFrontierNode(l[X]);let h=this.unplaced,p=r?r.content:h.content,x=h.openStart-e,w=0,A=[],{match:M,type:R}=this.frontier[t];if(a){for(let X=0;X<a.childCount;X++)A.push(a.child(X));M=M.matchFragment(a)}let z=p.size+e-(h.content.size-h.openEnd);for(;w<p.childCount;){let X=p.child(w),W=M.matchType(X.type);if(!W)break;w++,(w>1||x==0||X.content.size)&&(M=W,A.push(Qg(X.mark(R.allowedMarks(X.marks)),w==1?x:0,w==p.childCount?z:-1)))}let P=w==p.childCount;P||(z=-1),this.placed=gr(this.placed,t,se.from(A)),this.frontier[t].match=M,P&&z<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let X=0,W=p;X<z;X++){let Y=W.lastChild;this.frontier.push({type:Y.type,match:Y.contentMatchAt(Y.childCount)}),W=Y.content}this.unplaced=P?e==0?ce.empty:new ce(pr(h.content,e-1,1),e-1,z<0?h.openEnd:e-1):new ce(pr(h.content,e,w),h.openStart,h.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Wo(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,a=this.$to.after(r);for(;r>1&&a==this.$to.end(--r);)++a;return a}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:a}=this.frontier[t],l=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),h=Wo(e,t,a,r,l);if(h){for(let p=t-1;p>=0;p--){let{match:x,type:w}=this.frontier[p],A=Wo(e,p,w,x,!0);if(!A||A.childCount)continue e}return{depth:t,fit:h,move:l?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=gr(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let a=e.node(r),l=a.type.contentMatch.fillBefore(a.content,!0,e.index(r));this.openFrontierNode(a.type,a.attrs,l)}return e}openFrontierNode(e,t=null,r){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=gr(this.placed,this.depth,se.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(se.empty,!0);t.childCount&&(this.placed=gr(this.placed,this.frontier.length,t))}}function pr(i,e,t){return e==0?i.cutByIndex(t,i.childCount):i.replaceChild(0,i.firstChild.copy(pr(i.firstChild.content,e-1,t)))}function gr(i,e,t){return e==0?i.append(t):i.replaceChild(i.childCount-1,i.lastChild.copy(gr(i.lastChild.content,e-1,t)))}function _o(i,e){for(let t=0;t<e;t++)i=i.firstChild.content;return i}function Qg(i,e,t){if(e<=0)return i;let r=i.content;return e>1&&(r=r.replaceChild(0,Qg(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=i.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(i.type.contentMatch.matchFragment(r).fillBefore(se.empty,!0)))),i.copy(r)}function Wo(i,e,t,r,a){let l=i.node(e),h=a?i.indexAfter(e):i.index(e);if(h==l.childCount&&!t.compatibleContent(l.type))return null;let p=r.fillBefore(l.content,!0,h);return p&&!Ok(t,l.content,h)?p:null}function Ok(i,e,t){for(let r=t;r<e.childCount;r++)if(!i.allowsMarks(e.child(r).marks))return!0;return!1}function Ik(i){return i.spec.defining||i.spec.definingForContent}function Nk(i,e,t,r){if(!r.size)return i.deleteRange(e,t);let a=i.doc.resolve(e),l=i.doc.resolve(t);if(Zg(a,l,r))return i.step(new $e(e,t,r));let h=tm(a,i.doc.resolve(t));h[h.length-1]==0&&h.pop();let p=-(a.depth+1);h.unshift(p);for(let R=a.depth,z=a.pos-1;R>0;R--,z--){let P=a.node(R).type.spec;if(P.defining||P.definingAsContext||P.isolating)break;h.indexOf(R)>-1?p=R:a.before(R)==z&&h.splice(1,0,-R)}let x=h.indexOf(p),w=[],A=r.openStart;for(let R=r.content,z=0;;z++){let P=R.firstChild;if(w.push(P),z==r.openStart)break;R=P.content}for(let R=A-1;R>=0;R--){let z=w[R],P=Ik(z.type);if(P&&!z.sameMarkup(a.node(Math.abs(p)-1)))A=R;else if(P||!z.type.isTextblock)break}for(let R=r.openStart;R>=0;R--){let z=(R+A+1)%(r.openStart+1),P=w[z];if(P)for(let X=0;X<h.length;X++){let W=h[(X+x)%h.length],Y=!0;W<0&&(Y=!1,W=-W);let $=a.node(W-1),K=a.index(W-1);if($.canReplaceWith(K,K,P.type,P.marks))return i.replace(a.before(W),Y?l.after(W):t,new ce(em(r.content,0,r.openStart,z),z,r.openEnd))}}let M=i.steps.length;for(let R=h.length-1;R>=0&&(i.replace(e,t,r),!(i.steps.length>M));R--){let z=h[R];z<0||(e=a.before(z),t=l.after(z))}}function em(i,e,t,r,a){if(e<t){let l=i.firstChild;i=i.replaceChild(0,l.copy(em(l.content,e+1,t,r,l)))}if(e>r){let l=a.contentMatchAt(0),h=l.fillBefore(i).append(i);i=h.append(l.matchFragment(h).fillBefore(se.empty,!0))}return i}function Dk(i,e,t,r){if(!r.isInline&&e==t&&i.doc.resolve(e).parent.content.size){let a=Pk(i.doc,e,r.type);a!=null&&(e=t=a)}i.replaceRange(e,t,new ce(se.from(r),0,0))}function Fk(i,e,t){let r=i.doc.resolve(e),a=i.doc.resolve(t),l=tm(r,a);for(let h=0;h<l.length;h++){let p=l[h],x=h==l.length-1;if(x&&p==0||r.node(p).type.contentMatch.validEnd)return i.delete(r.start(p),a.end(p));if(p>0&&(x||r.node(p-1).canReplace(r.index(p-1),a.indexAfter(p-1))))return i.delete(r.before(p),a.after(p))}for(let h=1;h<=r.depth&&h<=a.depth;h++)if(e-r.start(h)==r.depth-h&&t>r.end(h)&&a.end(h)-t!=a.depth-h&&r.start(h-1)==a.start(h-1)&&r.node(h-1).canReplace(r.index(h-1),a.index(h-1)))return i.delete(r.before(h),t);i.delete(e,t)}function tm(i,e){let t=[],r=Math.min(i.depth,e.depth);for(let a=r;a>=0;a--){let l=i.start(a);if(l<i.pos-(i.depth-a)||e.end(a)>e.pos+(e.depth-a)||i.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(l==e.start(a)||a==i.depth&&a==e.depth&&i.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==l-1)&&t.push(a)}return t}class Bn extends ht{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ve.fail("No node at attribute step's position");let r=Object.create(null);for(let l in t.attrs)r[l]=t.attrs[l];r[this.attr]=this.value;let a=t.type.create(r,null,t.marks);return Ve.fromReplace(e,this.pos,this.pos+1,new ce(se.from(a),0,t.isLeaf?0:1))}getMap(){return kt.empty}invert(e){return new Bn(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Bn(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Bn(t.pos,t.attr,t.value)}}ht.jsonID("attr",Bn);class zr extends ht{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let a in e.attrs)t[a]=e.attrs[a];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Ve.ok(r)}getMap(){return kt.empty}invert(e){return new zr(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new zr(t.attr,t.value)}}ht.jsonID("docAttr",zr);let Yn=class extends Error{};Yn=function i(e){let t=Error.call(this,e);return t.__proto__=i.prototype,t};Yn.prototype=Object.create(Error.prototype);Yn.prototype.constructor=Yn;Yn.prototype.name="TransformError";class im{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Fr}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Yn(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ce.empty){let a=lo(this.doc,e,t,r);return a&&this.step(a),this}replaceWith(e,t,r){return this.replace(e,t,new ce(se.from(r),0,0))}delete(e,t){return this.replace(e,t,ce.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return Nk(this,e,t,r),this}replaceRangeWith(e,t,r){return Dk(this,e,t,r),this}deleteRange(e,t){return Fk(this,e,t),this}lift(e,t){return vk(this,e,t),this}join(e,t=1){return Lk(this,e,t),this}wrap(e,t){return kk(this,e,t),this}setBlockType(e,t=e,r,a=null){return Ak(this,e,t,r,a),this}setNodeMarkup(e,t,r=null,a){return Ek(this,e,t,r,a),this}setNodeAttribute(e,t,r){return this.step(new Bn(e,t,r)),this}setDocAttribute(e,t){return this.step(new zr(e,t)),this}addNodeMark(e,t){return this.step(new Ei(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Pe)t.isInSet(r.marks)&&this.step(new xn(e,t));else{let a=r.marks,l,h=[];for(;l=t.isInSet(a);)h.push(new xn(e,l)),a=l.removeFromSet(a);for(let p=h.length-1;p>=0;p--)this.step(h[p])}return this}split(e,t=1,r){return Tk(this,e,t,r),this}addMark(e,t,r){return bk(this,e,t,r),this}removeMark(e,t,r){return xk(this,e,t,r),this}clearIncompatible(e,t,r){return jc(this,e,t,r),this}}const Xo=Object.create(null);class Se{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new zk(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ce.empty){let r=t.content.lastChild,a=null;for(let p=0;p<t.openEnd;p++)a=r,r=r.lastChild;let l=e.steps.length,h=this.ranges;for(let p=0;p<h.length;p++){let{$from:x,$to:w}=h[p],A=e.mapping.slice(l);e.replaceRange(A.map(x.pos),A.map(w.pos),p?ce.empty:t),p==0&&Gd(e,l,(r?r.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:h,$to:p}=a[l],x=e.mapping.slice(r),w=x.map(h.pos),A=x.map(p.pos);l?e.deleteRange(w,A):(e.replaceRangeWith(w,A,t),Gd(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let a=e.parent.inlineContent?new xe(e):Pn(e.node(0),e.parent,e.pos,e.index(),t,r);if(a)return a;for(let l=e.depth-1;l>=0;l--){let h=t<0?Pn(e.node(0),e.node(l),e.before(l+1),e.index(l),t,r):Pn(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,t,r);if(h)return h}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new At(e.node(0))}static atStart(e){return Pn(e,e,0,0,1)||new At(e)}static atEnd(e){return Pn(e,e,e.content.size,e.childCount,-1)||new At(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Xo[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Xo)throw new RangeError("Duplicate use of selection JSON ID "+e);return Xo[e]=t,t.prototype.jsonID=e,t}getBookmark(){return xe.between(this.$anchor,this.$head).getBookmark()}}Se.prototype.visible=!0;class zk{constructor(e,t){this.$from=e,this.$to=t}}let Vd=!1;function jd(i){!Vd&&!i.parent.inlineContent&&(Vd=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}class xe extends Se{constructor(e,t=e){jd(e),jd(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Se.near(r);let a=e.resolve(t.map(this.anchor));return new xe(a.parent.inlineContent?a:r,r)}replace(e,t=ce.empty){if(super.replace(e,t),t==ce.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof xe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new co(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new xe(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let a=e.resolve(t);return new this(a,r==t?a:e.resolve(r))}static between(e,t,r){let a=e.pos-t.pos;if((!r||a)&&(r=a>=0?1:-1),!t.parent.inlineContent){let l=Se.findFrom(t,r,!0)||Se.findFrom(t,-r,!0);if(l)t=l.$head;else return Se.near(t,r)}return e.parent.inlineContent||(a==0?e=t:(e=(Se.findFrom(e,-r,!0)||Se.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=a<0&&(e=t))),new xe(e,t)}}Se.jsonID("text",xe);class co{constructor(e,t){this.anchor=e,this.head=t}map(e){return new co(e.map(this.anchor),e.map(this.head))}resolve(e){return xe.between(e.resolve(this.anchor),e.resolve(this.head))}}class fe extends Se{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:a}=t.mapResult(this.anchor),l=e.resolve(a);return r?Se.near(l):new fe(l)}content(){return new ce(se.from(this.node),0,0)}eq(e){return e instanceof fe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new qc(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new fe(e.resolve(t.anchor))}static create(e,t){return new fe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}fe.prototype.visible=!1;Se.jsonID("node",fe);class qc{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new co(r,r):new qc(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&fe.isSelectable(r)?new fe(t):Se.near(t)}}class At extends Se{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ce.empty){if(t==ce.empty){e.delete(0,e.doc.content.size);let r=Se.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new At(e)}map(e){return new At(e)}eq(e){return e instanceof At}getBookmark(){return Bk}}Se.jsonID("all",At);const Bk={map(){return this},resolve(i){return new At(i)}};function Pn(i,e,t,r,a,l=!1){if(e.inlineContent)return xe.create(i,t);for(let h=r-(a>0?0:1);a>0?h<e.childCount:h>=0;h+=a){let p=e.child(h);if(p.isAtom){if(!l&&fe.isSelectable(p))return fe.create(i,t-(a<0?p.nodeSize:0))}else{let x=Pn(i,p,t+a,a<0?p.childCount:0,a,l);if(x)return x}t+=p.nodeSize*a}return null}function Gd(i,e,t){let r=i.steps.length-1;if(r<e)return;let a=i.steps[r];if(!(a instanceof $e||a instanceof Ke))return;let l=i.mapping.maps[r],h;l.forEach((p,x,w,A)=>{h==null&&(h=A)}),i.setSelection(Se.near(i.doc.resolve(h),t))}const qd=1,Ss=2,Ud=4;class Hk extends im{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|qd)&~Ss,this.storedMarks=null,this}get selectionSet(){return(this.updated&qd)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ss,this}ensureMarks(e){return Pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ss)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Ss,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Pe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let a=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let l=this.storedMarks;if(!l){let h=this.doc.resolve(t);l=r==t?h.marks():h.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,a.text(e,l)),this.selection.empty||this.setSelection(Se.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ud,this}get scrolledIntoView(){return(this.updated&Ud)>0}}function $d(i,e){return!e||!i?i:i.bind(e)}class mr{constructor(e,t,r){this.name=e,this.init=$d(t.init,r),this.apply=$d(t.apply,r)}}const _k=[new mr("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new mr("selection",{init(i,e){return i.selection||Se.atStart(e.doc)},apply(i){return i.selection}}),new mr("storedMarks",{init(i){return i.storedMarks||null},apply(i,e,t,r){return r.selection.$cursor?i.storedMarks:null}}),new mr("scrollToSelection",{init(){return 0},apply(i,e){return i.scrolledIntoView?e+1:e}})];class Yo{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_k.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new mr(r.key,r.spec.state,r))})}}class Nn{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let a=this.config.plugins[r];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),a=null;for(;;){let l=!1;for(let h=0;h<this.config.plugins.length;h++){let p=this.config.plugins[h];if(p.spec.appendTransaction){let x=a?a[h].n:0,w=a?a[h].state:this,A=x<t.length&&p.spec.appendTransaction.call(p,x?t.slice(x):t,w,r);if(A&&r.filterTransaction(A,h)){if(A.setMeta("appendedTransaction",e),!a){a=[];for(let M=0;M<this.config.plugins.length;M++)a.push(M<h?{state:r,n:t.length}:{state:this,n:0})}t.push(A),r=r.applyInner(A),l=!0}a&&(a[h]={state:r,n:t.length})}}if(!l)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Nn(this.config),r=this.config.fields;for(let a=0;a<r.length;a++){let l=r[a];t[l.name]=l.apply(e,this[l.name],this,t)}return t}get tr(){return new Hk(this)}static create(e){let t=new Yo(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Nn(t);for(let a=0;a<t.fields.length;a++)r[t.fields[a].name]=t.fields[a].init(e,r);return r}reconfigure(e){let t=new Yo(this.schema,e.plugins),r=t.fields,a=new Nn(t);for(let l=0;l<r.length;l++){let h=r[l].name;a[h]=this.hasOwnProperty(h)?this[h]:r[l].init(e,a)}return a}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[r],l=a.spec.state;l&&l.toJSON&&(t[r]=l.toJSON.call(a,this[a.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new Yo(e.schema,e.plugins),l=new Nn(a);return a.fields.forEach(h=>{if(h.name=="doc")l.doc=Mi.fromJSON(e.schema,t.doc);else if(h.name=="selection")l.selection=Se.fromJSON(l.doc,t.selection);else if(h.name=="storedMarks")t.storedMarks&&(l.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let p in r){let x=r[p],w=x.spec.state;if(x.key==h.name&&w&&w.fromJSON&&Object.prototype.hasOwnProperty.call(t,p)){l[h.name]=w.fromJSON.call(x,e,t[p],l);return}}l[h.name]=h.init(e,l)}}),l}}function nm(i,e,t){for(let r in i){let a=i[r];a instanceof Function?a=a.bind(e):r=="handleDOMEvents"&&(a=nm(a,e,{})),t[r]=a}return t}class nt{constructor(e){this.spec=e,this.props={},e.props&&nm(e.props,this,this.props),this.key=e.key?e.key.key:rm("plugin")}getState(e){return e[this.key]}}const Vo=Object.create(null);function rm(i){return i in Vo?i+"$"+ ++Vo[i]:(Vo[i]=0,i+"$")}class Ct{constructor(e="key"){this.key=rm(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const et=function(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e},Vn=function(i){let e=i.assignedSlot||i.parentNode;return e&&e.nodeType==11?e.host:e};let Wl=null;const li=function(i,e,t){let r=Wl||(Wl=document.createRange());return r.setEnd(i,t??i.nodeValue.length),r.setStart(i,e||0),r},Wk=function(){Wl=null},yn=function(i,e,t,r){return t&&(Kd(i,e,t,r,-1)||Kd(i,e,t,r,1))},Xk=/^(img|br|input|textarea|hr)$/i;function Kd(i,e,t,r,a){for(var l;;){if(i==t&&e==r)return!0;if(e==(a<0?0:Ot(i))){let h=i.parentNode;if(!h||h.nodeType!=1||es(i)||Xk.test(i.nodeName)||i.contentEditable=="false")return!1;e=et(i)+(a<0?0:1),i=h}else if(i.nodeType==1){let h=i.childNodes[e+(a<0?-1:0)];if(h.nodeType==1&&h.contentEditable=="false")if(!((l=h.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=a;else return!1;else i=h,e=a<0?Ot(i):0}else return!1}}function Ot(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Yk(i,e){for(;;){if(i.nodeType==3&&e)return i;if(i.nodeType==1&&e>0){if(i.contentEditable=="false")return null;i=i.childNodes[e-1],e=Ot(i)}else if(i.parentNode&&!es(i))e=et(i),i=i.parentNode;else return null}}function Vk(i,e){for(;;){if(i.nodeType==3&&e<i.nodeValue.length)return i;if(i.nodeType==1&&e<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[e],e=0}else if(i.parentNode&&!es(i))e=et(i)+1,i=i.parentNode;else return null}}function jk(i,e,t){for(let r=e==0,a=e==Ot(i);r||a;){if(i==t)return!0;let l=et(i);if(i=i.parentNode,!i)return!1;r=r&&l==0,a=a&&l==Ot(i)}}function es(i){let e;for(let t=i;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==i||e.contentDOM==i)}const ho=function(i){return i.focusNode&&yn(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function Gi(i,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=i,t.key=t.code=e,t}function Gk(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function qk(i,e,t){if(i.caretPositionFromPoint)try{let r=i.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Ot(r.offsetNode),r.offset)}}catch{}if(i.caretRangeFromPoint){let r=i.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Ot(r.startContainer),r.startOffset)}}}const Zt=typeof navigator<"u"?navigator:null,Jd=typeof document<"u"?document:null,Hi=Zt&&Zt.userAgent||"",Xl=/Edge\/(\d+)/.exec(Hi),sm=/MSIE \d/.exec(Hi),Yl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Hi),vt=!!(sm||Yl||Xl),Li=sm?document.documentMode:Yl?+Yl[1]:Xl?+Xl[1]:0,Ft=!vt&&/gecko\/(\d+)/i.test(Hi);Ft&&+(/Firefox\/(\d+)/.exec(Hi)||[0,0])[1];const Vl=!vt&&/Chrome\/(\d+)/.exec(Hi),lt=!!Vl,am=Vl?+Vl[1]:0,pt=!vt&&!!Zt&&/Apple Computer/.test(Zt.vendor),jn=pt&&(/Mobile\/\w+/.test(Hi)||!!Zt&&Zt.maxTouchPoints>2),Rt=jn||(Zt?/Mac/.test(Zt.platform):!1),Uk=Zt?/Win/.test(Zt.platform):!1,ci=/Android \d/.test(Hi),ts=!!Jd&&"webkitFontSmoothing"in Jd.documentElement.style,$k=ts?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Kk(i){let e=i.defaultView&&i.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function ri(i,e){return typeof i=="number"?i:i[e]}function Jk(i){let e=i.getBoundingClientRect(),t=e.width/i.offsetWidth||1,r=e.height/i.offsetHeight||1;return{left:e.left,right:e.left+i.clientWidth*t,top:e.top,bottom:e.top+i.clientHeight*r}}function Zd(i,e,t){let r=i.someProp("scrollThreshold")||0,a=i.someProp("scrollMargin")||5,l=i.dom.ownerDocument;for(let h=t||i.dom;h;){if(h.nodeType!=1){h=Vn(h);continue}let p=h,x=p==l.body,w=x?Kk(l):Jk(p),A=0,M=0;if(e.top<w.top+ri(r,"top")?M=-(w.top-e.top+ri(a,"top")):e.bottom>w.bottom-ri(r,"bottom")&&(M=e.bottom-e.top>w.bottom-w.top?e.top+ri(a,"top")-w.top:e.bottom-w.bottom+ri(a,"bottom")),e.left<w.left+ri(r,"left")?A=-(w.left-e.left+ri(a,"left")):e.right>w.right-ri(r,"right")&&(A=e.right-w.right+ri(a,"right")),A||M)if(x)l.defaultView.scrollBy(A,M);else{let z=p.scrollLeft,P=p.scrollTop;M&&(p.scrollTop+=M),A&&(p.scrollLeft+=A);let X=p.scrollLeft-z,W=p.scrollTop-P;e={left:e.left-X,top:e.top-W,right:e.right-X,bottom:e.bottom-W}}let R=x?"fixed":getComputedStyle(h).position;if(/^(fixed|sticky)$/.test(R))break;h=R=="absolute"?h.offsetParent:Vn(h)}}function Zk(i){let e=i.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,a;for(let l=(e.left+e.right)/2,h=t+1;h<Math.min(innerHeight,e.bottom);h+=5){let p=i.root.elementFromPoint(l,h);if(!p||p==i.dom||!i.dom.contains(p))continue;let x=p.getBoundingClientRect();if(x.top>=t-20){r=p,a=x.top;break}}return{refDOM:r,refTop:a,stack:om(i.dom)}}function om(i){let e=[],t=i.ownerDocument;for(let r=i;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),i!=t);r=Vn(r));return e}function Qk({refDOM:i,refTop:e,stack:t}){let r=i?i.getBoundingClientRect().top:0;lm(t,r==0?0:r-e)}function lm(i,e){for(let t=0;t<i.length;t++){let{dom:r,top:a,left:l}=i[t];r.scrollTop!=a+e&&(r.scrollTop=a+e),r.scrollLeft!=l&&(r.scrollLeft=l)}}let Mn=null;function eA(i){if(i.setActive)return i.setActive();if(Mn)return i.focus(Mn);let e=om(i);i.focus(Mn==null?{get preventScroll(){return Mn={preventScroll:!0},!0}}:void 0),Mn||(Mn=!1,lm(e,0))}function cm(i,e){let t,r=2e8,a,l=0,h=e.top,p=e.top,x,w;for(let A=i.firstChild,M=0;A;A=A.nextSibling,M++){let R;if(A.nodeType==1)R=A.getClientRects();else if(A.nodeType==3)R=li(A).getClientRects();else continue;for(let z=0;z<R.length;z++){let P=R[z];if(P.top<=h&&P.bottom>=p){h=Math.max(P.bottom,h),p=Math.min(P.top,p);let X=P.left>e.left?P.left-e.left:P.right<e.left?e.left-P.right:0;if(X<r){t=A,r=X,a=X&&t.nodeType==3?{left:P.right<e.left?P.right:P.left,top:e.top}:e,A.nodeType==1&&X&&(l=M+(e.left>=(P.left+P.right)/2?1:0));continue}}else P.top>e.top&&!x&&P.left<=e.left&&P.right>=e.left&&(x=A,w={left:Math.max(P.left,Math.min(P.right,e.left)),top:P.top});!t&&(e.left>=P.right&&e.top>=P.top||e.left>=P.left&&e.top>=P.bottom)&&(l=M+1)}}return!t&&x&&(t=x,a=w,r=0),t&&t.nodeType==3?tA(t,a):!t||r&&t.nodeType==1?{node:i,offset:l}:cm(t,a)}function tA(i,e){let t=i.nodeValue.length,r=document.createRange();for(let a=0;a<t;a++){r.setEnd(i,a+1),r.setStart(i,a);let l=mi(r,1);if(l.top!=l.bottom&&Uc(e,l))return{node:i,offset:a+(e.left>=(l.left+l.right)/2?1:0)}}return{node:i,offset:0}}function Uc(i,e){return i.left>=e.left-1&&i.left<=e.right+1&&i.top>=e.top-1&&i.top<=e.bottom+1}function iA(i,e){let t=i.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<i.getBoundingClientRect().left?t:i}function nA(i,e,t){let{node:r,offset:a}=cm(e,t),l=-1;if(r.nodeType==1&&!r.firstChild){let h=r.getBoundingClientRect();l=h.left!=h.right&&t.left>(h.left+h.right)/2?1:-1}return i.docView.posFromDOM(r,a,l)}function rA(i,e,t,r){let a=-1;for(let l=e,h=!1;l!=i.dom;){let p=i.docView.nearestDesc(l,!0),x;if(!p)return null;if(p.dom.nodeType==1&&(p.node.isBlock&&p.parent||!p.contentDOM)&&((x=p.dom.getBoundingClientRect()).width||x.height)&&(p.node.isBlock&&p.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(p.dom.nodeName)&&(!h&&x.left>r.left||x.top>r.top?a=p.posBefore:(!h&&x.right<r.left||x.bottom<r.top)&&(a=p.posAfter),h=!0),!p.contentDOM&&a<0&&!p.node.isText))return(p.node.isBlock?r.top<(x.top+x.bottom)/2:r.left<(x.left+x.right)/2)?p.posBefore:p.posAfter;l=p.dom.parentNode}return a>-1?a:i.docView.posFromDOM(e,t,-1)}function hm(i,e,t){let r=i.childNodes.length;if(r&&t.top<t.bottom)for(let a=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),l=a;;){let h=i.childNodes[l];if(h.nodeType==1){let p=h.getClientRects();for(let x=0;x<p.length;x++){let w=p[x];if(Uc(e,w))return hm(h,e,w)}}if((l=(l+1)%r)==a)break}return i}function sA(i,e){let t=i.dom.ownerDocument,r,a=0,l=qk(t,e.left,e.top);l&&({node:r,offset:a}=l);let h=(i.root.elementFromPoint?i.root:t).elementFromPoint(e.left,e.top),p;if(!h||!i.dom.contains(h.nodeType!=1?h.parentNode:h)){let w=i.dom.getBoundingClientRect();if(!Uc(e,w)||(h=hm(i.dom,e,w),!h))return null}if(pt)for(let w=h;r&&w;w=Vn(w))w.draggable&&(r=void 0);if(h=iA(h,e),r){if(Ft&&r.nodeType==1&&(a=Math.min(a,r.childNodes.length),a<r.childNodes.length)){let A=r.childNodes[a],M;A.nodeName=="IMG"&&(M=A.getBoundingClientRect()).right<=e.left&&M.bottom>e.top&&a++}let w;ts&&a&&r.nodeType==1&&(w=r.childNodes[a-1]).nodeType==1&&w.contentEditable=="false"&&w.getBoundingClientRect().top>=e.top&&a--,r==i.dom&&a==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?p=i.state.doc.content.size:(a==0||r.nodeType!=1||r.childNodes[a-1].nodeName!="BR")&&(p=rA(i,r,a,e))}p==null&&(p=nA(i,h,e));let x=i.docView.nearestDesc(h,!0);return{pos:p,inside:x?x.posAtStart-x.border:-1}}function Qd(i){return i.top<i.bottom||i.left<i.right}function mi(i,e){let t=i.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(Qd(r))return r}return Array.prototype.find.call(t,Qd)||i.getBoundingClientRect()}const aA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function dm(i,e,t){let{node:r,offset:a,atom:l}=i.docView.domFromPos(e,t<0?-1:1),h=ts||Ft;if(r.nodeType==3)if(h&&(aA.test(r.nodeValue)||(t<0?!a:a==r.nodeValue.length))){let x=mi(li(r,a,a),t);if(Ft&&a&&/\s/.test(r.nodeValue[a-1])&&a<r.nodeValue.length){let w=mi(li(r,a-1,a-1),-1);if(w.top==x.top){let A=mi(li(r,a,a+1),-1);if(A.top!=x.top)return dr(A,A.left<w.left)}}return x}else{let x=a,w=a,A=t<0?1:-1;return t<0&&!a?(w++,A=-1):t>=0&&a==r.nodeValue.length?(x--,A=1):t<0?x--:w++,dr(mi(li(r,x,w),A),A<0)}if(!i.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&a&&(t<0||a==Ot(r))){let x=r.childNodes[a-1];if(x.nodeType==1)return jo(x.getBoundingClientRect(),!1)}if(l==null&&a<Ot(r)){let x=r.childNodes[a];if(x.nodeType==1)return jo(x.getBoundingClientRect(),!0)}return jo(r.getBoundingClientRect(),t>=0)}if(l==null&&a&&(t<0||a==Ot(r))){let x=r.childNodes[a-1],w=x.nodeType==3?li(x,Ot(x)-(h?0:1)):x.nodeType==1&&(x.nodeName!="BR"||!x.nextSibling)?x:null;if(w)return dr(mi(w,1),!1)}if(l==null&&a<Ot(r)){let x=r.childNodes[a];for(;x.pmViewDesc&&x.pmViewDesc.ignoreForCoords;)x=x.nextSibling;let w=x?x.nodeType==3?li(x,0,h?0:1):x.nodeType==1?x:null:null;if(w)return dr(mi(w,-1),!0)}return dr(mi(r.nodeType==3?li(r):r,-t),t>=0)}function dr(i,e){if(i.width==0)return i;let t=e?i.left:i.right;return{top:i.top,bottom:i.bottom,left:t,right:t}}function jo(i,e){if(i.height==0)return i;let t=e?i.top:i.bottom;return{top:t,bottom:t,left:i.left,right:i.right}}function um(i,e,t){let r=i.state,a=i.root.activeElement;r!=e&&i.updateState(e),a!=i.dom&&i.focus();try{return t()}finally{r!=e&&i.updateState(r),a!=i.dom&&a&&a.focus()}}function oA(i,e,t){let r=e.selection,a=t=="up"?r.$from:r.$to;return um(i,e,()=>{let{node:l}=i.docView.domFromPos(a.pos,t=="up"?-1:1);for(;;){let p=i.docView.nearestDesc(l,!0);if(!p)break;if(p.node.isBlock){l=p.contentDOM||p.dom;break}l=p.dom.parentNode}let h=dm(i,a.pos,1);for(let p=l.firstChild;p;p=p.nextSibling){let x;if(p.nodeType==1)x=p.getClientRects();else if(p.nodeType==3)x=li(p,0,p.nodeValue.length).getClientRects();else continue;for(let w=0;w<x.length;w++){let A=x[w];if(A.bottom>A.top+1&&(t=="up"?h.top-A.top>(A.bottom-h.top)*2:A.bottom-h.bottom>(h.bottom-A.top)*2))return!1}}return!0})}const lA=/[\u0590-\u08ac]/;function cA(i,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let a=r.parentOffset,l=!a,h=a==r.parent.content.size,p=i.domSelection();return p?!lA.test(r.parent.textContent)||!p.modify?t=="left"||t=="backward"?l:h:um(i,e,()=>{let{focusNode:x,focusOffset:w,anchorNode:A,anchorOffset:M}=i.domSelectionRange(),R=p.caretBidiLevel;p.modify("move",t,"character");let z=r.depth?i.docView.domAfterPos(r.before()):i.dom,{focusNode:P,focusOffset:X}=i.domSelectionRange(),W=P&&!z.contains(P.nodeType==1?P:P.parentNode)||x==P&&w==X;try{p.collapse(A,M),x&&(x!=A||w!=M)&&p.extend&&p.extend(x,w)}catch{}return R!=null&&(p.caretBidiLevel=R),W}):r.pos==r.start()||r.pos==r.end()}let eu=null,tu=null,iu=!1;function hA(i,e,t){return eu==e&&tu==t?iu:(eu=e,tu=t,iu=t=="up"||t=="down"?oA(i,e,t):cA(i,e,t))}const zt=0,nu=1,Ji=2,Qt=3;class is{constructor(e,t,r,a){this.parent=e,this.children=t,this.dom=r,this.contentDOM=a,this.dirty=zt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let a=this.children[t];if(a==e)return r;r+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let l,h;if(e==this.contentDOM)l=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((h=l.pmViewDesc)&&h.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(h)+h.size:this.posAtStart}else{let l,h;if(e==this.contentDOM)l=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((h=l.pmViewDesc)&&h.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(h):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=t>et(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(a==null&&t==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.nextSibling)break}}return a??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,a=e;a;a=a.parentNode){let l=this.getDesc(a),h;if(l&&(!t||l.node))if(r&&(h=l.nodeDOM)&&!(h.nodeType==1?h.contains(e.nodeType==1?e:e.parentNode):h==e))r=!1;else return l}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let a=e;a;a=a.parentNode){let l=this.getDesc(a);if(l)return l.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let a=this.children[t],l=r+a.size;if(r==e&&l!=r){for(;!a.border&&a.children.length;)for(let h=0;h<a.children.length;h++){let p=a.children[h];if(p.size){a=p;break}}return a}if(e<l)return a.descAt(e-r-a.border);r=l}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,a=0;for(let l=0;r<this.children.length;r++){let h=this.children[r],p=l+h.size;if(p>e||h instanceof pm){a=e-l;break}l=p}if(a)return this.children[r].domFromPos(a-this.children[r].border,t);for(let l;r&&!(l=this.children[r-1]).size&&l instanceof fm&&l.side>=0;r--);if(t<=0){let l,h=!0;for(;l=r?this.children[r-1]:null,!(!l||l.dom.parentNode==this.contentDOM);r--,h=!1);return l&&t&&h&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?et(l.dom)+1:0}}else{let l,h=!0;for(;l=r<this.children.length?this.children[r]:null,!(!l||l.dom.parentNode==this.contentDOM);r++,h=!1);return l&&h&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?et(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,l=-1;for(let h=r,p=0;;p++){let x=this.children[p],w=h+x.size;if(a==-1&&e<=w){let A=h+x.border;if(e>=A&&t<=w-x.border&&x.node&&x.contentDOM&&this.contentDOM.contains(x.contentDOM))return x.parseRange(e,t,A);e=h;for(let M=p;M>0;M--){let R=this.children[M-1];if(R.size&&R.dom.parentNode==this.contentDOM&&!R.emptyChildAt(1)){a=et(R.dom)+1;break}e-=R.size}a==-1&&(a=0)}if(a>-1&&(w>t||p==this.children.length-1)){t=w;for(let A=p+1;A<this.children.length;A++){let M=this.children[A];if(M.size&&M.dom.parentNode==this.contentDOM&&!M.emptyChildAt(-1)){l=et(M.dom);break}t+=M.size}l==-1&&(l=this.contentDOM.childNodes.length);break}h=w}return{node:this.contentDOM,from:e,to:t,fromOffset:a,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,a=!1){let l=Math.min(e,t),h=Math.max(e,t);for(let z=0,P=0;z<this.children.length;z++){let X=this.children[z],W=P+X.size;if(l>P&&h<W)return X.setSelection(e-P-X.border,t-P-X.border,r,a);P=W}let p=this.domFromPos(e,e?-1:1),x=t==e?p:this.domFromPos(t,t?-1:1),w=r.root.getSelection(),A=r.domSelectionRange(),M=!1;if((Ft||pt)&&e==t){let{node:z,offset:P}=p;if(z.nodeType==3){if(M=!!(P&&z.nodeValue[P-1]==`
`),M&&P==z.nodeValue.length)for(let X=z,W;X;X=X.parentNode){if(W=X.nextSibling){W.nodeName=="BR"&&(p=x={node:W.parentNode,offset:et(W)+1});break}let Y=X.pmViewDesc;if(Y&&Y.node&&Y.node.isBlock)break}}else{let X=z.childNodes[P-1];M=X&&(X.nodeName=="BR"||X.contentEditable=="false")}}if(Ft&&A.focusNode&&A.focusNode!=x.node&&A.focusNode.nodeType==1){let z=A.focusNode.childNodes[A.focusOffset];z&&z.contentEditable=="false"&&(a=!0)}if(!(a||M&&pt)&&yn(p.node,p.offset,A.anchorNode,A.anchorOffset)&&yn(x.node,x.offset,A.focusNode,A.focusOffset))return;let R=!1;if((w.extend||e==t)&&!(M&&Ft)){w.collapse(p.node,p.offset);try{e!=t&&w.extend(x.node,x.offset),R=!0}catch{}}if(!R){if(e>t){let P=p;p=x,x=P}let z=document.createRange();z.setEnd(x.node,x.offset),z.setStart(p.node,p.offset),w.removeAllRanges(),w.addRange(z)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,a=0;a<this.children.length;a++){let l=this.children[a],h=r+l.size;if(r==h?e<=h&&t>=r:e<h&&t>r){let p=r+l.border,x=h-l.border;if(e>=p&&t<=x){this.dirty=e==r||t==h?Ji:nu,e==p&&t==x&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=Qt:l.markDirty(e-p,t-p);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Ji:Qt}r=h}this.dirty=Ji}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Ji:nu;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class fm extends is{constructor(e,t,r,a){let l,h=t.type.toDOM;if(typeof h=="function"&&(h=h(r,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!t.type.spec.raw){if(h.nodeType!=1){let p=document.createElement("span");p.appendChild(h),h=p}h.contentEditable="false",h.classList.add("ProseMirror-widget")}super(e,[],h,null),this.widget=t,this.widget=t,l=this}matchesWidget(e){return this.dirty==zt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class dA extends is{constructor(e,t,r,a){super(e,[],t,null),this.textDOM=r,this.text=a}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class vn extends is{constructor(e,t,r,a,l){super(e,[],r,a),this.mark=t,this.spec=l}static create(e,t,r,a){let l=a.nodeViews[t.type.name],h=l&&l(t,a,r);return(!h||!h.dom)&&(h=kn.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new vn(e,t,h.dom,h.contentDOM||h.dom,h)}parseRule(){return this.dirty&Qt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Qt&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=zt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=zt}}slice(e,t,r){let a=vn.create(this.parent,this.mark,!0,r),l=this.children,h=this.size;t<h&&(l=Gl(l,t,h,r)),e>0&&(l=Gl(l,0,e,r));for(let p=0;p<l.length;p++)l[p].parent=a;return a.children=l,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Pi extends is{constructor(e,t,r,a,l,h,p,x,w){super(e,[],l,h),this.node=t,this.outerDeco=r,this.innerDeco=a,this.nodeDOM=p}static create(e,t,r,a,l,h){let p=l.nodeViews[t.type.name],x,w=p&&p(t,l,()=>{if(!x)return h;if(x.parent)return x.parent.posBeforeChild(x)},r,a),A=w&&w.dom,M=w&&w.contentDOM;if(t.isText){if(!A)A=document.createTextNode(t.text);else if(A.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else A||({dom:A,contentDOM:M}=kn.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!M&&!t.isText&&A.nodeName!="BR"&&(A.hasAttribute("contenteditable")||(A.contentEditable="false"),t.type.spec.draggable&&(A.draggable=!0));let R=A;return A=bm(A,r,t),w?x=new uA(e,t,r,a,A,M||null,R,w,l,h+1):t.isText?new uo(e,t,r,a,A,R,l):new Pi(e,t,r,a,A,M||null,R,l,h+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>se.empty)}return e}matchesNode(e,t,r){return this.dirty==zt&&e.eq(this.node)&&ra(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,a=t,l=e.composing?this.localCompositionInfo(e,t):null,h=l&&l.pos>-1?l:null,p=l&&l.pos<0,x=new pA(this,h&&h.node,e);bA(this.node,this.innerDeco,(w,A,M)=>{w.spec.marks?x.syncToMarks(w.spec.marks,r,e):w.type.side>=0&&!M&&x.syncToMarks(A==this.node.childCount?Pe.none:this.node.child(A).marks,r,e),x.placeWidget(w,e,a)},(w,A,M,R)=>{x.syncToMarks(w.marks,r,e);let z;x.findNodeMatch(w,A,M,R)||p&&e.state.selection.from>a&&e.state.selection.to<a+w.nodeSize&&(z=x.findIndexWithChild(l.node))>-1&&x.updateNodeAt(w,A,M,z,e)||x.updateNextNode(w,A,M,e,R,a)||x.addNode(w,A,M,e,a),a+=w.nodeSize}),x.syncToMarks([],r,e),this.node.isTextblock&&x.addTextblockHacks(),x.destroyRest(),(x.changed||this.dirty==Ji)&&(h&&this.protectLocalComposition(e,h),gm(this.contentDOM,this.children,e),jn&&xA(this.dom))}localCompositionInfo(e,t){let{from:r,to:a}=e.state.selection;if(!(e.state.selection instanceof xe)||r<t||a>t+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let h=l.nodeValue,p=yA(this.node.content,h,r-t,a-t);return p<0?null:{node:l,pos:p,text:h}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:a}){if(this.getDesc(t))return;let l=t;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let h=new dA(this,l,t,a);e.input.compositionNodes.push(h),this.children=Gl(this.children,r,r+a.length,e,h)}update(e,t,r,a){return this.dirty==Qt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,a),!0)}updateInner(e,t,r,a){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=zt}updateOuterDeco(e){if(ra(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=mm(this.dom,this.nodeDOM,jl(this.outerDeco,this.node,t),jl(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ru(i,e,t,r,a){bm(r,e,i);let l=new Pi(void 0,i,e,t,r,r,r,a,0);return l.contentDOM&&l.updateChildren(a,0),l}class uo extends Pi{constructor(e,t,r,a,l,h,p){super(e,t,r,a,l,null,h,p,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,a){return this.dirty==Qt||this.dirty!=zt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=zt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=zt,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let a=this.node.cut(e,t),l=document.createTextNode(a.text);return new uo(this.parent,a,this.outerDeco,this.innerDeco,l,l,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Qt)}get domAtom(){return!1}isText(e){return this.node.text==e}}class pm extends is{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==zt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class uA extends Pi{constructor(e,t,r,a,l,h,p,x,w,A){super(e,t,r,a,l,h,p,w,A),this.spec=x}update(e,t,r,a){if(this.dirty==Qt)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,t,r);return l&&this.updateInner(e,t,r,a),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,a){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function gm(i,e,t){let r=i.firstChild,a=!1;for(let l=0;l<e.length;l++){let h=e[l],p=h.dom;if(p.parentNode==i){for(;p!=r;)r=su(r),a=!0;r=r.nextSibling}else a=!0,i.insertBefore(p,r);if(h instanceof vn){let x=r?r.previousSibling:i.lastChild;gm(h.contentDOM,h.children,t),r=x?x.nextSibling:i.firstChild}}for(;r;)r=su(r),a=!0;a&&t.trackWrites==i&&(t.trackWrites=null)}const Ar=function(i){i&&(this.nodeName=i)};Ar.prototype=Object.create(null);const Zi=[new Ar];function jl(i,e,t){if(i.length==0)return Zi;let r=t?Zi[0]:new Ar,a=[r];for(let l=0;l<i.length;l++){let h=i[l].type.attrs;if(h){h.nodeName&&a.push(r=new Ar(h.nodeName));for(let p in h){let x=h[p];x!=null&&(t&&a.length==1&&a.push(r=new Ar(e.isInline?"span":"div")),p=="class"?r.class=(r.class?r.class+" ":"")+x:p=="style"?r.style=(r.style?r.style+";":"")+x:p!="nodeName"&&(r[p]=x))}}}return a}function mm(i,e,t,r){if(t==Zi&&r==Zi)return e;let a=e;for(let l=0;l<r.length;l++){let h=r[l],p=t[l];if(l){let x;p&&p.nodeName==h.nodeName&&a!=i&&(x=a.parentNode)&&x.nodeName.toLowerCase()==h.nodeName||(x=document.createElement(h.nodeName),x.pmIsDeco=!0,x.appendChild(a),p=Zi[0]),a=x}fA(a,p||Zi[0],h)}return a}function fA(i,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&i.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&i.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],a=t.class?t.class.split(" ").filter(Boolean):[];for(let l=0;l<r.length;l++)a.indexOf(r[l])==-1&&i.classList.remove(r[l]);for(let l=0;l<a.length;l++)r.indexOf(a[l])==-1&&i.classList.add(a[l]);i.classList.length==0&&i.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=r.exec(e.style);)i.style.removeProperty(a[1])}t.style&&(i.style.cssText+=t.style)}}function bm(i,e,t){return mm(i,i,Zi,jl(e,t,i.nodeType!=1))}function ra(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].type.eq(e[t].type))return!1;return!0}function su(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class pA{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=gA(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let a=0,l=this.stack.length>>1,h=Math.min(l,e.length);for(;a<h&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=zt,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let p=-1;for(let x=this.index;x<Math.min(this.index+3,this.top.children.length);x++){let w=this.top.children[x];if(w.matchesMark(e[l])&&!this.isLocked(w.dom)){p=x;break}}if(p>-1)p>this.index&&(this.changed=!0,this.destroyBetween(this.index,p)),this.top=this.top.children[this.index];else{let x=vn.create(this.top,e[l],t,r);this.top.children.splice(this.index,0,x),this.top=x,this.changed=!0}this.index=0,l++}}findNodeMatch(e,t,r,a){let l=-1,h;if(a>=this.preMatch.index&&(h=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&h.matchesNode(e,t,r))l=this.top.children.indexOf(h,this.index);else for(let p=this.index,x=Math.min(this.top.children.length,p+5);p<x;p++){let w=this.top.children[p];if(w.matchesNode(e,t,r)&&!this.preMatch.matched.has(w)){l=p;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,t,r,a,l){let h=this.top.children[a];return h.dirty==Qt&&h.dom==h.contentDOM&&(h.dirty=Ji),h.update(e,t,r,l)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==r)return a}return-1}e=t}}updateNextNode(e,t,r,a,l,h){for(let p=this.index;p<this.top.children.length;p++){let x=this.top.children[p];if(x instanceof Pi){let w=this.preMatch.matched.get(x);if(w!=null&&w!=l)return!1;let A=x.dom,M,R=this.isLocked(A)&&!(e.isText&&x.node&&x.node.isText&&x.nodeDOM.nodeValue==e.text&&x.dirty!=Qt&&ra(t,x.outerDeco));if(!R&&x.update(e,t,r,a))return this.destroyBetween(this.index,p),x.dom!=A&&(this.changed=!0),this.index++,!0;if(!R&&(M=this.recreateWrapper(x,e,t,r,a,h)))return this.destroyBetween(this.index,p),this.top.children[this.index]=M,M.contentDOM&&(M.dirty=Ji,M.updateChildren(a,h+1),M.dirty=zt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,a,l,h){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!ra(r,e.outerDeco)||!a.eq(e.innerDeco))return null;let p=Pi.create(this.top,t,r,a,l,h);if(p.contentDOM){p.children=e.children,e.children=[];for(let x of p.children)x.parent=p}return e.destroy(),p}addNode(e,t,r,a,l){let h=Pi.create(this.top,e,t,r,a,l);h.contentDOM&&h.updateChildren(a,l+1),this.top.children.splice(this.index++,0,h),this.changed=!0}placeWidget(e,t,r){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let l=new fm(this.top,e,t,r);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof vn;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof uo)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((pt||lt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let a=new pm(this.top,[],r,null);t!=this.top?t.children.push(a):t.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function gA(i,e){let t=e,r=t.children.length,a=i.childCount,l=new Map,h=[];e:for(;a>0;){let p;for(;;)if(r){let w=t.children[r-1];if(w instanceof vn)t=w,r=w.children.length;else{p=w,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let x=p.node;if(x){if(x!=i.child(a-1))break;--a,l.set(p,a),h.push(p)}}return{index:a,matched:l,matches:h.reverse()}}function mA(i,e){return i.type.side-e.type.side}function bA(i,e,t,r){let a=e.locals(i),l=0;if(a.length==0){for(let w=0;w<i.childCount;w++){let A=i.child(w);r(A,a,e.forChild(l,A),w),l+=A.nodeSize}return}let h=0,p=[],x=null;for(let w=0;;){let A,M;for(;h<a.length&&a[h].to==l;){let W=a[h++];W.widget&&(A?(M||(M=[A])).push(W):A=W)}if(A)if(M){M.sort(mA);for(let W=0;W<M.length;W++)t(M[W],w,!!x)}else t(A,w,!!x);let R,z;if(x)z=-1,R=x,x=null;else if(w<i.childCount)z=w,R=i.child(w++);else break;for(let W=0;W<p.length;W++)p[W].to<=l&&p.splice(W--,1);for(;h<a.length&&a[h].from<=l&&a[h].to>l;)p.push(a[h++]);let P=l+R.nodeSize;if(R.isText){let W=P;h<a.length&&a[h].from<W&&(W=a[h].from);for(let Y=0;Y<p.length;Y++)p[Y].to<W&&(W=p[Y].to);W<P&&(x=R.cut(W-l),R=R.cut(0,W-l),P=W,z=-1)}else for(;h<a.length&&a[h].to<P;)h++;let X=R.isInline&&!R.isLeaf?p.filter(W=>!W.inline):p.slice();r(R,X,e.forChild(l,R),z),l=P}}function xA(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let e=i.style.cssText;i.style.cssText=e+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=e}}function yA(i,e,t,r){for(let a=0,l=0;a<i.childCount&&l<=r;){let h=i.child(a++),p=l;if(l+=h.nodeSize,!h.isText)continue;let x=h.text;for(;a<i.childCount;){let w=i.child(a++);if(l+=w.nodeSize,!w.isText)break;x+=w.text}if(l>=t){if(l>=r&&x.slice(r-e.length-p,r-p)==e)return r-e.length;let w=p<r?x.lastIndexOf(e,r-p-1):-1;if(w>=0&&w+e.length+p>=t)return p+w;if(t==r&&x.length>=r+e.length-p&&x.slice(r-p,r-p+e.length)==e)return r}}return-1}function Gl(i,e,t,r,a){let l=[];for(let h=0,p=0;h<i.length;h++){let x=i[h],w=p,A=p+=x.size;w>=t||A<=e?l.push(x):(w<e&&l.push(x.slice(0,e-w,r)),a&&(l.push(a),a=void 0),A>t&&l.push(x.slice(t-w,x.size,r)))}return l}function $c(i,e=null){let t=i.domSelectionRange(),r=i.state.doc;if(!t.focusNode)return null;let a=i.docView.nearestDesc(t.focusNode),l=a&&a.size==0,h=i.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(h<0)return null;let p=r.resolve(h),x,w;if(ho(t)){for(x=h;a&&!a.node;)a=a.parent;let M=a.node;if(a&&M.isAtom&&fe.isSelectable(M)&&a.parent&&!(M.isInline&&jk(t.focusNode,t.focusOffset,a.dom))){let R=a.posBefore;w=new fe(h==R?p:r.resolve(R))}}else{if(t instanceof i.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let M=h,R=h;for(let z=0;z<t.rangeCount;z++){let P=t.getRangeAt(z);M=Math.min(M,i.docView.posFromDOM(P.startContainer,P.startOffset,1)),R=Math.max(R,i.docView.posFromDOM(P.endContainer,P.endOffset,-1))}if(M<0)return null;[x,h]=R==i.state.selection.anchor?[R,M]:[M,R],p=r.resolve(h)}else x=i.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(x<0)return null}let A=r.resolve(x);if(!w){let M=e=="pointer"||i.state.selection.head<p.pos&&!l?1:-1;w=Kc(i,A,p,M)}return w}function xm(i){return i.editable?i.hasFocus():vm(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function di(i,e=!1){let t=i.state.selection;if(ym(i,t),!!xm(i)){if(!e&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&lt){let r=i.domSelectionRange(),a=i.domObserver.currentSelection;if(r.anchorNode&&a.anchorNode&&yn(r.anchorNode,r.anchorOffset,a.anchorNode,a.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)wA(i);else{let{anchor:r,head:a}=t,l,h;au&&!(t instanceof xe)&&(t.$from.parent.inlineContent||(l=ou(i,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(h=ou(i,t.to))),i.docView.setSelection(r,a,i,e),au&&(l&&lu(l),h&&lu(h)),t.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&vA(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}const au=pt||lt&&am<63;function ou(i,e){let{node:t,offset:r}=i.docView.domFromPos(e,0),a=r<t.childNodes.length?t.childNodes[r]:null,l=r?t.childNodes[r-1]:null;if(pt&&a&&a.contentEditable=="false")return Go(a);if((!a||a.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(a)return Go(a);if(l)return Go(l)}}function Go(i){return i.contentEditable="true",pt&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function lu(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function vA(i){let e=i.dom.ownerDocument;e.removeEventListener("selectionchange",i.input.hideSelectionGuard);let t=i.domSelectionRange(),r=t.anchorNode,a=t.anchorOffset;e.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=a)&&(e.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!xm(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function wA(i){let e=i.domSelection();if(!e)return;let t=i.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,et(t)+1):e.collapse(t,0),!r&&!i.state.selection.visible&&vt&&Li<=11&&(t.disabled=!0,t.disabled=!1)}function ym(i,e){if(e instanceof fe){let t=i.docView.descAt(e.from);t!=i.lastSelectedViewDesc&&(cu(i),t&&t.selectNode(),i.lastSelectedViewDesc=t)}else cu(i)}function cu(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function Kc(i,e,t,r){return i.someProp("createSelectionBetween",a=>a(i,e,t))||xe.between(e,t,r)}function hu(i){return i.editable&&!i.hasFocus()?!1:vm(i)}function vm(i){let e=i.domSelectionRange();if(!e.anchorNode)return!1;try{return i.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(i.editable||i.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function SA(i){let e=i.docView.domFromPos(i.state.selection.anchor,0),t=i.domSelectionRange();return yn(e.node,e.offset,t.anchorNode,t.anchorOffset)}function ql(i,e){let{$anchor:t,$head:r}=i.selection,a=e>0?t.max(r):t.min(r),l=a.parent.inlineContent?a.depth?i.doc.resolve(e>0?a.after():a.before()):null:a;return l&&Se.findFrom(l,e)}function xi(i,e){return i.dispatch(i.state.tr.setSelection(e).scrollIntoView()),!0}function du(i,e,t){let r=i.state.selection;if(r instanceof xe)if(t.indexOf("s")>-1){let{$head:a}=r,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let h=i.state.doc.resolve(a.pos+l.nodeSize*(e<0?-1:1));return xi(i,new xe(r.$anchor,h))}else if(r.empty){if(i.endOfTextblock(e>0?"forward":"backward")){let a=ql(i.state,e);return a&&a instanceof fe?xi(i,a):!1}else if(!(Rt&&t.indexOf("m")>-1)){let a=r.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,h;if(!l||l.isText)return!1;let p=e<0?a.pos-l.nodeSize:a.pos;return l.isAtom||(h=i.docView.descAt(p))&&!h.contentDOM?fe.isSelectable(l)?xi(i,new fe(e<0?i.state.doc.resolve(a.pos-l.nodeSize):a)):ts?xi(i,new xe(i.state.doc.resolve(e<0?p:p+l.nodeSize))):!1:!1}}else return!1;else{if(r instanceof fe&&r.node.isInline)return xi(i,new xe(e>0?r.$to:r.$from));{let a=ql(i.state,e);return a?xi(i,a):!1}}}function sa(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Cr(i,e){let t=i.pmViewDesc;return t&&t.size==0&&(e<0||i.nextSibling||i.nodeName!="BR")}function Ln(i,e){return e<0?kA(i):AA(i)}function kA(i){let e=i.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let a,l,h=!1;for(Ft&&t.nodeType==1&&r<sa(t)&&Cr(t.childNodes[r],-1)&&(h=!0);;)if(r>0){if(t.nodeType!=1)break;{let p=t.childNodes[r-1];if(Cr(p,-1))a=t,l=--r;else if(p.nodeType==3)t=p,r=t.nodeValue.length;else break}}else{if(wm(t))break;{let p=t.previousSibling;for(;p&&Cr(p,-1);)a=t.parentNode,l=et(p),p=p.previousSibling;if(p)t=p,r=sa(t);else{if(t=t.parentNode,t==i.dom)break;r=0}}}h?Ul(i,t,r):a&&Ul(i,a,l)}function AA(i){let e=i.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let a=sa(t),l,h;for(;;)if(r<a){if(t.nodeType!=1)break;let p=t.childNodes[r];if(Cr(p,1))l=t,h=++r;else break}else{if(wm(t))break;{let p=t.nextSibling;for(;p&&Cr(p,1);)l=p.parentNode,h=et(p)+1,p=p.nextSibling;if(p)t=p,r=0,a=sa(t);else{if(t=t.parentNode,t==i.dom)break;r=a=0}}}l&&Ul(i,l,h)}function wm(i){let e=i.pmViewDesc;return e&&e.node&&e.node.isBlock}function CA(i,e){for(;i&&e==i.childNodes.length&&!es(i);)e=et(i)+1,i=i.parentNode;for(;i&&e<i.childNodes.length;){let t=i.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=0}}function EA(i,e){for(;i&&!e&&!es(i);)e=et(i),i=i.parentNode;for(;i&&e;){let t=i.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=i.childNodes.length}}function Ul(i,e,t){if(e.nodeType!=3){let l,h;(h=CA(e,t))?(e=h,t=0):(l=EA(e,t))&&(e=l,t=l.nodeValue.length)}let r=i.domSelection();if(!r)return;if(ho(r)){let l=document.createRange();l.setEnd(e,t),l.setStart(e,t),r.removeAllRanges(),r.addRange(l)}else r.extend&&r.extend(e,t);i.domObserver.setCurSelection();let{state:a}=i;setTimeout(()=>{i.state==a&&di(i)},50)}function uu(i,e){let t=i.state.doc.resolve(e);if(!(lt||Uk)&&t.parent.inlineContent){let a=i.coordsAtPos(e);if(e>t.start()){let l=i.coordsAtPos(e-1),h=(l.top+l.bottom)/2;if(h>a.top&&h<a.bottom&&Math.abs(l.left-a.left)>1)return l.left<a.left?"ltr":"rtl"}if(e<t.end()){let l=i.coordsAtPos(e+1),h=(l.top+l.bottom)/2;if(h>a.top&&h<a.bottom&&Math.abs(l.left-a.left)>1)return l.left>a.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function fu(i,e,t){let r=i.state.selection;if(r instanceof xe&&!r.empty||t.indexOf("s")>-1||Rt&&t.indexOf("m")>-1)return!1;let{$from:a,$to:l}=r;if(!a.parent.inlineContent||i.endOfTextblock(e<0?"up":"down")){let h=ql(i.state,e);if(h&&h instanceof fe)return xi(i,h)}if(!a.parent.inlineContent){let h=e<0?a:l,p=r instanceof At?Se.near(h,e):Se.findFrom(h,e);return p?xi(i,p):!1}return!1}function pu(i,e){if(!(i.state.selection instanceof xe))return!0;let{$head:t,$anchor:r,empty:a}=i.state.selection;if(!t.sameParent(r))return!0;if(!a)return!1;if(i.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(l&&!l.isText){let h=i.state.tr;return e<0?h.delete(t.pos-l.nodeSize,t.pos):h.delete(t.pos,t.pos+l.nodeSize),i.dispatch(h),!0}return!1}function gu(i,e,t){i.domObserver.stop(),e.contentEditable=t,i.domObserver.start()}function TA(i){if(!pt||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=i.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;gu(i,r,"true"),setTimeout(()=>gu(i,r,"false"),20)}return!1}function MA(i){let e="";return i.ctrlKey&&(e+="c"),i.metaKey&&(e+="m"),i.altKey&&(e+="a"),i.shiftKey&&(e+="s"),e}function LA(i,e){let t=e.keyCode,r=MA(e);if(t==8||Rt&&t==72&&r=="c")return pu(i,-1)||Ln(i,-1);if(t==46&&!e.shiftKey||Rt&&t==68&&r=="c")return pu(i,1)||Ln(i,1);if(t==13||t==27)return!0;if(t==37||Rt&&t==66&&r=="c"){let a=t==37?uu(i,i.state.selection.from)=="ltr"?-1:1:-1;return du(i,a,r)||Ln(i,a)}else if(t==39||Rt&&t==70&&r=="c"){let a=t==39?uu(i,i.state.selection.from)=="ltr"?1:-1:1;return du(i,a,r)||Ln(i,a)}else{if(t==38||Rt&&t==80&&r=="c")return fu(i,-1,r)||Ln(i,-1);if(t==40||Rt&&t==78&&r=="c")return TA(i)||fu(i,1,r)||Ln(i,1);if(r==(Rt?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Jc(i,e){i.someProp("transformCopied",z=>{e=z(e,i)});let t=[],{content:r,openStart:a,openEnd:l}=e;for(;a>1&&l>1&&r.childCount==1&&r.firstChild.childCount==1;){a--,l--;let z=r.firstChild;t.push(z.type.name,z.attrs!=z.type.defaultAttrs?z.attrs:null),r=z.content}let h=i.someProp("clipboardSerializer")||kn.fromSchema(i.state.schema),p=Tm(),x=p.createElement("div");x.appendChild(h.serializeFragment(r,{document:p}));let w=x.firstChild,A,M=0;for(;w&&w.nodeType==1&&(A=Em[w.nodeName.toLowerCase()]);){for(let z=A.length-1;z>=0;z--){let P=p.createElement(A[z]);for(;x.firstChild;)P.appendChild(x.firstChild);x.appendChild(P),M++}w=x.firstChild}w&&w.nodeType==1&&w.setAttribute("data-pm-slice",`${a} ${l}${M?` -${M}`:""} ${JSON.stringify(t)}`);let R=i.someProp("clipboardTextSerializer",z=>z(e,i))||e.content.textBetween(0,e.content.size,`

`);return{dom:x,text:R,slice:e}}function Sm(i,e,t,r,a){let l=a.parent.type.spec.code,h,p;if(!t&&!e)return null;let x=!!e&&(r||l||!t);if(x){if(i.someProp("transformPastedText",R=>{e=R(e,l||r,i)}),l)return p=new ce(se.from(i.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),i.someProp("transformPasted",R=>{p=R(p,i,!0)}),p;let M=i.someProp("clipboardTextParser",R=>R(e,a,r,i));if(M)p=M;else{let R=a.marks(),{schema:z}=i.state,P=kn.fromSchema(z);h=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(X=>{let W=h.appendChild(document.createElement("p"));X&&W.appendChild(P.serializeNode(z.text(X,R)))})}}else i.someProp("transformPastedHTML",M=>{t=M(t,i)}),h=IA(t),ts&&NA(h);let w=h&&h.querySelector("[data-pm-slice]"),A=w&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(w.getAttribute("data-pm-slice")||"");if(A&&A[3])for(let M=+A[3];M>0;M--){let R=h.firstChild;for(;R&&R.nodeType!=1;)R=R.nextSibling;if(!R)break;h=R}if(p||(p=(i.someProp("clipboardParser")||i.someProp("domParser")||Sr.fromSchema(i.state.schema)).parseSlice(h,{preserveWhitespace:!!(x||A),context:a,ruleFromNode(R){return R.nodeName=="BR"&&!R.nextSibling&&R.parentNode&&!PA.test(R.parentNode.nodeName)?{ignore:!0}:null}})),A)p=DA(mu(p,+A[1],+A[2]),A[4]);else if(p=ce.maxOpen(RA(p.content,a),!0),p.openStart||p.openEnd){let M=0,R=0;for(let z=p.content.firstChild;M<p.openStart&&!z.type.spec.isolating;M++,z=z.firstChild);for(let z=p.content.lastChild;R<p.openEnd&&!z.type.spec.isolating;R++,z=z.lastChild);p=mu(p,M,R)}return i.someProp("transformPasted",M=>{p=M(p,i,x)}),p}const PA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function RA(i,e){if(i.childCount<2)return i;for(let t=e.depth;t>=0;t--){let a=e.node(t).contentMatchAt(e.index(t)),l,h=[];if(i.forEach(p=>{if(!h)return;let x=a.findWrapping(p.type),w;if(!x)return h=null;if(w=h.length&&l.length&&Am(x,l,p,h[h.length-1],0))h[h.length-1]=w;else{h.length&&(h[h.length-1]=Cm(h[h.length-1],l.length));let A=km(p,x);h.push(A),a=a.matchType(A.type),l=x}}),h)return se.from(h)}return i}function km(i,e,t=0){for(let r=e.length-1;r>=t;r--)i=e[r].create(null,se.from(i));return i}function Am(i,e,t,r,a){if(a<i.length&&a<e.length&&i[a]==e[a]){let l=Am(i,e,t,r.lastChild,a+1);if(l)return r.copy(r.content.replaceChild(r.childCount-1,l));if(r.contentMatchAt(r.childCount).matchType(a==i.length-1?t.type:i[a+1]))return r.copy(r.content.append(se.from(km(t,i,a+1))))}}function Cm(i,e){if(e==0)return i;let t=i.content.replaceChild(i.childCount-1,Cm(i.lastChild,e-1)),r=i.contentMatchAt(i.childCount).fillBefore(se.empty,!0);return i.copy(t.append(r))}function $l(i,e,t,r,a,l){let h=e<0?i.firstChild:i.lastChild,p=h.content;return i.childCount>1&&(l=0),a<r-1&&(p=$l(p,e,t,r,a+1,l)),a>=t&&(p=e<0?h.contentMatchAt(0).fillBefore(p,l<=a).append(p):p.append(h.contentMatchAt(h.childCount).fillBefore(se.empty,!0))),i.replaceChild(e<0?0:i.childCount-1,h.copy(p))}function mu(i,e,t){return e<i.openStart&&(i=new ce($l(i.content,-1,e,i.openStart,0,i.openEnd),e,i.openEnd)),t<i.openEnd&&(i=new ce($l(i.content,1,t,i.openEnd,0,0),i.openStart,t)),i}const Em={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bu=null;function Tm(){return bu||(bu=document.implementation.createHTMLDocument("title"))}let qo=null;function OA(i){let e=window.trustedTypes;return e?(qo||(qo=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),qo.createHTML(i)):i}function IA(i){let e=/^(\s*<meta [^>]*>)*/.exec(i);e&&(i=i.slice(e[0].length));let t=Tm().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(i),a;if((a=r&&Em[r[1].toLowerCase()])&&(i=a.map(l=>"<"+l+">").join("")+i+a.map(l=>"</"+l+">").reverse().join("")),t.innerHTML=OA(i),a)for(let l=0;l<a.length;l++)t=t.querySelector(a[l])||t;return t}function NA(i){let e=i.querySelectorAll(lt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),r)}}function DA(i,e){if(!i.size)return i;let t=i.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return i}let{content:a,openStart:l,openEnd:h}=i;for(let p=r.length-2;p>=0;p-=2){let x=t.nodes[r[p]];if(!x||x.hasRequiredAttrs())break;a=se.from(x.create(r[p+1],a)),l++,h++}return new ce(a,l,h)}const gt={},mt={},FA={touchstart:!0,touchmove:!0};class zA{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function BA(i){for(let e in gt){let t=gt[e];i.dom.addEventListener(e,i.input.eventHandlers[e]=r=>{_A(i,r)&&!Zc(i,r)&&(i.editable||!(r.type in mt))&&t(i,r)},FA[e]?{passive:!0}:void 0)}pt&&i.dom.addEventListener("input",()=>null),Kl(i)}function Ti(i,e){i.input.lastSelectionOrigin=e,i.input.lastSelectionTime=Date.now()}function HA(i){i.domObserver.stop();for(let e in i.input.eventHandlers)i.dom.removeEventListener(e,i.input.eventHandlers[e]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function Kl(i){i.someProp("handleDOMEvents",e=>{for(let t in e)i.input.eventHandlers[t]||i.dom.addEventListener(t,i.input.eventHandlers[t]=r=>Zc(i,r))})}function Zc(i,e){return i.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(i,e)||e.defaultPrevented:!1})}function _A(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=i.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function WA(i,e){!Zc(i,e)&&gt[e.type]&&(i.editable||!(e.type in mt))&&gt[e.type](i,e)}mt.keydown=(i,e)=>{let t=e;if(i.input.shiftKey=t.keyCode==16||t.shiftKey,!Lm(i,t)&&(i.input.lastKeyCode=t.keyCode,i.input.lastKeyCodeTime=Date.now(),!(ci&&lt&&t.keyCode==13)))if(t.keyCode!=229&&i.domObserver.forceFlush(),jn&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();i.input.lastIOSEnter=r,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==r&&(i.someProp("handleKeyDown",a=>a(i,Gi(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",r=>r(i,t))||LA(i,t)?t.preventDefault():Ti(i,"key")};mt.keyup=(i,e)=>{e.keyCode==16&&(i.input.shiftKey=!1)};mt.keypress=(i,e)=>{let t=e;if(Lm(i,t)||!t.charCode||t.ctrlKey&&!t.altKey||Rt&&t.metaKey)return;if(i.someProp("handleKeyPress",a=>a(i,t))){t.preventDefault();return}let r=i.state.selection;if(!(r instanceof xe)||!r.$from.sameParent(r.$to)){let a=String.fromCharCode(t.charCode),l=()=>i.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!i.someProp("handleTextInput",h=>h(i,r.$from.pos,r.$to.pos,a,l))&&i.dispatch(l()),t.preventDefault()}};function fo(i){return{left:i.clientX,top:i.clientY}}function XA(i,e){let t=e.x-i.clientX,r=e.y-i.clientY;return t*t+r*r<100}function Qc(i,e,t,r,a){if(r==-1)return!1;let l=i.state.doc.resolve(r);for(let h=l.depth+1;h>0;h--)if(i.someProp(e,p=>h>l.depth?p(i,t,l.nodeAfter,l.before(h),a,!0):p(i,t,l.node(h),l.before(h),a,!1)))return!0;return!1}function Hn(i,e,t){if(i.focused||i.focus(),i.state.selection.eq(e))return;let r=i.state.tr.setSelection(e);r.setMeta("pointer",!0),i.dispatch(r)}function YA(i,e){if(e==-1)return!1;let t=i.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&fe.isSelectable(r)?(Hn(i,new fe(t)),!0):!1}function VA(i,e){if(e==-1)return!1;let t=i.state.selection,r,a;t instanceof fe&&(r=t.node);let l=i.state.doc.resolve(e);for(let h=l.depth+1;h>0;h--){let p=h>l.depth?l.nodeAfter:l.node(h);if(fe.isSelectable(p)){r&&t.$from.depth>0&&h>=t.$from.depth&&l.before(t.$from.depth+1)==t.$from.pos?a=l.before(t.$from.depth):a=l.before(h);break}}return a!=null?(Hn(i,fe.create(i.state.doc,a)),!0):!1}function jA(i,e,t,r,a){return Qc(i,"handleClickOn",e,t,r)||i.someProp("handleClick",l=>l(i,e,r))||(a?VA(i,t):YA(i,t))}function GA(i,e,t,r){return Qc(i,"handleDoubleClickOn",e,t,r)||i.someProp("handleDoubleClick",a=>a(i,e,r))}function qA(i,e,t,r){return Qc(i,"handleTripleClickOn",e,t,r)||i.someProp("handleTripleClick",a=>a(i,e,r))||UA(i,t,r)}function UA(i,e,t){if(t.button!=0)return!1;let r=i.state.doc;if(e==-1)return r.inlineContent?(Hn(i,xe.create(r,0,r.content.size)),!0):!1;let a=r.resolve(e);for(let l=a.depth+1;l>0;l--){let h=l>a.depth?a.nodeAfter:a.node(l),p=a.before(l);if(h.inlineContent)Hn(i,xe.create(r,p+1,p+1+h.content.size));else if(fe.isSelectable(h))Hn(i,fe.create(r,p));else continue;return!0}}function eh(i){return aa(i)}const Mm=Rt?"metaKey":"ctrlKey";gt.mousedown=(i,e)=>{let t=e;i.input.shiftKey=t.shiftKey;let r=eh(i),a=Date.now(),l="singleClick";a-i.input.lastClick.time<500&&XA(t,i.input.lastClick)&&!t[Mm]&&i.input.lastClick.button==t.button&&(i.input.lastClick.type=="singleClick"?l="doubleClick":i.input.lastClick.type=="doubleClick"&&(l="tripleClick")),i.input.lastClick={time:a,x:t.clientX,y:t.clientY,type:l,button:t.button};let h=i.posAtCoords(fo(t));h&&(l=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new $A(i,h,t,!!r)):(l=="doubleClick"?GA:qA)(i,h.pos,h.inside,t)?t.preventDefault():Ti(i,"pointer"))};class $A{constructor(e,t,r,a){this.view=e,this.pos=t,this.event=r,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Mm],this.allowDefault=r.shiftKey;let l,h;if(t.inside>-1)l=e.state.doc.nodeAt(t.inside),h=t.inside;else{let A=e.state.doc.resolve(t.pos);l=A.parent,h=A.depth?A.before():0}const p=a?null:r.target,x=p?e.docView.nearestDesc(p,!0):null;this.target=x&&x.nodeDOM.nodeType==1?x.nodeDOM:null;let{selection:w}=e.state;(r.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||w instanceof fe&&w.from<=h&&w.to>h)&&(this.mightDrag={node:l,pos:h,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ft&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ti(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>di(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(fo(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ti(this.view,"pointer"):jA(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||pt&&this.mightDrag&&!this.mightDrag.node.isAtom||lt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Hn(this.view,Se.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ti(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ti(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}gt.touchstart=i=>{i.input.lastTouch=Date.now(),eh(i),Ti(i,"pointer")};gt.touchmove=i=>{i.input.lastTouch=Date.now(),Ti(i,"pointer")};gt.contextmenu=i=>eh(i);function Lm(i,e){return i.composing?!0:pt&&Math.abs(e.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}const KA=ci?5e3:-1;mt.compositionstart=mt.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:e}=i,t=e.selection.$to;if(e.selection instanceof xe&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||t.marks(),aa(i,!0),i.markCursor=null;else if(aa(i,!e.selection.empty),Ft&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=i.domSelectionRange();for(let a=r.focusNode,l=r.focusOffset;a&&a.nodeType==1&&l!=0;){let h=l<0?a.lastChild:a.childNodes[l-1];if(!h)break;if(h.nodeType==3){let p=i.domSelection();p&&p.collapse(h,h.nodeValue.length);break}else a=h,l=-1}}i.input.composing=!0}Pm(i,KA)};mt.compositionend=(i,e)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=e.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,Pm(i,20))};function Pm(i,e){clearTimeout(i.input.composingTimeout),e>-1&&(i.input.composingTimeout=setTimeout(()=>aa(i),e))}function Rm(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=ZA());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function JA(i){let e=i.domSelectionRange();if(!e.focusNode)return null;let t=Yk(e.focusNode,e.focusOffset),r=Vk(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let a=r.pmViewDesc,l=i.domObserver.lastChangedTextNode;if(t==l||r==l)return l;if(!a||!a.isText(r.nodeValue))return r;if(i.input.compositionNode==r){let h=t.pmViewDesc;if(!(!h||!h.isText(t.nodeValue)))return r}}return t||r}function ZA(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function aa(i,e=!1){if(!(ci&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),Rm(i),e||i.docView&&i.docView.dirty){let t=$c(i),r=i.state.selection;return t&&!t.eq(r)?i.dispatch(i.state.tr.setSelection(t)):(i.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function QA(i,e){if(!i.dom.parentNode)return;let t=i.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),a=document.createRange();a.selectNodeContents(e),i.dom.blur(),r.removeAllRanges(),r.addRange(a),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),i.focus()},50)}const Br=vt&&Li<15||jn&&$k<604;gt.copy=mt.cut=(i,e)=>{let t=e,r=i.state.selection,a=t.type=="cut";if(r.empty)return;let l=Br?null:t.clipboardData,h=r.content(),{dom:p,text:x}=Jc(i,h);l?(t.preventDefault(),l.clearData(),l.setData("text/html",p.innerHTML),l.setData("text/plain",x)):QA(i,p),a&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function e1(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function t1(i,e){if(!i.dom.parentNode)return;let t=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,r=i.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let a=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Hr(i,r.value,null,a,e):Hr(i,r.textContent,r.innerHTML,a,e)},50)}function Hr(i,e,t,r,a){let l=Sm(i,e,t,r,i.state.selection.$from);if(i.someProp("handlePaste",x=>x(i,a,l||ce.empty)))return!0;if(!l)return!1;let h=e1(l),p=h?i.state.tr.replaceSelectionWith(h,r):i.state.tr.replaceSelection(l);return i.dispatch(p.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Om(i){let e=i.getData("text/plain")||i.getData("Text");if(e)return e;let t=i.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}mt.paste=(i,e)=>{let t=e;if(i.composing&&!ci)return;let r=Br?null:t.clipboardData,a=i.input.shiftKey&&i.input.lastKeyCode!=45;r&&Hr(i,Om(r),r.getData("text/html"),a,t)?t.preventDefault():t1(i,t)};class Im{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const i1=Rt?"altKey":"ctrlKey";function Nm(i,e){let t=i.someProp("dragCopies",r=>!r(e));return t??!e[i1]}gt.dragstart=(i,e)=>{let t=e,r=i.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let a=i.state.selection,l=a.empty?null:i.posAtCoords(fo(t)),h;if(!(l&&l.pos>=a.from&&l.pos<=(a instanceof fe?a.to-1:a.to))){if(r&&r.mightDrag)h=fe.create(i.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let M=i.docView.nearestDesc(t.target,!0);M&&M.node.type.spec.draggable&&M!=i.docView&&(h=fe.create(i.state.doc,M.posBefore))}}let p=(h||i.state.selection).content(),{dom:x,text:w,slice:A}=Jc(i,p);(!t.dataTransfer.files.length||!lt||am>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Br?"Text":"text/html",x.innerHTML),t.dataTransfer.effectAllowed="copyMove",Br||t.dataTransfer.setData("text/plain",w),i.dragging=new Im(A,Nm(i,t),h)};gt.dragend=i=>{let e=i.dragging;window.setTimeout(()=>{i.dragging==e&&(i.dragging=null)},50)};mt.dragover=mt.dragenter=(i,e)=>e.preventDefault();mt.drop=(i,e)=>{let t=e,r=i.dragging;if(i.dragging=null,!t.dataTransfer)return;let a=i.posAtCoords(fo(t));if(!a)return;let l=i.state.doc.resolve(a.pos),h=r&&r.slice;h?i.someProp("transformPasted",P=>{h=P(h,i,!1)}):h=Sm(i,Om(t.dataTransfer),Br?null:t.dataTransfer.getData("text/html"),!1,l);let p=!!(r&&Nm(i,t));if(i.someProp("handleDrop",P=>P(i,t,h||ce.empty,p))){t.preventDefault();return}if(!h)return;t.preventDefault();let x=h?Jg(i.state.doc,l.pos,h):l.pos;x==null&&(x=l.pos);let w=i.state.tr;if(p){let{node:P}=r;P?P.replace(w):w.deleteSelection()}let A=w.mapping.map(x),M=h.openStart==0&&h.openEnd==0&&h.content.childCount==1,R=w.doc;if(M?w.replaceRangeWith(A,A,h.content.firstChild):w.replaceRange(A,A,h),w.doc.eq(R))return;let z=w.doc.resolve(A);if(M&&fe.isSelectable(h.content.firstChild)&&z.nodeAfter&&z.nodeAfter.sameMarkup(h.content.firstChild))w.setSelection(new fe(z));else{let P=w.mapping.map(x);w.mapping.maps[w.mapping.maps.length-1].forEach((X,W,Y,$)=>P=$),w.setSelection(Kc(i,z,w.doc.resolve(P)))}i.focus(),i.dispatch(w.setMeta("uiEvent","drop"))};gt.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&di(i)},20))};gt.blur=(i,e)=>{let t=e;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),t.relatedTarget&&i.dom.contains(t.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)};gt.beforeinput=(i,e)=>{if(lt&&ci&&e.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:r}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=r||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",l=>l(i,Gi(8,"Backspace")))))return;let{$cursor:a}=i.state.selection;a&&a.pos>0&&i.dispatch(i.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let i in mt)gt[i]=mt[i];function _r(i,e){if(i==e)return!0;for(let t in i)if(i[t]!==e[t])return!1;for(let t in e)if(!(t in i))return!1;return!0}class oa{constructor(e,t){this.toDOM=e,this.spec=t||dn,this.side=this.spec.side||0}map(e,t,r,a){let{pos:l,deleted:h}=e.mapResult(t.from+a,this.side<0?-1:1);return h?null:new Nt(l-r,l-r,this)}valid(){return!0}eq(e){return this==e||e instanceof oa&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_r(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ri{constructor(e,t){this.attrs=e,this.spec=t||dn}map(e,t,r,a){let l=e.map(t.from+a,this.spec.inclusiveStart?-1:1)-r,h=e.map(t.to+a,this.spec.inclusiveEnd?1:-1)-r;return l>=h?null:new Nt(l,h,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Ri&&_r(this.attrs,e.attrs)&&_r(this.spec,e.spec)}static is(e){return e.type instanceof Ri}destroy(){}}class th{constructor(e,t){this.attrs=e,this.spec=t||dn}map(e,t,r,a){let l=e.mapResult(t.from+a,1);if(l.deleted)return null;let h=e.mapResult(t.to+a,-1);return h.deleted||h.pos<=l.pos?null:new Nt(l.pos-r,h.pos-r,this)}valid(e,t){let{index:r,offset:a}=e.content.findIndex(t.from),l;return a==t.from&&!(l=e.child(r)).isText&&a+l.nodeSize==t.to}eq(e){return this==e||e instanceof th&&_r(this.attrs,e.attrs)&&_r(this.spec,e.spec)}destroy(){}}class Nt{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Nt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Nt(e,e,new oa(t,r))}static inline(e,t,r,a){return new Nt(e,t,new Ri(r,a))}static node(e,t,r,a){return new Nt(e,t,new th(r,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ri}get widget(){return this.type instanceof oa}}const Rn=[],dn={};class qe{constructor(e,t){this.local=e.length?e:Rn,this.children=t.length?t:Rn}static create(e,t){return t.length?la(t,e,0,dn):at}find(e,t,r){let a=[];return this.findInner(e??0,t??1e9,a,0,r),a}findInner(e,t,r,a,l){for(let h=0;h<this.local.length;h++){let p=this.local[h];p.from<=t&&p.to>=e&&(!l||l(p.spec))&&r.push(p.copy(p.from+a,p.to+a))}for(let h=0;h<this.children.length;h+=3)if(this.children[h]<t&&this.children[h+1]>e){let p=this.children[h]+1;this.children[h+2].findInner(e-p,t-p,r,a+p,l)}}map(e,t,r){return this==at||e.maps.length==0?this:this.mapInner(e,t,0,0,r||dn)}mapInner(e,t,r,a,l){let h;for(let p=0;p<this.local.length;p++){let x=this.local[p].map(e,r,a);x&&x.type.valid(t,x)?(h||(h=[])).push(x):l.onRemove&&l.onRemove(this.local[p].spec)}return this.children.length?n1(this.children,h||[],e,t,r,a,l):h?new qe(h.sort(un),Rn):at}add(e,t){return t.length?this==at?qe.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let a,l=0;e.forEach((p,x)=>{let w=x+r,A;if(A=Fm(t,p,w)){for(a||(a=this.children.slice());l<a.length&&a[l]<x;)l+=3;a[l]==x?a[l+2]=a[l+2].addInner(p,A,w+1):a.splice(l,0,x,x+p.nodeSize,la(A,p,w+1,dn)),l+=3}});let h=Dm(l?zm(t):t,-r);for(let p=0;p<h.length;p++)h[p].type.valid(e,h[p])||h.splice(p--,1);return new qe(h.length?this.local.concat(h).sort(un):this.local,a||this.children)}remove(e){return e.length==0||this==at?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,a=this.local;for(let l=0;l<r.length;l+=3){let h,p=r[l]+t,x=r[l+1]+t;for(let A=0,M;A<e.length;A++)(M=e[A])&&M.from>p&&M.to<x&&(e[A]=null,(h||(h=[])).push(M));if(!h)continue;r==this.children&&(r=this.children.slice());let w=r[l+2].removeInner(h,p+1);w!=at?r[l+2]=w:(r.splice(l,3),l-=3)}if(a.length){for(let l=0,h;l<e.length;l++)if(h=e[l])for(let p=0;p<a.length;p++)a[p].eq(h,t)&&(a==this.local&&(a=this.local.slice()),a.splice(p--,1))}return r==this.children&&a==this.local?this:a.length||r.length?new qe(a,r):at}forChild(e,t){if(this==at)return this;if(t.isLeaf)return qe.empty;let r,a;for(let p=0;p<this.children.length;p+=3)if(this.children[p]>=e){this.children[p]==e&&(r=this.children[p+2]);break}let l=e+1,h=l+t.content.size;for(let p=0;p<this.local.length;p++){let x=this.local[p];if(x.from<h&&x.to>l&&x.type instanceof Ri){let w=Math.max(l,x.from)-l,A=Math.min(h,x.to)-l;w<A&&(a||(a=[])).push(x.copy(w,A))}}if(a){let p=new qe(a.sort(un),Rn);return r?new ki([p,r]):p}return r||at}eq(e){if(this==e)return!0;if(!(e instanceof qe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return ih(this.localsInner(e))}localsInner(e){if(this==at)return Rn;if(e.inlineContent||!this.local.some(Ri.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ri||t.push(this.local[r]);return t}forEachSet(e){e(this)}}qe.empty=new qe([],[]);qe.removeOverlap=ih;const at=qe.empty;class ki{constructor(e){this.members=e}map(e,t){const r=this.members.map(a=>a.map(e,t,dn));return ki.from(r)}forChild(e,t){if(t.isLeaf)return qe.empty;let r=[];for(let a=0;a<this.members.length;a++){let l=this.members[a].forChild(e,t);l!=at&&(l instanceof ki?r=r.concat(l.members):r.push(l))}return ki.from(r)}eq(e){if(!(e instanceof ki)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let a=0;a<this.members.length;a++){let l=this.members[a].localsInner(e);if(l.length)if(!t)t=l;else{r&&(t=t.slice(),r=!1);for(let h=0;h<l.length;h++)t.push(l[h])}}return t?ih(r?t:t.sort(un)):Rn}static from(e){switch(e.length){case 0:return at;case 1:return e[0];default:return new ki(e.every(t=>t instanceof qe)?e:e.reduce((t,r)=>t.concat(r instanceof qe?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function n1(i,e,t,r,a,l,h){let p=i.slice();for(let w=0,A=l;w<t.maps.length;w++){let M=0;t.maps[w].forEach((R,z,P,X)=>{let W=X-P-(z-R);for(let Y=0;Y<p.length;Y+=3){let $=p[Y+1];if($<0||R>$+A-M)continue;let K=p[Y]+A-M;z>=K?p[Y+1]=R<=K?-2:-1:R>=A&&W&&(p[Y]+=W,p[Y+1]+=W)}M+=W}),A=t.maps[w].map(A,-1)}let x=!1;for(let w=0;w<p.length;w+=3)if(p[w+1]<0){if(p[w+1]==-2){x=!0,p[w+1]=-1;continue}let A=t.map(i[w]+l),M=A-a;if(M<0||M>=r.content.size){x=!0;continue}let R=t.map(i[w+1]+l,-1),z=R-a,{index:P,offset:X}=r.content.findIndex(M),W=r.maybeChild(P);if(W&&X==M&&X+W.nodeSize==z){let Y=p[w+2].mapInner(t,W,A+1,i[w]+l+1,h);Y!=at?(p[w]=M,p[w+1]=z,p[w+2]=Y):(p[w+1]=-2,x=!0)}else x=!0}if(x){let w=r1(p,i,e,t,a,l,h),A=la(w,r,0,h);e=A.local;for(let M=0;M<p.length;M+=3)p[M+1]<0&&(p.splice(M,3),M-=3);for(let M=0,R=0;M<A.children.length;M+=3){let z=A.children[M];for(;R<p.length&&p[R]<z;)R+=3;p.splice(R,0,A.children[M],A.children[M+1],A.children[M+2])}}return new qe(e.sort(un),p)}function Dm(i,e){if(!e||!i.length)return i;let t=[];for(let r=0;r<i.length;r++){let a=i[r];t.push(new Nt(a.from+e,a.to+e,a.type))}return t}function r1(i,e,t,r,a,l,h){function p(x,w){for(let A=0;A<x.local.length;A++){let M=x.local[A].map(r,a,w);M?t.push(M):h.onRemove&&h.onRemove(x.local[A].spec)}for(let A=0;A<x.children.length;A+=3)p(x.children[A+2],x.children[A]+w+1)}for(let x=0;x<i.length;x+=3)i[x+1]==-1&&p(i[x+2],e[x]+l+1);return t}function Fm(i,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,a=null;for(let l=0,h;l<i.length;l++)(h=i[l])&&h.from>t&&h.to<r&&((a||(a=[])).push(h),i[l]=null);return a}function zm(i){let e=[];for(let t=0;t<i.length;t++)i[t]!=null&&e.push(i[t]);return e}function la(i,e,t,r){let a=[],l=!1;e.forEach((p,x)=>{let w=Fm(i,p,x+t);if(w){l=!0;let A=la(w,p,t+x+1,r);A!=at&&a.push(x,x+p.nodeSize,A)}});let h=Dm(l?zm(i):i,-t).sort(un);for(let p=0;p<h.length;p++)h[p].type.valid(e,h[p])||(r.onRemove&&r.onRemove(h[p].spec),h.splice(p--,1));return h.length||a.length?new qe(h,a):at}function un(i,e){return i.from-e.from||i.to-e.to}function ih(i){let e=i;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let a=t+1;a<e.length;a++){let l=e[a];if(l.from==r.from){l.to!=r.to&&(e==i&&(e=i.slice()),e[a]=l.copy(l.from,r.to),xu(e,a+1,l.copy(r.to,l.to)));continue}else{l.from<r.to&&(e==i&&(e=i.slice()),e[t]=r.copy(r.from,l.from),xu(e,a,r.copy(l.from,r.to)));break}}}return e}function xu(i,e,t){for(;e<i.length&&un(t,i[e])>0;)e++;i.splice(e,0,t)}function Uo(i){let e=[];return i.someProp("decorations",t=>{let r=t(i.state);r&&r!=at&&e.push(r)}),i.cursorWrapper&&e.push(qe.create(i.state.doc,[i.cursorWrapper.deco])),ki.from(e)}const s1={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},a1=vt&&Li<=11;class o1{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class l1{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new o1,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let a=0;a<r.length;a++)this.queue.push(r[a]);vt&&Li<=11&&r.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),a1&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,s1)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hu(this.view)){if(this.suppressingSelectionUpdates)return di(this.view);if(vt&&Li<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&yn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let l=e.focusNode;l;l=Vn(l))t.add(l);for(let l=e.anchorNode;l;l=Vn(l))if(t.has(l)){r=l;break}let a=r&&this.view.docView.nearestDesc(r);if(a&&a.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&hu(e)&&!this.ignoreSelectionChange(r),l=-1,h=-1,p=!1,x=[];if(e.editable)for(let A=0;A<t.length;A++){let M=this.registerMutation(t[A],x);M&&(l=l<0?M.from:Math.min(M.from,l),h=h<0?M.to:Math.max(M.to,h),M.typeOver&&(p=!0))}if(Ft&&x.length){let A=x.filter(M=>M.nodeName=="BR");if(A.length==2){let[M,R]=A;M.parentNode&&M.parentNode.parentNode==R.parentNode?R.remove():M.remove()}else{let{focusNode:M}=this.currentSelection;for(let R of A){let z=R.parentNode;z&&z.nodeName=="LI"&&(!M||d1(e,M)!=z)&&R.remove()}}}let w=null;l<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ho(r)&&(w=$c(e))&&w.eq(Se.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,di(e),this.currentSelection.set(r),e.scrollToSelection()):(l>-1||a)&&(l>-1&&(e.docView.markDirty(l,h),c1(e)),this.handleDOMChange(l,h,p,x),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||di(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let A=0;A<e.addedNodes.length;A++){let M=e.addedNodes[A];t.push(M),M.nodeType==3&&(this.lastChangedTextNode=M)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let a=e.previousSibling,l=e.nextSibling;if(vt&&Li<=11&&e.addedNodes.length)for(let A=0;A<e.addedNodes.length;A++){let{previousSibling:M,nextSibling:R}=e.addedNodes[A];(!M||Array.prototype.indexOf.call(e.addedNodes,M)<0)&&(a=M),(!R||Array.prototype.indexOf.call(e.addedNodes,R)<0)&&(l=R)}let h=a&&a.parentNode==e.target?et(a)+1:0,p=r.localPosFromDOM(e.target,h,-1),x=l&&l.parentNode==e.target?et(l):e.target.childNodes.length,w=r.localPosFromDOM(e.target,x,1);return{from:p,to:w}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let yu=new WeakMap,vu=!1;function c1(i){if(!yu.has(i)&&(yu.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=Ft,vu)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),vu=!0}}function wu(i,e){let t=e.startContainer,r=e.startOffset,a=e.endContainer,l=e.endOffset,h=i.domAtPos(i.state.selection.anchor);return yn(h.node,h.offset,a,l)&&([t,r,a,l]=[a,l,t,r]),{anchorNode:t,anchorOffset:r,focusNode:a,focusOffset:l}}function h1(i,e){if(e.getComposedRanges){let a=e.getComposedRanges(i.root)[0];if(a)return wu(i,a)}let t;function r(a){a.preventDefault(),a.stopImmediatePropagation(),t=a.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",r,!0),t?wu(i,t):null}function d1(i,e){for(let t=e.parentNode;t&&t!=i.dom;t=t.parentNode){let r=i.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function u1(i,e,t){let{node:r,fromOffset:a,toOffset:l,from:h,to:p}=i.docView.parseRange(e,t),x=i.domSelectionRange(),w,A=x.anchorNode;if(A&&i.dom.contains(A.nodeType==1?A:A.parentNode)&&(w=[{node:A,offset:x.anchorOffset}],ho(x)||w.push({node:x.focusNode,offset:x.focusOffset})),lt&&i.input.lastKeyCode===8)for(let W=l;W>a;W--){let Y=r.childNodes[W-1],$=Y.pmViewDesc;if(Y.nodeName=="BR"&&!$){l=W;break}if(!$||$.size)break}let M=i.state.doc,R=i.someProp("domParser")||Sr.fromSchema(i.state.schema),z=M.resolve(h),P=null,X=R.parse(r,{topNode:z.parent,topMatch:z.parent.contentMatchAt(z.index()),topOpen:!0,from:a,to:l,preserveWhitespace:z.parent.type.whitespace=="pre"?"full":!0,findPositions:w,ruleFromNode:f1,context:z});if(w&&w[0].pos!=null){let W=w[0].pos,Y=w[1]&&w[1].pos;Y==null&&(Y=W),P={anchor:W+h,head:Y+h}}return{doc:X,sel:P,from:h,to:p}}function f1(i){let e=i.pmViewDesc;if(e)return e.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(pt&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(i.parentNode.lastChild==i||pt&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}const p1=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function g1(i,e,t,r,a){let l=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,e<0){let U=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,V=$c(i,U);if(V&&!i.state.selection.eq(V)){if(lt&&ci&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",ue=>ue(i,Gi(13,"Enter"))))return;let re=i.state.tr.setSelection(V);U=="pointer"?re.setMeta("pointer",!0):U=="key"&&re.scrollIntoView(),l&&re.setMeta("composition",l),i.dispatch(re)}return}let h=i.state.doc.resolve(e),p=h.sharedDepth(t);e=h.before(p+1),t=i.state.doc.resolve(t).after(p+1);let x=i.state.selection,w=u1(i,e,t),A=i.state.doc,M=A.slice(w.from,w.to),R,z;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(R=i.state.selection.to,z="end"):(R=i.state.selection.from,z="start"),i.input.lastKeyCode=null;let P=x1(M.content,w.doc.content,w.from,R,z);if(P&&i.input.domChangeCount++,(jn&&i.input.lastIOSEnter>Date.now()-225||ci)&&a.some(U=>U.nodeType==1&&!p1.test(U.nodeName))&&(!P||P.endA>=P.endB)&&i.someProp("handleKeyDown",U=>U(i,Gi(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!P)if(r&&x instanceof xe&&!x.empty&&x.$head.sameParent(x.$anchor)&&!i.composing&&!(w.sel&&w.sel.anchor!=w.sel.head))P={start:x.from,endA:x.to,endB:x.to};else{if(w.sel){let U=Su(i,i.state.doc,w.sel);if(U&&!U.eq(i.state.selection)){let V=i.state.tr.setSelection(U);l&&V.setMeta("composition",l),i.dispatch(V)}}return}i.state.selection.from<i.state.selection.to&&P.start==P.endB&&i.state.selection instanceof xe&&(P.start>i.state.selection.from&&P.start<=i.state.selection.from+2&&i.state.selection.from>=w.from?P.start=i.state.selection.from:P.endA<i.state.selection.to&&P.endA>=i.state.selection.to-2&&i.state.selection.to<=w.to&&(P.endB+=i.state.selection.to-P.endA,P.endA=i.state.selection.to)),vt&&Li<=11&&P.endB==P.start+1&&P.endA==P.start&&P.start>w.from&&w.doc.textBetween(P.start-w.from-1,P.start-w.from+1)==" "&&(P.start--,P.endA--,P.endB--);let X=w.doc.resolveNoCache(P.start-w.from),W=w.doc.resolveNoCache(P.endB-w.from),Y=A.resolve(P.start),$=X.sameParent(W)&&X.parent.inlineContent&&Y.end()>=P.endA;if((jn&&i.input.lastIOSEnter>Date.now()-225&&(!$||a.some(U=>U.nodeName=="DIV"||U.nodeName=="P"))||!$&&X.pos<w.doc.content.size&&(!X.sameParent(W)||!X.parent.inlineContent)&&X.pos<W.pos&&!/\S/.test(w.doc.textBetween(X.pos,W.pos,"","")))&&i.someProp("handleKeyDown",U=>U(i,Gi(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>P.start&&b1(A,P.start,P.endA,X,W)&&i.someProp("handleKeyDown",U=>U(i,Gi(8,"Backspace")))){ci&&lt&&i.domObserver.suppressSelectionUpdates();return}lt&&P.endB==P.start&&(i.input.lastChromeDelete=Date.now()),ci&&!$&&X.start()!=W.start()&&W.parentOffset==0&&X.depth==W.depth&&w.sel&&w.sel.anchor==w.sel.head&&w.sel.head==P.endA&&(P.endB-=2,W=w.doc.resolveNoCache(P.endB-w.from),setTimeout(()=>{i.someProp("handleKeyDown",function(U){return U(i,Gi(13,"Enter"))})},20));let K=P.start,Q=P.endA,H=U=>{let V=U||i.state.tr.replace(K,Q,w.doc.slice(P.start-w.from,P.endB-w.from));if(w.sel){let re=Su(i,V.doc,w.sel);re&&!(lt&&i.composing&&re.empty&&(P.start!=P.endB||i.input.lastChromeDelete<Date.now()-100)&&(re.head==K||re.head==V.mapping.map(Q)-1)||vt&&re.empty&&re.head==K)&&V.setSelection(re)}return l&&V.setMeta("composition",l),V.scrollIntoView()},J;if($){if(X.pos==W.pos){vt&&Li<=11&&X.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>di(i),20));let U=H(i.state.tr.delete(K,Q)),V=A.resolve(P.start).marksAcross(A.resolve(P.endA));V&&U.ensureMarks(V),i.dispatch(U)}else if(P.endA==P.endB&&(J=m1(X.parent.content.cut(X.parentOffset,W.parentOffset),Y.parent.content.cut(Y.parentOffset,P.endA-Y.start())))){let U=H(i.state.tr);J.type=="add"?U.addMark(K,Q,J.mark):U.removeMark(K,Q,J.mark),i.dispatch(U)}else if(X.parent.child(X.index()).isText&&X.index()==W.index()-(W.textOffset?0:1)){let U=X.parent.textBetween(X.parentOffset,W.parentOffset),V=()=>H(i.state.tr.insertText(U,K,Q));i.someProp("handleTextInput",re=>re(i,K,Q,U,V))||i.dispatch(V())}}else i.dispatch(H())}function Su(i,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Kc(i,e.resolve(t.anchor),e.resolve(t.head))}function m1(i,e){let t=i.firstChild.marks,r=e.firstChild.marks,a=t,l=r,h,p,x;for(let A=0;A<r.length;A++)a=r[A].removeFromSet(a);for(let A=0;A<t.length;A++)l=t[A].removeFromSet(l);if(a.length==1&&l.length==0)p=a[0],h="add",x=A=>A.mark(p.addToSet(A.marks));else if(a.length==0&&l.length==1)p=l[0],h="remove",x=A=>A.mark(p.removeFromSet(A.marks));else return null;let w=[];for(let A=0;A<e.childCount;A++)w.push(x(e.child(A)));if(se.from(w).eq(i))return{mark:p,type:h}}function b1(i,e,t,r,a){if(t-e<=a.pos-r.pos||$o(r,!0,!1)<a.pos)return!1;let l=i.resolve(e);if(!r.parent.isTextblock){let p=l.nodeAfter;return p!=null&&t==e+p.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let h=i.resolve($o(l,!0,!0));return!h.parent.isTextblock||h.pos>t||$o(h,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(h.parent.content)}function $o(i,e,t){let r=i.depth,a=e?i.end():i.pos;for(;r>0&&(e||i.indexAfter(r)==i.node(r).childCount);)r--,a++,e=!1;if(t){let l=i.node(r).maybeChild(i.indexAfter(r));for(;l&&!l.isLeaf;)l=l.firstChild,a++}return a}function x1(i,e,t,r,a){let l=i.findDiffStart(e,t);if(l==null)return null;let{a:h,b:p}=i.findDiffEnd(e,t+i.size,t+e.size);if(a=="end"){let x=Math.max(0,l-Math.min(h,p));r-=h+x-l}if(h<l&&i.size<e.size){let x=r<=l&&r>=h?l-r:0;l-=x,l&&l<e.size&&ku(e.textBetween(l-1,l+1))&&(l+=x?1:-1),p=l+(p-h),h=l}else if(p<l){let x=r<=l&&r>=p?l-r:0;l-=x,l&&l<i.size&&ku(i.textBetween(l-1,l+1))&&(l+=x?1:-1),h=l+(h-p),p=l}return{start:l,endA:h,endB:p}}function ku(i){if(i.length!=2)return!1;let e=i.charCodeAt(0),t=i.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Bm{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new zA,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Mu),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Eu(this),Cu(this),this.nodeViews=Tu(this),this.docView=ru(this.state.doc,Au(this),Uo(this),this.dom,this),this.domObserver=new l1(this,(r,a,l,h)=>g1(this,r,a,l,h)),this.domObserver.start(),BA(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Kl(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Mu),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let a=this.state,l=!1,h=!1;e.storedMarks&&this.composing&&(Rm(this),h=!0),this.state=e;let p=a.plugins!=e.plugins||this._props.plugins!=t.plugins;if(p||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let z=Tu(this);v1(z,this.nodeViews)&&(this.nodeViews=z,l=!0)}(p||t.handleDOMEvents!=this._props.handleDOMEvents)&&Kl(this),this.editable=Eu(this),Cu(this);let x=Uo(this),w=Au(this),A=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",M=l||!this.docView.matchesNode(e.doc,w,x);(M||!e.selection.eq(a.selection))&&(h=!0);let R=A=="preserve"&&h&&this.dom.style.overflowAnchor==null&&Zk(this);if(h){this.domObserver.stop();let z=M&&(vt||lt)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&y1(a.selection,e.selection);if(M){let P=lt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=JA(this)),(l||!this.docView.update(e.doc,w,x,this))&&(this.docView.updateOuterDeco(w),this.docView.destroy(),this.docView=ru(e.doc,w,x,this.dom,this)),P&&!this.trackWrites&&(z=!0)}z||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&SA(this))?di(this,z):(ym(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((r=this.dragging)===null||r===void 0)&&r.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),A=="reset"?this.dom.scrollTop=0:A=="to selection"?this.scrollToSelection():R&&Qk(R)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof fe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Zd(this,t.getBoundingClientRect(),e)}else Zd(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,a=-1;if(this.state.doc.nodeAt(r.from)==r.node)a=r.from;else{let l=r.from+(this.state.doc.content.size-t.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==r.node&&(a=l)}this.dragging=new Im(e.slice,e.move,a<0?void 0:fe.create(this.state.doc,a))}someProp(e,t){let r=this._props&&this._props[e],a;if(r!=null&&(a=t?t(r):r))return a;for(let h=0;h<this.directPlugins.length;h++){let p=this.directPlugins[h].props[e];if(p!=null&&(a=t?t(p):p))return a}let l=this.state.plugins;if(l)for(let h=0;h<l.length;h++){let p=l[h].props[e];if(p!=null&&(a=t?t(p):p))return a}}hasFocus(){if(vt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&eA(this.dom),di(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return sA(this,e)}coordsAtPos(e,t=1){return dm(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let a=this.docView.posFromDOM(e,t,r);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,t){return hA(this,t||this.state,e)}pasteHTML(e,t){return Hr(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Hr(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Jc(this,e)}destroy(){this.docView&&(HA(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Uo(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Wk())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return WA(this,e)}domSelectionRange(){let e=this.domSelection();return e?pt&&this.root.nodeType===11&&Gk(this.dom.ownerDocument)==this.dom&&h1(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Bm.prototype.dispatch=function(i){let e=this._props.dispatchTransaction;e?e.call(this,i):this.updateState(this.state.apply(i))};function Au(i){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(i.editable),i.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(i.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Nt.node(0,i.state.doc.content.size,e)]}function Cu(i){if(i.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),i.cursorWrapper={dom:e,deco:Nt.widget(i.state.selection.from,e,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function Eu(i){return!i.someProp("editable",e=>e(i.state)===!1)}function y1(i,e){let t=Math.min(i.$anchor.sharedDepth(i.head),e.$anchor.sharedDepth(e.head));return i.$anchor.start(t)!=e.$anchor.start(t)}function Tu(i){let e=Object.create(null);function t(r){for(let a in r)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=r[a])}return i.someProp("nodeViews",t),i.someProp("markViews",t),e}function v1(i,e){let t=0,r=0;for(let a in i){if(i[a]!=e[a])return!0;t++}for(let a in e)r++;return t!=r}function Mu(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Di={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ca={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},w1=typeof navigator<"u"&&/Mac/.test(navigator.platform),S1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var tt=0;tt<10;tt++)Di[48+tt]=Di[96+tt]=String(tt);for(var tt=1;tt<=24;tt++)Di[tt+111]="F"+tt;for(var tt=65;tt<=90;tt++)Di[tt]=String.fromCharCode(tt+32),ca[tt]=String.fromCharCode(tt);for(var Ko in Di)ca.hasOwnProperty(Ko)||(ca[Ko]=Di[Ko]);function k1(i){var e=w1&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||S1&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?ca:Di)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const A1=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),C1=typeof navigator<"u"&&/Win/.test(navigator.platform);function E1(i){let e=i.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,a,l,h;for(let p=0;p<e.length-1;p++){let x=e[p];if(/^(cmd|meta|m)$/i.test(x))h=!0;else if(/^a(lt)?$/i.test(x))r=!0;else if(/^(c|ctrl|control)$/i.test(x))a=!0;else if(/^s(hift)?$/i.test(x))l=!0;else if(/^mod$/i.test(x))A1?h=!0:a=!0;else throw new Error("Unrecognized modifier name: "+x)}return r&&(t="Alt-"+t),a&&(t="Ctrl-"+t),h&&(t="Meta-"+t),l&&(t="Shift-"+t),t}function T1(i){let e=Object.create(null);for(let t in i)e[E1(t)]=i[t];return e}function Jo(i,e,t=!0){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t&&e.shiftKey&&(i="Shift-"+i),i}function M1(i){return new nt({props:{handleKeyDown:Hm(i)}})}function Hm(i){let e=T1(i);return function(t,r){let a=k1(r),l,h=e[Jo(a,r)];if(h&&h(t.state,t.dispatch,t))return!0;if(a.length==1&&a!=" "){if(r.shiftKey){let p=e[Jo(a,r,!1)];if(p&&p(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(C1&&r.ctrlKey&&r.altKey)&&(l=Di[r.keyCode])&&l!=a){let p=e[Jo(l,r)];if(p&&p(t.state,t.dispatch,t))return!0}}return!1}}const nh=(i,e)=>i.selection.empty?!1:(e&&e(i.tr.deleteSelection().scrollIntoView()),!0);function _m(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("backward",i):t.parentOffset>0)?null:t}const Wm=(i,e,t)=>{let r=_m(i,t);if(!r)return!1;let a=rh(r);if(!a){let h=r.blockRange(),p=h&&ir(h);return p==null?!1:(e&&e(i.tr.lift(h,p).scrollIntoView()),!0)}let l=a.nodeBefore;if(Km(i,a,e,-1))return!0;if(r.parent.content.size==0&&(Gn(l,"end")||fe.isSelectable(l)))for(let h=r.depth;;h--){let p=lo(i.doc,r.before(h),r.after(h),ce.empty);if(p&&p.slice.size<p.to-p.from){if(e){let x=i.tr.step(p);x.setSelection(Gn(l,"end")?Se.findFrom(x.doc.resolve(x.mapping.map(a.pos,-1)),-1):fe.create(x.doc,a.pos-l.nodeSize)),e(x.scrollIntoView())}return!0}if(h==1||r.node(h-1).childCount>1)break}return l.isAtom&&a.depth==r.depth-1?(e&&e(i.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0):!1},L1=(i,e,t)=>{let r=_m(i,t);if(!r)return!1;let a=rh(r);return a?Xm(i,a,e):!1},P1=(i,e,t)=>{let r=Vm(i,t);if(!r)return!1;let a=sh(r);return a?Xm(i,a,e):!1};function Xm(i,e,t){let r=e.nodeBefore,a=r,l=e.pos-1;for(;!a.isTextblock;l--){if(a.type.spec.isolating)return!1;let A=a.lastChild;if(!A)return!1;a=A}let h=e.nodeAfter,p=h,x=e.pos+1;for(;!p.isTextblock;x++){if(p.type.spec.isolating)return!1;let A=p.firstChild;if(!A)return!1;p=A}let w=lo(i.doc,l,x,ce.empty);if(!w||w.from!=l||w instanceof $e&&w.slice.size>=x-l)return!1;if(t){let A=i.tr.step(w);A.setSelection(xe.create(A.doc,l)),t(A.scrollIntoView())}return!0}function Gn(i,e,t=!1){for(let r=i;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Ym=(i,e,t)=>{let{$head:r,empty:a}=i.selection,l=r;if(!a)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",i):r.parentOffset>0)return!1;l=rh(r)}let h=l&&l.nodeBefore;return!h||!fe.isSelectable(h)?!1:(e&&e(i.tr.setSelection(fe.create(i.doc,l.pos-h.nodeSize)).scrollIntoView()),!0)};function rh(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){if(i.index(e)>0)return i.doc.resolve(i.before(e+1));if(i.node(e).type.spec.isolating)break}return null}function Vm(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("forward",i):t.parentOffset<t.parent.content.size)?null:t}const jm=(i,e,t)=>{let r=Vm(i,t);if(!r)return!1;let a=sh(r);if(!a)return!1;let l=a.nodeAfter;if(Km(i,a,e,1))return!0;if(r.parent.content.size==0&&(Gn(l,"start")||fe.isSelectable(l))){let h=lo(i.doc,r.before(),r.after(),ce.empty);if(h&&h.slice.size<h.to-h.from){if(e){let p=i.tr.step(h);p.setSelection(Gn(l,"start")?Se.findFrom(p.doc.resolve(p.mapping.map(a.pos)),1):fe.create(p.doc,p.mapping.map(a.pos))),e(p.scrollIntoView())}return!0}}return l.isAtom&&a.depth==r.depth-1?(e&&e(i.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0):!1},Gm=(i,e,t)=>{let{$head:r,empty:a}=i.selection,l=r;if(!a)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",i):r.parentOffset<r.parent.content.size)return!1;l=sh(r)}let h=l&&l.nodeAfter;return!h||!fe.isSelectable(h)?!1:(e&&e(i.tr.setSelection(fe.create(i.doc,l.pos)).scrollIntoView()),!0)};function sh(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){let t=i.node(e);if(i.index(e)+1<t.childCount)return i.doc.resolve(i.after(e+1));if(t.type.spec.isolating)break}return null}const R1=(i,e)=>{let t=i.selection,r=t instanceof fe,a;if(r){if(t.node.isTextblock||!Bi(i.doc,t.from))return!1;a=t.from}else if(a=oo(i.doc,t.from,-1),a==null)return!1;if(e){let l=i.tr.join(a);r&&l.setSelection(fe.create(l.doc,a-i.doc.resolve(a).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},O1=(i,e)=>{let t=i.selection,r;if(t instanceof fe){if(t.node.isTextblock||!Bi(i.doc,t.to))return!1;r=t.to}else if(r=oo(i.doc,t.to,1),r==null)return!1;return e&&e(i.tr.join(r).scrollIntoView()),!0},I1=(i,e)=>{let{$from:t,$to:r}=i.selection,a=t.blockRange(r),l=a&&ir(a);return l==null?!1:(e&&e(i.tr.lift(a,l).scrollIntoView()),!0)},qm=(i,e)=>{let{$head:t,$anchor:r}=i.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(i.tr.insertText(`
`).scrollIntoView()),!0)};function ah(i){for(let e=0;e<i.edgeCount;e++){let{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const N1=(i,e)=>{let{$head:t,$anchor:r}=i.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let a=t.node(-1),l=t.indexAfter(-1),h=ah(a.contentMatchAt(l));if(!h||!a.canReplaceWith(l,l,h))return!1;if(e){let p=t.after(),x=i.tr.replaceWith(p,p,h.createAndFill());x.setSelection(Se.near(x.doc.resolve(p),1)),e(x.scrollIntoView())}return!0},Um=(i,e)=>{let t=i.selection,{$from:r,$to:a}=t;if(t instanceof At||r.parent.inlineContent||a.parent.inlineContent)return!1;let l=ah(a.parent.contentMatchAt(a.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let h=(!r.parentOffset&&a.index()<a.parent.childCount?r:a).pos,p=i.tr.insert(h,l.createAndFill());p.setSelection(xe.create(p.doc,h+1)),e(p.scrollIntoView())}return!0},$m=(i,e)=>{let{$cursor:t}=i.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let l=t.before();if(hi(i.doc,l))return e&&e(i.tr.split(l).scrollIntoView()),!0}let r=t.blockRange(),a=r&&ir(r);return a==null?!1:(e&&e(i.tr.lift(r,a).scrollIntoView()),!0)};function D1(i){return(e,t)=>{let{$from:r,$to:a}=e.selection;if(e.selection instanceof fe&&e.selection.node.isBlock)return!r.parentOffset||!hi(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let l=[],h,p,x=!1,w=!1;for(let z=r.depth;;z--)if(r.node(z).isBlock){x=r.end(z)==r.pos+(r.depth-z),w=r.start(z)==r.pos-(r.depth-z),p=ah(r.node(z-1).contentMatchAt(r.indexAfter(z-1))),l.unshift(x&&p?{type:p}:null),h=z;break}else{if(z==1)return!1;l.unshift(null)}let A=e.tr;(e.selection instanceof xe||e.selection instanceof At)&&A.deleteSelection();let M=A.mapping.map(r.pos),R=hi(A.doc,M,l.length,l);if(R||(l[0]=p?{type:p}:null,R=hi(A.doc,M,l.length,l)),!R)return!1;if(A.split(M,l.length,l),!x&&w&&r.node(h).type!=p){let z=A.mapping.map(r.before(h)),P=A.doc.resolve(z);p&&r.node(h-1).canReplaceWith(P.index(),P.index()+1,p)&&A.setNodeMarkup(A.mapping.map(r.before(h)),p)}return t&&t(A.scrollIntoView()),!0}}const F1=D1(),z1=(i,e)=>{let{$from:t,to:r}=i.selection,a,l=t.sharedDepth(r);return l==0?!1:(a=t.before(l),e&&e(i.tr.setSelection(fe.create(i.doc,a))),!0)};function B1(i,e,t){let r=e.nodeBefore,a=e.nodeAfter,l=e.index();return!r||!a||!r.type.compatibleContent(a.type)?!1:!r.content.size&&e.parent.canReplace(l-1,l)?(t&&t(i.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(a.isTextblock||Bi(i.doc,e.pos))?!1:(t&&t(i.tr.join(e.pos).scrollIntoView()),!0)}function Km(i,e,t,r){let a=e.nodeBefore,l=e.nodeAfter,h,p,x=a.type.spec.isolating||l.type.spec.isolating;if(!x&&B1(i,e,t))return!0;let w=!x&&e.parent.canReplace(e.index(),e.index()+1);if(w&&(h=(p=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&p.matchType(h[0]||l.type).validEnd){if(t){let z=e.pos+l.nodeSize,P=se.empty;for(let Y=h.length-1;Y>=0;Y--)P=se.from(h[Y].create(null,P));P=se.from(a.copy(P));let X=i.tr.step(new Ke(e.pos-1,z,e.pos,z,new ce(P,1,0),h.length,!0)),W=X.doc.resolve(z+2*h.length);W.nodeAfter&&W.nodeAfter.type==a.type&&Bi(X.doc,W.pos)&&X.join(W.pos),t(X.scrollIntoView())}return!0}let A=l.type.spec.isolating||r>0&&x?null:Se.findFrom(e,1),M=A&&A.$from.blockRange(A.$to),R=M&&ir(M);if(R!=null&&R>=e.depth)return t&&t(i.tr.lift(M,R).scrollIntoView()),!0;if(w&&Gn(l,"start",!0)&&Gn(a,"end")){let z=a,P=[];for(;P.push(z),!z.isTextblock;)z=z.lastChild;let X=l,W=1;for(;!X.isTextblock;X=X.firstChild)W++;if(z.canReplace(z.childCount,z.childCount,X.content)){if(t){let Y=se.empty;for(let K=P.length-1;K>=0;K--)Y=se.from(P[K].copy(Y));let $=i.tr.step(new Ke(e.pos-P.length,e.pos+l.nodeSize,e.pos+W,e.pos+l.nodeSize-W,new ce(Y,P.length,0),0,!0));t($.scrollIntoView())}return!0}}return!1}function Jm(i){return function(e,t){let r=e.selection,a=i<0?r.$from:r.$to,l=a.depth;for(;a.node(l).isInline;){if(!l)return!1;l--}return a.node(l).isTextblock?(t&&t(e.tr.setSelection(xe.create(e.doc,i<0?a.start(l):a.end(l)))),!0):!1}}const H1=Jm(-1),_1=Jm(1);function W1(i,e=null){return function(t,r){let{$from:a,$to:l}=t.selection,h=a.blockRange(l),p=h&&Gc(h,i,e);return p?(r&&r(t.tr.wrap(h,p).scrollIntoView()),!0):!1}}function Lu(i,e=null){return function(t,r){let a=!1;for(let l=0;l<t.selection.ranges.length&&!a;l++){let{$from:{pos:h},$to:{pos:p}}=t.selection.ranges[l];t.doc.nodesBetween(h,p,(x,w)=>{if(a)return!1;if(!(!x.isTextblock||x.hasMarkup(i,e)))if(x.type==i)a=!0;else{let A=t.doc.resolve(w),M=A.index();a=A.parent.canReplaceWith(M,M+1,i)}})}if(!a)return!1;if(r){let l=t.tr;for(let h=0;h<t.selection.ranges.length;h++){let{$from:{pos:p},$to:{pos:x}}=t.selection.ranges[h];l.setBlockType(p,x,i,e)}r(l.scrollIntoView())}return!0}}function oh(...i){return function(e,t,r){for(let a=0;a<i.length;a++)if(i[a](e,t,r))return!0;return!1}}oh(nh,Wm,Ym);oh(nh,jm,Gm);oh(qm,Um,$m,F1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function X1(i,e=null){return function(t,r){let{$from:a,$to:l}=t.selection,h=a.blockRange(l);if(!h)return!1;let p=r?t.tr:null;return Y1(p,h,i,e)?(r&&r(p.scrollIntoView()),!0):!1}}function Y1(i,e,t,r=null){let a=!1,l=e,h=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let x=h.resolve(e.start-2);l=new ia(x,x,e.depth),e.endIndex<e.parent.childCount&&(e=new ia(e.$from,h.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let p=Gc(l,t,r,e);return p?(i&&V1(i,e,p,a,t),!0):!1}function V1(i,e,t,r,a){let l=se.empty;for(let A=t.length-1;A>=0;A--)l=se.from(t[A].type.create(t[A].attrs,l));i.step(new Ke(e.start-(r?2:0),e.end,e.start,e.end,new ce(l,0,0),t.length,!0));let h=0;for(let A=0;A<t.length;A++)t[A].type==a&&(h=A+1);let p=t.length-h,x=e.start+t.length-(r?2:0),w=e.parent;for(let A=e.startIndex,M=e.endIndex,R=!0;A<M;A++,R=!1)!R&&hi(i.doc,x,p)&&(i.split(x,p),x+=2*p),x+=w.child(A).nodeSize;return i}function j1(i){return function(e,t){let{$from:r,$to:a}=e.selection,l=r.blockRange(a,h=>h.childCount>0&&h.firstChild.type==i);return l?t?r.node(l.depth-1).type==i?G1(e,t,i,l):q1(e,t,l):!0:!1}}function G1(i,e,t,r){let a=i.tr,l=r.end,h=r.$to.end(r.depth);l<h&&(a.step(new Ke(l-1,h,l,h,new ce(se.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new ia(a.doc.resolve(r.$from.pos),a.doc.resolve(h),r.depth));const p=ir(r);if(p==null)return!1;a.lift(r,p);let x=a.doc.resolve(a.mapping.map(l,-1)-1);return Bi(a.doc,x.pos)&&x.nodeBefore.type==x.nodeAfter.type&&a.join(x.pos),e(a.scrollIntoView()),!0}function q1(i,e,t){let r=i.tr,a=t.parent;for(let z=t.end,P=t.endIndex-1,X=t.startIndex;P>X;P--)z-=a.child(P).nodeSize,r.delete(z-1,z+1);let l=r.doc.resolve(t.start),h=l.nodeAfter;if(r.mapping.map(t.end)!=t.start+l.nodeAfter.nodeSize)return!1;let p=t.startIndex==0,x=t.endIndex==a.childCount,w=l.node(-1),A=l.index(-1);if(!w.canReplace(A+(p?0:1),A+1,h.content.append(x?se.empty:se.from(a))))return!1;let M=l.pos,R=M+h.nodeSize;return r.step(new Ke(M-(p?1:0),R+(x?1:0),M+1,R-1,new ce((p?se.empty:se.from(a.copy(se.empty))).append(x?se.empty:se.from(a.copy(se.empty))),p?0:1,x?0:1),p?0:1)),e(r.scrollIntoView()),!0}function U1(i){return function(e,t){let{$from:r,$to:a}=e.selection,l=r.blockRange(a,w=>w.childCount>0&&w.firstChild.type==i);if(!l)return!1;let h=l.startIndex;if(h==0)return!1;let p=l.parent,x=p.child(h-1);if(x.type!=i)return!1;if(t){let w=x.lastChild&&x.lastChild.type==p.type,A=se.from(w?i.create():null),M=new ce(se.from(i.create(null,se.from(p.type.create(null,A)))),w?3:1,0),R=l.start,z=l.end;t(e.tr.step(new Ke(R-(w?3:1),z,R,z,M,1,!0)).scrollIntoView())}return!0}}function po(i){const{state:e,transaction:t}=i;let{selection:r}=t,{doc:a}=t,{storedMarks:l}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return a},get tr(){return r=t.selection,a=t.doc,l=t.storedMarks,t}}}class go{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:a}=t,{tr:l}=r,h=this.buildProps(l);return Object.fromEntries(Object.entries(e).map(([p,x])=>[p,(...A)=>{const M=x(...A)(h);return!l.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(l),M}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:a,state:l}=this,{view:h}=a,p=[],x=!!e,w=e||l.tr,A=()=>(!x&&t&&!w.getMeta("preventDispatch")&&!this.hasCustomState&&h.dispatch(w),p.every(R=>R===!0)),M={...Object.fromEntries(Object.entries(r).map(([R,z])=>[R,(...X)=>{const W=this.buildProps(w,t),Y=z(...X)(W);return p.push(Y),M}])),run:A};return M}createCan(e){const{rawCommands:t,state:r}=this,a=!1,l=e||r.tr,h=this.buildProps(l,a);return{...Object.fromEntries(Object.entries(t).map(([x,w])=>[x,(...A)=>w(...A)({...h,dispatch:void 0})])),chain:()=>this.createChain(l,a)}}buildProps(e,t=!0){const{rawCommands:r,editor:a,state:l}=this,{view:h}=a,p={tr:e,editor:a,view:h,state:po({state:l,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([x,w])=>[x,(...A)=>w(...A)(p)]))}};return p}}class $1{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(a=>a.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(a=>a!==t):delete this.callbacks[e]),this}once(e,t){const r=(...a)=>{this.off(e,r),t.apply(this,a)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function de(i,e,t){return i.config[e]===void 0&&i.parent?de(i.parent,e,t):typeof i.config[e]=="function"?i.config[e].bind({...t,parent:i.parent?de(i.parent,e,t):null}):i.config[e]}function mo(i){const e=i.filter(a=>a.type==="extension"),t=i.filter(a=>a.type==="node"),r=i.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Zm(i){const e=[],{nodeExtensions:t,markExtensions:r}=mo(i),a=[...t,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return i.forEach(h=>{const p={name:h.name,options:h.options,storage:h.storage,extensions:a},x=de(h,"addGlobalAttributes",p);if(!x)return;x().forEach(A=>{A.types.forEach(M=>{Object.entries(A.attributes).forEach(([R,z])=>{e.push({type:M,name:R,attribute:{...l,...z}})})})})}),a.forEach(h=>{const p={name:h.name,options:h.options,storage:h.storage},x=de(h,"addAttributes",p);if(!x)return;const w=x();Object.entries(w).forEach(([A,M])=>{const R={...l,...M};typeof R?.default=="function"&&(R.default=R.default()),R?.isRequired&&R?.default===void 0&&delete R.default,e.push({type:h.name,name:A,attribute:R})})}),e}function Ze(i,e){if(typeof i=="string"){if(!e.nodes[i])throw Error(`There is no node type named '${i}'. Maybe you forgot to add the extension?`);return e.nodes[i]}return i}function Ue(...i){return i.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([a,l])=>{if(!r[a]){r[a]=l;return}if(a==="class"){const p=l?String(l).split(" "):[],x=r[a]?r[a].split(" "):[],w=p.filter(A=>!x.includes(A));r[a]=[...x,...w].join(" ")}else if(a==="style"){const p=l?l.split(";").map(A=>A.trim()).filter(Boolean):[],x=r[a]?r[a].split(";").map(A=>A.trim()).filter(Boolean):[],w=new Map;x.forEach(A=>{const[M,R]=A.split(":").map(z=>z.trim());w.set(M,R)}),p.forEach(A=>{const[M,R]=A.split(":").map(z=>z.trim());w.set(M,R)}),r[a]=Array.from(w.entries()).map(([A,M])=>`${A}: ${M}`).join("; ")}else r[a]=l}),r},{})}function Jl(i,e){return e.filter(t=>t.type===i.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(i.attrs)||{}:{[t.name]:i.attrs[t.name]}).reduce((t,r)=>Ue(t,r),{})}function Qm(i){return typeof i=="function"}function ke(i,e=void 0,...t){return Qm(i)?e?i.bind(e)(...t):i(...t):i}function K1(i={}){return Object.keys(i).length===0&&i.constructor===Object}function J1(i){return typeof i!="string"?i:i.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(i):i==="true"?!0:i==="false"?!1:i}function Pu(i,e){return"style"in i?i:{...i,getAttrs:t=>{const r=i.getAttrs?i.getAttrs(t):i.attrs;if(r===!1)return!1;const a=e.reduce((l,h)=>{const p=h.attribute.parseHTML?h.attribute.parseHTML(t):J1(t.getAttribute(h.name));return p==null?l:{...l,[h.name]:p}},{});return{...r,...a}}}}function Ru(i){return Object.fromEntries(Object.entries(i).filter(([e,t])=>e==="attrs"&&K1(t)?!1:t!=null))}function Z1(i,e){var t;const r=Zm(i),{nodeExtensions:a,markExtensions:l}=mo(i),h=(t=a.find(w=>de(w,"topNode")))===null||t===void 0?void 0:t.name,p=Object.fromEntries(a.map(w=>{const A=r.filter(Y=>Y.type===w.name),M={name:w.name,options:w.options,storage:w.storage,editor:e},R=i.reduce((Y,$)=>{const K=de($,"extendNodeSchema",M);return{...Y,...K?K(w):{}}},{}),z=Ru({...R,content:ke(de(w,"content",M)),marks:ke(de(w,"marks",M)),group:ke(de(w,"group",M)),inline:ke(de(w,"inline",M)),atom:ke(de(w,"atom",M)),selectable:ke(de(w,"selectable",M)),draggable:ke(de(w,"draggable",M)),code:ke(de(w,"code",M)),whitespace:ke(de(w,"whitespace",M)),linebreakReplacement:ke(de(w,"linebreakReplacement",M)),defining:ke(de(w,"defining",M)),isolating:ke(de(w,"isolating",M)),attrs:Object.fromEntries(A.map(Y=>{var $;return[Y.name,{default:($=Y?.attribute)===null||$===void 0?void 0:$.default}]}))}),P=ke(de(w,"parseHTML",M));P&&(z.parseDOM=P.map(Y=>Pu(Y,A)));const X=de(w,"renderHTML",M);X&&(z.toDOM=Y=>X({node:Y,HTMLAttributes:Jl(Y,A)}));const W=de(w,"renderText",M);return W&&(z.toText=W),[w.name,z]})),x=Object.fromEntries(l.map(w=>{const A=r.filter(W=>W.type===w.name),M={name:w.name,options:w.options,storage:w.storage,editor:e},R=i.reduce((W,Y)=>{const $=de(Y,"extendMarkSchema",M);return{...W,...$?$(w):{}}},{}),z=Ru({...R,inclusive:ke(de(w,"inclusive",M)),excludes:ke(de(w,"excludes",M)),group:ke(de(w,"group",M)),spanning:ke(de(w,"spanning",M)),code:ke(de(w,"code",M)),attrs:Object.fromEntries(A.map(W=>{var Y;return[W.name,{default:(Y=W?.attribute)===null||Y===void 0?void 0:Y.default}]}))}),P=ke(de(w,"parseHTML",M));P&&(z.parseDOM=P.map(W=>Pu(W,A)));const X=de(w,"renderHTML",M);return X&&(z.toDOM=W=>X({mark:W,HTMLAttributes:Jl(W,A)})),[w.name,z]}));return new _g({topNode:h,nodes:p,marks:x})}function Zo(i,e){return e.nodes[i]||e.marks[i]||null}function Ou(i,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===i.name):e}function lh(i,e){const t=kn.fromSchema(e).serializeFragment(i),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(t),a.innerHTML}const Q1=(i,e=500)=>{let t="";const r=i.parentOffset;return i.parent.nodesBetween(Math.max(0,r-e),r,(a,l,h,p)=>{var x,w;const A=((w=(x=a.type.spec).toText)===null||w===void 0?void 0:w.call(x,{node:a,pos:l,parent:h,index:p}))||a.textContent||"%leaf%";t+=a.isAtom&&!a.isText?A:A.slice(0,Math.max(0,r-l))}),t};function ch(i){return Object.prototype.toString.call(i)==="[object RegExp]"}class bo{constructor(e){this.find=e.find,this.handler=e.handler}}const eC=(i,e)=>{if(ch(e))return e.exec(i);const t=e(i);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=i,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function ks(i){var e;const{editor:t,from:r,to:a,text:l,rules:h,plugin:p}=i,{view:x}=t;if(x.composing)return!1;const w=x.state.doc.resolve(r);if(w.parent.type.spec.code||!((e=w.nodeBefore||w.nodeAfter)===null||e===void 0)&&e.marks.find(R=>R.type.spec.code))return!1;let A=!1;const M=Q1(w)+l;return h.forEach(R=>{if(A)return;const z=eC(M,R.find);if(!z)return;const P=x.state.tr,X=po({state:x.state,transaction:P}),W={from:r-(z[0].length-l.length),to:a},{commands:Y,chain:$,can:K}=new go({editor:t,state:X});R.handler({state:X,range:W,match:z,commands:Y,chain:$,can:K})===null||!P.steps.length||(P.setMeta(p,{transform:P,from:r,to:a,text:l}),x.dispatch(P),A=!0)}),A}function tC(i){const{editor:e,rules:t}=i,r=new nt({state:{init(){return null},apply(a,l,h){const p=a.getMeta(r);if(p)return p;const x=a.getMeta("applyInputRules");return x&&setTimeout(()=>{let{text:A}=x;typeof A=="string"?A=A:A=lh(se.from(A),h.schema);const{from:M}=x,R=M+A.length;ks({editor:e,from:M,to:R,text:A,rules:t,plugin:r})}),a.selectionSet||a.docChanged?null:l}},props:{handleTextInput(a,l,h,p){return ks({editor:e,from:l,to:h,text:p,rules:t,plugin:r})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:l}=a.state.selection;l&&ks({editor:e,from:l.pos,to:l.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(a,l){if(l.key!=="Enter")return!1;const{$cursor:h}=a.state.selection;return h?ks({editor:e,from:h.pos,to:h.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function iC(i){return Object.prototype.toString.call(i).slice(8,-1)}function As(i){return iC(i)!=="Object"?!1:i.constructor===Object&&Object.getPrototypeOf(i)===Object.prototype}function xo(i,e){const t={...i};return As(i)&&As(e)&&Object.keys(e).forEach(r=>{As(e[r])&&As(i[r])?t[r]=xo(i[r],e[r]):t[r]=e[r]}),t}class ei{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ke(de(this,"addOptions",{name:this.name}))),this.storage=ke(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ei(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>xo(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ei(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ke(de(t,"addOptions",{name:t.name})),t.storage=ke(de(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const h=a.marks();if(!!!h.find(w=>w?.type.name===t.name))return!1;const x=h.find(w=>w?.type.name===t.name);return x&&r.removeStoredMark(x),r.insertText(" ",a.pos),e.view.dispatch(r),!0}return!1}}function nC(i){return typeof i=="number"}class rC{constructor(e){this.find=e.find,this.handler=e.handler}}const sC=(i,e,t)=>{if(ch(e))return[...i.matchAll(e)];const r=e(i,t);return r?r.map(a=>{const l=[a.text];return l.index=a.index,l.input=i,l.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(a.replaceWith)),l}):[]};function aC(i){const{editor:e,state:t,from:r,to:a,rule:l,pasteEvent:h,dropEvent:p}=i,{commands:x,chain:w,can:A}=new go({editor:e,state:t}),M=[];return t.doc.nodesBetween(r,a,(z,P)=>{if(!z.isTextblock||z.type.spec.code)return;const X=Math.max(r,P),W=Math.min(a,P+z.content.size),Y=z.textBetween(X-P,W-P,void 0,"");sC(Y,l.find,h).forEach(K=>{if(K.index===void 0)return;const Q=X+K.index+1,H=Q+K[0].length,J={from:t.tr.mapping.map(Q),to:t.tr.mapping.map(H)},U=l.handler({state:t,range:J,match:K,commands:x,chain:w,can:A,pasteEvent:h,dropEvent:p});M.push(U)})}),M.every(z=>z!==null)}let Cs=null;const oC=i=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",i),t};function lC(i){const{editor:e,rules:t}=i;let r=null,a=!1,l=!1,h=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,p;try{p=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{p=null}const x=({state:A,from:M,to:R,rule:z,pasteEvt:P})=>{const X=A.tr,W=po({state:A,transaction:X});if(!(!aC({editor:e,state:W,from:Math.max(M-1,0),to:R.b-1,rule:z,pasteEvent:P,dropEvent:p})||!X.steps.length)){try{p=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{p=null}return h=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,X}};return t.map(A=>new nt({view(M){const R=P=>{var X;r=!((X=M.dom.parentElement)===null||X===void 0)&&X.contains(P.target)?M.dom.parentElement:null,r&&(Cs=e)},z=()=>{Cs&&(Cs=null)};return window.addEventListener("dragstart",R),window.addEventListener("dragend",z),{destroy(){window.removeEventListener("dragstart",R),window.removeEventListener("dragend",z)}}},props:{handleDOMEvents:{drop:(M,R)=>{if(l=r===M.dom.parentElement,p=R,!l){const z=Cs;z?.isEditable&&setTimeout(()=>{const P=z.state.selection;P&&z.commands.deleteRange({from:P.from,to:P.to})},10)}return!1},paste:(M,R)=>{var z;const P=(z=R.clipboardData)===null||z===void 0?void 0:z.getData("text/html");return h=R,a=!!P?.includes("data-pm-slice"),!1}}},appendTransaction:(M,R,z)=>{const P=M[0],X=P.getMeta("uiEvent")==="paste"&&!a,W=P.getMeta("uiEvent")==="drop"&&!l,Y=P.getMeta("applyPasteRules"),$=!!Y;if(!X&&!W&&!$)return;if($){let{text:H}=Y;typeof H=="string"?H=H:H=lh(se.from(H),z.schema);const{from:J}=Y,U=J+H.length,V=oC(H);return x({rule:A,state:z,from:J,to:{b:U},pasteEvt:V})}const K=R.doc.content.findDiffStart(z.doc.content),Q=R.doc.content.findDiffEnd(z.doc.content);if(!(!nC(K)||!Q||K===Q.b))return x({rule:A,state:z,from:K,to:Q,pasteEvt:h})}}))}function cC(i){const e=i.filter((t,r)=>i.indexOf(t)!==r);return Array.from(new Set(e))}class Dn{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Dn.resolve(e),this.schema=Z1(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Dn.sort(Dn.flatten(e)),r=cC(t.map(a=>a.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(a=>`'${a}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},a=de(t,"addExtensions",r);return a?[t,...this.flatten(a())]:t}).flat(10)}static sort(e){return e.sort((r,a)=>{const l=de(r,"priority")||100,h=de(a,"priority")||100;return l>h?-1:l<h?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Zo(t.name,this.schema)},a=de(t,"addCommands",r);return a?{...e,...a()}:e},{})}get plugins(){const{editor:e}=this,t=Dn.sort([...this.extensions].reverse()),r=[],a=[],l=t.map(h=>{const p={name:h.name,options:h.options,storage:h.storage,editor:e,type:Zo(h.name,this.schema)},x=[],w=de(h,"addKeyboardShortcuts",p);let A={};if(h.type==="mark"&&de(h,"exitable",p)&&(A.ArrowRight=()=>ei.handleExit({editor:e,mark:h})),w){const X=Object.fromEntries(Object.entries(w()).map(([W,Y])=>[W,()=>Y({editor:e})]));A={...A,...X}}const M=M1(A);x.push(M);const R=de(h,"addInputRules",p);Ou(h,e.options.enableInputRules)&&R&&r.push(...R());const z=de(h,"addPasteRules",p);Ou(h,e.options.enablePasteRules)&&z&&a.push(...z());const P=de(h,"addProseMirrorPlugins",p);if(P){const X=P();x.push(...X)}return x}).flat();return[tC({editor:e,rules:r}),...lC({editor:e,rules:a}),...l]}get attributes(){return Zm(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=mo(this.extensions);return Object.fromEntries(t.filter(r=>!!de(r,"addNodeView")).map(r=>{const a=this.attributes.filter(x=>x.type===r.name),l={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ze(r.name,this.schema)},h=de(r,"addNodeView",l);if(!h)return[];const p=(x,w,A,M,R)=>{const z=Jl(x,a);return h()({node:x,view:w,getPos:A,decorations:M,innerDecorations:R,editor:e,extension:r,HTMLAttributes:z})};return[r.name,p]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Zo(e.name,this.schema)};e.type==="mark"&&(!((t=ke(de(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const a=de(e,"onBeforeCreate",r),l=de(e,"onCreate",r),h=de(e,"onUpdate",r),p=de(e,"onSelectionUpdate",r),x=de(e,"onTransaction",r),w=de(e,"onFocus",r),A=de(e,"onBlur",r),M=de(e,"onDestroy",r);a&&this.editor.on("beforeCreate",a),l&&this.editor.on("create",l),h&&this.editor.on("update",h),p&&this.editor.on("selectionUpdate",p),x&&this.editor.on("transaction",x),w&&this.editor.on("focus",w),A&&this.editor.on("blur",A),M&&this.editor.on("destroy",M)})}}class ct{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ke(de(this,"addOptions",{name:this.name}))),this.storage=ke(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ct(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>xo(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ct({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ke(de(t,"addOptions",{name:t.name})),t.storage=ke(de(t,"addStorage",{name:t.name,options:t.options})),t}}function eb(i,e,t){const{from:r,to:a}=e,{blockSeparator:l=`

`,textSerializers:h={}}=t||{};let p="";return i.nodesBetween(r,a,(x,w,A,M)=>{var R;x.isBlock&&w>r&&(p+=l);const z=h?.[x.type.name];if(z)return A&&(p+=z({node:x,pos:w,parent:A,index:M,range:e})),!1;x.isText&&(p+=(R=x?.text)===null||R===void 0?void 0:R.slice(Math.max(r,w)-w,a-w))}),p}function tb(i){return Object.fromEntries(Object.entries(i.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const hC=ct.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new nt({key:new Ct("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:i}=this,{state:e,schema:t}=i,{doc:r,selection:a}=e,{ranges:l}=a,h=Math.min(...l.map(A=>A.$from.pos)),p=Math.max(...l.map(A=>A.$to.pos)),x=tb(t);return eb(r,{from:h,to:p},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:x})}}})]}}),dC=()=>({editor:i,view:e})=>(requestAnimationFrame(()=>{var t;i.isDestroyed||(e.dom.blur(),(t=window?.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),uC=(i=!1)=>({commands:e})=>e.setContent("",i),fC=()=>({state:i,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:a}=r;return t&&a.forEach(({$from:l,$to:h})=>{i.doc.nodesBetween(l.pos,h.pos,(p,x)=>{if(p.type.isText)return;const{doc:w,mapping:A}=e,M=w.resolve(A.map(x)),R=w.resolve(A.map(x+p.nodeSize)),z=M.blockRange(R);if(!z)return;const P=ir(z);if(p.type.isTextblock){const{defaultType:X}=M.parent.contentMatchAt(M.index());e.setNodeMarkup(z.start,X)}(P||P===0)&&e.lift(z,P)})}),!0},pC=i=>e=>i(e),gC=()=>({state:i,dispatch:e})=>Um(i,e),mC=(i,e)=>({editor:t,tr:r})=>{const{state:a}=t,l=a.doc.slice(i.from,i.to);r.deleteRange(i.from,i.to);const h=r.mapping.map(e);return r.insert(h,l.content),r.setSelection(new xe(r.doc.resolve(Math.max(h-1,0)))),!0},bC=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,r=t.$anchor.node();if(r.content.size>0)return!1;const a=i.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===r.type){if(e){const p=a.before(l),x=a.after(l);i.delete(p,x).scrollIntoView()}return!0}return!1},xC=i=>({tr:e,state:t,dispatch:r})=>{const a=Ze(i,t.schema),l=e.selection.$anchor;for(let h=l.depth;h>0;h-=1)if(l.node(h).type===a){if(r){const x=l.before(h),w=l.after(h);e.delete(x,w).scrollIntoView()}return!0}return!1},yC=i=>({tr:e,dispatch:t})=>{const{from:r,to:a}=i;return t&&e.delete(r,a),!0},vC=()=>({state:i,dispatch:e})=>nh(i,e),wC=()=>({commands:i})=>i.keyboardShortcut("Enter"),SC=()=>({state:i,dispatch:e})=>N1(i,e);function ha(i,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(a=>t.strict?e[a]===i[a]:ch(e[a])?e[a].test(i[a]):e[a]===i[a]):!0}function ib(i,e,t={}){return i.find(r=>r.type===e&&ha(Object.fromEntries(Object.keys(t).map(a=>[a,r.attrs[a]])),t))}function Iu(i,e,t={}){return!!ib(i,e,t)}function hh(i,e,t){var r;if(!i||!e)return;let a=i.parent.childAfter(i.parentOffset);if((!a.node||!a.node.marks.some(A=>A.type===e))&&(a=i.parent.childBefore(i.parentOffset)),!a.node||!a.node.marks.some(A=>A.type===e)||(t=t||((r=a.node.marks[0])===null||r===void 0?void 0:r.attrs),!ib([...a.node.marks],e,t)))return;let h=a.index,p=i.start()+a.offset,x=h+1,w=p+a.node.nodeSize;for(;h>0&&Iu([...i.parent.child(h-1).marks],e,t);)h-=1,p-=i.parent.child(h).nodeSize;for(;x<i.parent.childCount&&Iu([...i.parent.child(x).marks],e,t);)w+=i.parent.child(x).nodeSize,x+=1;return{from:p,to:w}}function _i(i,e){if(typeof i=="string"){if(!e.marks[i])throw Error(`There is no mark type named '${i}'. Maybe you forgot to add the extension?`);return e.marks[i]}return i}const kC=(i,e={})=>({tr:t,state:r,dispatch:a})=>{const l=_i(i,r.schema),{doc:h,selection:p}=t,{$from:x,from:w,to:A}=p;if(a){const M=hh(x,l,e);if(M&&M.from<=w&&M.to>=A){const R=xe.create(h,M.from,M.to);t.setSelection(R)}}return!0},AC=i=>e=>{const t=typeof i=="function"?i(e):i;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function nb(i){return i instanceof xe}function Qi(i=0,e=0,t=0){return Math.min(Math.max(i,e),t)}function rb(i,e=null){if(!e)return null;const t=Se.atStart(i),r=Se.atEnd(i);if(e==="start"||e===!0)return t;if(e==="end")return r;const a=t.from,l=r.to;return e==="all"?xe.create(i,Qi(0,a,l),Qi(i.content.size,a,l)):xe.create(i,Qi(e,a,l),Qi(e,a,l))}function CC(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function dh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const EC=(i=null,e={})=>({editor:t,view:r,tr:a,dispatch:l})=>{e={scrollIntoView:!0,...e};const h=()=>{(dh()||CC())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&i===null||i===!1)return!0;if(l&&i===null&&!nb(t.state.selection))return h(),!0;const p=rb(a.doc,i)||t.state.selection,x=t.state.selection.eq(p);return l&&(x||a.setSelection(p),x&&a.storedMarks&&a.setStoredMarks(a.storedMarks),h()),!0},TC=(i,e)=>t=>i.every((r,a)=>e(r,{...t,index:a})),MC=(i,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},i,e),sb=i=>{const e=i.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?i.removeChild(r):r.nodeType===1&&sb(r)}return i};function Es(i){const e=`<body>${i}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return sb(t)}function Wr(i,e,t){if(i instanceof Mi||i instanceof se)return i;t={slice:!0,parseOptions:{},...t};const r=typeof i=="object"&&i!==null,a=typeof i=="string";if(r)try{if(Array.isArray(i)&&i.length>0)return se.fromArray(i.map(p=>e.nodeFromJSON(p)));const h=e.nodeFromJSON(i);return t.errorOnInvalidContent&&h.check(),h}catch(l){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",i,"Error:",l),Wr("",e,t)}if(a){if(t.errorOnInvalidContent){let h=!1,p="";const x=new _g({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:w=>(h=!0,p=typeof w=="string"?w:w.outerHTML,null)}]}})});if(t.slice?Sr.fromSchema(x).parseSlice(Es(i),t.parseOptions):Sr.fromSchema(x).parse(Es(i),t.parseOptions),t.errorOnInvalidContent&&h)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${p}`)})}const l=Sr.fromSchema(e);return t.slice?l.parseSlice(Es(i),t.parseOptions).content:l.parse(Es(i),t.parseOptions)}return Wr("",e,t)}function LC(i,e,t){const r=i.steps.length-1;if(r<e)return;const a=i.steps[r];if(!(a instanceof $e||a instanceof Ke))return;const l=i.mapping.maps[r];let h=0;l.forEach((p,x,w,A)=>{h===0&&(h=A)}),i.setSelection(Se.near(i.doc.resolve(h),t))}const PC=i=>!("type"in i),RC=(i,e,t)=>({tr:r,dispatch:a,editor:l})=>{var h;if(a){t={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let p;const x=W=>{l.emit("contentError",{editor:l,error:W,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},w={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{Wr(e,l.schema,{parseOptions:w,errorOnInvalidContent:!0})}catch(W){x(W)}try{p=Wr(e,l.schema,{parseOptions:w,errorOnInvalidContent:(h=t.errorOnInvalidContent)!==null&&h!==void 0?h:l.options.enableContentCheck})}catch(W){return x(W),!1}let{from:A,to:M}=typeof i=="number"?{from:i,to:i}:{from:i.from,to:i.to},R=!0,z=!0;if((PC(p)?p:[p]).forEach(W=>{W.check(),R=R?W.isText&&W.marks.length===0:!1,z=z?W.isBlock:!1}),A===M&&z){const{parent:W}=r.doc.resolve(A);W.isTextblock&&!W.type.spec.code&&!W.childCount&&(A-=1,M+=1)}let X;if(R){if(Array.isArray(e))X=e.map(W=>W.text||"").join("");else if(e instanceof se){let W="";e.forEach(Y=>{Y.text&&(W+=Y.text)}),X=W}else typeof e=="object"&&e&&e.text?X=e.text:X=e;r.insertText(X,A,M)}else X=p,r.replaceWith(A,M,X);t.updateSelection&&LC(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:A,text:X}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:A,text:X})}return!0},OC=()=>({state:i,dispatch:e})=>R1(i,e),IC=()=>({state:i,dispatch:e})=>O1(i,e),NC=()=>({state:i,dispatch:e})=>Wm(i,e),DC=()=>({state:i,dispatch:e})=>jm(i,e),FC=()=>({state:i,dispatch:e,tr:t})=>{try{const r=oo(i.doc,i.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},zC=()=>({state:i,dispatch:e,tr:t})=>{try{const r=oo(i.doc,i.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},BC=()=>({state:i,dispatch:e})=>L1(i,e),HC=()=>({state:i,dispatch:e})=>P1(i,e);function ab(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function _C(i){const e=i.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,a,l,h;for(let p=0;p<e.length-1;p+=1){const x=e[p];if(/^(cmd|meta|m)$/i.test(x))h=!0;else if(/^a(lt)?$/i.test(x))r=!0;else if(/^(c|ctrl|control)$/i.test(x))a=!0;else if(/^s(hift)?$/i.test(x))l=!0;else if(/^mod$/i.test(x))dh()||ab()?h=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${x}`)}return r&&(t=`Alt-${t}`),a&&(t=`Ctrl-${t}`),h&&(t=`Meta-${t}`),l&&(t=`Shift-${t}`),t}const WC=i=>({editor:e,view:t,tr:r,dispatch:a})=>{const l=_C(i).split(/-(?!$)/),h=l.find(w=>!["Alt","Ctrl","Meta","Shift"].includes(w)),p=new KeyboardEvent("keydown",{key:h==="Space"?" ":h,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),x=e.captureTransaction(()=>{t.someProp("handleKeyDown",w=>w(t,p))});return x?.steps.forEach(w=>{const A=w.map(r.mapping);A&&a&&r.maybeStep(A)}),!0};function Xr(i,e,t={}){const{from:r,to:a,empty:l}=i.selection,h=e?Ze(e,i.schema):null,p=[];i.doc.nodesBetween(r,a,(M,R)=>{if(M.isText)return;const z=Math.max(r,R),P=Math.min(a,R+M.nodeSize);p.push({node:M,from:z,to:P})});const x=a-r,w=p.filter(M=>h?h.name===M.node.type.name:!0).filter(M=>ha(M.node.attrs,t,{strict:!1}));return l?!!w.length:w.reduce((M,R)=>M+R.to-R.from,0)>=x}const XC=(i,e={})=>({state:t,dispatch:r})=>{const a=Ze(i,t.schema);return Xr(t,a,e)?I1(t,r):!1},YC=()=>({state:i,dispatch:e})=>$m(i,e),VC=i=>({state:e,dispatch:t})=>{const r=Ze(i,e.schema);return j1(r)(e,t)},jC=()=>({state:i,dispatch:e})=>qm(i,e);function yo(i,e){return e.nodes[i]?"node":e.marks[i]?"mark":null}function Nu(i,e){const t=typeof e=="string"?[e]:e;return Object.keys(i).reduce((r,a)=>(t.includes(a)||(r[a]=i[a]),r),{})}const GC=(i,e)=>({tr:t,state:r,dispatch:a})=>{let l=null,h=null;const p=yo(typeof i=="string"?i:i.name,r.schema);return p?(p==="node"&&(l=Ze(i,r.schema)),p==="mark"&&(h=_i(i,r.schema)),a&&t.selection.ranges.forEach(x=>{r.doc.nodesBetween(x.$from.pos,x.$to.pos,(w,A)=>{l&&l===w.type&&t.setNodeMarkup(A,void 0,Nu(w.attrs,e)),h&&w.marks.length&&w.marks.forEach(M=>{h===M.type&&t.addMark(A,A+w.nodeSize,h.create(Nu(M.attrs,e)))})})}),!0):!1},qC=()=>({tr:i,dispatch:e})=>(e&&i.scrollIntoView(),!0),UC=()=>({tr:i,dispatch:e})=>{if(e){const t=new At(i.doc);i.setSelection(t)}return!0},$C=()=>({state:i,dispatch:e})=>Ym(i,e),KC=()=>({state:i,dispatch:e})=>Gm(i,e),JC=()=>({state:i,dispatch:e})=>z1(i,e),ZC=()=>({state:i,dispatch:e})=>_1(i,e),QC=()=>({state:i,dispatch:e})=>H1(i,e);function Zl(i,e,t={},r={}){return Wr(i,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const eE=(i,e=!1,t={},r={})=>({editor:a,tr:l,dispatch:h,commands:p})=>{var x,w;const{doc:A}=l;if(t.preserveWhitespace!=="full"){const M=Zl(i,a.schema,t,{errorOnInvalidContent:(x=r.errorOnInvalidContent)!==null&&x!==void 0?x:a.options.enableContentCheck});return h&&l.replaceWith(0,A.content.size,M).setMeta("preventUpdate",!e),!0}return h&&l.setMeta("preventUpdate",!e),p.insertContentAt({from:0,to:A.content.size},i,{parseOptions:t,errorOnInvalidContent:(w=r.errorOnInvalidContent)!==null&&w!==void 0?w:a.options.enableContentCheck})};function ob(i,e){const t=_i(e,i.schema),{from:r,to:a,empty:l}=i.selection,h=[];l?(i.storedMarks&&h.push(...i.storedMarks),h.push(...i.selection.$head.marks())):i.doc.nodesBetween(r,a,x=>{h.push(...x.marks)});const p=h.find(x=>x.type.name===t.name);return p?{...p.attrs}:{}}function tE(i,e){const t=new im(i);return e.forEach(r=>{r.steps.forEach(a=>{t.step(a)})}),t}function iE(i){for(let e=0;e<i.edgeCount;e+=1){const{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function nE(i,e,t){const r=[];return i.nodesBetween(e.from,e.to,(a,l)=>{t(a)&&r.push({node:a,pos:l})}),r}function rE(i,e){for(let t=i.depth;t>0;t-=1){const r=i.node(t);if(e(r))return{pos:t>0?i.before(t):0,start:i.start(t),depth:t,node:r}}}function uh(i){return e=>rE(e.$from,i)}function sE(i,e){const t={from:0,to:i.content.size};return eb(i,t,e)}function aE(i,e){const t=Ze(e,i.schema),{from:r,to:a}=i.selection,l=[];i.doc.nodesBetween(r,a,p=>{l.push(p)});const h=l.reverse().find(p=>p.type.name===t.name);return h?{...h.attrs}:{}}function lb(i,e){const t=yo(typeof e=="string"?e:e.name,i.schema);return t==="node"?aE(i,e):t==="mark"?ob(i,e):{}}function oE(i,e=JSON.stringify){const t={};return i.filter(r=>{const a=e(r);return Object.prototype.hasOwnProperty.call(t,a)?!1:t[a]=!0})}function lE(i){const e=oE(i);return e.length===1?e:e.filter((t,r)=>!e.filter((l,h)=>h!==r).some(l=>t.oldRange.from>=l.oldRange.from&&t.oldRange.to<=l.oldRange.to&&t.newRange.from>=l.newRange.from&&t.newRange.to<=l.newRange.to))}function cE(i){const{mapping:e,steps:t}=i,r=[];return e.maps.forEach((a,l)=>{const h=[];if(a.ranges.length)a.forEach((p,x)=>{h.push({from:p,to:x})});else{const{from:p,to:x}=t[l];if(p===void 0||x===void 0)return;h.push({from:p,to:x})}h.forEach(({from:p,to:x})=>{const w=e.slice(l).map(p,-1),A=e.slice(l).map(x),M=e.invert().map(w,-1),R=e.invert().map(A);r.push({oldRange:{from:M,to:R},newRange:{from:w,to:A}})})}),lE(r)}function fh(i,e,t){const r=[];return i===e?t.resolve(i).marks().forEach(a=>{const l=t.resolve(i),h=hh(l,a.type);h&&r.push({mark:a,...h})}):t.nodesBetween(i,e,(a,l)=>{!a||a?.nodeSize===void 0||r.push(...a.marks.map(h=>({from:l,to:l+a.nodeSize,mark:h})))}),r}function Hs(i,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const a=i.find(l=>l.type===e&&l.name===r);return a?a.attribute.keepOnSplit:!1}))}function Ql(i,e,t={}){const{empty:r,ranges:a}=i.selection,l=e?_i(e,i.schema):null;if(r)return!!(i.storedMarks||i.selection.$from.marks()).filter(M=>l?l.name===M.type.name:!0).find(M=>ha(M.attrs,t,{strict:!1}));let h=0;const p=[];if(a.forEach(({$from:M,$to:R})=>{const z=M.pos,P=R.pos;i.doc.nodesBetween(z,P,(X,W)=>{if(!X.isText&&!X.marks.length)return;const Y=Math.max(z,W),$=Math.min(P,W+X.nodeSize),K=$-Y;h+=K,p.push(...X.marks.map(Q=>({mark:Q,from:Y,to:$})))})}),h===0)return!1;const x=p.filter(M=>l?l.name===M.mark.type.name:!0).filter(M=>ha(M.mark.attrs,t,{strict:!1})).reduce((M,R)=>M+R.to-R.from,0),w=p.filter(M=>l?M.mark.type!==l&&M.mark.type.excludes(l):!0).reduce((M,R)=>M+R.to-R.from,0);return(x>0?x+w:x)>=h}function hE(i,e,t={}){if(!e)return Xr(i,null,t)||Ql(i,null,t);const r=yo(e,i.schema);return r==="node"?Xr(i,e,t):r==="mark"?Ql(i,e,t):!1}function Du(i,e){const{nodeExtensions:t}=mo(e),r=t.find(h=>h.name===i);if(!r)return!1;const a={name:r.name,options:r.options,storage:r.storage},l=ke(de(r,"group",a));return typeof l!="string"?!1:l.split(" ").includes("list")}function ph(i,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(i.type.name==="hardBreak")return!0;if(i.isText)return/^\s*$/m.test((r=i.text)!==null&&r!==void 0?r:"")}if(i.isText)return!i.text;if(i.isAtom||i.isLeaf)return!1;if(i.content.childCount===0)return!0;if(e){let a=!0;return i.content.forEach(l=>{a!==!1&&(ph(l,{ignoreWhitespace:t,checkChildren:e})||(a=!1))}),a}return!1}function dE(i){return i instanceof fe}function uE(i,e,t){var r;const{selection:a}=e;let l=null;if(nb(a)&&(l=a.$cursor),l){const p=(r=i.storedMarks)!==null&&r!==void 0?r:l.marks();return!!t.isInSet(p)||!p.some(x=>x.type.excludes(t))}const{ranges:h}=a;return h.some(({$from:p,$to:x})=>{let w=p.depth===0?i.doc.inlineContent&&i.doc.type.allowsMarkType(t):!1;return i.doc.nodesBetween(p.pos,x.pos,(A,M,R)=>{if(w)return!1;if(A.isInline){const z=!R||R.type.allowsMarkType(t),P=!!t.isInSet(A.marks)||!A.marks.some(X=>X.type.excludes(t));w=z&&P}return!w}),w})}const fE=(i,e={})=>({tr:t,state:r,dispatch:a})=>{const{selection:l}=t,{empty:h,ranges:p}=l,x=_i(i,r.schema);if(a)if(h){const w=ob(r,x);t.addStoredMark(x.create({...w,...e}))}else p.forEach(w=>{const A=w.$from.pos,M=w.$to.pos;r.doc.nodesBetween(A,M,(R,z)=>{const P=Math.max(z,A),X=Math.min(z+R.nodeSize,M);R.marks.find(Y=>Y.type===x)?R.marks.forEach(Y=>{x===Y.type&&t.addMark(P,X,x.create({...Y.attrs,...e}))}):t.addMark(P,X,x.create(e))})});return uE(r,t,x)},pE=(i,e)=>({tr:t})=>(t.setMeta(i,e),!0),gE=(i,e={})=>({state:t,dispatch:r,chain:a})=>{const l=Ze(i,t.schema);let h;return t.selection.$anchor.sameParent(t.selection.$head)&&(h=t.selection.$anchor.parent.attrs),l.isTextblock?a().command(({commands:p})=>Lu(l,{...h,...e})(t)?!0:p.clearNodes()).command(({state:p})=>Lu(l,{...h,...e})(p,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},mE=i=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,a=Qi(i,0,r.content.size),l=fe.create(r,a);e.setSelection(l)}return!0},bE=i=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:a,to:l}=typeof i=="number"?{from:i,to:i}:i,h=xe.atStart(r).from,p=xe.atEnd(r).to,x=Qi(a,h,p),w=Qi(l,h,p),A=xe.create(r,x,w);e.setSelection(A)}return!0},xE=i=>({state:e,dispatch:t})=>{const r=Ze(i,e.schema);return U1(r)(e,t)};function Fu(i,e){const t=i.storedMarks||i.selection.$to.parentOffset&&i.selection.$from.marks();if(t){const r=t.filter(a=>e?.includes(a.type.name));i.tr.ensureMarks(r)}}const yE=({keepMarks:i=!0}={})=>({tr:e,state:t,dispatch:r,editor:a})=>{const{selection:l,doc:h}=e,{$from:p,$to:x}=l,w=a.extensionManager.attributes,A=Hs(w,p.node().type.name,p.node().attrs);if(l instanceof fe&&l.node.isBlock)return!p.parentOffset||!hi(h,p.pos)?!1:(r&&(i&&Fu(t,a.extensionManager.splittableMarks),e.split(p.pos).scrollIntoView()),!0);if(!p.parent.isBlock)return!1;const M=x.parentOffset===x.parent.content.size,R=p.depth===0?void 0:iE(p.node(-1).contentMatchAt(p.indexAfter(-1)));let z=M&&R?[{type:R,attrs:A}]:void 0,P=hi(e.doc,e.mapping.map(p.pos),1,z);if(!z&&!P&&hi(e.doc,e.mapping.map(p.pos),1,R?[{type:R}]:void 0)&&(P=!0,z=R?[{type:R,attrs:A}]:void 0),r){if(P&&(l instanceof xe&&e.deleteSelection(),e.split(e.mapping.map(p.pos),1,z),R&&!M&&!p.parentOffset&&p.parent.type!==R)){const X=e.mapping.map(p.before()),W=e.doc.resolve(X);p.node(-1).canReplaceWith(W.index(),W.index()+1,R)&&e.setNodeMarkup(e.mapping.map(p.before()),R)}i&&Fu(t,a.extensionManager.splittableMarks),e.scrollIntoView()}return P},vE=(i,e={})=>({tr:t,state:r,dispatch:a,editor:l})=>{var h;const p=Ze(i,r.schema),{$from:x,$to:w}=r.selection,A=r.selection.node;if(A&&A.isBlock||x.depth<2||!x.sameParent(w))return!1;const M=x.node(-1);if(M.type!==p)return!1;const R=l.extensionManager.attributes;if(x.parent.content.size===0&&x.node(-1).childCount===x.indexAfter(-1)){if(x.depth===2||x.node(-3).type!==p||x.index(-2)!==x.node(-2).childCount-1)return!1;if(a){let Y=se.empty;const $=x.index(-1)?1:x.index(-2)?2:3;for(let V=x.depth-$;V>=x.depth-3;V-=1)Y=se.from(x.node(V).copy(Y));const K=x.indexAfter(-1)<x.node(-2).childCount?1:x.indexAfter(-2)<x.node(-3).childCount?2:3,Q={...Hs(R,x.node().type.name,x.node().attrs),...e},H=((h=p.contentMatch.defaultType)===null||h===void 0?void 0:h.createAndFill(Q))||void 0;Y=Y.append(se.from(p.createAndFill(null,H)||void 0));const J=x.before(x.depth-($-1));t.replace(J,x.after(-K),new ce(Y,4-$,0));let U=-1;t.doc.nodesBetween(J,t.doc.content.size,(V,re)=>{if(U>-1)return!1;V.isTextblock&&V.content.size===0&&(U=re+1)}),U>-1&&t.setSelection(xe.near(t.doc.resolve(U))),t.scrollIntoView()}return!0}const z=w.pos===x.end()?M.contentMatchAt(0).defaultType:null,P={...Hs(R,M.type.name,M.attrs),...e},X={...Hs(R,x.node().type.name,x.node().attrs),...e};t.delete(x.pos,w.pos);const W=z?[{type:p,attrs:P},{type:z,attrs:X}]:[{type:p,attrs:P}];if(!hi(t.doc,x.pos,2))return!1;if(a){const{selection:Y,storedMarks:$}=r,{splittableMarks:K}=l.extensionManager,Q=$||Y.$to.parentOffset&&Y.$from.marks();if(t.split(x.pos,2,W).scrollIntoView(),!Q||!a)return!0;const H=Q.filter(J=>K.includes(J.type.name));t.ensureMarks(H)}return!0},Qo=(i,e)=>{const t=uh(h=>h.type===e)(i.selection);if(!t)return!0;const r=i.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const a=i.doc.nodeAt(r);return t.node.type===a?.type&&Bi(i.doc,t.pos)&&i.join(t.pos),!0},el=(i,e)=>{const t=uh(h=>h.type===e)(i.selection);if(!t)return!0;const r=i.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const a=i.doc.nodeAt(r);return t.node.type===a?.type&&Bi(i.doc,r)&&i.join(r),!0},wE=(i,e,t,r={})=>({editor:a,tr:l,state:h,dispatch:p,chain:x,commands:w,can:A})=>{const{extensions:M,splittableMarks:R}=a.extensionManager,z=Ze(i,h.schema),P=Ze(e,h.schema),{selection:X,storedMarks:W}=h,{$from:Y,$to:$}=X,K=Y.blockRange($),Q=W||X.$to.parentOffset&&X.$from.marks();if(!K)return!1;const H=uh(J=>Du(J.type.name,M))(X);if(K.depth>=1&&H&&K.depth-H.depth<=1){if(H.node.type===z)return w.liftListItem(P);if(Du(H.node.type.name,M)&&z.validContent(H.node.content)&&p)return x().command(()=>(l.setNodeMarkup(H.pos,z),!0)).command(()=>Qo(l,z)).command(()=>el(l,z)).run()}return!t||!Q||!p?x().command(()=>A().wrapInList(z,r)?!0:w.clearNodes()).wrapInList(z,r).command(()=>Qo(l,z)).command(()=>el(l,z)).run():x().command(()=>{const J=A().wrapInList(z,r),U=Q.filter(V=>R.includes(V.type.name));return l.ensureMarks(U),J?!0:w.clearNodes()}).wrapInList(z,r).command(()=>Qo(l,z)).command(()=>el(l,z)).run()},SE=(i,e={},t={})=>({state:r,commands:a})=>{const{extendEmptyMarkRange:l=!1}=t,h=_i(i,r.schema);return Ql(r,h,e)?a.unsetMark(h,{extendEmptyMarkRange:l}):a.setMark(h,e)},kE=(i,e,t={})=>({state:r,commands:a})=>{const l=Ze(i,r.schema),h=Ze(e,r.schema),p=Xr(r,l,t);let x;return r.selection.$anchor.sameParent(r.selection.$head)&&(x=r.selection.$anchor.parent.attrs),p?a.setNode(h,x):a.setNode(l,{...x,...t})},AE=(i,e={})=>({state:t,commands:r})=>{const a=Ze(i,t.schema);return Xr(t,a,e)?r.lift(a):r.wrapIn(a,e)},CE=()=>({state:i,dispatch:e})=>{const t=i.plugins;for(let r=0;r<t.length;r+=1){const a=t[r];let l;if(a.spec.isInputRules&&(l=a.getState(i))){if(e){const h=i.tr,p=l.transform;for(let x=p.steps.length-1;x>=0;x-=1)h.step(p.steps[x].invert(p.docs[x]));if(l.text){const x=h.doc.resolve(l.from).marks();h.replaceWith(l.from,l.to,i.schema.text(l.text,x))}else h.delete(l.from,l.to)}return!0}}return!1},EE=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,{empty:r,ranges:a}=t;return r||e&&a.forEach(l=>{i.removeMark(l.$from.pos,l.$to.pos)}),!0},TE=(i,e={})=>({tr:t,state:r,dispatch:a})=>{var l;const{extendEmptyMarkRange:h=!1}=e,{selection:p}=t,x=_i(i,r.schema),{$from:w,empty:A,ranges:M}=p;if(!a)return!0;if(A&&h){let{from:R,to:z}=p;const P=(l=w.marks().find(W=>W.type===x))===null||l===void 0?void 0:l.attrs,X=hh(w,x,P);X&&(R=X.from,z=X.to),t.removeMark(R,z,x)}else M.forEach(R=>{t.removeMark(R.$from.pos,R.$to.pos,x)});return t.removeStoredMark(x),!0},ME=(i,e={})=>({tr:t,state:r,dispatch:a})=>{let l=null,h=null;const p=yo(typeof i=="string"?i:i.name,r.schema);return p?(p==="node"&&(l=Ze(i,r.schema)),p==="mark"&&(h=_i(i,r.schema)),a&&t.selection.ranges.forEach(x=>{const w=x.$from.pos,A=x.$to.pos;let M,R,z,P;t.selection.empty?r.doc.nodesBetween(w,A,(X,W)=>{l&&l===X.type&&(z=Math.max(W,w),P=Math.min(W+X.nodeSize,A),M=W,R=X)}):r.doc.nodesBetween(w,A,(X,W)=>{W<w&&l&&l===X.type&&(z=Math.max(W,w),P=Math.min(W+X.nodeSize,A),M=W,R=X),W>=w&&W<=A&&(l&&l===X.type&&t.setNodeMarkup(W,void 0,{...X.attrs,...e}),h&&X.marks.length&&X.marks.forEach(Y=>{if(h===Y.type){const $=Math.max(W,w),K=Math.min(W+X.nodeSize,A);t.addMark($,K,h.create({...Y.attrs,...e}))}}))}),R&&(M!==void 0&&t.setNodeMarkup(M,void 0,{...R.attrs,...e}),h&&R.marks.length&&R.marks.forEach(X=>{h===X.type&&t.addMark(z,P,h.create({...X.attrs,...e}))}))}),!0):!1},LE=(i,e={})=>({state:t,dispatch:r})=>{const a=Ze(i,t.schema);return W1(a,e)(t,r)},PE=(i,e={})=>({state:t,dispatch:r})=>{const a=Ze(i,t.schema);return X1(a,e)(t,r)};var RE=Object.freeze({__proto__:null,blur:dC,clearContent:uC,clearNodes:fC,command:pC,createParagraphNear:gC,cut:mC,deleteCurrentNode:bC,deleteNode:xC,deleteRange:yC,deleteSelection:vC,enter:wC,exitCode:SC,extendMarkRange:kC,first:AC,focus:EC,forEach:TC,insertContent:MC,insertContentAt:RC,joinBackward:NC,joinDown:IC,joinForward:DC,joinItemBackward:FC,joinItemForward:zC,joinTextblockBackward:BC,joinTextblockForward:HC,joinUp:OC,keyboardShortcut:WC,lift:XC,liftEmptyBlock:YC,liftListItem:VC,newlineInCode:jC,resetAttributes:GC,scrollIntoView:qC,selectAll:UC,selectNodeBackward:$C,selectNodeForward:KC,selectParentNode:JC,selectTextblockEnd:ZC,selectTextblockStart:QC,setContent:eE,setMark:fE,setMeta:pE,setNode:gE,setNodeSelection:mE,setTextSelection:bE,sinkListItem:xE,splitBlock:yE,splitListItem:vE,toggleList:wE,toggleMark:SE,toggleNode:kE,toggleWrap:AE,undoInputRule:CE,unsetAllMarks:EE,unsetMark:TE,updateAttributes:ME,wrapIn:LE,wrapInList:PE});const OE=ct.create({name:"commands",addCommands(){return{...RE}}}),IE=ct.create({name:"drop",addProseMirrorPlugins(){return[new nt({key:new Ct("tiptapDrop"),props:{handleDrop:(i,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),NE=ct.create({name:"editable",addProseMirrorPlugins(){return[new nt({key:new Ct("editable"),props:{editable:()=>this.editor.options.editable}})]}}),DE=new Ct("focusEvents"),FE=ct.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:i}=this;return[new nt({key:DE,props:{handleDOMEvents:{focus:(e,t)=>{i.isFocused=!0;const r=i.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{i.isFocused=!1;const r=i.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),zE=ct.create({name:"keymap",addKeyboardShortcuts(){const i=()=>this.editor.commands.first(({commands:h})=>[()=>h.undoInputRule(),()=>h.command(({tr:p})=>{const{selection:x,doc:w}=p,{empty:A,$anchor:M}=x,{pos:R,parent:z}=M,P=M.parent.isTextblock&&R>0?p.doc.resolve(R-1):M,X=P.parent.type.spec.isolating,W=M.pos-M.parentOffset,Y=X&&P.parent.childCount===1?W===M.pos:Se.atStart(w).from===R;return!A||!z.type.isTextblock||z.textContent.length||!Y||Y&&M.parent.type.name==="paragraph"?!1:h.clearNodes()}),()=>h.deleteSelection(),()=>h.joinBackward(),()=>h.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:h})=>[()=>h.deleteSelection(),()=>h.deleteCurrentNode(),()=>h.joinForward(),()=>h.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:h})=>[()=>h.newlineInCode(),()=>h.createParagraphNear(),()=>h.liftEmptyBlock(),()=>h.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:i,"Mod-Backspace":i,"Shift-Backspace":i,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...r},l={...r,"Ctrl-h":i,"Alt-Backspace":i,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return dh()||ab()?l:a},addProseMirrorPlugins(){return[new nt({key:new Ct("clearDocument"),appendTransaction:(i,e,t)=>{if(i.some(X=>X.getMeta("composition")))return;const r=i.some(X=>X.docChanged)&&!e.doc.eq(t.doc),a=i.some(X=>X.getMeta("preventClearDocument"));if(!r||a)return;const{empty:l,from:h,to:p}=e.selection,x=Se.atStart(e.doc).from,w=Se.atEnd(e.doc).to;if(l||!(h===x&&p===w)||!ph(t.doc))return;const R=t.tr,z=po({state:t,transaction:R}),{commands:P}=new go({editor:this.editor,state:z});if(P.clearNodes(),!!R.steps.length)return R}})]}}),BE=ct.create({name:"paste",addProseMirrorPlugins(){return[new nt({key:new Ct("tiptapPaste"),props:{handlePaste:(i,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),HE=ct.create({name:"tabindex",addProseMirrorPlugins(){return[new nt({key:new Ct("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class qi{get name(){return this.node.type.name}constructor(e,t,r=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=a}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new qi(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new qi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new qi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const a=t.isBlock&&!t.isTextblock,l=t.isAtom&&!t.isText,h=this.pos+r+(l?0:1);if(h<0||h>this.resolvedPos.doc.nodeSize-2)return;const p=this.resolvedPos.doc.resolve(h);if(!a&&p.depth<=this.depth)return;const x=new qi(p,this.editor,a,a?t:null);a&&(x.actualDepth=this.depth+1),e.push(new qi(p,this.editor,a,a?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,a=this.parent;for(;a&&!r;){if(a.node.type.name===e)if(Object.keys(t).length>0){const l=a.node.attrs,h=Object.keys(t);for(let p=0;p<h.length;p+=1){const x=h[p];if(l[x]!==t[x])break}}else r=a;a=a.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let a=[];if(!this.children||this.children.length===0)return a;const l=Object.keys(t);return this.children.forEach(h=>{r&&a.length>0||(h.node.type.name===e&&l.every(x=>t[x]===h.node.attrs[x])&&a.push(h),!(r&&a.length>0)&&(a=a.concat(h.querySelectorAll(e,t,r))))}),a}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const _E=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function WE(i,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(a),a}class XE extends $1{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:a})=>this.options.onDrop(t,r,a)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=WE(_E,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Qm(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],a=this.state.reconfigure({plugins:r});return this.view.updateState(a),a}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(l=>{const h=typeof l=="string"?`${l}$`:l.key;r=r.filter(p=>!p.key.startsWith(h))}),t.length===r.length)return;const a=this.state.reconfigure({plugins:r});return this.view.updateState(a),a}createExtensionManager(){var e,t;const a=[...this.options.enableCoreExtensions?[NE,hC.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),OE,FE,zE,HE,IE,BE].filter(l=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[l.name]!==!1:!0):[],...this.options.extensions].filter(l=>["extension","node","mark"].includes(l?.type));this.extensionManager=new Dn(a,this)}createCommandManager(){this.commandManager=new go({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Zl(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(h){if(!(h instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(h.message))throw h;this.emit("contentError",{editor:this,error:h,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(p=>p.name!=="collaboration"),this.createExtensionManager()}}),t=Zl(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=rb(t,this.options.autofocus);this.view=new Bm(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Nn.create({doc:t,selection:r||void 0})});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.createNodeViews(),this.prependClass();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(h=>{var p;return(p=this.capturedTransaction)===null||p===void 0?void 0:p.step(h)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=e.getMeta("focus"),l=e.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:e}),l&&this.emit("blur",{editor:this,event:l.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return lb(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,a=typeof e=="string"?t:e;return hE(this.state,r,a)}getJSON(){return this.state.doc.toJSON()}getHTML(){return lh(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return sE(this.state.doc,{blockSeparator:t,textSerializers:{...tb(this.schema),...r}})}get isEmpty(){return ph(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new qi(t,this)}get $doc(){return this.$pos(0)}}function wn(i){return new bo({find:i.find,handler:({state:e,range:t,match:r})=>{const a=ke(i.getAttributes,void 0,r);if(a===!1||a===null)return null;const{tr:l}=e,h=r[r.length-1],p=r[0];if(h){const x=p.search(/\S/),w=t.from+p.indexOf(h),A=w+h.length;if(fh(t.from,t.to,e.doc).filter(z=>z.mark.type.excluded.find(X=>X===i.type&&X!==z.mark.type)).filter(z=>z.to>w).length)return null;A<t.to&&l.delete(A,t.to),w>t.from&&l.delete(t.from+x,w);const R=t.from+x+h.length;l.addMark(t.from+x,R,i.type.create(a||{})),l.removeStoredMark(i.type)}}})}function cb(i){return new bo({find:i.find,handler:({state:e,range:t,match:r})=>{const a=ke(i.getAttributes,void 0,r)||{},{tr:l}=e,h=t.from;let p=t.to;const x=i.type.create(a);if(r[1]){const w=r[0].lastIndexOf(r[1]);let A=h+w;A>p?A=p:p=A+r[1].length;const M=r[0][r[0].length-1];l.insertText(M,h+r[0].length-1),l.replaceWith(A,p,x)}else if(r[0]){const w=i.type.isInline?h:h-1;l.insert(w,i.type.create(a)).delete(l.mapping.map(h),l.mapping.map(p))}l.scrollIntoView()}})}function ec(i){return new bo({find:i.find,handler:({state:e,range:t,match:r})=>{const a=e.doc.resolve(t.from),l=ke(i.getAttributes,void 0,r)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),i.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,i.type,l)}})}function Yr(i){return new bo({find:i.find,handler:({state:e,range:t,match:r,chain:a})=>{const l=ke(i.getAttributes,void 0,r)||{},h=e.tr.delete(t.from,t.to),x=h.doc.resolve(t.from).blockRange(),w=x&&Gc(x,i.type,l);if(!w)return null;if(h.wrap(x,w),i.keepMarks&&i.editor){const{selection:M,storedMarks:R}=e,{splittableMarks:z}=i.editor.extensionManager,P=R||M.$to.parentOffset&&M.$from.marks();if(P){const X=P.filter(W=>z.includes(W.type.name));h.ensureMarks(X)}}if(i.keepAttributes){const M=i.type.name==="bulletList"||i.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(M,l).run()}const A=h.doc.resolve(t.from-1).nodeBefore;A&&A.type===i.type&&Bi(h.doc,t.from-1)&&(!i.joinPredicate||i.joinPredicate(r,A))&&h.join(t.from-1)}})}let Ht=class tc{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ke(de(this,"addOptions",{name:this.name}))),this.storage=ke(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new tc(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>xo(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new tc(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ke(de(t,"addOptions",{name:t.name})),t.storage=ke(de(t,"addStorage",{name:t.name,options:t.options})),t}};function Fi(i){return new rC({find:i.find,handler:({state:e,range:t,match:r,pasteEvent:a})=>{const l=ke(i.getAttributes,void 0,r,a);if(l===!1||l===null)return null;const{tr:h}=e,p=r[r.length-1],x=r[0];let w=t.to;if(p){const A=x.search(/\S/),M=t.from+x.indexOf(p),R=M+p.length;if(fh(t.from,t.to,e.doc).filter(P=>P.mark.type.excluded.find(W=>W===i.type&&W!==P.mark.type)).filter(P=>P.to>M).length)return null;R<t.to&&h.delete(R,t.to),M>t.from&&h.delete(t.from+A,M),w=t.from+A+p.length,h.addMark(t.from+A,w,i.type.create(l||{})),h.removeStoredMark(i.type)}}})}function YE(i,e){const{selection:t}=i,{$from:r}=t;if(t instanceof fe){const l=r.index();return r.parent.canReplaceWith(l,l+1,e)}let a=r.depth;for(;a>=0;){const l=r.index(a);if(r.node(a).contentMatchAt(l).matchType(e))return!0;a-=1}return!1}const VE=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,jE=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,GE=ei.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:i=>i.getAttribute("data-color")||i.style.backgroundColor,renderHTML:i=>i.color?{"data-color":i.color,style:`background-color: ${i.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:i}){return["mark",Ue(this.options.HTMLAttributes,i),0]},addCommands(){return{setHighlight:i=>({commands:e})=>e.setMark(this.name,i),toggleHighlight:i=>({commands:e})=>e.toggleMark(this.name,i),unsetHighlight:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[wn({find:VE,type:this.type})]},addPasteRules(){return[Fi({find:jE,type:this.type})]}}),qE=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,UE=Ht.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:i}){return["img",Ue(this.options.HTMLAttributes,i)]},addCommands(){return{setImage:i=>({commands:e})=>e.insertContent({type:this.name,attrs:i})}},addInputRules(){return[cb({find:qE,type:this.type,getAttributes:i=>{const[,,e,t,r]=i;return{src:t,alt:e,title:r}}})]}}),$E="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",KE="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ic="numeric",nc="ascii",rc="alpha",Er="asciinumeric",br="alphanumeric",sc="domain",hb="emoji",JE="scheme",ZE="slashscheme",tl="whitespace";function QE(i,e){return i in e||(e[i]=[]),e[i]}function en(i,e,t){e[ic]&&(e[Er]=!0,e[br]=!0),e[nc]&&(e[Er]=!0,e[rc]=!0),e[Er]&&(e[br]=!0),e[rc]&&(e[br]=!0),e[br]&&(e[sc]=!0),e[hb]&&(e[sc]=!0);for(const r in e){const a=QE(r,t);a.indexOf(i)<0&&a.push(i)}}function eT(i,e){const t={};for(const r in e)e[r].indexOf(i)>=0&&(t[r]=!0);return t}function bt(i=null){this.j={},this.jr=[],this.jd=null,this.t=i}bt.groups={};bt.prototype={accepts(){return!!this.t},go(i){const e=this,t=e.j[i];if(t)return t;for(let r=0;r<e.jr.length;r++){const a=e.jr[r][0],l=e.jr[r][1];if(l&&a.test(i))return l}return e.jd},has(i,e=!1){return e?i in this.j:!!this.go(i)},ta(i,e,t,r){for(let a=0;a<i.length;a++)this.tt(i[a],e,t,r)},tr(i,e,t,r){r=r||bt.groups;let a;return e&&e.j?a=e:(a=new bt(e),t&&r&&en(e,t,r)),this.jr.push([i,a]),a},ts(i,e,t,r){let a=this;const l=i.length;if(!l)return a;for(let h=0;h<l-1;h++)a=a.tt(i[h]);return a.tt(i[l-1],e,t,r)},tt(i,e,t,r){r=r||bt.groups;const a=this;if(e&&e.j)return a.j[i]=e,e;const l=e;let h,p=a.go(i);if(p?(h=new bt,Object.assign(h.j,p.j),h.jr.push.apply(h.jr,p.jr),h.jd=p.jd,h.t=p.t):h=new bt,l){if(r)if(h.t&&typeof h.t=="string"){const x=Object.assign(eT(h.t,r),t);en(l,x,r)}else t&&en(l,t,r);h.t=l}return a.j[i]=h,h}};const we=(i,e,t,r,a)=>i.ta(e,t,r,a),Be=(i,e,t,r,a)=>i.tr(e,t,r,a),zu=(i,e,t,r,a)=>i.ts(e,t,r,a),ae=(i,e,t,r,a)=>i.tt(e,t,r,a),oi="WORD",ac="UWORD",db="ASCIINUMERICAL",ub="ALPHANUMERICAL",Vr="LOCALHOST",oc="TLD",lc="UTLD",_s="SCHEME",On="SLASH_SCHEME",gh="NUM",cc="WS",mh="NL",Tr="OPENBRACE",Mr="CLOSEBRACE",da="OPENBRACKET",ua="CLOSEBRACKET",fa="OPENPAREN",pa="CLOSEPAREN",ga="OPENANGLEBRACKET",ma="CLOSEANGLEBRACKET",ba="FULLWIDTHLEFTPAREN",xa="FULLWIDTHRIGHTPAREN",ya="LEFTCORNERBRACKET",va="RIGHTCORNERBRACKET",wa="LEFTWHITECORNERBRACKET",Sa="RIGHTWHITECORNERBRACKET",ka="FULLWIDTHLESSTHAN",Aa="FULLWIDTHGREATERTHAN",Ca="AMPERSAND",Ea="APOSTROPHE",Ta="ASTERISK",yi="AT",Ma="BACKSLASH",La="BACKTICK",Pa="CARET",Ai="COLON",bh="COMMA",Ra="DOLLAR",Ut="DOT",Oa="EQUALS",xh="EXCLAMATION",Pt="HYPHEN",Lr="PERCENT",Ia="PIPE",Na="PLUS",Da="POUND",Pr="QUERY",yh="QUOTE",fb="FULLWIDTHMIDDLEDOT",vh="SEMI",$t="SLASH",Rr="TILDE",Fa="UNDERSCORE",pb="EMOJI",za="SYM";var gb=Object.freeze({__proto__:null,ALPHANUMERICAL:ub,AMPERSAND:Ca,APOSTROPHE:Ea,ASCIINUMERICAL:db,ASTERISK:Ta,AT:yi,BACKSLASH:Ma,BACKTICK:La,CARET:Pa,CLOSEANGLEBRACKET:ma,CLOSEBRACE:Mr,CLOSEBRACKET:ua,CLOSEPAREN:pa,COLON:Ai,COMMA:bh,DOLLAR:Ra,DOT:Ut,EMOJI:pb,EQUALS:Oa,EXCLAMATION:xh,FULLWIDTHGREATERTHAN:Aa,FULLWIDTHLEFTPAREN:ba,FULLWIDTHLESSTHAN:ka,FULLWIDTHMIDDLEDOT:fb,FULLWIDTHRIGHTPAREN:xa,HYPHEN:Pt,LEFTCORNERBRACKET:ya,LEFTWHITECORNERBRACKET:wa,LOCALHOST:Vr,NL:mh,NUM:gh,OPENANGLEBRACKET:ga,OPENBRACE:Tr,OPENBRACKET:da,OPENPAREN:fa,PERCENT:Lr,PIPE:Ia,PLUS:Na,POUND:Da,QUERY:Pr,QUOTE:yh,RIGHTCORNERBRACKET:va,RIGHTWHITECORNERBRACKET:Sa,SCHEME:_s,SEMI:vh,SLASH:$t,SLASH_SCHEME:On,SYM:za,TILDE:Rr,TLD:oc,UNDERSCORE:Fa,UTLD:lc,UWORD:ac,WORD:oi,WS:cc});const si=/[a-z]/,ur=new RegExp("\\p{L}","u"),il=new RegExp("\\p{Emoji}","u"),ai=/\d/,nl=/\s/,Bu="\r",rl=`
`,tT="",iT="",sl="";let Ts=null,Ms=null;function nT(i=[]){const e={};bt.groups=e;const t=new bt;Ts==null&&(Ts=Hu($E)),Ms==null&&(Ms=Hu(KE)),ae(t,"'",Ea),ae(t,"{",Tr),ae(t,"}",Mr),ae(t,"[",da),ae(t,"]",ua),ae(t,"(",fa),ae(t,")",pa),ae(t,"<",ga),ae(t,">",ma),ae(t,"",ba),ae(t,"",xa),ae(t,"",ya),ae(t,"",va),ae(t,"",wa),ae(t,"",Sa),ae(t,"",ka),ae(t,"",Aa),ae(t,"&",Ca),ae(t,"*",Ta),ae(t,"@",yi),ae(t,"`",La),ae(t,"^",Pa),ae(t,":",Ai),ae(t,",",bh),ae(t,"$",Ra),ae(t,".",Ut),ae(t,"=",Oa),ae(t,"!",xh),ae(t,"-",Pt),ae(t,"%",Lr),ae(t,"|",Ia),ae(t,"+",Na),ae(t,"#",Da),ae(t,"?",Pr),ae(t,'"',yh),ae(t,"/",$t),ae(t,";",vh),ae(t,"~",Rr),ae(t,"_",Fa),ae(t,"\\",Ma),ae(t,"",fb);const r=Be(t,ai,gh,{[ic]:!0});Be(r,ai,r);const a=Be(r,si,db,{[Er]:!0}),l=Be(r,ur,ub,{[br]:!0}),h=Be(t,si,oi,{[nc]:!0});Be(h,ai,a),Be(h,si,h),Be(a,ai,a),Be(a,si,a);const p=Be(t,ur,ac,{[rc]:!0});Be(p,si),Be(p,ai,l),Be(p,ur,p),Be(l,ai,l),Be(l,si),Be(l,ur,l);const x=ae(t,rl,mh,{[tl]:!0}),w=ae(t,Bu,cc,{[tl]:!0}),A=Be(t,nl,cc,{[tl]:!0});ae(t,sl,A),ae(w,rl,x),ae(w,sl,A),Be(w,nl,A),ae(A,Bu),ae(A,rl),Be(A,nl,A),ae(A,sl,A);const M=Be(t,il,pb,{[hb]:!0});ae(M,"#"),Be(M,il,M),ae(M,tT,M);const R=ae(M,iT);ae(R,"#"),Be(R,il,M);const z=[[si,h],[ai,a]],P=[[si,null],[ur,p],[ai,l]];for(let X=0;X<Ts.length;X++)pi(t,Ts[X],oc,oi,z);for(let X=0;X<Ms.length;X++)pi(t,Ms[X],lc,ac,P);en(oc,{tld:!0,ascii:!0},e),en(lc,{utld:!0,alpha:!0},e),pi(t,"file",_s,oi,z),pi(t,"mailto",_s,oi,z),pi(t,"http",On,oi,z),pi(t,"https",On,oi,z),pi(t,"ftp",On,oi,z),pi(t,"ftps",On,oi,z),en(_s,{scheme:!0,ascii:!0},e),en(On,{slashscheme:!0,ascii:!0},e),i=i.sort((X,W)=>X[0]>W[0]?1:-1);for(let X=0;X<i.length;X++){const W=i[X][0],$=i[X][1]?{[JE]:!0}:{[ZE]:!0};W.indexOf("-")>=0?$[sc]=!0:si.test(W)?ai.test(W)?$[Er]=!0:$[nc]=!0:$[ic]=!0,zu(t,W,W,$)}return zu(t,"localhost",Vr,{ascii:!0}),t.jd=new bt(za),{start:t,tokens:Object.assign({groups:e},gb)}}function mb(i,e){const t=rT(e.replace(/[A-Z]/g,p=>p.toLowerCase())),r=t.length,a=[];let l=0,h=0;for(;h<r;){let p=i,x=null,w=0,A=null,M=-1,R=-1;for(;h<r&&(x=p.go(t[h]));)p=x,p.accepts()?(M=0,R=0,A=p):M>=0&&(M+=t[h].length,R++),w+=t[h].length,l+=t[h].length,h++;l-=M,h-=R,w-=M,a.push({t:A.t,v:e.slice(l-w,l),s:l-w,e:l})}return a}function rT(i){const e=[],t=i.length;let r=0;for(;r<t;){let a=i.charCodeAt(r),l,h=a<55296||a>56319||r+1===t||(l=i.charCodeAt(r+1))<56320||l>57343?i[r]:i.slice(r,r+2);e.push(h),r+=h.length}return e}function pi(i,e,t,r,a){let l;const h=e.length;for(let p=0;p<h-1;p++){const x=e[p];i.j[x]?l=i.j[x]:(l=new bt(r),l.jr=a.slice(),i.j[x]=l),i=l}return l=new bt(t),l.jr=a.slice(),i.j[e[h-1]]=l,l}function Hu(i){const e=[],t=[];let r=0,a="0123456789";for(;r<i.length;){let l=0;for(;a.indexOf(i[r+l])>=0;)l++;if(l>0){e.push(t.join(""));for(let h=parseInt(i.substring(r,r+l),10);h>0;h--)t.pop();r+=l}else t.push(i[r]),r++}return e}const jr={defaultProtocol:"http",events:null,format:_u,formatHref:_u,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function wh(i,e=null){let t=Object.assign({},jr);i&&(t=Object.assign(t,i instanceof wh?i.o:i));const r=t.ignoreTags,a=[];for(let l=0;l<r.length;l++)a.push(r[l].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=a}wh.prototype={o:jr,ignoreTags:[],defaultRender(i){return i},check(i){return this.get("validate",i.toString(),i)},get(i,e,t){const r=e!=null;let a=this.o[i];return a&&(typeof a=="object"?(a=t.t in a?a[t.t]:jr[i],typeof a=="function"&&r&&(a=a(e,t))):typeof a=="function"&&r&&(a=a(e,t.t,t)),a)},getObj(i,e,t){let r=this.o[i];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(i){const e=i.render(this);return(this.get("render",null,i)||this.defaultRender)(e,i.t,i)}};function _u(i){return i}function bb(i,e){this.t="token",this.v=i,this.tk=e}bb.prototype={isLink:!1,toString(){return this.v},toHref(i){return this.toString()},toFormattedString(i){const e=this.toString(),t=i.get("truncate",e,this),r=i.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(i){return i.get("formatHref",this.toHref(i.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(i=jr.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(i),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(i){return{type:this.t,value:this.toFormattedString(i),isLink:this.isLink,href:this.toFormattedHref(i),start:this.startIndex(),end:this.endIndex()}},validate(i){return i.get("validate",this.toString(),this)},render(i){const e=this,t=this.toHref(i.get("defaultProtocol")),r=i.get("formatHref",t,this),a=i.get("tagName",t,e),l=this.toFormattedString(i),h={},p=i.get("className",t,e),x=i.get("target",t,e),w=i.get("rel",t,e),A=i.getObj("attributes",t,e),M=i.getObj("events",t,e);return h.href=r,p&&(h.class=p),x&&(h.target=x),w&&(h.rel=w),A&&Object.assign(h,A),{tagName:a,attributes:h,content:l,eventListeners:M}}};function vo(i,e){class t extends bb{constructor(a,l){super(a,l),this.t=i}}for(const r in e)t.prototype[r]=e[r];return t.t=i,t}const Wu=vo("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Xu=vo("text"),sT=vo("nl"),Ls=vo("url",{isLink:!0,toHref(i=jr.defaultProtocol){return this.hasProtocol()?this.v:`${i}://${this.v}`},hasProtocol(){const i=this.tk;return i.length>=2&&i[0].t!==Vr&&i[1].t===Ai}}),Lt=i=>new bt(i);function aT({groups:i}){const e=i.domain.concat([Ca,Ta,yi,Ma,La,Pa,Ra,Oa,Pt,gh,Lr,Ia,Na,Da,$t,za,Rr,Fa]),t=[Ea,Ai,bh,Ut,xh,Lr,Pr,yh,vh,ga,ma,Tr,Mr,ua,da,fa,pa,ba,xa,ya,va,wa,Sa,ka,Aa],r=[Ca,Ea,Ta,Ma,La,Pa,Ra,Oa,Pt,Tr,Mr,Lr,Ia,Na,Da,Pr,$t,za,Rr,Fa],a=Lt(),l=ae(a,Rr);we(l,r,l),we(l,i.domain,l);const h=Lt(),p=Lt(),x=Lt();we(a,i.domain,h),we(a,i.scheme,p),we(a,i.slashscheme,x),we(h,r,l),we(h,i.domain,h);const w=ae(h,yi);ae(l,yi,w),ae(p,yi,w),ae(x,yi,w);const A=ae(l,Ut);we(A,r,l),we(A,i.domain,l);const M=Lt();we(w,i.domain,M),we(M,i.domain,M);const R=ae(M,Ut);we(R,i.domain,M);const z=Lt(Wu);we(R,i.tld,z),we(R,i.utld,z),ae(w,Vr,z);const P=ae(M,Pt);ae(P,Pt,P),we(P,i.domain,M),we(z,i.domain,M),ae(z,Ut,R),ae(z,Pt,P);const X=ae(z,Ai);we(X,i.numeric,Wu);const W=ae(h,Pt),Y=ae(h,Ut);ae(W,Pt,W),we(W,i.domain,h),we(Y,r,l),we(Y,i.domain,h);const $=Lt(Ls);we(Y,i.tld,$),we(Y,i.utld,$),we($,i.domain,h),we($,r,l),ae($,Ut,Y),ae($,Pt,W),ae($,yi,w);const K=ae($,Ai),Q=Lt(Ls);we(K,i.numeric,Q);const H=Lt(Ls),J=Lt();we(H,e,H),we(H,t,J),we(J,e,H),we(J,t,J),ae($,$t,H),ae(Q,$t,H);const U=ae(p,Ai),V=ae(x,Ai),re=ae(V,$t),ue=ae(re,$t);we(p,i.domain,h),ae(p,Ut,Y),ae(p,Pt,W),we(x,i.domain,h),ae(x,Ut,Y),ae(x,Pt,W),we(U,i.domain,H),ae(U,$t,H),ae(U,Pr,H),we(ue,i.domain,H),we(ue,e,H),ae(ue,$t,H);const me=[[Tr,Mr],[da,ua],[fa,pa],[ga,ma],[ba,xa],[ya,va],[wa,Sa],[ka,Aa]];for(let ye=0;ye<me.length;ye++){const[Re,Ae]=me[ye],_t=ae(H,Re);ae(J,Re,_t),ae(_t,Ae,H);const We=Lt(Ls);we(_t,e,We);const dt=Lt();we(_t,t),we(We,e,We),we(We,t,dt),we(dt,e,We),we(dt,t,dt),ae(We,Ae,H),ae(dt,Ae,H)}return ae(a,Vr,$),ae(a,mh,sT),{start:a,tokens:gb}}function oT(i,e,t){let r=t.length,a=0,l=[],h=[];for(;a<r;){let p=i,x=null,w=null,A=0,M=null,R=-1;for(;a<r&&!(x=p.go(t[a].t));)h.push(t[a++]);for(;a<r&&(w=x||p.go(t[a].t));)x=null,p=w,p.accepts()?(R=0,M=p):R>=0&&R++,a++,A++;if(R<0)a-=A,a<r&&(h.push(t[a]),a++);else{h.length>0&&(l.push(al(Xu,e,h)),h=[]),a-=R,A-=R;const z=M.t,P=t.slice(a-A,a);l.push(al(z,e,P))}}return h.length>0&&l.push(al(Xu,e,h)),l}function al(i,e,t){const r=t[0].s,a=t[t.length-1].e,l=e.slice(r,a);return new i(l,t)}const lT=typeof console<"u"&&console&&console.warn||(()=>{}),cT="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Oe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function hT(){return bt.groups={},Oe.scanner=null,Oe.parser=null,Oe.tokenQueue=[],Oe.pluginQueue=[],Oe.customSchemes=[],Oe.initialized=!1,Oe}function Yu(i,e=!1){if(Oe.initialized&&lT(`linkifyjs: already initialized - will not register custom scheme "${i}" ${cT}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(i))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Oe.customSchemes.push([i,e])}function dT(){Oe.scanner=nT(Oe.customSchemes);for(let i=0;i<Oe.tokenQueue.length;i++)Oe.tokenQueue[i][1]({scanner:Oe.scanner});Oe.parser=aT(Oe.scanner.tokens);for(let i=0;i<Oe.pluginQueue.length;i++)Oe.pluginQueue[i][1]({scanner:Oe.scanner,parser:Oe.parser});return Oe.initialized=!0,Oe}function Sh(i){return Oe.initialized||dT(),oT(Oe.parser.start,i,mb(Oe.scanner.start,i))}Sh.scan=mb;function xb(i,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new wh(t),a=Sh(i),l=[];for(let h=0;h<a.length;h++){const p=a[h];p.isLink&&(!e||p.t===e)&&r.check(p)&&l.push(p.toFormattedObject(r))}return l}const kh="[\0- -\u2029]",uT=new RegExp(kh),fT=new RegExp(`${kh}$`),pT=new RegExp(kh,"g");function gT(i){return i.length===1?i[0].isLink:i.length===3&&i[1].isLink?["()","[]"].includes(i[0].value+i[2].value):!1}function mT(i){return new nt({key:new Ct("autolink"),appendTransaction:(e,t,r)=>{const a=e.some(w=>w.docChanged)&&!t.doc.eq(r.doc),l=e.some(w=>w.getMeta("preventAutolink"));if(!a||l)return;const{tr:h}=r,p=tE(t.doc,[...e]);if(cE(p).forEach(({newRange:w})=>{const A=nE(r.doc,w,z=>z.isTextblock);let M,R;if(A.length>1)M=A[0],R=r.doc.textBetween(M.pos,M.pos+M.node.nodeSize,void 0," ");else if(A.length){const z=r.doc.textBetween(w.from,w.to," "," ");if(!fT.test(z))return;M=A[0],R=r.doc.textBetween(M.pos,w.to,void 0," ")}if(M&&R){const z=R.split(uT).filter(Boolean);if(z.length<=0)return!1;const P=z[z.length-1],X=M.pos+R.lastIndexOf(P);if(!P)return!1;const W=Sh(P).map(Y=>Y.toObject(i.defaultProtocol));if(!gT(W))return!1;W.filter(Y=>Y.isLink).map(Y=>({...Y,from:X+Y.start+1,to:X+Y.end+1})).filter(Y=>r.schema.marks.code?!r.doc.rangeHasMark(Y.from,Y.to,r.schema.marks.code):!0).filter(Y=>i.validate(Y.value)).filter(Y=>i.shouldAutoLink(Y.value)).forEach(Y=>{fh(Y.from,Y.to,r.doc).some($=>$.mark.type===i.type)||h.addMark(Y.from,Y.to,i.type.create({href:Y.href}))})}}),!!h.steps.length)return h}})}function bT(i){return new nt({key:new Ct("handleClickLink"),props:{handleClick:(e,t,r)=>{var a,l;if(r.button!==0||!e.editable)return!1;let h=r.target;const p=[];for(;h.nodeName!=="DIV";)p.push(h),h=h.parentNode;if(!p.find(R=>R.nodeName==="A"))return!1;const x=lb(e.state,i.type.name),w=r.target,A=(a=w?.href)!==null&&a!==void 0?a:x.href,M=(l=w?.target)!==null&&l!==void 0?l:x.target;return w&&A?(window.open(A,M),!0):!1}}})}function xT(i){return new nt({key:new Ct("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:a}=e,{selection:l}=a,{empty:h}=l;if(h)return!1;let p="";r.content.forEach(w=>{p+=w.textContent});const x=xb(p,{defaultProtocol:i.defaultProtocol}).find(w=>w.isLink&&w.value===p);return!p||!x?!1:i.editor.commands.setMark(i.type,{href:x.href})}}})}function Vi(i,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const a=typeof r=="string"?r:r.scheme;a&&t.push(a)}),!i||i.replace(pT,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const yT=ei.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(i=>{if(typeof i=="string"){Yu(i);return}Yu(i.scheme,i.optionalSlashes)})},onDestroy(){hT()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(i,e)=>!!Vi(i,e.protocols),validate:i=>!!i,shouldAutoLink:i=>!!i}},addAttributes(){return{href:{default:null,parseHTML(i){return i.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:i=>{const e=i.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Vi(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:i}){return this.options.isAllowedUri(i.href,{defaultValidate:e=>!!Vi(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ue(this.options.HTMLAttributes,i),0]:["a",Ue(this.options.HTMLAttributes,{...i,href:""}),0]},addCommands(){return{setLink:i=>({chain:e})=>{const{href:t}=i;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Vi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,i).setMeta("preventAutolink",!0).run():!1},toggleLink:i=>({chain:e})=>{const{href:t}=i;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Vi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,i,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:i})=>i().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Fi({find:i=>{const e=[];if(i){const{protocols:t,defaultProtocol:r}=this.options,a=xb(i).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:h=>!!Vi(h,t),protocols:t,defaultProtocol:r}));a.length&&a.forEach(l=>e.push({text:l.value,data:{href:l.href},index:l.start}))}return e},type:this.type,getAttributes:i=>{var e;return{href:(e=i.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const i=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&i.push(mT({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:a=>!!Vi(a,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&i.push(bT({type:this.type})),this.options.linkOnPaste&&i.push(xT({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),i}}),vT=/^\s*>\s$/,wT=Ht.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:i}){return["blockquote",Ue(this.options.HTMLAttributes,i),0]},addCommands(){return{setBlockquote:()=>({commands:i})=>i.wrapIn(this.name),toggleBlockquote:()=>({commands:i})=>i.toggleWrap(this.name),unsetBlockquote:()=>({commands:i})=>i.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Yr({find:vT,type:this.type})]}}),ST=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,kT=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,AT=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,CT=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,ET=ei.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:i=>i.type.name===this.name},{style:"font-weight",getAttrs:i=>/^(bold(er)?|[5-9]\d{2,})$/.test(i)&&null}]},renderHTML({HTMLAttributes:i}){return["strong",Ue(this.options.HTMLAttributes,i),0]},addCommands(){return{setBold:()=>({commands:i})=>i.setMark(this.name),toggleBold:()=>({commands:i})=>i.toggleMark(this.name),unsetBold:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[wn({find:ST,type:this.type}),wn({find:AT,type:this.type})]},addPasteRules(){return[Fi({find:kT,type:this.type}),Fi({find:CT,type:this.type})]}}),TT="listItem",Vu="textStyle",ju=/^\s*([-+*])\s$/,MT=Ht.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:i}){return["ul",Ue(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleBulletList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(TT,this.editor.getAttributes(Vu)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let i=Yr({find:ju,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(i=Yr({find:ju,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Vu),editor:this.editor})),[i]}}),LT=/(^|[^`])`([^`]+)`(?!`)/,PT=/(^|[^`])`([^`]+)`(?!`)/g,RT=ei.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:i}){return["code",Ue(this.options.HTMLAttributes,i),0]},addCommands(){return{setCode:()=>({commands:i})=>i.setMark(this.name),toggleCode:()=>({commands:i})=>i.toggleMark(this.name),unsetCode:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[wn({find:LT,type:this.type})]},addPasteRules(){return[Fi({find:PT,type:this.type})]}}),OT=/^```([a-z]+)?[\s\n]$/,IT=/^~~~([a-z]+)?[\s\n]$/,NT=Ht.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:i=>{var e;const{languageClassPrefix:t}=this.options,l=[...((e=i.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(h=>h.startsWith(t)).map(h=>h.replace(t,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:i,HTMLAttributes:e}){return["pre",Ue(this.options.HTMLAttributes,e),["code",{class:i.attrs.language?this.options.languageClassPrefix+i.attrs.language:null},0]]},addCommands(){return{setCodeBlock:i=>({commands:e})=>e.setNode(this.name,i),toggleCodeBlock:i=>({commands:e})=>e.toggleNode(this.name,"paragraph",i)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:i,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!i||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:i})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=i,{selection:t}=e,{$from:r,empty:a}=t;if(!a||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,h=r.parent.textContent.endsWith(`

`);return!l||!h?!1:i.chain().command(({tr:p})=>(p.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:i})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=i,{selection:t,doc:r}=e,{$from:a,empty:l}=t;if(!l||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const p=a.after();return p===void 0?!1:r.nodeAt(p)?i.commands.command(({tr:w})=>(w.setSelection(Se.near(r.resolve(p))),!0)):i.commands.exitCode()}}},addInputRules(){return[ec({find:OT,type:this.type,getAttributes:i=>({language:i[1]})}),ec({find:IT,type:this.type,getAttributes:i=>({language:i[1]})})]},addProseMirrorPlugins(){return[new nt({key:new Ct("codeBlockVSCodeHandler"),props:{handlePaste:(i,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),a=r?JSON.parse(r):void 0,l=a?.mode;if(!t||!l)return!1;const{tr:h,schema:p}=i.state,x=p.text(t.replace(/\r\n?/g,`
`));return h.replaceSelectionWith(this.type.create({language:l},x)),h.selection.$from.parent.type!==this.type&&h.setSelection(xe.near(h.doc.resolve(Math.max(0,h.selection.from-2)))),h.setMeta("paste",!0),i.dispatch(h),!0}}})]}}),DT=Ht.create({name:"doc",topNode:!0,content:"block+"});function FT(i={}){return new nt({view(e){return new zT(e,i)}})}class zT{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let l=h=>{this[a](h)};return e.dom.addEventListener(a,l),{name:a,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,a=this.editorView.dom,l=a.getBoundingClientRect(),h=l.width/a.offsetWidth,p=l.height/a.offsetHeight;if(t){let M=e.nodeBefore,R=e.nodeAfter;if(M||R){let z=this.editorView.nodeDOM(this.cursorPos-(M?M.nodeSize:0));if(z){let P=z.getBoundingClientRect(),X=M?P.bottom:P.top;M&&R&&(X=(X+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let W=this.width/2*p;r={left:P.left,right:P.right,top:X-W,bottom:X+W}}}}if(!r){let M=this.editorView.coordsAtPos(this.cursorPos),R=this.width/2*h;r={left:M.left-R,right:M.left+R,top:M.top,bottom:M.bottom}}let x=this.editorView.dom.offsetParent;this.element||(this.element=x.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let w,A;if(!x||x==document.body&&getComputedStyle(x).position=="static")w=-pageXOffset,A=-pageYOffset;else{let M=x.getBoundingClientRect(),R=M.width/x.offsetWidth,z=M.height/x.offsetHeight;w=M.left-x.scrollLeft*R,A=M.top-x.scrollTop*z}this.element.style.left=(r.left-w)/h+"px",this.element.style.top=(r.top-A)/p+"px",this.element.style.width=(r.right-r.left)/h+"px",this.element.style.height=(r.bottom-r.top)/p+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),a=r&&r.type.spec.disableDropCursor,l=typeof a=="function"?a(this.editorView,t,e):a;if(t&&!l){let h=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let p=Jg(this.editorView.state.doc,h,this.editorView.dragging.slice);p!=null&&(h=p)}this.setCursor(h),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const BT=ct.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[FT(this.options)]}});class _e extends Se{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return _e.valid(r)?new _e(r):Se.near(r)}content(){return ce.empty}eq(e){return e instanceof _e&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new _e(e.resolve(t.pos))}getBookmark(){return new Ah(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!HT(e)||!_T(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let a=t.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&_e.valid(e))return e;let a=e.pos,l=null;for(let h=e.depth;;h--){let p=e.node(h);if(t>0?e.indexAfter(h)<p.childCount:e.index(h)>0){l=p.child(t>0?e.indexAfter(h):e.index(h)-1);break}else if(h==0)return null;a+=t;let x=e.doc.resolve(a);if(_e.valid(x))return x}for(;;){let h=t>0?l.firstChild:l.lastChild;if(!h){if(l.isAtom&&!l.isText&&!fe.isSelectable(l)){e=e.doc.resolve(a+l.nodeSize*t),r=!1;continue e}break}l=h,a+=t;let p=e.doc.resolve(a);if(_e.valid(p))return p}return null}}}_e.prototype.visible=!1;_e.findFrom=_e.findGapCursorFrom;Se.jsonID("gapcursor",_e);class Ah{constructor(e){this.pos=e}map(e){return new Ah(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return _e.valid(t)?new _e(t):Se.near(t)}}function HT(i){for(let e=i.depth;e>=0;e--){let t=i.index(e),r=i.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let a=r.child(t-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function _T(i){for(let e=i.depth;e>=0;e--){let t=i.indexAfter(e),r=i.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let a=r.child(t);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function WT(){return new nt({props:{decorations:jT,createSelectionBetween(i,e,t){return e.pos==t.pos&&_e.valid(t)?new _e(t):null},handleClick:YT,handleKeyDown:XT,handleDOMEvents:{beforeinput:VT}}})}const XT=Hm({ArrowLeft:Ps("horiz",-1),ArrowRight:Ps("horiz",1),ArrowUp:Ps("vert",-1),ArrowDown:Ps("vert",1)});function Ps(i,e){const t=i=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,a,l){let h=r.selection,p=e>0?h.$to:h.$from,x=h.empty;if(h instanceof xe){if(!l.endOfTextblock(t)||p.depth==0)return!1;x=!1,p=r.doc.resolve(e>0?p.after():p.before())}let w=_e.findGapCursorFrom(p,e,x);return w?(a&&a(r.tr.setSelection(new _e(w))),!0):!1}}function YT(i,e,t){if(!i||!i.editable)return!1;let r=i.state.doc.resolve(e);if(!_e.valid(r))return!1;let a=i.posAtCoords({left:t.clientX,top:t.clientY});return a&&a.inside>-1&&fe.isSelectable(i.state.doc.nodeAt(a.inside))?!1:(i.dispatch(i.state.tr.setSelection(new _e(r))),!0)}function VT(i,e){if(e.inputType!="insertCompositionText"||!(i.state.selection instanceof _e))return!1;let{$from:t}=i.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(i.state.schema.nodes.text);if(!r)return!1;let a=se.empty;for(let h=r.length-1;h>=0;h--)a=se.from(r[h].createAndFill(null,a));let l=i.state.tr.replace(t.pos,t.pos,new ce(a,0,0));return l.setSelection(xe.near(l.doc.resolve(t.pos+1))),i.dispatch(l),!1}function jT(i){if(!(i.selection instanceof _e))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",qe.create(i.doc,[Nt.widget(i.selection.head,e,{key:"gapcursor"})])}const GT=ct.create({name:"gapCursor",addProseMirrorPlugins(){return[WT()]},extendNodeSchema(i){var e;const t={name:i.name,options:i.options,storage:i.storage};return{allowGapCursor:(e=ke(de(i,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),qT=Ht.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:i}){return["br",Ue(this.options.HTMLAttributes,i)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:i,chain:e,state:t,editor:r})=>i.first([()=>i.exitCode(),()=>i.command(()=>{const{selection:a,storedMarks:l}=t;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:h}=this.options,{splittableMarks:p}=r.extensionManager,x=l||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:w,dispatch:A})=>{if(A&&x&&h){const M=x.filter(R=>p.includes(R.type.name));w.ensureMarks(M)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),UT=Ht.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(i=>({tag:`h${i}`,attrs:{level:i}}))},renderHTML({node:i,HTMLAttributes:e}){return[`h${this.options.levels.includes(i.attrs.level)?i.attrs.level:this.options.levels[0]}`,Ue(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.setNode(this.name,i):!1,toggleHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.toggleNode(this.name,"paragraph",i):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((i,e)=>({...i,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(i=>ec({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${i}})\\s$`),type:this.type,getAttributes:{level:i}}))}});var Ba=200,Je=function(){};Je.prototype.append=function(e){return e.length?(e=Je.from(e),!this.length&&e||e.length<Ba&&this.leafAppend(e)||this.length<Ba&&e.leafPrepend(this)||this.appendInner(e)):this};Je.prototype.prepend=function(e){return e.length?Je.from(e).append(this):this};Je.prototype.appendInner=function(e){return new $T(this,e)};Je.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Je.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Je.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Je.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Je.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var a=[];return this.forEach(function(l,h){return a.push(e(l,h))},t,r),a};Je.from=function(e){return e instanceof Je?e:e&&e.length?new yb(e):Je.empty};var yb=(function(i){function e(r){i.call(this),this.values=r}i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,l){return a==0&&l==this.length?this:new e(this.values.slice(a,l))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,l,h,p){for(var x=l;x<h;x++)if(a(this.values[x],p+x)===!1)return!1},e.prototype.forEachInvertedInner=function(a,l,h,p){for(var x=l-1;x>=h;x--)if(a(this.values[x],p+x)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=Ba)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=Ba)return new e(a.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(Je);Je.empty=new yb([]);var $T=(function(i){function e(t,r){i.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,a,l,h){var p=this.left.length;if(a<p&&this.left.forEachInner(r,a,Math.min(l,p),h)===!1||l>p&&this.right.forEachInner(r,Math.max(a-p,0),Math.min(this.length,l)-p,h+p)===!1)return!1},e.prototype.forEachInvertedInner=function(r,a,l,h){var p=this.left.length;if(a>p&&this.right.forEachInvertedInner(r,a-p,Math.max(l,p)-p,h+p)===!1||l<p&&this.left.forEachInvertedInner(r,Math.min(a,p),l,h)===!1)return!1},e.prototype.sliceInner=function(r,a){if(r==0&&a==this.length)return this;var l=this.left.length;return a<=l?this.left.slice(r,a):r>=l?this.right.slice(r-l,a-l):this.left.slice(r,l).append(this.right.slice(0,a-l))},e.prototype.leafAppend=function(r){var a=this.right.leafAppend(r);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(r){var a=this.left.leafPrepend(r);if(a)return new e(a,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Je);const KT=500;class Xt{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let a,l;t&&(a=this.remapping(r,this.items.length),l=a.maps.length);let h=e.tr,p,x,w=[],A=[];return this.items.forEach((M,R)=>{if(!M.step){a||(a=this.remapping(r,R+1),l=a.maps.length),l--,A.push(M);return}if(a){A.push(new gi(M.map));let z=M.step.map(a.slice(l)),P;z&&h.maybeStep(z).doc&&(P=h.mapping.maps[h.mapping.maps.length-1],w.push(new gi(P,void 0,void 0,w.length+A.length))),l--,P&&a.appendMap(P,l)}else h.maybeStep(M.step);if(M.selection)return p=a?M.selection.map(a.slice(l)):M.selection,x=new Xt(this.items.slice(0,r).append(A.reverse().concat(w)),this.eventCount-1),!1},this.items.length,0),{remaining:x,transform:h,selection:p}}addTransform(e,t,r,a){let l=[],h=this.eventCount,p=this.items,x=!a&&p.length?p.get(p.length-1):null;for(let A=0;A<e.steps.length;A++){let M=e.steps[A].invert(e.docs[A]),R=new gi(e.mapping.maps[A],M,t),z;(z=x&&x.merge(R))&&(R=z,A?l.pop():p=p.slice(0,p.length-1)),l.push(R),t&&(h++,t=void 0),a||(x=R)}let w=h-r.depth;return w>ZT&&(p=JT(p,w),h-=w),new Xt(p.append(l),h)}remapping(e,t){let r=new Fr;return this.items.forEach((a,l)=>{let h=a.mirrorOffset!=null&&l-a.mirrorOffset>=e?r.maps.length-a.mirrorOffset:void 0;r.appendMap(a.map,h)},e,t),r}addMaps(e){return this.eventCount==0?this:new Xt(this.items.append(e.map(t=>new gi(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],a=Math.max(0,this.items.length-t),l=e.mapping,h=e.steps.length,p=this.eventCount;this.items.forEach(R=>{R.selection&&p--},a);let x=t;this.items.forEach(R=>{let z=l.getMirror(--x);if(z==null)return;h=Math.min(h,z);let P=l.maps[z];if(R.step){let X=e.steps[z].invert(e.docs[z]),W=R.selection&&R.selection.map(l.slice(x+1,z));W&&p++,r.push(new gi(P,X,W))}else r.push(new gi(P))},a);let w=[];for(let R=t;R<h;R++)w.push(new gi(l.maps[R]));let A=this.items.slice(0,a).append(w).append(r),M=new Xt(A,p);return M.emptyItemCount()>KT&&(M=M.compress(this.items.length-r.length)),M}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,a=[],l=0;return this.items.forEach((h,p)=>{if(p>=e)a.push(h),h.selection&&l++;else if(h.step){let x=h.step.map(t.slice(r)),w=x&&x.getMap();if(r--,w&&t.appendMap(w,r),x){let A=h.selection&&h.selection.map(t.slice(r));A&&l++;let M=new gi(w.invert(),x,A),R,z=a.length-1;(R=a.length&&a[z].merge(M))?a[z]=R:a.push(M)}}else h.map&&r--},this.items.length,0),new Xt(Je.from(a.reverse()),l)}}Xt.empty=new Xt(Je.empty,0);function JT(i,e){let t;return i.forEach((r,a)=>{if(r.selection&&e--==0)return t=a,!1}),i.slice(t)}let gi=class vb{constructor(e,t,r,a){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new vb(t.getMap().invert(),t,this.selection)}}};class vi{constructor(e,t,r,a,l){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=a,this.prevComposition=l}}const ZT=20;function QT(i,e,t,r){let a=t.getMeta(fn),l;if(a)return a.historyState;t.getMeta(iM)&&(i=new vi(i.done,i.undone,null,0,-1));let h=t.getMeta("appendedTransaction");if(t.steps.length==0)return i;if(h&&h.getMeta(fn))return h.getMeta(fn).redo?new vi(i.done.addTransform(t,void 0,r,Ws(e)),i.undone,Gu(t.mapping.maps),i.prevTime,i.prevComposition):new vi(i.done,i.undone.addTransform(t,void 0,r,Ws(e)),null,i.prevTime,i.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(h&&h.getMeta("addToHistory")===!1)){let p=t.getMeta("composition"),x=i.prevTime==0||!h&&i.prevComposition!=p&&(i.prevTime<(t.time||0)-r.newGroupDelay||!eM(t,i.prevRanges)),w=h?ol(i.prevRanges,t.mapping):Gu(t.mapping.maps);return new vi(i.done.addTransform(t,x?e.selection.getBookmark():void 0,r,Ws(e)),Xt.empty,w,t.time,p??i.prevComposition)}else return(l=t.getMeta("rebased"))?new vi(i.done.rebased(t,l),i.undone.rebased(t,l),ol(i.prevRanges,t.mapping),i.prevTime,i.prevComposition):new vi(i.done.addMaps(t.mapping.maps),i.undone.addMaps(t.mapping.maps),ol(i.prevRanges,t.mapping),i.prevTime,i.prevComposition)}function eM(i,e){if(!e)return!1;if(!i.docChanged)return!0;let t=!1;return i.mapping.maps[0].forEach((r,a)=>{for(let l=0;l<e.length;l+=2)r<=e[l+1]&&a>=e[l]&&(t=!0)}),t}function Gu(i){let e=[];for(let t=i.length-1;t>=0&&e.length==0;t--)i[t].forEach((r,a,l,h)=>e.push(l,h));return e}function ol(i,e){if(!i)return null;let t=[];for(let r=0;r<i.length;r+=2){let a=e.map(i[r],1),l=e.map(i[r+1],-1);a<=l&&t.push(a,l)}return t}function tM(i,e,t){let r=Ws(e),a=fn.get(e).spec.config,l=(t?i.undone:i.done).popEvent(e,r);if(!l)return null;let h=l.selection.resolve(l.transform.doc),p=(t?i.done:i.undone).addTransform(l.transform,e.selection.getBookmark(),a,r),x=new vi(t?p:l.remaining,t?l.remaining:p,null,0,-1);return l.transform.setSelection(h).setMeta(fn,{redo:t,historyState:x})}let ll=!1,qu=null;function Ws(i){let e=i.plugins;if(qu!=e){ll=!1,qu=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){ll=!0;break}}return ll}const fn=new Ct("history"),iM=new Ct("closeHistory");function nM(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new nt({key:fn,state:{init(){return new vi(Xt.empty,Xt.empty,null,0,-1)},apply(e,t,r){return QT(t,r,e,i)}},config:i,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,a=r=="historyUndo"?Sb:r=="historyRedo"?kb:null;return a?(t.preventDefault(),a(e.state,e.dispatch)):!1}}}})}function wb(i,e){return(t,r)=>{let a=fn.getState(t);if(!a||(i?a.undone:a.done).eventCount==0)return!1;if(r){let l=tM(a,t,i);l&&r(e?l.scrollIntoView():l)}return!0}}const Sb=wb(!1,!0),kb=wb(!0,!0),rM=ct.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:i,dispatch:e})=>Sb(i,e),redo:()=>({state:i,dispatch:e})=>kb(i,e)}},addProseMirrorPlugins(){return[nM(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),sM=Ht.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:i}){return["hr",Ue(this.options.HTMLAttributes,i)]},addCommands(){return{setHorizontalRule:()=>({chain:i,state:e})=>{if(!YE(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$from:r,$to:a}=t,l=i();return r.parentOffset===0?l.insertContentAt({from:Math.max(r.pos-1,0),to:a.pos},{type:this.name}):dE(t)?l.insertContentAt(a.pos,{type:this.name}):l.insertContent({type:this.name}),l.command(({tr:h,dispatch:p})=>{var x;if(p){const{$to:w}=h.selection,A=w.end();if(w.nodeAfter)w.nodeAfter.isTextblock?h.setSelection(xe.create(h.doc,w.pos+1)):w.nodeAfter.isBlock?h.setSelection(fe.create(h.doc,w.pos)):h.setSelection(xe.create(h.doc,w.pos));else{const M=(x=w.parent.type.contentMatch.defaultType)===null||x===void 0?void 0:x.create();M&&(h.insert(A,M),h.setSelection(xe.create(h.doc,A+1)))}h.scrollIntoView()}return!0}).run()}}},addInputRules(){return[cb({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),aM=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,oM=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,lM=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,cM=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,hM=ei.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:i=>i.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:i=>i.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:i}){return["em",Ue(this.options.HTMLAttributes,i),0]},addCommands(){return{setItalic:()=>({commands:i})=>i.setMark(this.name),toggleItalic:()=>({commands:i})=>i.toggleMark(this.name),unsetItalic:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[wn({find:aM,type:this.type}),wn({find:lM,type:this.type})]},addPasteRules(){return[Fi({find:oM,type:this.type}),Fi({find:cM,type:this.type})]}}),dM=Ht.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:i}){return["li",Ue(this.options.HTMLAttributes,i),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uM="listItem",Uu="textStyle",$u=/^(\d+)\.\s$/,fM=Ht.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:i=>i.hasAttribute("start")?parseInt(i.getAttribute("start")||"",10):1},type:{default:null,parseHTML:i=>i.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:i}){const{start:e,...t}=i;return e===1?["ol",Ue(this.options.HTMLAttributes,t),0]:["ol",Ue(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleOrderedList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(uM,this.editor.getAttributes(Uu)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let i=Yr({find:$u,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(i=Yr({find:$u,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Uu)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[i]}}),pM=Ht.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:i}){return["p",Ue(this.options.HTMLAttributes,i),0]},addCommands(){return{setParagraph:()=>({commands:i})=>i.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),gM=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,mM=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,bM=ei.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:i=>i.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["s",Ue(this.options.HTMLAttributes,i),0]},addCommands(){return{setStrike:()=>({commands:i})=>i.setMark(this.name),toggleStrike:()=>({commands:i})=>i.toggleMark(this.name),unsetStrike:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[wn({find:gM,type:this.type})]},addPasteRules(){return[Fi({find:mM,type:this.type})]}}),xM=Ht.create({name:"text",group:"inline"}),yM=ct.create({name:"starterKit",addExtensions(){const i=[];return this.options.bold!==!1&&i.push(ET.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(wT.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(MT.configure(this.options.bulletList)),this.options.code!==!1&&i.push(RT.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(NT.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(DT.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(BT.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(GT.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(qT.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(UT.configure(this.options.heading)),this.options.history!==!1&&i.push(rM.configure(this.options.history)),this.options.horizontalRule!==!1&&i.push(sM.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(hM.configure(this.options.italic)),this.options.listItem!==!1&&i.push(dM.configure(this.options.listItem)),this.options.orderedList!==!1&&i.push(fM.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(pM.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(bM.configure(this.options.strike)),this.options.text!==!1&&i.push(xM.configure(this.options.text)),i}}),vM=ct.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:i=>{const e=i.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:i=>i.textAlign?{style:`text-align: ${i.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:i=>({commands:e})=>this.options.alignments.includes(i)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:i})).every(t=>t):!1,unsetTextAlign:()=>({commands:i})=>this.options.types.map(e=>i.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:i=>({editor:e,commands:t})=>this.options.alignments.includes(i)?e.isActive({textAlign:i})?t.unsetTextAlign():t.setTextAlign(i):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});document.addEventListener("alpine:init",()=>{window.Alpine.data("editor",(i={})=>{let e;return{updatedAt:Date.now(),init(){const t=this;e=new XE({content:this.$refs.input.value,element:this.$refs.editor,extensions:[yM,yT.configure({...i.link||{}}),GE.configure({...i.highlight||{}}),UE.configure({...i.image||{}}),vM.configure({...i.textAlign||{}})],editorProps:{attributes:{class:"focus:outline-none",style:"height: 100%; width: 100%; min-height: 100px;"}},onCreate(){t.updatedAt=Date.now()},onUpdate({editor:r}){t.$refs.input.value=r.isEmpty?"":r.getHTML(),t.updatedAt=Date.now()},onSelectionUpdate(){t.updatedAt=Date.now()}})},editor(){return e},isActive(t,r={},a){return e.isActive(t,r)}}})});class wM{constructor(e,t){this.file=e,this.error=null,this.failed=!1,this.progress=0,this.uploaded=0,this.config=t,this.hash=this._createHash(),this.chunks=this._createChunks()}handle(){return this.chunks.reduce((e,t,r)=>e.then(()=>this.upload(t,r+1)),Promise.resolve(null))}upload(e,t){const r=new FormData;return r.set("file",e,`${this.hash}${this.file.name}`),window.$http.post(this.config.url,r,{headers:{"X-Chunk-Hash":this.hash,"X-Chunk-Index":t,"X-Chunk-Total":this.chunks.length,"Content-Type":"multipart/form-data"},onUploadProgress:a=>{this.uploaded+=a.loaded,this.progress=Math.floor(this.uploaded*100/this.file.size)}}).then(a=>a.data).catch(a=>{throw this.error=a.response.data.message,this.failed=!0,new Error(a.response.data.message)}).finally(()=>{this.uploaded=0,this.progress=0,this.processing=!1})}cancel(){}retry(){this.chunks=this._createChunks(),this.error=null,this.failed=!1,this.hash=this._createHash(),this.processing=!1,this.progress=0,this.uploaded=0}_createHash(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,10)}_createChunks(){let e=[];const t=this.config.chunkSize,r=Math.ceil(this.file.size/t);for(let a=0;a<r;a++)e.push(this.file.slice(a*t,Math.min(a*t+t,this.file.size),this.file.type));return e}}const SM=(i,e=300)=>{let t,r;return function(){const a=arguments,l=this;r?(clearTimeout(t),t=setTimeout(function(){Date.now()-r>=e&&(i.apply(l,a),r=Date.now())},e-(Date.now()-r))):(i.apply(l,a),r=Date.now())}};document.addEventListener("alpine:init",()=>{window.Alpine.data("mediaManager",(i,e)=>({dragging:!1,processing:!1,working:!1,queue:[],items:[],nextPageUrl:i,query:e.query,init(){this.$root.querySelector(".modal__body").addEventListener("scroll",SM(t=>{this.shouldPaginate(t)&&this.paginate()})),this.$watch("query",()=>this.fetch())},fetch(){this.processing=!0,window.$http.get(i,{params:this.query}).then(t=>{this.items=t.data.data}).catch(t=>{}).finally(()=>{this.processing=!1})},paginate(){this.processing=!0,window.$http.get(this.nextPageUrl,{params:this.query}).then(t=>{this.items.push(...t.data.data),this.nextPageUrl=t.data.next_page_url}).catch(t=>{}).finally(()=>{this.processing=!1})},shouldPaginate(t){return!this.processing&&this.nextPageUrl!==null&&this.items.length>0&&Math.abs(t.target.scrollHeight-t.target.scrollTop-t.target.clientHeight)<75},queueFiles(t){for(let r=0;r<t.length;r++)this.queue.unshift(new wM(t[r],{url:i,chunkSize:e.chunk_size}));this.working||this.work()},work(){const t=this.queue.findLast(r=>!r.failed);t&&(this.working=!0,t.handle(i).then(r=>{this.queue.splice(this.queue.indexOf(t),1),this.items.unshift(r)}).catch(r=>{}).finally(()=>{this.working=!1,this.work()}))},retry(t){t.retry(),this.working||this.work()},select(t){e.multiple?this.selection.push(t):this.selection=[t]},deselect(t){this.selection.splice(this.selection.findIndex(r=>r.value===t.value),1)},toggle(t){this.selected(t)?this.deselect(t):this.select(t)},selected(t){return this.selection.findIndex(r=>r.value===t.value)>-1},prune(){this.processing=!0;const t=this.selection.map(r=>r.value);window.$http.delete(i,{data:{ids:t}}).then(r=>{this.selection=[],r.data.deleted.forEach(a=>{let l=this.items.findIndex(h=>h.value===a);this.items.splice(l,1)})}).catch(r=>{}).finally(()=>{this.processing=!1})}}))});document.addEventListener("alpine:init",()=>{window.Alpine.data("relation",(i,e)=>({processing:!1,items:[],config:e,init(){},fetch(){const t=new FormData(this.$refs.form),r=new URLSearchParams(t).toString();this.processing=!0,window.$http.get(`${i}?${r}`).then(a=>{this.items=a.data.data}).catch(a=>{this.items=[]}).finally(()=>{this.processing=!1})},select(t){e.multiple?this.selection.push(t):this.selection=[t]},deselect(t){this.selection.splice(this.selection.findIndex(r=>r.value===t.value),1)},toggle(t){this.selected(t)?this.deselect(t):this.select(t)},selected(t){return this.selection.findIndex(r=>r.value===t.value)>-1}}))});document.addEventListener("alpine:init",()=>{window.Alpine.data("repeater",(i,e=[])=>({processing:!1,options:e,add(){this.processing=!0,window.$http.post(i).then(t=>{this.options.push(t.data)}).catch(t=>{}).finally(()=>{this.processing=!1})},remove(t){this.options.splice(t,1)},swap(t,r){const a=this.options[r];this.options[r]=this.options[t],this.options[t]=a}}))});document.addEventListener("alpine:init",()=>{window.Alpine.data("table",i=>({models:i.models,selection:[],selectedAllMatchingQuery:!1,selectedAllModels:!1,init(){this.$watch("selection",()=>{this.$refs.selectCheckbox.indeterminate=this.selection.length>0&&this.selection.length<this.models.length,this.selectedAllModels=this.selection.length>0&&this.selection.length===this.models.length})}}))});document.addEventListener("alpine:init",()=>{window.Alpine.data("theme",()=>({theme:window.$cookie.get("theme","system"),change(i){document.dispatchEvent(new CustomEvent("theme:change",{detail:{theme:i}})),this.theme=i,this.$root.querySelector(`.theme-switcher__${i}-mode`).focus()}}))});
